var t1e=Object.create;var Mg=Object.defineProperty;var r1e=Object.getOwnPropertyDescriptor;var n1e=Object.getOwnPropertyNames;var i1e=Object.getPrototypeOf,s1e=Object.prototype.hasOwnProperty;var pn=(t,e)=>()=>(t&&(e=t(t=0)),e);var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),rF=(t,e)=>{for(var r in e)Mg(t,r,{get:e[r],enumerable:!0})},nF=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of n1e(e))!s1e.call(t,i)&&i!==r&&Mg(t,i,{get:()=>e[i],enumerable:!(n=r1e(e,i))||n.enumerable});return t};var da=(t,e,r)=>(r=t!=null?t1e(i1e(t)):{},nF(e||!t||!t.__esModule?Mg(r,"default",{value:t,enumerable:!0}):r,t)),ne=t=>nF(Mg({},"__esModule",{value:!0}),t);var uh=h(Yv=>{var Fg=class extends Error{constructor(e,r,n){super(n),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=r,this.exitCode=e,this.nestedError=void 0}},Kv=class extends Fg{constructor(e){super(1,"commander.invalidArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};Yv.CommanderError=Fg;Yv.InvalidArgumentError=Kv});var Bg=h(Qv=>{var{InvalidArgumentError:o1e}=uh(),Jv=class{constructor(e,r){switch(this.description=r||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:r.concat(e)}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new o1e(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,n):r},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function u1e(t){let e=t.name()+(t.variadic===!0?"...":"");return t.required?"<"+e+">":"["+e+"]"}Qv.Argument=Jv;Qv.humanReadableArgName=u1e});var Zv=h(iF=>{var{humanReadableArgName:a1e}=Bg(),Xv=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(e){let r=e.commands.filter(n=>!n._hidden);if(e._hasImplicitHelpCommand()){let[,n,i]=e._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),s=e.createCommand(n).helpOption(!1);s.description(e._helpCommandDescription),i&&s.arguments(i),r.push(s)}return this.sortSubcommands&&r.sort((n,i)=>n.name().localeCompare(i.name())),r}compareOptions(e,r){let n=i=>i.short?i.short.replace(/^-/,""):i.long.replace(/^--/,"");return n(e).localeCompare(n(r))}visibleOptions(e){let r=e.options.filter(s=>!s.hidden),n=e._hasHelpOption&&e._helpShortFlag&&!e._findOption(e._helpShortFlag),i=e._hasHelpOption&&!e._findOption(e._helpLongFlag);if(n||i){let s;n?i?s=e.createOption(e._helpFlags,e._helpDescription):s=e.createOption(e._helpShortFlag,e._helpDescription):s=e.createOption(e._helpLongFlag,e._helpDescription),r.push(s)}return this.sortOptions&&r.sort(this.compareOptions),r}visibleGlobalOptions(e){if(!this.showGlobalOptions)return[];let r=[];for(let n=e.parent;n;n=n.parent){let i=n.options.filter(s=>!s.hidden);r.push(...i)}return this.sortOptions&&r.sort(this.compareOptions),r}visibleArguments(e){return e._argsDescription&&e._args.forEach(r=>{r.description=r.description||e._argsDescription[r.name()]||""}),e._args.find(r=>r.description)?e._args:[]}subcommandTerm(e){let r=e._args.map(n=>a1e(n)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(r?" "+r:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,r){return r.visibleCommands(e).reduce((n,i)=>Math.max(n,r.subcommandTerm(i).length),0)}longestOptionTermLength(e,r){return r.visibleOptions(e).reduce((n,i)=>Math.max(n,r.optionTerm(i).length),0)}longestGlobalOptionTermLength(e,r){return r.visibleGlobalOptions(e).reduce((n,i)=>Math.max(n,r.optionTerm(i).length),0)}longestArgumentTermLength(e,r){return r.visibleArguments(e).reduce((n,i)=>Math.max(n,r.argumentTerm(i).length),0)}commandUsage(e){let r=e._name;e._aliases[0]&&(r=r+"|"+e._aliases[0]);let n="";for(let i=e.parent;i;i=i.parent)n=i.name()+" "+n;return n+r+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.summary()||e.description()}optionDescription(e){let r=[];return e.argChoices&&r.push(`choices: ${e.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),e.defaultValue!==void 0&&(e.required||e.optional||e.isBoolean()&&typeof e.defaultValue=="boolean")&&r.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),e.presetArg!==void 0&&e.optional&&r.push(`preset: ${JSON.stringify(e.presetArg)}`),e.envVar!==void 0&&r.push(`env: ${e.envVar}`),r.length>0?`${e.description} (${r.join(", ")})`:e.description}argumentDescription(e){let r=[];if(e.argChoices&&r.push(`choices: ${e.argChoices.map(n=>JSON.stringify(n)).join(", ")}`),e.defaultValue!==void 0&&r.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),r.length>0){let n=`(${r.join(", ")})`;return e.description?`${e.description} ${n}`:n}return e.description}formatHelp(e,r){let n=r.padWidth(e,r),i=r.helpWidth||80,s=2,o=2;function u(m,y){if(y){let _=`${m.padEnd(n+o)}${y}`;return r.wrap(_,i-s,n+o)}return m}function a(m){return m.join(`
`).replace(/^/gm," ".repeat(s))}let c=[`Usage: ${r.commandUsage(e)}`,""],l=r.commandDescription(e);l.length>0&&(c=c.concat([r.wrap(l,i,0),""]));let d=r.visibleArguments(e).map(m=>u(r.argumentTerm(m),r.argumentDescription(m)));d.length>0&&(c=c.concat(["Arguments:",a(d),""]));let f=r.visibleOptions(e).map(m=>u(r.optionTerm(m),r.optionDescription(m)));if(f.length>0&&(c=c.concat(["Options:",a(f),""])),this.showGlobalOptions){let m=r.visibleGlobalOptions(e).map(y=>u(r.optionTerm(y),r.optionDescription(y)));m.length>0&&(c=c.concat(["Global Options:",a(m),""]))}let p=r.visibleCommands(e).map(m=>u(r.subcommandTerm(m),r.subcommandDescription(m)));return p.length>0&&(c=c.concat(["Commands:",a(p),""])),c.join(`
`)}padWidth(e,r){return Math.max(r.longestOptionTermLength(e,r),r.longestGlobalOptionTermLength(e,r),r.longestSubcommandTermLength(e,r),r.longestArgumentTermLength(e,r))}wrap(e,r,n,i=40){let s=" \\f\\t\\v\xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF",o=new RegExp(`[\\n][${s}]+`);if(e.match(o))return e;let u=r-n;if(u<i)return e;let a=e.slice(0,n),c=e.slice(n).replace(`\r
`,`
`),l=" ".repeat(n),f="\\s\u200B",p=new RegExp(`
|.{1,${u-1}}([${f}]|$)|[^${f}]+?([${f}]|$)`,"g"),m=c.match(p)||[];return a+m.map((y,_)=>y===`
`?"":(_>0?l:"")+y.trimEnd()).join(`
`)}};iF.Help=Xv});var rb=h(qg=>{var{InvalidArgumentError:c1e}=uh(),eb=class{constructor(e,r){this.flags=e,this.description=r||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let n=sF(e);this.short=n.shortFlag,this.long=n.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){return this.implied=Object.assign(this.implied||{},e),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:r.concat(e)}choices(e){return this.argChoices=e.slice(),this.parseArg=(r,n)=>{if(!this.argChoices.includes(r))throw new c1e(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,n):r},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return l1e(this.name().replace(/^no-/,""))}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}},tb=class{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(r=>{r.negate?this.negativeOptions.set(r.attributeName(),r):this.positiveOptions.set(r.attributeName(),r)}),this.negativeOptions.forEach((r,n)=>{this.positiveOptions.has(n)&&this.dualOptions.add(n)})}valueFromOption(e,r){let n=r.attributeName();if(!this.dualOptions.has(n))return!0;let i=this.negativeOptions.get(n).presetArg,s=i!==void 0?i:!1;return r.negate===(s===e)}};function l1e(t){return t.split("-").reduce((e,r)=>e+r[0].toUpperCase()+r.slice(1))}function sF(t){let e,r,n=t.split(/[ |,]+/);return n.length>1&&!/^[[<]/.test(n[1])&&(e=n.shift()),r=n.shift(),!e&&/^-[^-]$/.test(r)&&(e=r,r=void 0),{shortFlag:e,longFlag:r}}qg.Option=eb;qg.splitOptionFlags=sF;qg.DualOptions=tb});var uF=h(oF=>{function d1e(t,e){if(Math.abs(t.length-e.length)>3)return Math.max(t.length,e.length);let r=[];for(let n=0;n<=t.length;n++)r[n]=[n];for(let n=0;n<=e.length;n++)r[0][n]=n;for(let n=1;n<=e.length;n++)for(let i=1;i<=t.length;i++){let s=1;t[i-1]===e[n-1]?s=0:s=1,r[i][n]=Math.min(r[i-1][n]+1,r[i][n-1]+1,r[i-1][n-1]+s),i>1&&n>1&&t[i-1]===e[n-2]&&t[i-2]===e[n-1]&&(r[i][n]=Math.min(r[i][n],r[i-2][n-2]+1))}return r[t.length][e.length]}function f1e(t,e){if(!e||e.length===0)return"";e=Array.from(new Set(e));let r=t.startsWith("--");r&&(t=t.slice(2),e=e.map(o=>o.slice(2)));let n=[],i=3,s=.4;return e.forEach(o=>{if(o.length<=1)return;let u=d1e(t,o),a=Math.max(t.length,o.length);(a-u)/a>s&&(u<i?(i=u,n=[o]):u===i&&n.push(o))}),n.sort((o,u)=>o.localeCompare(u)),r&&(n=n.map(o=>`--${o}`)),n.length>1?`
(Did you mean one of ${n.join(", ")}?)`:n.length===1?`
(Did you mean ${n[0]}?)`:""}oF.suggestSimilar=f1e});var hF=h(fF=>{var h1e=require("events").EventEmitter,nb=require("child_process"),nu=require("path"),ib=require("fs"),Ht=require("process"),{Argument:p1e,humanReadableArgName:m1e}=Bg(),{CommanderError:sb}=uh(),{Help:y1e}=Zv(),{Option:aF,splitOptionFlags:g1e,DualOptions:_1e}=rb(),{suggestSimilar:cF}=uF(),ch=class extends h1e{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this._args=[],this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:r=>Ht.stdout.write(r),writeErr:r=>Ht.stderr.write(r),getOutHelpWidth:()=>Ht.stdout.isTTY?Ht.stdout.columns:void 0,getErrHelpWidth:()=>Ht.stderr.isTTY?Ht.stderr.columns:void 0,outputError:(r,n)=>n(r)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._hasHelpOption=e._hasHelpOption,this._helpFlags=e._helpFlags,this._helpDescription=e._helpDescription,this._helpShortFlag=e._helpShortFlag,this._helpLongFlag=e._helpLongFlag,this._helpCommandName=e._helpCommandName,this._helpCommandnameAndArgs=e._helpCommandnameAndArgs,this._helpCommandDescription=e._helpCommandDescription,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}command(e,r,n){let i=r,s=n;typeof i=="object"&&i!==null&&(s=i,i=null),s=s||{};let[,o,u]=e.match(/([^ ]+) *(.*)/),a=this.createCommand(o);return i&&(a.description(i),a._executableHandler=!0),s.isDefault&&(this._defaultCommandName=a._name),a._hidden=!!(s.noHelp||s.hidden),a._executableFile=s.executableFile||null,u&&a.arguments(u),this.commands.push(a),a.parent=this,a.copyInheritedSettings(this),i?this:a}createCommand(e){return new ch(e)}createHelp(){return Object.assign(new y1e,this.configureHelp())}configureHelp(e){return e===void 0?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return e===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}showHelpAfterError(e=!0){return typeof e!="string"&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,r){if(!e._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return r=r||{},r.isDefault&&(this._defaultCommandName=e._name),(r.noHelp||r.hidden)&&(e._hidden=!0),this.commands.push(e),e.parent=this,this}createArgument(e,r){return new p1e(e,r)}argument(e,r,n,i){let s=this.createArgument(e,r);return typeof n=="function"?s.default(i).argParser(n):s.default(n),this.addArgument(s),this}arguments(e){return e.split(/ +/).forEach(r=>{this.argument(r)}),this}addArgument(e){let r=this._args.slice(-1)[0];if(r&&r.variadic)throw new Error(`only the last argument can be variadic '${r.name()}'`);if(e.required&&e.defaultValue!==void 0&&e.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this._args.push(e),this}addHelpCommand(e,r){return e===!1?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,typeof e=="string"&&(this._helpCommandName=e.split(" ")[0],this._helpCommandnameAndArgs=e),this._helpCommandDescription=r||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return this._addImplicitHelpCommand===void 0?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(e,r){let n=["preSubcommand","preAction","postAction"];if(!n.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.
Expecting one of '${n.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(r):this._lifeCycleHooks[e]=[r],this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=r=>{if(r.code!=="commander.executeSubCommandAsync")throw r},this}_exit(e,r,n){this._exitCallback&&this._exitCallback(new sb(e,r,n)),Ht.exit(e)}action(e){let r=n=>{let i=this._args.length,s=n.slice(0,i);return this._storeOptionsAsProperties?s[i]=this:s[i]=this.opts(),s.push(this),e.apply(this,s)};return this._actionHandler=r,this}createOption(e,r){return new aF(e,r)}addOption(e){let r=e.name(),n=e.attributeName();if(e.negate){let s=e.long.replace(/^--no-/,"--");this._findOption(s)||this.setOptionValueWithSource(n,e.defaultValue===void 0?!0:e.defaultValue,"default")}else e.defaultValue!==void 0&&this.setOptionValueWithSource(n,e.defaultValue,"default");this.options.push(e);let i=(s,o,u)=>{s==null&&e.presetArg!==void 0&&(s=e.presetArg);let a=this.getOptionValue(n);if(s!==null&&e.parseArg)try{s=e.parseArg(s,a)}catch(c){if(c.code==="commander.invalidArgument"){let l=`${o} ${c.message}`;this.error(l,{exitCode:c.exitCode,code:c.code})}throw c}else s!==null&&e.variadic&&(s=e._concatValue(s,a));s==null&&(e.negate?s=!1:e.isBoolean()||e.optional?s=!0:s=""),this.setOptionValueWithSource(n,s,u)};return this.on("option:"+r,s=>{let o=`error: option '${e.flags}' argument '${s}' is invalid.`;i(s,o,"cli")}),e.envVar&&this.on("optionEnv:"+r,s=>{let o=`error: option '${e.flags}' value '${s}' from env '${e.envVar}' is invalid.`;i(s,o,"env")}),this}_optionEx(e,r,n,i,s){if(typeof r=="object"&&r instanceof aF)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let o=this.createOption(r,n);if(o.makeOptionMandatory(!!e.mandatory),typeof i=="function")o.default(s).argParser(i);else if(i instanceof RegExp){let u=i;i=(a,c)=>{let l=u.exec(a);return l?l[0]:c},o.default(s).argParser(i)}else o.default(i);return this.addOption(o)}option(e,r,n,i){return this._optionEx({},e,r,n,i)}requiredOption(e,r,n,i){return this._optionEx({mandatory:!0},e,r,n,i)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){if(this._passThroughOptions=!!e,this.parent&&e&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(e=!0){if(this._storeOptionsAsProperties=!!e,this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,r){return this.setOptionValueWithSource(e,r,void 0)}setOptionValueWithSource(e,r,n){return this._storeOptionsAsProperties?this[e]=r:this._optionValues[e]=r,this._optionValueSources[e]=n,this}getOptionValueSource(e){return this._optionValueSources[e]}getOptionValueSourceWithGlobals(e){let r;return ah(this).forEach(n=>{n.getOptionValueSource(e)!==void 0&&(r=n.getOptionValueSource(e))}),r}_prepareUserArgs(e,r){if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");r=r||{},e===void 0&&(e=Ht.argv,Ht.versions&&Ht.versions.electron&&(r.from="electron")),this.rawArgs=e.slice();let n;switch(r.from){case void 0:case"node":this._scriptPath=e[1],n=e.slice(2);break;case"electron":Ht.defaultApp?(this._scriptPath=e[1],n=e.slice(2)):n=e.slice(1);break;case"user":n=e.slice(0);break;default:throw new Error(`unexpected parse option { from: '${r.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",n}parse(e,r){let n=this._prepareUserArgs(e,r);return this._parseCommand([],n),this}async parseAsync(e,r){let n=this._prepareUserArgs(e,r);return await this._parseCommand([],n),this}_executeSubCommand(e,r){r=r.slice();let n=!1,i=[".js",".ts",".tsx",".mjs",".cjs"];function s(l,d){let f=nu.resolve(l,d);if(ib.existsSync(f))return f;if(i.includes(nu.extname(d)))return;let p=i.find(m=>ib.existsSync(`${f}${m}`));if(p)return`${f}${p}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let o=e._executableFile||`${this._name}-${e._name}`,u=this._executableDir||"";if(this._scriptPath){let l;try{l=ib.realpathSync(this._scriptPath)}catch{l=this._scriptPath}u=nu.resolve(nu.dirname(l),u)}if(u){let l=s(u,o);if(!l&&!e._executableFile&&this._scriptPath){let d=nu.basename(this._scriptPath,nu.extname(this._scriptPath));d!==this._name&&(l=s(u,`${d}-${e._name}`))}o=l||o}n=i.includes(nu.extname(o));let a;Ht.platform!=="win32"?n?(r.unshift(o),r=dF(Ht.execArgv).concat(r),a=nb.spawn(Ht.argv[0],r,{stdio:"inherit"})):a=nb.spawn(o,r,{stdio:"inherit"}):(r.unshift(o),r=dF(Ht.execArgv).concat(r),a=nb.spawn(Ht.execPath,r,{stdio:"inherit"})),a.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(d=>{Ht.on(d,()=>{a.killed===!1&&a.exitCode===null&&a.kill(d)})});let c=this._exitCallback;c?a.on("close",()=>{c(new sb(Ht.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):a.on("close",Ht.exit.bind(Ht)),a.on("error",l=>{if(l.code==="ENOENT"){let d=u?`searched for local subcommand relative to directory '${u}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",f=`'${o}' does not exist
 - if '${e._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${d}`;throw new Error(f)}else if(l.code==="EACCES")throw new Error(`'${o}' not executable`);if(!c)Ht.exit(1);else{let d=new sb(1,"commander.executeSubCommandAsync","(error)");d.nestedError=l,c(d)}}),this.runningCommand=a}_dispatchSubcommand(e,r,n){let i=this._findCommand(e);i||this.help({error:!0});let s;return s=this._chainOrCallSubCommandHook(s,i,"preSubcommand"),s=this._chainOrCall(s,()=>{if(i._executableHandler)this._executeSubCommand(i,r.concat(n));else return i._parseCommand(r,n)}),s}_checkNumberOfArguments(){this._args.forEach((e,r)=>{e.required&&this.args[r]==null&&this.missingArgument(e.name())}),!(this._args.length>0&&this._args[this._args.length-1].variadic)&&this.args.length>this._args.length&&this._excessArguments(this.args)}_processArguments(){let e=(n,i,s)=>{let o=i;if(i!==null&&n.parseArg)try{o=n.parseArg(i,s)}catch(u){if(u.code==="commander.invalidArgument"){let a=`error: command-argument value '${i}' is invalid for argument '${n.name()}'. ${u.message}`;this.error(a,{exitCode:u.exitCode,code:u.code})}throw u}return o};this._checkNumberOfArguments();let r=[];this._args.forEach((n,i)=>{let s=n.defaultValue;n.variadic?i<this.args.length?(s=this.args.slice(i),n.parseArg&&(s=s.reduce((o,u)=>e(n,u,o),n.defaultValue))):s===void 0&&(s=[]):i<this.args.length&&(s=this.args[i],n.parseArg&&(s=e(n,s,n.defaultValue))),r[i]=s}),this.processedArgs=r}_chainOrCall(e,r){return e&&e.then&&typeof e.then=="function"?e.then(()=>r()):r()}_chainOrCallHooks(e,r){let n=e,i=[];return ah(this).reverse().filter(s=>s._lifeCycleHooks[r]!==void 0).forEach(s=>{s._lifeCycleHooks[r].forEach(o=>{i.push({hookedCommand:s,callback:o})})}),r==="postAction"&&i.reverse(),i.forEach(s=>{n=this._chainOrCall(n,()=>s.callback(s.hookedCommand,this))}),n}_chainOrCallSubCommandHook(e,r,n){let i=e;return this._lifeCycleHooks[n]!==void 0&&this._lifeCycleHooks[n].forEach(s=>{i=this._chainOrCall(i,()=>s(this,r))}),i}_parseCommand(e,r){let n=this.parseOptions(r);if(this._parseOptionsEnv(),this._parseOptionsImplied(),e=e.concat(n.operands),r=n.unknown,this.args=e.concat(r),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),r);if(this._hasImplicitHelpCommand()&&e[0]===this._helpCommandName)return e.length===1&&this.help(),this._dispatchSubcommand(e[1],[],[this._helpLongFlag]);if(this._defaultCommandName)return lF(this,r),this._dispatchSubcommand(this._defaultCommandName,e,r);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),lF(this,n.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let i=()=>{n.unknown.length>0&&this.unknownOption(n.unknown[0])},s=`command:${this.name()}`;if(this._actionHandler){i(),this._processArguments();let o;return o=this._chainOrCallHooks(o,"preAction"),o=this._chainOrCall(o,()=>this._actionHandler(this.processedArgs)),this.parent&&(o=this._chainOrCall(o,()=>{this.parent.emit(s,e,r)})),o=this._chainOrCallHooks(o,"postAction"),o}if(this.parent&&this.parent.listenerCount(s))i(),this._processArguments(),this.parent.emit(s,e,r);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,r);this.listenerCount("command:*")?this.emit("command:*",e,r):this.commands.length?this.unknownCommand():(i(),this._processArguments())}else this.commands.length?(i(),this.help({error:!0})):(i(),this._processArguments())}_findCommand(e){if(e)return this.commands.find(r=>r._name===e||r._aliases.includes(e))}_findOption(e){return this.options.find(r=>r.is(e))}_checkForMissingMandatoryOptions(){for(let e=this;e;e=e.parent)e.options.forEach(r=>{r.mandatory&&e.getOptionValue(r.attributeName())===void 0&&e.missingMandatoryOptionValue(r)})}_checkForConflictingLocalOptions(){let e=this.options.filter(n=>{let i=n.attributeName();return this.getOptionValue(i)===void 0?!1:this.getOptionValueSource(i)!=="default"});e.filter(n=>n.conflictsWith.length>0).forEach(n=>{let i=e.find(s=>n.conflictsWith.includes(s.attributeName()));i&&this._conflictingOption(n,i)})}_checkForConflictingOptions(){for(let e=this;e;e=e.parent)e._checkForConflictingLocalOptions()}parseOptions(e){let r=[],n=[],i=r,s=e.slice();function o(a){return a.length>1&&a[0]==="-"}let u=null;for(;s.length;){let a=s.shift();if(a==="--"){i===n&&i.push(a),i.push(...s);break}if(u&&!o(a)){this.emit(`option:${u.name()}`,a);continue}if(u=null,o(a)){let c=this._findOption(a);if(c){if(c.required){let l=s.shift();l===void 0&&this.optionMissingArgument(c),this.emit(`option:${c.name()}`,l)}else if(c.optional){let l=null;s.length>0&&!o(s[0])&&(l=s.shift()),this.emit(`option:${c.name()}`,l)}else this.emit(`option:${c.name()}`);u=c.variadic?c:null;continue}}if(a.length>2&&a[0]==="-"&&a[1]!=="-"){let c=this._findOption(`-${a[1]}`);if(c){c.required||c.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${c.name()}`,a.slice(2)):(this.emit(`option:${c.name()}`),s.unshift(`-${a.slice(2)}`));continue}}if(/^--[^=]+=/.test(a)){let c=a.indexOf("="),l=this._findOption(a.slice(0,c));if(l&&(l.required||l.optional)){this.emit(`option:${l.name()}`,a.slice(c+1));continue}}if(o(a)&&(i=n),(this._enablePositionalOptions||this._passThroughOptions)&&r.length===0&&n.length===0){if(this._findCommand(a)){r.push(a),s.length>0&&n.push(...s);break}else if(a===this._helpCommandName&&this._hasImplicitHelpCommand()){r.push(a),s.length>0&&r.push(...s);break}else if(this._defaultCommandName){n.push(a),s.length>0&&n.push(...s);break}}if(this._passThroughOptions){i.push(a),s.length>0&&i.push(...s);break}i.push(a)}return{operands:r,unknown:n}}opts(){if(this._storeOptionsAsProperties){let e={},r=this.options.length;for(let n=0;n<r;n++){let i=this.options[n].attributeName();e[i]=i===this._versionOptionName?this._version:this[i]}return e}return this._optionValues}optsWithGlobals(){return ah(this).reduce((e,r)=>Object.assign(e,r.opts()),{})}error(e,r){this._outputConfiguration.outputError(`${e}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let n=r||{},i=n.exitCode||1,s=n.code||"commander.error";this._exit(i,s,e)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in Ht.env){let r=e.attributeName();(this.getOptionValue(r)===void 0||["default","config","env"].includes(this.getOptionValueSource(r)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,Ht.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}_parseOptionsImplied(){let e=new _1e(this.options),r=n=>this.getOptionValue(n)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(n));this.options.filter(n=>n.implied!==void 0&&r(n.attributeName())&&e.valueFromOption(this.getOptionValue(n.attributeName()),n)).forEach(n=>{Object.keys(n.implied).filter(i=>!r(i)).forEach(i=>{this.setOptionValueWithSource(i,n.implied[i],"implied")})})}missingArgument(e){let r=`error: missing required argument '${e}'`;this.error(r,{code:"commander.missingArgument"})}optionMissingArgument(e){let r=`error: option '${e.flags}' argument missing`;this.error(r,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){let r=`error: required option '${e.flags}' not specified`;this.error(r,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,r){let n=o=>{let u=o.attributeName(),a=this.getOptionValue(u),c=this.options.find(d=>d.negate&&u===d.attributeName()),l=this.options.find(d=>!d.negate&&u===d.attributeName());return c&&(c.presetArg===void 0&&a===!1||c.presetArg!==void 0&&a===c.presetArg)?c:l||o},i=o=>{let u=n(o),a=u.attributeName();return this.getOptionValueSource(a)==="env"?`environment variable '${u.envVar}'`:`option '${u.flags}'`},s=`error: ${i(e)} cannot be used with ${i(r)}`;this.error(s,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let r="";if(e.startsWith("--")&&this._showSuggestionAfterError){let i=[],s=this;do{let o=s.createHelp().visibleOptions(s).filter(u=>u.long).map(u=>u.long);i=i.concat(o),s=s.parent}while(s&&!s._enablePositionalOptions);r=cF(e,i)}let n=`error: unknown option '${e}'${r}`;this.error(n,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;let r=this._args.length,n=r===1?"":"s",s=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${r} argument${n} but got ${e.length}.`;this.error(s,{code:"commander.excessArguments"})}unknownCommand(){let e=this.args[0],r="";if(this._showSuggestionAfterError){let i=[];this.createHelp().visibleCommands(this).forEach(s=>{i.push(s.name()),s.alias()&&i.push(s.alias())}),r=cF(e,i)}let n=`error: unknown command '${e}'${r}`;this.error(n,{code:"commander.unknownCommand"})}version(e,r,n){if(e===void 0)return this._version;this._version=e,r=r||"-V, --version",n=n||"output the version number";let i=this.createOption(r,n);return this._versionOptionName=i.attributeName(),this.options.push(i),this.on("option:"+i.name(),()=>{this._outputConfiguration.writeOut(`${e}
`),this._exit(0,"commander.version",e)}),this}description(e,r){return e===void 0&&r===void 0?this._description:(this._description=e,r&&(this._argsDescription=r),this)}summary(e){return e===void 0?this._summary:(this._summary=e,this)}alias(e){if(e===void 0)return this._aliases[0];let r=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(r=this.commands[this.commands.length-1]),e===r._name)throw new Error("Command alias can't be the same as its name");return r._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(r=>this.alias(r)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;let r=this._args.map(n=>m1e(n));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this._args.length?r:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}nameFromFilename(e){return this._name=nu.basename(e,nu.extname(e)),this}executableDir(e){return e===void 0?this._executableDir:(this._executableDir=e,this)}helpInformation(e){let r=this.createHelp();return r.helpWidth===void 0&&(r.helpWidth=e&&e.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),r.formatHelp(this,r)}_getHelpContext(e){e=e||{};let r={error:!!e.error},n;return r.error?n=i=>this._outputConfiguration.writeErr(i):n=i=>this._outputConfiguration.writeOut(i),r.write=e.write||n,r.command=this,r}outputHelp(e){let r;typeof e=="function"&&(r=e,e=void 0);let n=this._getHelpContext(e);ah(this).reverse().forEach(s=>s.emit("beforeAllHelp",n)),this.emit("beforeHelp",n);let i=this.helpInformation(n);if(r&&(i=r(i),typeof i!="string"&&!Buffer.isBuffer(i)))throw new Error("outputHelp callback must return a string or a Buffer");n.write(i),this.emit(this._helpLongFlag),this.emit("afterHelp",n),ah(this).forEach(s=>s.emit("afterAllHelp",n))}helpOption(e,r){if(typeof e=="boolean")return this._hasHelpOption=e,this;this._helpFlags=e||this._helpFlags,this._helpDescription=r||this._helpDescription;let n=g1e(this._helpFlags);return this._helpShortFlag=n.shortFlag,this._helpLongFlag=n.longFlag,this}help(e){this.outputHelp(e);let r=Ht.exitCode||0;r===0&&e&&typeof e!="function"&&e.error&&(r=1),this._exit(r,"commander.help","(outputHelp)")}addHelpText(e,r){let n=["beforeAll","before","after","afterAll"];if(!n.includes(e))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${n.join("', '")}'`);let i=`${e}Help`;return this.on(i,s=>{let o;typeof r=="function"?o=r({error:s.error,command:s.command}):o=r,o&&s.write(`${o}
`)}),this}};function lF(t,e){t._hasHelpOption&&e.find(n=>n===t._helpLongFlag||n===t._helpShortFlag)&&(t.outputHelp(),t._exit(0,"commander.helpDisplayed","(outputHelp)"))}function dF(t){return t.map(e=>{if(!e.startsWith("--inspect"))return e;let r,n="127.0.0.1",i="9229",s;return(s=e.match(/^(--inspect(-brk)?)$/))!==null?r=s[1]:(s=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(r=s[1],/^\d+$/.test(s[3])?i=s[3]:n=s[3]):(s=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(r=s[1],n=s[3],i=s[4]),r&&i!=="0"?`${r}=${n}:${parseInt(i)+1}`:e})}function ah(t){let e=[];for(let r=t;r;r=r.parent)e.push(r);return e}fF.Command=ch});var gF=h((Ns,yF)=>{var{Argument:E1e}=Bg(),{Command:pF}=hF(),{CommanderError:A1e,InvalidArgumentError:mF}=uh(),{Help:S1e}=Zv(),{Option:w1e}=rb();Ns=yF.exports=new pF;Ns.program=Ns;Ns.Argument=E1e;Ns.Command=pF;Ns.CommanderError=A1e;Ns.Help=S1e;Ns.InvalidArgumentError=mF;Ns.InvalidOptionArgumentError=mF;Ns.Option=w1e});var xs=h((RXe,ob)=>{"use strict";var AF=null;ob.exports.get=function(){return AF};ob.exports.set=function(t){AF=t}});var re=h(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.isResumableError=P.isNetworkTimeoutError=P.isSDAMUnrecoverableError=P.isNodeShuttingDownError=P.isRetryableReadError=P.isRetryableWriteError=P.needsRetryableWriteLabel=P.MongoWriteConcernError=P.MongoServerSelectionError=P.MongoSystemError=P.MongoMissingDependencyError=P.MongoMissingCredentialsError=P.MongoCompatibilityError=P.MongoInvalidArgumentError=P.MongoParseError=P.MongoNetworkTimeoutError=P.MongoNetworkError=P.isNetworkErrorBeforeHandshake=P.MongoTopologyClosedError=P.MongoCursorExhaustedError=P.MongoServerClosedError=P.MongoCursorInUseError=P.MongoUnexpectedServerResponseError=P.MongoGridFSChunkError=P.MongoGridFSStreamError=P.MongoTailableCursorError=P.MongoChangeStreamError=P.MongoAWSError=P.MongoKerberosError=P.MongoExpiredSessionError=P.MongoTransactionError=P.MongoNotConnectedError=P.MongoDecompressionError=P.MongoBatchReExecutionError=P.MongoRuntimeError=P.MongoAPIError=P.MongoDriverError=P.MongoServerError=P.MongoError=P.MongoErrorLabel=P.GET_MORE_RESUMABLE_CODES=P.MONGODB_ERROR_CODES=P.NODE_IS_RECOVERING_ERROR_MESSAGE=P.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=P.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=void 0;var dh=Symbol("errorLabels");P.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=new RegExp("not master","i");P.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=new RegExp("not master or secondary","i");P.NODE_IS_RECOVERING_ERROR_MESSAGE=new RegExp("node is recovering","i");P.MONGODB_ERROR_CODES=Object.freeze({HostUnreachable:6,HostNotFound:7,NetworkTimeout:89,ShutdownInProgress:91,PrimarySteppedDown:189,ExceededTimeLimit:262,SocketException:9001,NotWritablePrimary:10107,InterruptedAtShutdown:11600,InterruptedDueToReplStateChange:11602,NotPrimaryNoSecondaryOk:13435,NotPrimaryOrSecondary:13436,StaleShardVersion:63,StaleEpoch:150,StaleConfig:13388,RetryChangeStream:234,FailedToSatisfyReadPreference:133,CursorNotFound:43,LegacyNotPrimary:10058,WriteConcernFailed:64,NamespaceNotFound:26,IllegalOperation:20,MaxTimeMSExpired:50,UnknownReplWriteConcern:79,UnsatisfiableWriteConcern:100});P.GET_MORE_RESUMABLE_CODES=new Set([P.MONGODB_ERROR_CODES.HostUnreachable,P.MONGODB_ERROR_CODES.HostNotFound,P.MONGODB_ERROR_CODES.NetworkTimeout,P.MONGODB_ERROR_CODES.ShutdownInProgress,P.MONGODB_ERROR_CODES.PrimarySteppedDown,P.MONGODB_ERROR_CODES.ExceededTimeLimit,P.MONGODB_ERROR_CODES.SocketException,P.MONGODB_ERROR_CODES.NotWritablePrimary,P.MONGODB_ERROR_CODES.InterruptedAtShutdown,P.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,P.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,P.MONGODB_ERROR_CODES.NotPrimaryOrSecondary,P.MONGODB_ERROR_CODES.StaleShardVersion,P.MONGODB_ERROR_CODES.StaleEpoch,P.MONGODB_ERROR_CODES.StaleConfig,P.MONGODB_ERROR_CODES.RetryChangeStream,P.MONGODB_ERROR_CODES.FailedToSatisfyReadPreference,P.MONGODB_ERROR_CODES.CursorNotFound]);P.MongoErrorLabel=Object.freeze({RetryableWriteError:"RetryableWriteError",TransientTransactionError:"TransientTransactionError",UnknownTransactionCommitResult:"UnknownTransactionCommitResult",ResumableChangeStreamError:"ResumableChangeStreamError",HandshakeError:"HandshakeError",ResetPool:"ResetPool",InterruptInUseConnections:"InterruptInUseConnections",NoWritesPerformed:"NoWritesPerformed"});var ao=class extends Error{constructor(e){e instanceof Error?(super(e.message),this.cause=e):super(e),this[dh]=new Set}get name(){return"MongoError"}get errmsg(){return this.message}hasErrorLabel(e){return this[dh].has(e)}addErrorLabel(e){this[dh].add(e)}get errorLabels(){return Array.from(this[dh])}};P.MongoError=ao;var $g=class extends ao{constructor(e){super(e.message||e.errmsg||e.$err||"n/a"),e.errorLabels&&(this[dh]=new Set(e.errorLabels));for(let r in e)r!=="errorLabels"&&r!=="errmsg"&&r!=="message"&&(this[r]=e[r])}get name(){return"MongoServerError"}};P.MongoServerError=$g;var hd=class extends ao{constructor(e){super(e)}get name(){return"MongoDriverError"}};P.MongoDriverError=hd;var mn=class extends hd{constructor(e){super(e)}get name(){return"MongoAPIError"}};P.MongoAPIError=mn;var co=class extends hd{constructor(e){super(e)}get name(){return"MongoRuntimeError"}};P.MongoRuntimeError=co;var ub=class extends mn{constructor(e="This batch has already been executed, create new batch to execute"){super(e)}get name(){return"MongoBatchReExecutionError"}};P.MongoBatchReExecutionError=ub;var ab=class extends co{constructor(e){super(e)}get name(){return"MongoDecompressionError"}};P.MongoDecompressionError=ab;var cb=class extends mn{constructor(e){super(e)}get name(){return"MongoNotConnectedError"}};P.MongoNotConnectedError=cb;var lb=class extends mn{constructor(e){super(e)}get name(){return"MongoTransactionError"}};P.MongoTransactionError=lb;var db=class extends mn{constructor(e="Cannot use a session that has ended"){super(e)}get name(){return"MongoExpiredSessionError"}};P.MongoExpiredSessionError=db;var fb=class extends co{constructor(e){super(e)}get name(){return"MongoKerberosError"}};P.MongoKerberosError=fb;var hb=class extends co{constructor(e){super(e)}get name(){return"MongoAWSError"}};P.MongoAWSError=hb;var pb=class extends co{constructor(e){super(e)}get name(){return"MongoChangeStreamError"}};P.MongoChangeStreamError=pb;var mb=class extends mn{constructor(e="Tailable cursor does not support this operation"){super(e)}get name(){return"MongoTailableCursorError"}};P.MongoTailableCursorError=mb;var yb=class extends co{constructor(e){super(e)}get name(){return"MongoGridFSStreamError"}};P.MongoGridFSStreamError=yb;var gb=class extends co{constructor(e){super(e)}get name(){return"MongoGridFSChunkError"}};P.MongoGridFSChunkError=gb;var _b=class extends co{constructor(e){super(e)}get name(){return"MongoUnexpectedServerResponseError"}};P.MongoUnexpectedServerResponseError=_b;var Eb=class extends mn{constructor(e="Cursor is already initialized"){super(e)}get name(){return"MongoCursorInUseError"}};P.MongoCursorInUseError=Eb;var Ab=class extends mn{constructor(e="Server is closed"){super(e)}get name(){return"MongoServerClosedError"}};P.MongoServerClosedError=Ab;var Sb=class extends mn{constructor(e){super(e||"Cursor is exhausted")}get name(){return"MongoCursorExhaustedError"}};P.MongoCursorExhaustedError=Sb;var wb=class extends mn{constructor(e="Topology is closed"){super(e)}get name(){return"MongoTopologyClosedError"}};P.MongoTopologyClosedError=wb;var wF=Symbol("beforeHandshake");function O1e(t){return t[wF]===!0}P.isNetworkErrorBeforeHandshake=O1e;var fa=class extends ao{constructor(e,r){super(e),r&&typeof r.beforeHandshake=="boolean"&&(this[wF]=r.beforeHandshake)}get name(){return"MongoNetworkError"}};P.MongoNetworkError=fa;var Ob=class extends fa{constructor(e,r){super(e,r)}get name(){return"MongoNetworkTimeoutError"}};P.MongoNetworkTimeoutError=Ob;var kg=class extends hd{constructor(e){super(e)}get name(){return"MongoParseError"}};P.MongoParseError=kg;var Cb=class extends mn{constructor(e){super(e)}get name(){return"MongoInvalidArgumentError"}};P.MongoInvalidArgumentError=Cb;var vb=class extends mn{constructor(e){super(e)}get name(){return"MongoCompatibilityError"}};P.MongoCompatibilityError=vb;var bb=class extends mn{constructor(e){super(e)}get name(){return"MongoMissingCredentialsError"}};P.MongoMissingCredentialsError=bb;var Ib=class extends mn{constructor(e){super(e)}get name(){return"MongoMissingDependencyError"}};P.MongoMissingDependencyError=Ib;var jg=class extends ao{constructor(e,r){var n;r&&r.error?super(r.error.message||r.error):super(e),r&&(this.reason=r),this.code=(n=r.error)===null||n===void 0?void 0:n.code}get name(){return"MongoSystemError"}};P.MongoSystemError=jg;var Pb=class extends jg{constructor(e,r){super(e,r)}get name(){return"MongoServerSelectionError"}};P.MongoServerSelectionError=Pb;function C1e(t){let e=Object.assign({},t);return e.ok===0&&(e.ok=1,delete e.errmsg,delete e.code,delete e.codeName),e}var Lg=class extends $g{constructor(e,r){r&&Array.isArray(r.errorLabels)&&(e.errorLabels=r.errorLabels),super(e),this.errInfo=e.errInfo,r!=null&&(this.result=C1e(r))}get name(){return"MongoWriteConcernError"}};P.MongoWriteConcernError=Lg;var OF=new Set([P.MONGODB_ERROR_CODES.HostUnreachable,P.MONGODB_ERROR_CODES.HostNotFound,P.MONGODB_ERROR_CODES.NetworkTimeout,P.MONGODB_ERROR_CODES.ShutdownInProgress,P.MONGODB_ERROR_CODES.PrimarySteppedDown,P.MONGODB_ERROR_CODES.SocketException,P.MONGODB_ERROR_CODES.NotWritablePrimary,P.MONGODB_ERROR_CODES.InterruptedAtShutdown,P.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,P.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,P.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),SF=new Set([...OF,P.MONGODB_ERROR_CODES.ExceededTimeLimit]);function v1e(t,e){var r,n,i;return t instanceof fa?!0:t instanceof ao&&(e>=9||t.hasErrorLabel(P.MongoErrorLabel.RetryableWriteError))&&!t.hasErrorLabel(P.MongoErrorLabel.HandshakeError)?!1:t instanceof Lg?SF.has((i=(n=(r=t.result)===null||r===void 0?void 0:r.code)!==null&&n!==void 0?n:t.code)!==null&&i!==void 0?i:0):t instanceof ao&&typeof t.code=="number"?SF.has(t.code):!!(P.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(t.message)||P.NODE_IS_RECOVERING_ERROR_MESSAGE.test(t.message))}P.needsRetryableWriteLabel=v1e;function b1e(t){return t.hasErrorLabel(P.MongoErrorLabel.RetryableWriteError)}P.isRetryableWriteError=b1e;function I1e(t){return!!((typeof t.code=="number"?OF.has(t.code):!1)||t instanceof fa||P.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(t.message)||P.NODE_IS_RECOVERING_ERROR_MESSAGE.test(t.message))}P.isRetryableReadError=I1e;var P1e=new Set([P.MONGODB_ERROR_CODES.ShutdownInProgress,P.MONGODB_ERROR_CODES.PrimarySteppedDown,P.MONGODB_ERROR_CODES.InterruptedAtShutdown,P.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,P.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),T1e=new Set([P.MONGODB_ERROR_CODES.NotWritablePrimary,P.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,P.MONGODB_ERROR_CODES.LegacyNotPrimary]),D1e=new Set([P.MONGODB_ERROR_CODES.InterruptedAtShutdown,P.MONGODB_ERROR_CODES.ShutdownInProgress]);function CF(t){return typeof t.code=="number"?P1e.has(t.code):P.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE.test(t.message)||P.NODE_IS_RECOVERING_ERROR_MESSAGE.test(t.message)}function R1e(t){return typeof t.code=="number"?T1e.has(t.code):CF(t)?!1:P.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(t.message)}function N1e(t){return!!(typeof t.code=="number"&&D1e.has(t.code))}P.isNodeShuttingDownError=N1e;function x1e(t){return t instanceof kg||t==null?!0:CF(t)||R1e(t)}P.isSDAMUnrecoverableError=x1e;function M1e(t){return!!(t instanceof fa&&t.message.match(/timed out/))}P.isNetworkTimeoutError=M1e;function F1e(t,e){return t==null||!(t instanceof ao)?!1:t instanceof fa?!0:e!=null&&e>=9?t.code===P.MONGODB_ERROR_CODES.CursorNotFound?!0:t.hasErrorLabel(P.MongoErrorLabel.ResumableChangeStreamError):typeof t.code=="number"?P.GET_MORE_RESUMABLE_CODES.has(t.code):!1}P.isResumableError=F1e});var Ui=h(ha=>{"use strict";var vF=ha&&ha.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ha,"__esModule",{value:!0});ha.BSONTypeError=ha.BSONError=void 0;var B1e=function(t){vF(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),e}(Error);ha.BSONError=B1e;var q1e=function(t){vF(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),e}(TypeError);ha.BSONTypeError=q1e});var Tb=h(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.getGlobal=void 0;function Ug(t){return t&&t.Math==Math&&t}function $1e(){return Ug(typeof globalThis=="object"&&globalThis)||Ug(typeof window=="object"&&window)||Ug(typeof self=="object"&&self)||Ug(typeof global=="object"&&global)||Function("return this")()}zg.getGlobal=$1e});var Ms=h(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.deprecate=Mt.isObjectLike=Mt.isDate=Mt.haveBuffer=Mt.isMap=Mt.isRegExp=Mt.isBigUInt64Array=Mt.isBigInt64Array=Mt.isUint8Array=Mt.isAnyArrayBuffer=Mt.randomBytes=Mt.normalizedFunctionString=void 0;var Db=require("buffer"),k1e=Tb();function j1e(t){return t.toString().replace("function(","function (")}Mt.normalizedFunctionString=j1e;function L1e(){var t=(0,k1e.getGlobal)();return typeof t.navigator=="object"&&t.navigator.product==="ReactNative"}var bF=function(e){var r=L1e()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(r);for(var n=Db.Buffer.alloc(e),i=0;i<e;++i)n[i]=Math.floor(Math.random()*256);return n},U1e=function(){if(process.browser){if(typeof window<"u"){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)return function(r){return t.getRandomValues(Db.Buffer.alloc(r))}}return typeof global<"u"&&global.crypto&&global.crypto.getRandomValues?function(r){return global.crypto.getRandomValues(Db.Buffer.alloc(r))}:bF}else{var e=void 0;try{e=require("crypto").randomBytes}catch{}return e||bF}};Mt.randomBytes=U1e();function z1e(t){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t))}Mt.isAnyArrayBuffer=z1e;function V1e(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}Mt.isUint8Array=V1e;function W1e(t){return Object.prototype.toString.call(t)==="[object BigInt64Array]"}Mt.isBigInt64Array=W1e;function H1e(t){return Object.prototype.toString.call(t)==="[object BigUint64Array]"}Mt.isBigUInt64Array=H1e;function G1e(t){return Object.prototype.toString.call(t)==="[object RegExp]"}Mt.isRegExp=G1e;function K1e(t){return Object.prototype.toString.call(t)==="[object Map]"}Mt.isMap=K1e;function Y1e(){return typeof global<"u"&&typeof global.Buffer<"u"}Mt.haveBuffer=Y1e;function J1e(t){return IF(t)&&Object.prototype.toString.call(t)==="[object Date]"}Mt.isDate=J1e;function IF(t){return typeof t=="object"&&t!==null}Mt.isObjectLike=IF;function Q1e(t,e){var r=!1;function n(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return r||(console.warn(e),r=!0),t.apply(this,i)}return n}Mt.deprecate=Q1e});var fh=h(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.ensureBuffer=void 0;var PF=require("buffer"),X1e=Ui(),Z1e=Ms();function efe(t){if(ArrayBuffer.isView(t))return PF.Buffer.from(t.buffer,t.byteOffset,t.byteLength);if((0,Z1e.isAnyArrayBuffer)(t))return PF.Buffer.from(t);throw new X1e.BSONTypeError("Must use either Buffer or TypedArray")}Vg.ensureBuffer=efe});var TF=h(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.bufferToUuidHexString=iu.uuidHexStringToBuffer=iu.uuidValidateString=void 0;var tfe=require("buffer"),rfe=Ui(),nfe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,ife=function(t){return typeof t=="string"&&nfe.test(t)};iu.uuidValidateString=ife;var sfe=function(t){if(!(0,iu.uuidValidateString)(t))throw new rfe.BSONTypeError('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var e=t.replace(/-/g,"");return tfe.Buffer.from(e,"hex")};iu.uuidHexStringToBuffer=sfe;var ofe=function(t,e){return e===void 0&&(e=!0),e?t.toString("hex",0,4)+"-"+t.toString("hex",4,6)+"-"+t.toString("hex",6,8)+"-"+t.toString("hex",8,10)+"-"+t.toString("hex",10,16):t.toString("hex")};iu.bufferToUuidHexString=ofe});var pd=h(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.BSON_BINARY_SUBTYPE_USER_DEFINED=X.BSON_BINARY_SUBTYPE_COLUMN=X.BSON_BINARY_SUBTYPE_ENCRYPTED=X.BSON_BINARY_SUBTYPE_MD5=X.BSON_BINARY_SUBTYPE_UUID_NEW=X.BSON_BINARY_SUBTYPE_UUID=X.BSON_BINARY_SUBTYPE_BYTE_ARRAY=X.BSON_BINARY_SUBTYPE_FUNCTION=X.BSON_BINARY_SUBTYPE_DEFAULT=X.BSON_DATA_MAX_KEY=X.BSON_DATA_MIN_KEY=X.BSON_DATA_DECIMAL128=X.BSON_DATA_LONG=X.BSON_DATA_TIMESTAMP=X.BSON_DATA_INT=X.BSON_DATA_CODE_W_SCOPE=X.BSON_DATA_SYMBOL=X.BSON_DATA_CODE=X.BSON_DATA_DBPOINTER=X.BSON_DATA_REGEXP=X.BSON_DATA_NULL=X.BSON_DATA_DATE=X.BSON_DATA_BOOLEAN=X.BSON_DATA_OID=X.BSON_DATA_UNDEFINED=X.BSON_DATA_BINARY=X.BSON_DATA_ARRAY=X.BSON_DATA_OBJECT=X.BSON_DATA_STRING=X.BSON_DATA_NUMBER=X.JS_INT_MIN=X.JS_INT_MAX=X.BSON_INT64_MIN=X.BSON_INT64_MAX=X.BSON_INT32_MIN=X.BSON_INT32_MAX=void 0;X.BSON_INT32_MAX=2147483647;X.BSON_INT32_MIN=-2147483648;X.BSON_INT64_MAX=Math.pow(2,63)-1;X.BSON_INT64_MIN=-Math.pow(2,63);X.JS_INT_MAX=Math.pow(2,53);X.JS_INT_MIN=-Math.pow(2,53);X.BSON_DATA_NUMBER=1;X.BSON_DATA_STRING=2;X.BSON_DATA_OBJECT=3;X.BSON_DATA_ARRAY=4;X.BSON_DATA_BINARY=5;X.BSON_DATA_UNDEFINED=6;X.BSON_DATA_OID=7;X.BSON_DATA_BOOLEAN=8;X.BSON_DATA_DATE=9;X.BSON_DATA_NULL=10;X.BSON_DATA_REGEXP=11;X.BSON_DATA_DBPOINTER=12;X.BSON_DATA_CODE=13;X.BSON_DATA_SYMBOL=14;X.BSON_DATA_CODE_W_SCOPE=15;X.BSON_DATA_INT=16;X.BSON_DATA_TIMESTAMP=17;X.BSON_DATA_LONG=18;X.BSON_DATA_DECIMAL128=19;X.BSON_DATA_MIN_KEY=255;X.BSON_DATA_MAX_KEY=127;X.BSON_BINARY_SUBTYPE_DEFAULT=0;X.BSON_BINARY_SUBTYPE_FUNCTION=1;X.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2;X.BSON_BINARY_SUBTYPE_UUID=3;X.BSON_BINARY_SUBTYPE_UUID_NEW=4;X.BSON_BINARY_SUBTYPE_MD5=5;X.BSON_BINARY_SUBTYPE_ENCRYPTED=6;X.BSON_BINARY_SUBTYPE_COLUMN=7;X.BSON_BINARY_SUBTYPE_USER_DEFINED=128});var yd=h(pa=>{"use strict";var ufe=pa&&pa.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(pa,"__esModule",{value:!0});pa.UUID=pa.Binary=void 0;var su=require("buffer"),Nb=fh(),md=TF(),DF=Ms(),Mc=Ui(),RF=pd(),hh=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(e!=null&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(e instanceof ArrayBuffer)&&!Array.isArray(e))throw new Mc.BSONTypeError("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=r??t.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=su.Buffer.alloc(t.BUFFER_SIZE),this.position=0):(typeof e=="string"?this.buffer=su.Buffer.from(e,"binary"):Array.isArray(e)?this.buffer=su.Buffer.from(e):this.buffer=(0,Nb.ensureBuffer)(e),this.position=this.buffer.byteLength)}return t.prototype.put=function(e){if(typeof e=="string"&&e.length!==1)throw new Mc.BSONTypeError("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new Mc.BSONTypeError("only accepts single character Uint8Array or Array");var r;if(typeof e=="string"?r=e.charCodeAt(0):typeof e=="number"?r=e:r=e[0],r<0||r>255)throw new Mc.BSONTypeError("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=r;else{var n=su.Buffer.alloc(t.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=r}},t.prototype.write=function(e,r){if(r=typeof r=="number"?r:this.position,this.buffer.length<r+e.length){var n=su.Buffer.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set((0,Nb.ensureBuffer)(e),r),this.position=r+e.byteLength>this.position?r+e.length:this.position):typeof e=="string"&&(this.buffer.write(e,r,e.length,"binary"),this.position=r+e.length>this.position?r+e.length:this.position)},t.prototype.read=function(e,r){return r=r&&r>0?r:this.position,this.buffer.slice(e,e+r)},t.prototype.value=function(e){return e=!!e,e&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},t.prototype.length=function(){return this.position},t.prototype.toJSON=function(){return this.buffer.toString("base64")},t.prototype.toString=function(e){return this.buffer.toString(e)},t.prototype.toExtendedJSON=function(e){e=e||{};var r=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:r,$type:n.length===1?"0"+n:n}:{$binary:{base64:r,subType:n.length===1?"0"+n:n}}},t.prototype.toUUID=function(){if(this.sub_type===t.SUBTYPE_UUID)return new xb(this.buffer.slice(0,this.position));throw new Mc.BSONError('Binary sub_type "'.concat(this.sub_type,'" is not supported for converting to UUID. Only "').concat(t.SUBTYPE_UUID,'" is currently supported.'))},t.fromExtendedJSON=function(e,r){r=r||{};var n,i;if("$binary"in e?r.legacy&&typeof e.$binary=="string"&&"$type"in e?(i=e.$type?parseInt(e.$type,16):0,n=su.Buffer.from(e.$binary,"base64")):typeof e.$binary!="string"&&(i=e.$binary.subType?parseInt(e.$binary.subType,16):0,n=su.Buffer.from(e.$binary.base64,"base64")):"$uuid"in e&&(i=4,n=(0,md.uuidHexStringToBuffer)(e.$uuid)),!n)throw new Mc.BSONTypeError("Unexpected Binary Extended JSON format ".concat(JSON.stringify(e)));return i===RF.BSON_BINARY_SUBTYPE_UUID_NEW?new xb(n):new t(n,i)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.value(!0);return'new Binary(Buffer.from("'.concat(e.toString("hex"),'", "hex"), ').concat(this.sub_type,")")},t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BUFFER_SIZE=256,t.SUBTYPE_DEFAULT=0,t.SUBTYPE_FUNCTION=1,t.SUBTYPE_BYTE_ARRAY=2,t.SUBTYPE_UUID_OLD=3,t.SUBTYPE_UUID=4,t.SUBTYPE_MD5=5,t.SUBTYPE_ENCRYPTED=6,t.SUBTYPE_COLUMN=7,t.SUBTYPE_USER_DEFINED=128,t}();pa.Binary=hh;Object.defineProperty(hh.prototype,"_bsontype",{value:"Binary"});var Rb=16,xb=function(t){ufe(e,t);function e(r){var n=this,i,s;if(r==null)i=e.generate();else if(r instanceof e)i=su.Buffer.from(r.buffer),s=r.__id;else if(ArrayBuffer.isView(r)&&r.byteLength===Rb)i=(0,Nb.ensureBuffer)(r);else if(typeof r=="string")i=(0,md.uuidHexStringToBuffer)(r);else throw new Mc.BSONTypeError("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");return n=t.call(this,i,RF.BSON_BINARY_SUBTYPE_UUID_NEW)||this,n.__id=s,n}return Object.defineProperty(e.prototype,"id",{get:function(){return this.buffer},set:function(r){this.buffer=r,e.cacheHexString&&(this.__id=(0,md.bufferToUuidHexString)(r))},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(r){if(r===void 0&&(r=!0),e.cacheHexString&&this.__id)return this.__id;var n=(0,md.bufferToUuidHexString)(this.id,r);return e.cacheHexString&&(this.__id=n),n},e.prototype.toString=function(r){return r?this.id.toString(r):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(r){if(!r)return!1;if(r instanceof e)return r.id.equals(this.id);try{return new e(r).id.equals(this.id)}catch{return!1}},e.prototype.toBinary=function(){return new hh(this.id,hh.SUBTYPE_UUID)},e.generate=function(){var r=(0,DF.randomBytes)(Rb);return r[6]=r[6]&15|64,r[8]=r[8]&63|128,su.Buffer.from(r)},e.isValid=function(r){return r?r instanceof e?!0:typeof r=="string"?(0,md.uuidValidateString)(r):(0,DF.isUint8Array)(r)?r.length!==Rb?!1:(r[6]&240)===64&&(r[8]&128)===128:!1:!1},e.createFromHexString=function(r){var n=(0,md.uuidHexStringToBuffer)(r);return new e(n)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new UUID("'.concat(this.toHexString(),'")')},e}(hh);pa.UUID=xb});var Hg=h(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.Code=void 0;var NF=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);this.code=e,this.scope=r}return t.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},t.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},t.fromExtendedJSON=function(e){return new t(e.$code,e.$scope)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toJSON();return'new Code("'.concat(String(e.code),'"').concat(e.scope?", ".concat(JSON.stringify(e.scope)):"",")")},t}();Wg.Code=NF;Object.defineProperty(NF.prototype,"_bsontype",{value:"Code"})});var Gg=h(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.DBRef=gd.isDBRefLike=void 0;var afe=Ms();function cfe(t){return(0,afe.isObjectLike)(t)&&t.$id!=null&&typeof t.$ref=="string"&&(t.$db==null||typeof t.$db=="string")}gd.isDBRefLike=cfe;var xF=function(){function t(e,r,n,i){if(!(this instanceof t))return new t(e,r,n,i);var s=e.split(".");s.length===2&&(n=s.shift(),e=s.shift()),this.collection=e,this.oid=r,this.db=n,this.fields=i||{}}return Object.defineProperty(t.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e},t.prototype.toExtendedJSON=function(e){e=e||{};var r={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(r.$db=this.db),r=Object.assign(r,this.fields)),r},t.fromExtendedJSON=function(e){var r=Object.assign({},e);return delete r.$ref,delete r.$id,delete r.$db,new t(e.$ref,e.$id,e.$db,r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'.concat(this.namespace,'", new ObjectId("').concat(String(e),'")').concat(this.db?', "'.concat(this.db,'"'):"",")")},t}();gd.DBRef=xF;Object.defineProperty(xF.prototype,"_bsontype",{value:"DBRef"})});var Fc=h(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.Long=void 0;var lfe=Ms(),zi=void 0;try{zi=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var MF=1<<16,dfe=1<<24,_d=MF*MF,$F=_d*_d,FF=$F/2,BF={},qF={},Mb=function(){function t(e,r,n){if(e===void 0&&(e=0),!(this instanceof t))return new t(e,r,n);typeof e=="bigint"?Object.assign(this,t.fromBigInt(e,!!r)):typeof e=="string"?Object.assign(this,t.fromString(e,!!r)):(this.low=e|0,this.high=r|0,this.unsigned=!!n),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return t.fromBits=function(e,r,n){return new t(e,r,n)},t.fromInt=function(e,r){var n,i,s;return r?(e>>>=0,(s=0<=e&&e<256)&&(i=qF[e],i)?i:(n=t.fromBits(e,(e|0)<0?-1:0,!0),s&&(qF[e]=n),n)):(e|=0,(s=-128<=e&&e<128)&&(i=BF[e],i)?i:(n=t.fromBits(e,e<0?-1:0,!1),s&&(BF[e]=n),n))},t.fromNumber=function(e,r){if(isNaN(e))return r?t.UZERO:t.ZERO;if(r){if(e<0)return t.UZERO;if(e>=$F)return t.MAX_UNSIGNED_VALUE}else{if(e<=-FF)return t.MIN_VALUE;if(e+1>=FF)return t.MAX_VALUE}return e<0?t.fromNumber(-e,r).neg():t.fromBits(e%_d|0,e/_d|0,r)},t.fromBigInt=function(e,r){return t.fromString(e.toString(),r)},t.fromString=function(e,r,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t.ZERO;if(typeof r=="number"?(n=r,r=!1):r=!!r,n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return t.fromString(e.substring(1),r,n).neg();for(var s=t.fromNumber(Math.pow(n,8)),o=t.ZERO,u=0;u<e.length;u+=8){var a=Math.min(8,e.length-u),c=parseInt(e.substring(u,u+a),n);if(a<8){var l=t.fromNumber(Math.pow(n,a));o=o.mul(l).add(t.fromNumber(c))}else o=o.mul(s),o=o.add(t.fromNumber(c))}return o.unsigned=r,o},t.fromBytes=function(e,r,n){return n?t.fromBytesLE(e,r):t.fromBytesBE(e,r)},t.fromBytesLE=function(e,r){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)},t.fromBytesBE=function(e,r){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)},t.isLong=function(e){return(0,lfe.isObjectLike)(e)&&e.__isLong__===!0},t.fromValue=function(e,r){return typeof e=="number"?t.fromNumber(e,r):typeof e=="string"?t.fromString(e,r):t.fromBits(e.low,e.high,typeof r=="boolean"?r:e.unsigned)},t.prototype.add=function(e){t.isLong(e)||(e=t.fromValue(e));var r=this.high>>>16,n=this.high&65535,i=this.low>>>16,s=this.low&65535,o=e.high>>>16,u=e.high&65535,a=e.low>>>16,c=e.low&65535,l=0,d=0,f=0,p=0;return p+=s+c,f+=p>>>16,p&=65535,f+=i+a,d+=f>>>16,f&=65535,d+=n+u,l+=d>>>16,d&=65535,l+=r+o,l&=65535,t.fromBits(f<<16|p,l<<16|d,this.unsigned)},t.prototype.and=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.compare=function(e){if(t.isLong(e)||(e=t.fromValue(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},t.prototype.comp=function(e){return this.compare(e)},t.prototype.divide=function(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw Error("division by zero");if(zi){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?zi.div_u:zi.div_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,zi.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var n,i,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return t.UZERO;if(e.gt(this.shru(1)))return t.UONE;s=t.UZERO}else{if(this.eq(t.MIN_VALUE)){if(e.eq(t.ONE)||e.eq(t.NEG_ONE))return t.MIN_VALUE;if(e.eq(t.MIN_VALUE))return t.ONE;var o=this.shr(1);return n=o.div(e).shl(1),n.eq(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(i=this.sub(e.mul(n)),s=n.add(i.div(e)),s)}else if(e.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=t.ZERO}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var u=Math.ceil(Math.log(n)/Math.LN2),a=u<=48?1:Math.pow(2,u-48),c=t.fromNumber(n),l=c.mul(e);l.isNegative()||l.gt(i);)n-=a,c=t.fromNumber(n,this.unsigned),l=c.mul(e);c.isZero()&&(c=t.ONE),s=s.add(c),i=i.sub(l)}return s},t.prototype.div=function(e){return this.divide(e)},t.prototype.equals=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},t.prototype.eq=function(e){return this.equals(e)},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();var e=this.high!==0?this.high:this.low,r;for(r=31;r>0&&!(e&1<<r);r--);return this.high!==0?r+33:r+1},t.prototype.greaterThan=function(e){return this.comp(e)>0},t.prototype.gt=function(e){return this.greaterThan(e)},t.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},t.prototype.gte=function(e){return this.greaterThanOrEqual(e)},t.prototype.ge=function(e){return this.greaterThanOrEqual(e)},t.prototype.isEven=function(){return(this.low&1)===0},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isOdd=function(){return(this.low&1)===1},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isZero=function(){return this.high===0&&this.low===0},t.prototype.lessThan=function(e){return this.comp(e)<0},t.prototype.lt=function(e){return this.lessThan(e)},t.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},t.prototype.lte=function(e){return this.lessThanOrEqual(e)},t.prototype.modulo=function(e){if(t.isLong(e)||(e=t.fromValue(e)),zi){var r=(this.unsigned?zi.rem_u:zi.rem_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,zi.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},t.prototype.mod=function(e){return this.modulo(e)},t.prototype.rem=function(e){return this.modulo(e)},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;if(t.isLong(e)||(e=t.fromValue(e)),zi){var r=zi.mul(this.low,this.high,e.low,e.high);return t.fromBits(r,zi.get_high(),this.unsigned)}if(e.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t.TWO_PWR_24)&&e.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=this.high&65535,s=this.low>>>16,o=this.low&65535,u=e.high>>>16,a=e.high&65535,c=e.low>>>16,l=e.low&65535,d=0,f=0,p=0,m=0;return m+=o*l,p+=m>>>16,m&=65535,p+=s*l,f+=p>>>16,p&=65535,p+=o*c,f+=p>>>16,p&=65535,f+=i*l,d+=f>>>16,f&=65535,f+=s*c,d+=f>>>16,f&=65535,f+=o*a,d+=f>>>16,f&=65535,d+=n*l+i*c+s*a+o*u,d&=65535,t.fromBits(p<<16|m,d<<16|f,this.unsigned)},t.prototype.mul=function(e){return this.multiply(e)},t.prototype.negate=function(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.neg=function(){return this.negate()},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.notEquals=function(e){return!this.equals(e)},t.prototype.neq=function(e){return this.notEquals(e)},t.prototype.ne=function(e){return this.notEquals(e)},t.prototype.or=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.shiftLeft=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shl=function(e){return this.shiftLeft(e)},t.prototype.shiftRight=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shr=function(e){return this.shiftRight(e)},t.prototype.shiftRightUnsigned=function(e){if(t.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return t.fromBits(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?t.fromBits(r,0,this.unsigned):t.fromBits(r>>>e-32,0,this.unsigned)},t.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},t.prototype.shru=function(e){return this.shiftRightUnsigned(e)},t.prototype.subtract=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.neg())},t.prototype.sub=function(e){return this.subtract(e)},t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*_d+(this.low>>>0):this.high*_d+(this.low>>>0)},t.prototype.toBigInt=function(){return BigInt(this.toString())},t.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},t.prototype.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},t.prototype.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},t.prototype.toSigned=function(){return this.unsigned?t.fromBits(this.low,this.high,!1):this},t.prototype.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(t.MIN_VALUE)){var r=t.fromNumber(e),n=this.div(r),i=n.mul(r).sub(this);return n.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var s=t.fromNumber(Math.pow(e,6),this.unsigned),o=this,u="";;){var a=o.div(s),c=o.sub(a.mul(s)).toInt()>>>0,l=c.toString(e);if(o=a,o.isZero())return l+u;for(;l.length<6;)l="0"+l;u=""+l+u}},t.prototype.toUnsigned=function(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)},t.prototype.xor=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.eqz=function(){return this.isZero()},t.prototype.le=function(e){return this.lessThanOrEqual(e)},t.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},t.fromExtendedJSON=function(e,r){var n=t.fromString(e.$numberLong);return r&&r.relaxed?n.toNumber():n},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Long("'.concat(this.toString(),'"').concat(this.unsigned?", true":"",")")},t.TWO_PWR_24=t.fromInt(dfe),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t}();Kg.Long=Mb;Object.defineProperty(Mb.prototype,"__isLong__",{value:!0});Object.defineProperty(Mb.prototype,"_bsontype",{value:"Long"})});var Jg=h(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.Decimal128=void 0;var Ed=require("buffer"),Sd=Ui(),Fe=Fc(),ffe=Ms(),hfe=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,pfe=/^(\+|-)?(Infinity|inf)$/i,mfe=/^(\+|-)?NaN$/i,ph=6111,Fb=-6176,kF=6176,yfe=34,Bb=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),jF=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),LF=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),gfe=/^([-+])?(\d+)?$/,_fe=31,UF=16383,Efe=30,Afe=31;function zF(t){return!isNaN(parseInt(t,10))}function Sfe(t){var e=Fe.Long.fromNumber(1e9),r=Fe.Long.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:r};for(var n=0;n<=3;n++)r=r.shiftLeft(32),r=r.add(new Fe.Long(t.parts[n],0)),t.parts[n]=r.div(e).low,r=r.modulo(e);return{quotient:t,rem:r}}function wfe(t,e){if(!t&&!e)return{high:Fe.Long.fromNumber(0),low:Fe.Long.fromNumber(0)};var r=t.shiftRightUnsigned(32),n=new Fe.Long(t.getLowBits(),0),i=e.shiftRightUnsigned(32),s=new Fe.Long(e.getLowBits(),0),o=r.multiply(i),u=r.multiply(s),a=n.multiply(i),c=n.multiply(s);return o=o.add(u.shiftRightUnsigned(32)),u=new Fe.Long(u.getLowBits(),0).add(a).add(c.shiftRightUnsigned(32)),o=o.add(u.shiftRightUnsigned(32)),c=u.shiftLeft(32).add(new Fe.Long(c.getLowBits(),0)),{high:o,low:c}}function Ofe(t,e){var r=t.high>>>0,n=e.high>>>0;if(r<n)return!0;if(r===n){var i=t.low>>>0,s=e.low>>>0;if(i<s)return!0}return!1}function Ad(t,e){throw new Sd.BSONTypeError('"'.concat(t,'" is not a valid Decimal128 string - ').concat(e))}var VF=function(){function t(e){if(!(this instanceof t))return new t(e);if(typeof e=="string")this.bytes=t.fromString(e).bytes;else if((0,ffe.isUint8Array)(e)){if(e.byteLength!==16)throw new Sd.BSONTypeError("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new Sd.BSONTypeError("Decimal128 must take a Buffer or string")}return t.fromString=function(e){var r=!1,n=!1,i=!1,s=0,o=0,u=0,a=0,c=0,l=[0],d=0,f=0,p=0,m=0,y=0,_=0,g=new Fe.Long(0,0),E=new Fe.Long(0,0),O=0,w=0;if(e.length>=7e3)throw new Sd.BSONTypeError(""+e+" not a valid Decimal128 string");var b=e.match(hfe),M=e.match(pfe),T=e.match(mfe);if(!b&&!M&&!T||e.length===0)throw new Sd.BSONTypeError(""+e+" not a valid Decimal128 string");if(b){var G=b[2],ee=b[4],J=b[5],k=b[6];ee&&k===void 0&&Ad(e,"missing exponent power"),ee&&G===void 0&&Ad(e,"missing exponent base"),ee===void 0&&(J||k)&&Ad(e,"missing e before exponent")}if((e[w]==="+"||e[w]==="-")&&(r=e[w++]==="-"),!zF(e[w])&&e[w]!=="."){if(e[w]==="i"||e[w]==="I")return new t(Ed.Buffer.from(r?jF:LF));if(e[w]==="N")return new t(Ed.Buffer.from(Bb))}for(;zF(e[w])||e[w]===".";){if(e[w]==="."){n&&Ad(e,"contains multiple periods"),n=!0,w=w+1;continue}d<34&&(e[w]!=="0"||i)&&(i||(c=o),i=!0,l[f++]=parseInt(e[w],10),d=d+1),i&&(u=u+1),n&&(a=a+1),o=o+1,w=w+1}if(n&&!o)throw new Sd.BSONTypeError(""+e+" not a valid Decimal128 string");if(e[w]==="e"||e[w]==="E"){var q=e.substr(++w).match(gfe);if(!q||!q[2])return new t(Ed.Buffer.from(Bb));y=parseInt(q[0],10),w=w+q[0].length}if(e[w])return new t(Ed.Buffer.from(Bb));if(p=0,!d)p=0,m=0,l[0]=0,u=1,d=1,s=0;else if(m=d-1,s=u,s!==1)for(;l[c+s-1]===0;)s=s-1;for(y<=a&&a-y>1<<14?y=Fb:y=y-a;y>ph;){if(m=m+1,m-p>yfe){var U=l.join("");if(U.match(/^0+$/)){y=ph;break}Ad(e,"overflow")}y=y-1}for(;y<Fb||d<u;){if(m===0&&s<d){y=Fb,s=0;break}if(d<u?u=u-1:m=m-1,y<ph)y=y+1;else{var U=l.join("");if(U.match(/^0+$/)){y=ph;break}Ad(e,"overflow")}}if(m-p+1<s){var ue=o;n&&(c=c+1,ue=ue+1),r&&(c=c+1,ue=ue+1);var xt=parseInt(e[c+m+1],10),Y=0;if(xt>=5&&(Y=1,xt===5)){for(Y=l[m]%2===1?1:0,_=c+m+2;_<ue;_++)if(parseInt(e[_],10)){Y=1;break}}if(Y){for(var te=m;te>=0;te--)if(++l[te]>9&&(l[te]=0,te===0))if(y<ph)y=y+1,l[te]=1;else return new t(Ed.Buffer.from(r?jF:LF))}}if(g=Fe.Long.fromNumber(0),E=Fe.Long.fromNumber(0),s===0)g=Fe.Long.fromNumber(0),E=Fe.Long.fromNumber(0);else if(m-p<17){var te=p;for(E=Fe.Long.fromNumber(l[te++]),g=new Fe.Long(0,0);te<=m;te++)E=E.multiply(Fe.Long.fromNumber(10)),E=E.add(Fe.Long.fromNumber(l[te]))}else{var te=p;for(g=Fe.Long.fromNumber(l[te++]);te<=m-17;te++)g=g.multiply(Fe.Long.fromNumber(10)),g=g.add(Fe.Long.fromNumber(l[te]));for(E=Fe.Long.fromNumber(l[te++]);te<=m;te++)E=E.multiply(Fe.Long.fromNumber(10)),E=E.add(Fe.Long.fromNumber(l[te]))}var ht=wfe(g,Fe.Long.fromString("100000000000000000"));ht.low=ht.low.add(E),Ofe(ht.low,E)&&(ht.high=ht.high.add(Fe.Long.fromNumber(1))),O=y+kF;var _e={low:Fe.Long.fromNumber(0),high:Fe.Long.fromNumber(0)};ht.high.shiftRightUnsigned(49).and(Fe.Long.fromNumber(1)).equals(Fe.Long.fromNumber(1))?(_e.high=_e.high.or(Fe.Long.fromNumber(3).shiftLeft(61)),_e.high=_e.high.or(Fe.Long.fromNumber(O).and(Fe.Long.fromNumber(16383).shiftLeft(47))),_e.high=_e.high.or(ht.high.and(Fe.Long.fromNumber(0x7fffffffffff)))):(_e.high=_e.high.or(Fe.Long.fromNumber(O&16383).shiftLeft(49)),_e.high=_e.high.or(ht.high.and(Fe.Long.fromNumber(562949953421311)))),_e.low=ht.low,r&&(_e.high=_e.high.or(Fe.Long.fromString("9223372036854775808")));var rt=Ed.Buffer.alloc(16);return w=0,rt[w++]=_e.low.low&255,rt[w++]=_e.low.low>>8&255,rt[w++]=_e.low.low>>16&255,rt[w++]=_e.low.low>>24&255,rt[w++]=_e.low.high&255,rt[w++]=_e.low.high>>8&255,rt[w++]=_e.low.high>>16&255,rt[w++]=_e.low.high>>24&255,rt[w++]=_e.high.low&255,rt[w++]=_e.high.low>>8&255,rt[w++]=_e.high.low>>16&255,rt[w++]=_e.high.low>>24&255,rt[w++]=_e.high.high&255,rt[w++]=_e.high.high>>8&255,rt[w++]=_e.high.high>>16&255,rt[w++]=_e.high.high>>24&255,new t(rt)},t.prototype.toString=function(){for(var e,r=0,n=new Array(36),i=0;i<n.length;i++)n[i]=0;var s=0,o=!1,u,a={parts:[0,0,0,0]},c,l,d=[];s=0;var f=this.bytes,p=f[s++]|f[s++]<<8|f[s++]<<16|f[s++]<<24,m=f[s++]|f[s++]<<8|f[s++]<<16|f[s++]<<24,y=f[s++]|f[s++]<<8|f[s++]<<16|f[s++]<<24,_=f[s++]|f[s++]<<8|f[s++]<<16|f[s++]<<24;s=0;var g={low:new Fe.Long(p,m),high:new Fe.Long(y,_)};g.high.lessThan(Fe.Long.ZERO)&&d.push("-");var E=_>>26&_fe;if(E>>3===3){if(E===Efe)return d.join("")+"Infinity";if(E===Afe)return"NaN";e=_>>15&UF,u=8+(_>>14&1)}else u=_>>14&7,e=_>>17&UF;var O=e-kF;if(a.parts[0]=(_&16383)+((u&15)<<14),a.parts[1]=y,a.parts[2]=m,a.parts[3]=p,a.parts[0]===0&&a.parts[1]===0&&a.parts[2]===0&&a.parts[3]===0)o=!0;else for(l=3;l>=0;l--){var w=0,b=Sfe(a);if(a=b.quotient,w=b.rem.low,!!w)for(c=8;c>=0;c--)n[l*9+c]=w%10,w=Math.floor(w/10)}if(o)r=1,n[s]=0;else for(r=36;!n[s];)r=r-1,s=s+1;var M=r-1+O;if(M>=34||M<=-7||O>0){if(r>34)return d.push("".concat(0)),O>0?d.push("E+".concat(O)):O<0&&d.push("E".concat(O)),d.join("");d.push("".concat(n[s++])),r=r-1,r&&d.push(".");for(var i=0;i<r;i++)d.push("".concat(n[s++]));d.push("E"),M>0?d.push("+".concat(M)):d.push("".concat(M))}else if(O>=0)for(var i=0;i<r;i++)d.push("".concat(n[s++]));else{var T=r+O;if(T>0)for(var i=0;i<T;i++)d.push("".concat(n[s++]));else d.push("0");for(d.push(".");T++<0;)d.push("0");for(var i=0;i<r-Math.max(T-1,0);i++)d.push("".concat(n[s++]))}return d.join("")},t.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},t.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},t.fromExtendedJSON=function(e){return t.fromString(e.$numberDecimal)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Decimal128("'.concat(this.toString(),'")')},t}();Yg.Decimal128=VF;Object.defineProperty(VF.prototype,"_bsontype",{value:"Decimal128"})});var Xg=h(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.Double=void 0;var WF=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e}return t.prototype.valueOf=function(){return this.value},t.prototype.toJSON=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toExtendedJSON=function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-".concat(this.value.toFixed(1))}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}},t.fromExtendedJSON=function(e,r){var n=parseFloat(e.$numberDouble);return r&&r.relaxed?n:new t(n)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toExtendedJSON();return"new Double(".concat(e.$numberDouble,")")},t}();Qg.Double=WF;Object.defineProperty(WF.prototype,"_bsontype",{value:"Double"})});var e_=h(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});Zg.Int32=void 0;var HF=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e|0}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},t.fromExtendedJSON=function(e,r){return r&&r.relaxed?parseInt(e.$numberInt,10):new t(e.$numberInt)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Int32(".concat(this.valueOf(),")")},t}();Zg.Int32=HF;Object.defineProperty(HF.prototype,"_bsontype",{value:"Int32"})});var r_=h(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});t_.MaxKey=void 0;var GF=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$maxKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MaxKey()"},t}();t_.MaxKey=GF;Object.defineProperty(GF.prototype,"_bsontype",{value:"MaxKey"})});var i_=h(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.MinKey=void 0;var KF=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$minKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MinKey()"},t}();n_.MinKey=KF;Object.defineProperty(KF.prototype,"_bsontype",{value:"MinKey"})});var o_=h(s_=>{"use strict";Object.defineProperty(s_,"__esModule",{value:!0});s_.ObjectId=void 0;var ou=require("buffer"),Cfe=fh(),mh=Ui(),wd=Ms(),vfe=new RegExp("^[0-9a-fA-F]{24}$"),Bc=null,lo=Symbol("id"),fo=function(){function t(e){if(!(this instanceof t))return new t(e);var r;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new mh.BSONTypeError("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?r=ou.Buffer.from(e.toHexString(),"hex"):r=e.id}else r=e;if(r==null||typeof r=="number")this[lo]=t.generate(typeof r=="number"?r:void 0);else if(ArrayBuffer.isView(r)&&r.byteLength===12)this[lo]=r instanceof ou.Buffer?r:(0,Cfe.ensureBuffer)(r);else if(typeof r=="string")if(r.length===12){var n=ou.Buffer.from(r);if(n.byteLength===12)this[lo]=n;else throw new mh.BSONTypeError("Argument passed in must be a string of 12 bytes")}else if(r.length===24&&vfe.test(r))this[lo]=ou.Buffer.from(r,"hex");else throw new mh.BSONTypeError("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");else throw new mh.BSONTypeError("Argument passed in does not match the accepted types");t.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(t.prototype,"id",{get:function(){return this[lo]},set:function(e){this[lo]=e,t.cacheHexString&&(this.__id=e.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(){if(t.cacheHexString&&this.__id)return this.__id;var e=this.id.toString("hex");return t.cacheHexString&&!this.__id&&(this.__id=e),e},t.getInc=function(){return t.index=(t.index+1)%16777215},t.generate=function(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));var r=t.getInc(),n=ou.Buffer.alloc(12);return n.writeUInt32BE(e,0),Bc===null&&(Bc=(0,wd.randomBytes)(5)),n[4]=Bc[0],n[5]=Bc[1],n[6]=Bc[2],n[7]=Bc[3],n[8]=Bc[4],n[11]=r&255,n[10]=r>>8&255,n[9]=r>>16&255,n},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){if(e==null)return!1;if(e instanceof t)return this[lo][11]===e[lo][11]&&this[lo].equals(e[lo]);if(typeof e=="string"&&t.isValid(e)&&e.length===12&&(0,wd.isUint8Array)(this.id))return e===ou.Buffer.prototype.toString.call(this.id,"latin1");if(typeof e=="string"&&t.isValid(e)&&e.length===24)return e.toLowerCase()===this.toHexString();if(typeof e=="string"&&t.isValid(e)&&e.length===12)return ou.Buffer.from(e).equals(this.id);if(typeof e=="object"&&"toHexString"in e&&typeof e.toHexString=="function"){var r=e.toHexString(),n=this.toHexString().toLowerCase();return typeof r=="string"&&r.toLowerCase()===n}return!1},t.prototype.getTimestamp=function(){var e=new Date,r=this.id.readUInt32BE(0);return e.setTime(Math.floor(r)*1e3),e},t.createPk=function(){return new t},t.createFromTime=function(e){var r=ou.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r.writeUInt32BE(e,0),new t(r)},t.createFromHexString=function(e){if(typeof e>"u"||e!=null&&e.length!==24)throw new mh.BSONTypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new t(ou.Buffer.from(e,"hex"))},t.isValid=function(e){if(e==null)return!1;try{return new t(e),!0}catch{return!1}},t.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},t.fromExtendedJSON=function(e){return new t(e.$oid)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new ObjectId("'.concat(this.toHexString(),'")')},t.index=Math.floor(Math.random()*16777215),t}();s_.ObjectId=fo;Object.defineProperty(fo.prototype,"generate",{value:(0,wd.deprecate)(function(t){return fo.generate(t)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(fo.prototype,"getInc",{value:(0,wd.deprecate)(function(){return fo.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(fo.prototype,"get_inc",{value:(0,wd.deprecate)(function(){return fo.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(fo,"get_inc",{value:(0,wd.deprecate)(function(){return fo.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(fo.prototype,"_bsontype",{value:"ObjectID"})});var c_=h(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});a_.BSONRegExp=void 0;var u_=Ui();function bfe(t){return t.split("").sort().join("")}var YF=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this.pattern=e,this.options=bfe(r??""),this.pattern.indexOf("\0")!==-1)throw new u_.BSONError("BSON Regex patterns cannot contain null bytes, found: ".concat(JSON.stringify(this.pattern)));if(this.options.indexOf("\0")!==-1)throw new u_.BSONError("BSON Regex options cannot contain null bytes, found: ".concat(JSON.stringify(this.options)));for(var n=0;n<this.options.length;n++)if(!(this.options[n]==="i"||this.options[n]==="m"||this.options[n]==="x"||this.options[n]==="l"||this.options[n]==="s"||this.options[n]==="u"))throw new u_.BSONError("The regular expression option [".concat(this.options[n],"] is not supported"))}return t.parseOptions=function(e){return e?e.split("").sort().join(""):""},t.prototype.toExtendedJSON=function(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},t.fromExtendedJSON=function(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new t(e.$regex,t.parseOptions(e.$options));if("$regularExpression"in e)return new t(e.$regularExpression.pattern,t.parseOptions(e.$regularExpression.options));throw new u_.BSONTypeError("Unexpected BSONRegExp EJSON object form: ".concat(JSON.stringify(e)))},t}();a_.BSONRegExp=YF;Object.defineProperty(YF.prototype,"_bsontype",{value:"BSONRegExp"})});var d_=h(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_.BSONSymbol=void 0;var JF=function(){function t(e){if(!(this instanceof t))return new t(e);this.value=e}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t.prototype.inspect=function(){return'new BSONSymbol("'.concat(this.value,'")')},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(){return{$symbol:this.value}},t.fromExtendedJSON=function(e){return new t(e.$symbol)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t}();l_.BSONSymbol=JF;Object.defineProperty(JF.prototype,"_bsontype",{value:"Symbol"})});var yh=h(uu=>{"use strict";var Ife=uu&&uu.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(uu,"__esModule",{value:!0});uu.Timestamp=uu.LongWithoutOverridesClass=void 0;var Od=Fc(),Pfe=Ms();uu.LongWithoutOverridesClass=Od.Long;var Tfe=function(t){Ife(e,t);function e(r,n){var i=this;return i instanceof e?(Od.Long.isLong(r)?i=t.call(this,r.low,r.high,!0)||this:(0,Pfe.isObjectLike)(r)&&typeof r.t<"u"&&typeof r.i<"u"?i=t.call(this,r.i,r.t,!0)||this:i=t.call(this,r,n,!0)||this,Object.defineProperty(i,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),i):new e(r,n)}return e.prototype.toJSON=function(){return{$timestamp:this.toString()}},e.fromInt=function(r){return new e(Od.Long.fromInt(r,!0))},e.fromNumber=function(r){return new e(Od.Long.fromNumber(r,!0))},e.fromBits=function(r,n){return new e(r,n)},e.fromString=function(r,n){return new e(Od.Long.fromString(r,!0,n))},e.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},e.fromExtendedJSON=function(r){return new e(r.$timestamp)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Timestamp({ t: ".concat(this.getHighBits(),", i: ").concat(this.getLowBits()," })")},e.MAX_VALUE=Od.Long.MAX_UNSIGNED_VALUE,e}(uu.LongWithoutOverridesClass);uu.Timestamp=Tfe});var p_=h(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.EJSON=qc.isBSONType=void 0;var qb=yd(),jb=Hg(),gh=Gg(),XF=Jg(),Lb=Xg(),_h=Ui(),Ub=e_(),f_=Fc(),ZF=r_(),eB=i_(),$b=o_(),kb=Ms(),h_=c_(),tB=d_(),rB=yh();function nB(t){return(0,kb.isObjectLike)(t)&&Reflect.has(t,"_bsontype")&&typeof t._bsontype=="string"}qc.isBSONType=nB;var iB=2147483647,sB=-2147483648,oB=9223372036854776e3,uB=-9223372036854776e3,Dfe={$oid:$b.ObjectId,$binary:qb.Binary,$uuid:qb.Binary,$symbol:tB.BSONSymbol,$numberInt:Ub.Int32,$numberDecimal:XF.Decimal128,$numberDouble:Lb.Double,$numberLong:f_.Long,$minKey:eB.MinKey,$maxKey:ZF.MaxKey,$regex:h_.BSONRegExp,$regularExpression:h_.BSONRegExp,$timestamp:rB.Timestamp};function aB(t,e){if(e===void 0&&(e={}),typeof t=="number"){if(e.relaxed||e.legacy)return t;if(Math.floor(t)===t){if(t>=sB&&t<=iB)return new Ub.Int32(t);if(t>=uB&&t<=oB)return f_.Long.fromNumber(t)}return new Lb.Double(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;for(var r=Object.keys(t).filter(function(d){return d.startsWith("$")&&t[d]!=null}),n=0;n<r.length;n++){var i=Dfe[r[n]];if(i)return i.fromExtendedJSON(t,e)}if(t.$date!=null){var s=t.$date,o=new Date;return e.legacy?typeof s=="number"?o.setTime(s):typeof s=="string"&&o.setTime(Date.parse(s)):typeof s=="string"?o.setTime(Date.parse(s)):f_.Long.isLong(s)?o.setTime(s.toNumber()):typeof s=="number"&&e.relaxed&&o.setTime(s),o}if(t.$code!=null){var u=Object.assign({},t);return t.$scope&&(u.$scope=aB(t.$scope)),jb.Code.fromExtendedJSON(t)}if((0,gh.isDBRefLike)(t)||t.$dbPointer){var a=t.$ref?t:t.$dbPointer;if(a instanceof gh.DBRef)return a;var c=Object.keys(a).filter(function(d){return d.startsWith("$")}),l=!0;if(c.forEach(function(d){["$ref","$id","$db"].indexOf(d)===-1&&(l=!1)}),l)return gh.DBRef.fromExtendedJSON(a)}return t}function Rfe(t,e){return t.map(function(r,n){e.seenObjects.push({propertyName:"index ".concat(n),obj:null});try{return ma(r,e)}finally{e.seenObjects.pop()}})}function QF(t){var e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function ma(t,e){if((typeof t=="object"||typeof t=="function")&&t!==null){var r=e.seenObjects.findIndex(function(g){return g.obj===t});if(r!==-1){var n=e.seenObjects.map(function(g){return g.propertyName}),i=n.slice(0,r).map(function(g){return"".concat(g," -> ")}).join(""),s=n[r],o=" -> "+n.slice(r+1,n.length-1).map(function(g){return"".concat(g," -> ")}).join(""),u=n[n.length-1],a=" ".repeat(i.length+s.length/2),c="-".repeat(o.length+(s.length+u.length)/2-1);throw new _h.BSONTypeError(`Converting circular structure to EJSON:
`+"    ".concat(i).concat(s).concat(o).concat(u,`
`)+"    ".concat(a,"\\").concat(c,"/"))}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return Rfe(t,e);if(t===void 0)return null;if(t instanceof Date||(0,kb.isDate)(t)){var l=t.getTime(),d=l>-1&&l<2534023188e5;return e.legacy?e.relaxed&&d?{$date:t.getTime()}:{$date:QF(t)}:e.relaxed&&d?{$date:QF(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Math.floor(t)===t){var f=t>=sB&&t<=iB,p=t>=uB&&t<=oB;if(f)return{$numberInt:t.toString()};if(p)return{$numberLong:t.toString()}}return{$numberDouble:t.toString()}}if(t instanceof RegExp||(0,kb.isRegExp)(t)){var m=t.flags;if(m===void 0){var y=t.toString().match(/[gimuy]*$/);y&&(m=y[0])}var _=new h_.BSONRegExp(t.source,m);return _.toExtendedJSON(e)}return t!=null&&typeof t=="object"?xfe(t,e):t}var Nfe={Binary:function(t){return new qb.Binary(t.value(),t.sub_type)},Code:function(t){return new jb.Code(t.code,t.scope)},DBRef:function(t){return new gh.DBRef(t.collection||t.namespace,t.oid,t.db,t.fields)},Decimal128:function(t){return new XF.Decimal128(t.bytes)},Double:function(t){return new Lb.Double(t.value)},Int32:function(t){return new Ub.Int32(t.value)},Long:function(t){return f_.Long.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_)},MaxKey:function(){return new ZF.MaxKey},MinKey:function(){return new eB.MinKey},ObjectID:function(t){return new $b.ObjectId(t)},ObjectId:function(t){return new $b.ObjectId(t)},BSONRegExp:function(t){return new h_.BSONRegExp(t.pattern,t.options)},Symbol:function(t){return new tB.BSONSymbol(t.value)},Timestamp:function(t){return rB.Timestamp.fromBits(t.low,t.high)}};function xfe(t,e){if(t==null||typeof t!="object")throw new _h.BSONError("not an object instance");var r=t._bsontype;if(typeof r>"u"){var n={};for(var i in t){e.seenObjects.push({propertyName:i,obj:null});try{var s=ma(t[i],e);i==="__proto__"?Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):n[i]=s}finally{e.seenObjects.pop()}}return n}else if(nB(t)){var o=t;if(typeof o.toExtendedJSON!="function"){var u=Nfe[t._bsontype];if(!u)throw new _h.BSONTypeError("Unrecognized or invalid _bsontype: "+t._bsontype);o=u(o)}return r==="Code"&&o.scope?o=new jb.Code(o.code,ma(o.scope,e)):r==="DBRef"&&o.oid&&(o=new gh.DBRef(ma(o.collection,e),ma(o.oid,e),ma(o.db,e),ma(o.fields,e))),o.toExtendedJSON(e)}else throw new _h.BSONError("_bsontype must be a string, but was: "+typeof r)}var Mfe;(function(t){function e(s,o){var u=Object.assign({},{relaxed:!0,legacy:!1},o);return typeof u.relaxed=="boolean"&&(u.strict=!u.relaxed),typeof u.strict=="boolean"&&(u.relaxed=!u.strict),JSON.parse(s,function(a,c){if(a.indexOf("\0")!==-1)throw new _h.BSONError("BSON Document field names cannot contain null bytes, found: ".concat(JSON.stringify(a)));return aB(c,u)})}t.parse=e;function r(s,o,u,a){u!=null&&typeof u=="object"&&(a=u,u=0),o!=null&&typeof o=="object"&&!Array.isArray(o)&&(a=o,o=void 0,u=0);var c=Object.assign({relaxed:!0,legacy:!1},a,{seenObjects:[{propertyName:"(root)",obj:null}]}),l=ma(s,c);return JSON.stringify(l,o,u)}t.stringify=r;function n(s,o){return o=o||{},JSON.parse(r(s,o))}t.serialize=n;function i(s,o){return o=o||{},e(JSON.stringify(s),o)}t.deserialize=i})(Mfe=qc.EJSON||(qc.EJSON={}))});var Vb=h(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.Map=void 0;var Ffe=Tb(),zb;Cd.Map=zb;var cB=(0,Ffe.getGlobal)();cB.Map?Cd.Map=zb=cB.Map:Cd.Map=zb=function(){function t(e){e===void 0&&(e=[]),this._keys=[],this._values={};for(var r=0;r<e.length;r++)if(e[r]!=null){var n=e[r],i=n[0],s=n[1];this._keys.push(i),this._values[i]={v:s,i:this._keys.length-1}}}return t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var r=this._values[e];return r==null?!1:(delete this._values[e],this._keys.splice(r.i,1),!0)},t.prototype.entries=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?[n,e._values[n].v]:void 0,done:n===void 0}}}},t.prototype.forEach=function(e,r){r=r||this;for(var n=0;n<this._keys.length;n++){var i=this._keys[n];e.call(r,this._values[i].v,i,r)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return this._values[e]!=null},t.prototype.keys=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?n:void 0,done:n===void 0}}}},t.prototype.set=function(e,r){return this._values[e]?(this._values[e].v=r,this):(this._keys.push(e),this._values[e]={v:r,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,r=0;return{next:function(){var n=e._keys[r++];return{value:n!==void 0?e._values[n].v:void 0,done:n===void 0}}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),t}()});var dB=h(y_=>{"use strict";Object.defineProperty(y_,"__esModule",{value:!0});y_.calculateObjectSize=void 0;var Xe=require("buffer"),Bfe=yd(),m_=pd(),vd=Ms();function Eh(t,e,r){var n=5;if(Array.isArray(t))for(var i=0;i<t.length;i++)n+=lB(i.toString(),t[i],e,!0,r);else{typeof t?.toBSON=="function"&&(t=t.toBSON());for(var s in t)n+=lB(s,t[s],e,!1,r)}return n}y_.calculateObjectSize=Eh;function lB(t,e,r,n,i){switch(r===void 0&&(r=!1),n===void 0&&(n=!1),i===void 0&&(i=!1),typeof e?.toBSON=="function"&&(e=e.toBSON()),typeof e){case"string":return 1+Xe.Buffer.byteLength(t,"utf8")+1+4+Xe.Buffer.byteLength(e,"utf8")+1;case"number":return Math.floor(e)===e&&e>=m_.JS_INT_MIN&&e<=m_.JS_INT_MAX&&e>=m_.BSON_INT32_MIN&&e<=m_.BSON_INT32_MAX?(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+(4+1):(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+(8+1);case"undefined":return n||!i?(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+1:0;case"boolean":return(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+(1+1);case"object":if(e==null||e._bsontype==="MinKey"||e._bsontype==="MaxKey")return(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+1;if(e._bsontype==="ObjectId"||e._bsontype==="ObjectID")return(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+(12+1);if(e instanceof Date||(0,vd.isDate)(e))return(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+(8+1);if(ArrayBuffer.isView(e)||e instanceof ArrayBuffer||(0,vd.isAnyArrayBuffer)(e))return(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+(1+4+1)+e.byteLength;if(e._bsontype==="Long"||e._bsontype==="Double"||e._bsontype==="Timestamp")return(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+(8+1);if(e._bsontype==="Decimal128")return(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+(16+1);if(e._bsontype==="Code")return e.scope!=null&&Object.keys(e.scope).length>0?(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+1+4+4+Xe.Buffer.byteLength(e.code.toString(),"utf8")+1+Eh(e.scope,r,i):(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+1+4+Xe.Buffer.byteLength(e.code.toString(),"utf8")+1;if(e._bsontype==="Binary"){var s=e;return s.sub_type===Bfe.Binary.SUBTYPE_BYTE_ARRAY?(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+(s.position+1+4+1+4):(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+(s.position+1+4+1)}else{if(e._bsontype==="Symbol")return(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+Xe.Buffer.byteLength(e.value,"utf8")+4+1+1;if(e._bsontype==="DBRef"){var o=Object.assign({$ref:e.collection,$id:e.oid},e.fields);return e.db!=null&&(o.$db=e.db),(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+1+Eh(o,r,i)}else return e instanceof RegExp||(0,vd.isRegExp)(e)?(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+1+Xe.Buffer.byteLength(e.source,"utf8")+1+(e.global?1:0)+(e.ignoreCase?1:0)+(e.multiline?1:0)+1:e._bsontype==="BSONRegExp"?(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+1+Xe.Buffer.byteLength(e.pattern,"utf8")+1+Xe.Buffer.byteLength(e.options,"utf8")+1:(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+Eh(e,r,i)+1}case"function":if(e instanceof RegExp||(0,vd.isRegExp)(e)||String.call(e)==="[object RegExp]")return(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+1+Xe.Buffer.byteLength(e.source,"utf8")+1+(e.global?1:0)+(e.ignoreCase?1:0)+(e.multiline?1:0)+1;if(r&&e.scope!=null&&Object.keys(e.scope).length>0)return(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+1+4+4+Xe.Buffer.byteLength((0,vd.normalizedFunctionString)(e),"utf8")+1+Eh(e.scope,r,i);if(r)return(t!=null?Xe.Buffer.byteLength(t,"utf8")+1:0)+1+4+Xe.Buffer.byteLength((0,vd.normalizedFunctionString)(e),"utf8")+1}return 0}});var fB=h(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});g_.validateUtf8=void 0;var qfe=128,$fe=192,kfe=224,jfe=240,Lfe=248,Ufe=192,zfe=224,Vfe=240,Wfe=128;function Hfe(t,e,r){for(var n=0,i=e;i<r;i+=1){var s=t[i];if(n){if((s&$fe)!==Wfe)return!1;n-=1}else if(s&qfe)if((s&kfe)===Ufe)n=1;else if((s&jfe)===zfe)n=2;else if((s&Lfe)===Vfe)n=3;else return!1}return!n}g_.validateUtf8=Hfe});var gB=h(Id=>{"use strict";var bd=Id&&Id.__assign||function(){return bd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},bd.apply(this,arguments)};Object.defineProperty(Id,"__esModule",{value:!0});Id.deserialize=void 0;var __=require("buffer"),Ah=yd(),hB=Hg(),St=pd(),Wb=Gg(),Gfe=Jg(),Kfe=Xg(),$e=Ui(),Yfe=e_(),w_=Fc(),Jfe=r_(),Qfe=i_(),pB=o_(),Xfe=c_(),Zfe=d_(),ehe=yh(),yB=fB(),the=w_.Long.fromNumber(St.JS_INT_MAX),rhe=w_.Long.fromNumber(St.JS_INT_MIN),mB={};function nhe(t,e,r){e=e??{};var n=e&&e.index?e.index:0,i=t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24;if(i<5)throw new $e.BSONError("bson size must be >= 5, is ".concat(i));if(e.allowObjectSmallerThanBufferSize&&t.length<i)throw new $e.BSONError("buffer length ".concat(t.length," must be >= bson size ").concat(i));if(!e.allowObjectSmallerThanBufferSize&&t.length!==i)throw new $e.BSONError("buffer length ".concat(t.length," must === bson size ").concat(i));if(i+n>t.byteLength)throw new $e.BSONError("(bson size ".concat(i," + options.index ").concat(n," must be <= buffer length ").concat(t.byteLength,")"));if(t[n+i-1]!==0)throw new $e.BSONError("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return S_(t,n,e,r)}Id.deserialize=nhe;var ihe=/^\$ref$|^\$id$|^\$db$/;function S_(t,e,r,n){n===void 0&&(n=!1);var i=r.evalFunctions==null?!1:r.evalFunctions,s=r.cacheFunctions==null?!1:r.cacheFunctions,o=r.fieldsAsRaw==null?null:r.fieldsAsRaw,u=r.raw==null?!1:r.raw,a=typeof r.bsonRegExp=="boolean"?r.bsonRegExp:!1,c=r.promoteBuffers==null?!1:r.promoteBuffers,l=r.promoteLongs==null?!0:r.promoteLongs,d=r.promoteValues==null?!0:r.promoteValues,f=r.validation==null?{utf8:!0}:r.validation,p=!0,m,y=new Set,_=f.utf8;if(typeof _=="boolean")m=_;else{p=!1;var g=Object.keys(_).map(function(fd){return _[fd]});if(g.length===0)throw new $e.BSONError("UTF-8 validation setting cannot be empty");if(typeof g[0]!="boolean")throw new $e.BSONError("Invalid UTF-8 validation option, must specify boolean values");if(m=g[0],!g.every(function(fd){return fd===m}))throw new $e.BSONError("Invalid UTF-8 validation option - keys must be all true or all false")}if(!p)for(var E=0,O=Object.keys(_);E<O.length;E++){var w=O[E];y.add(w)}var b=e;if(t.length<5)throw new $e.BSONError("corrupt bson message < 5 bytes long");var M=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(M<5||M>t.length)throw new $e.BSONError("corrupt bson message");for(var T=n?[]:{},G=0,ee=!1,J=n?!1:null,k=new DataView(t.buffer,t.byteOffset,t.byteLength);!ee;){var q=t[e++];if(q===0)break;for(var U=e;t[U]!==0&&U<t.length;)U++;if(U>=t.byteLength)throw new $e.BSONError("Bad BSON Document: illegal CString");var ue=n?G++:t.toString("utf8",e,U),xt=!0;p||y.has(ue)?xt=m:xt=!m,J!==!1&&ue[0]==="$"&&(J=ihe.test(ue));var Y=void 0;if(e=U+1,q===St.BSON_DATA_STRING){var te=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(te<=0||te>t.length-e||t[e+te-1]!==0)throw new $e.BSONError("bad string length in bson");Y=A_(t,e,e+te-1,xt),e=e+te}else if(q===St.BSON_DATA_OID){var ht=__.Buffer.alloc(12);t.copy(ht,0,e,e+12),Y=new pB.ObjectId(ht),e=e+12}else if(q===St.BSON_DATA_INT&&d===!1)Y=new Yfe.Int32(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24);else if(q===St.BSON_DATA_INT)Y=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;else if(q===St.BSON_DATA_NUMBER&&d===!1)Y=new Kfe.Double(k.getFloat64(e,!0)),e=e+8;else if(q===St.BSON_DATA_NUMBER)Y=k.getFloat64(e,!0),e=e+8;else if(q===St.BSON_DATA_DATE){var _e=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,rt=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;Y=new Date(new w_.Long(_e,rt).toNumber())}else if(q===St.BSON_DATA_BOOLEAN){if(t[e]!==0&&t[e]!==1)throw new $e.BSONError("illegal boolean type value");Y=t[e++]===1}else if(q===St.BSON_DATA_OBJECT){var Tc=e,Kn=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24;if(Kn<=0||Kn>t.length-e)throw new $e.BSONError("bad embedded document length in bson");if(u)Y=t.slice(e,e+Kn);else{var Rg=r;p||(Rg=bd(bd({},r),{validation:{utf8:xt}})),Y=S_(t,Tc,Rg,!1)}e=e+Kn}else if(q===St.BSON_DATA_ARRAY){var Tc=e,Kn=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,aa=r,Gv=e+Kn;if(o&&o[ue]){aa={};for(var Ng in r)aa[Ng]=r[Ng];aa.raw=!0}if(p||(aa=bd(bd({},aa),{validation:{utf8:xt}})),Y=S_(t,Tc,aa,!0),e=e+Kn,t[e-1]!==0)throw new $e.BSONError("invalid array terminator byte");if(e!==Gv)throw new $e.BSONError("corrupted array bson")}else if(q===St.BSON_DATA_UNDEFINED)Y=void 0;else if(q===St.BSON_DATA_NULL)Y=null;else if(q===St.BSON_DATA_LONG){var _e=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,rt=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,ca=new w_.Long(_e,rt);l&&d===!0?Y=ca.lessThanOrEqual(the)&&ca.greaterThanOrEqual(rhe)?ca.toNumber():ca:Y=ca}else if(q===St.BSON_DATA_DECIMAL128){var th=__.Buffer.alloc(16);t.copy(th,0,e,e+16),e=e+16;var Dc=new Gfe.Decimal128(th);"toObject"in Dc&&typeof Dc.toObject=="function"?Y=Dc.toObject():Y=Dc}else if(q===St.BSON_DATA_BINARY){var _r=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,Rc=_r,oo=t[e++];if(_r<0)throw new $e.BSONError("Negative binary type element size found");if(_r>t.byteLength)throw new $e.BSONError("Binary type size larger than document size");if(t.slice!=null){if(oo===Ah.Binary.SUBTYPE_BYTE_ARRAY){if(_r=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,_r<0)throw new $e.BSONError("Negative binary type element size found for subtype 0x02");if(_r>Rc-4)throw new $e.BSONError("Binary type with subtype 0x02 contains too long binary size");if(_r<Rc-4)throw new $e.BSONError("Binary type with subtype 0x02 contains too short binary size")}c&&d?Y=t.slice(e,e+_r):(Y=new Ah.Binary(t.slice(e,e+_r),oo),oo===St.BSON_BINARY_SUBTYPE_UUID_NEW&&(Y=Y.toUUID()))}else{var rh=__.Buffer.alloc(_r);if(oo===Ah.Binary.SUBTYPE_BYTE_ARRAY){if(_r=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,_r<0)throw new $e.BSONError("Negative binary type element size found for subtype 0x02");if(_r>Rc-4)throw new $e.BSONError("Binary type with subtype 0x02 contains too long binary size");if(_r<Rc-4)throw new $e.BSONError("Binary type with subtype 0x02 contains too short binary size")}for(U=0;U<_r;U++)rh[U]=t[e+U];c&&d?Y=rh:oo===St.BSON_BINARY_SUBTYPE_UUID_NEW?Y=new Ah.Binary(t.slice(e,e+_r),oo).toUUID():Y=new Ah.Binary(t.slice(e,e+_r),oo)}e=e+_r}else if(q===St.BSON_DATA_REGEXP&&a===!1){for(U=e;t[U]!==0&&U<t.length;)U++;if(U>=t.length)throw new $e.BSONError("Bad BSON Document: illegal CString");var ld=t.toString("utf8",e,U);for(e=U+1,U=e;t[U]!==0&&U<t.length;)U++;if(U>=t.length)throw new $e.BSONError("Bad BSON Document: illegal CString");var la=t.toString("utf8",e,U);e=U+1;var Nc=new Array(la.length);for(U=0;U<la.length;U++)switch(la[U]){case"m":Nc[U]="m";break;case"s":Nc[U]="g";break;case"i":Nc[U]="i";break}Y=new RegExp(ld,Nc.join(""))}else if(q===St.BSON_DATA_REGEXP&&a===!0){for(U=e;t[U]!==0&&U<t.length;)U++;if(U>=t.length)throw new $e.BSONError("Bad BSON Document: illegal CString");var ld=t.toString("utf8",e,U);for(e=U+1,U=e;t[U]!==0&&U<t.length;)U++;if(U>=t.length)throw new $e.BSONError("Bad BSON Document: illegal CString");var la=t.toString("utf8",e,U);e=U+1,Y=new Xfe.BSONRegExp(ld,la)}else if(q===St.BSON_DATA_SYMBOL){var te=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(te<=0||te>t.length-e||t[e+te-1]!==0)throw new $e.BSONError("bad string length in bson");var nh=A_(t,e,e+te-1,xt);Y=d?nh:new Zfe.BSONSymbol(nh),e=e+te}else if(q===St.BSON_DATA_TIMESTAMP){var _e=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,rt=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;Y=new ehe.Timestamp(_e,rt)}else if(q===St.BSON_DATA_MIN_KEY)Y=new Qfe.MinKey;else if(q===St.BSON_DATA_MAX_KEY)Y=new Jfe.MaxKey;else if(q===St.BSON_DATA_CODE){var te=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(te<=0||te>t.length-e||t[e+te-1]!==0)throw new $e.BSONError("bad string length in bson");var uo=A_(t,e,e+te-1,xt);i?s?Y=E_(uo,mB,T):Y=E_(uo):Y=new hB.Code(uo),e=e+te}else if(q===St.BSON_DATA_CODE_W_SCOPE){var dd=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(dd<4+4+4+1)throw new $e.BSONError("code_w_scope total size shorter minimum expected length");var te=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(te<=0||te>t.length-e||t[e+te-1]!==0)throw new $e.BSONError("bad string length in bson");var uo=A_(t,e,e+te-1,xt);e=e+te;var Tc=e,Kn=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,ih=S_(t,Tc,r,!1);if(e=e+Kn,dd<4+4+Kn+te)throw new $e.BSONError("code_w_scope total size is too short, truncating scope");if(dd>4+4+Kn+te)throw new $e.BSONError("code_w_scope total size is too long, clips outer document");i?(s?Y=E_(uo,mB,T):Y=E_(uo),Y.scope=ih):Y=new hB.Code(uo,ih)}else if(q===St.BSON_DATA_DBPOINTER){var te=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(te<=0||te>t.length-e||t[e+te-1]!==0)throw new $e.BSONError("bad string length in bson");if(f!=null&&f.utf8&&!(0,yB.validateUtf8)(t,e,e+te-1))throw new $e.BSONError("Invalid UTF-8 string in BSON document");var xg=t.toString("utf8",e,e+te-1);e=e+te;var oh=__.Buffer.alloc(12);t.copy(oh,0,e,e+12);var ht=new pB.ObjectId(oh);e=e+12,Y=new Wb.DBRef(xg,ht)}else throw new $e.BSONError("Detected unknown BSON type ".concat(q.toString(16),' for fieldname "').concat(ue,'"'));ue==="__proto__"?Object.defineProperty(T,ue,{value:Y,writable:!0,enumerable:!0,configurable:!0}):T[ue]=Y}if(M!==e-b)throw n?new $e.BSONError("corrupt array bson"):new $e.BSONError("corrupt object bson");if(!J)return T;if((0,Wb.isDBRefLike)(T)){var xc=Object.assign({},T);return delete xc.$ref,delete xc.$id,delete xc.$db,new Wb.DBRef(T.$ref,T.$id,T.$db,xc)}return T}function E_(t,e,r){return e?(e[t]==null&&(e[t]=new Function(t)),e[t].bind(r)):new Function(t)}function A_(t,e,r,n){var i=t.toString("utf8",e,r);if(n){for(var s=0;s<i.length;s++)if(i.charCodeAt(s)===65533){if(!(0,yB.validateUtf8)(t,e,r))throw new $e.BSONError("Invalid UTF-8 string in BSON document");break}}return i}});var SB=h(v_=>{"use strict";Object.defineProperty(v_,"__esModule",{value:!0});v_.serializeInto=void 0;var _B=yd(),gt=pd(),she=fh(),au=Ui(),ohe=p_(),uhe=Fc(),ahe=Vb(),Qn=Ms(),O_=/\x00/,EB=new Set(["$db","$ref","$id","$clusterTime"]);function Hb(t,e,r,n,i){t[n++]=gt.BSON_DATA_STRING;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");n=n+s+1,t[n-1]=0;var o=t.write(r,n+4,void 0,"utf8");return t[n+3]=o+1>>24&255,t[n+2]=o+1>>16&255,t[n+1]=o+1>>8&255,t[n]=o+1&255,n=n+4+o,t[n++]=0,n}var wh=new Uint8Array(8),AB=new DataView(wh.buffer,wh.byteOffset,wh.byteLength);function Gb(t,e,r,n,i){if(Number.isInteger(r)&&r>=gt.BSON_INT32_MIN&&r<=gt.BSON_INT32_MAX){t[n++]=gt.BSON_DATA_INT;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");n=n+s,t[n++]=0,t[n++]=r&255,t[n++]=r>>8&255,t[n++]=r>>16&255,t[n++]=r>>24&255}else{t[n++]=gt.BSON_DATA_NUMBER;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");n=n+s,t[n++]=0,AB.setFloat64(0,r,!0),t.set(wh,n),n=n+8}return n}function Sh(t,e,r,n,i){t[n++]=gt.BSON_DATA_NULL;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");return n=n+s,t[n++]=0,n}function Kb(t,e,r,n,i){t[n++]=gt.BSON_DATA_BOOLEAN;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");return n=n+s,t[n++]=0,t[n++]=r?1:0,n}function Yb(t,e,r,n,i){t[n++]=gt.BSON_DATA_DATE;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");n=n+s,t[n++]=0;var o=uhe.Long.fromNumber(r.getTime()),u=o.getLowBits(),a=o.getHighBits();return t[n++]=u&255,t[n++]=u>>8&255,t[n++]=u>>16&255,t[n++]=u>>24&255,t[n++]=a&255,t[n++]=a>>8&255,t[n++]=a>>16&255,t[n++]=a>>24&255,n}function Jb(t,e,r,n,i){t[n++]=gt.BSON_DATA_REGEXP;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");if(n=n+s,t[n++]=0,r.source&&r.source.match(O_)!=null)throw Error("value "+r.source+" must not contain null bytes");return n=n+t.write(r.source,n,void 0,"utf8"),t[n++]=0,r.ignoreCase&&(t[n++]=105),r.global&&(t[n++]=115),r.multiline&&(t[n++]=109),t[n++]=0,n}function Qb(t,e,r,n,i){t[n++]=gt.BSON_DATA_REGEXP;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");if(n=n+s,t[n++]=0,r.pattern.match(O_)!=null)throw Error("pattern "+r.pattern+" must not contain null bytes");return n=n+t.write(r.pattern,n,void 0,"utf8"),t[n++]=0,n=n+t.write(r.options.split("").sort().join(""),n,void 0,"utf8"),t[n++]=0,n}function Xb(t,e,r,n,i){r===null?t[n++]=gt.BSON_DATA_NULL:r._bsontype==="MinKey"?t[n++]=gt.BSON_DATA_MIN_KEY:t[n++]=gt.BSON_DATA_MAX_KEY;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");return n=n+s,t[n++]=0,n}function Zb(t,e,r,n,i){t[n++]=gt.BSON_DATA_OID;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");if(n=n+s,t[n++]=0,typeof r.id=="string")t.write(r.id,n,void 0,"binary");else if((0,Qn.isUint8Array)(r.id))t.set(r.id.subarray(0,12),n);else throw new au.BSONTypeError("object ["+JSON.stringify(r)+"] is not a valid ObjectId");return n+12}function e9(t,e,r,n,i){t[n++]=gt.BSON_DATA_BINARY;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");n=n+s,t[n++]=0;var o=r.length;return t[n++]=o&255,t[n++]=o>>8&255,t[n++]=o>>16&255,t[n++]=o>>24&255,t[n++]=gt.BSON_BINARY_SUBTYPE_DEFAULT,t.set((0,she.ensureBuffer)(r),n),n=n+o,n}function t9(t,e,r,n,i,s,o,u,a,c){i===void 0&&(i=!1),s===void 0&&(s=0),o===void 0&&(o=!1),u===void 0&&(u=!0),a===void 0&&(a=!1),c===void 0&&(c=[]);for(var l=0;l<c.length;l++)if(c[l]===r)throw new au.BSONError("cyclic dependency detected");c.push(r),t[n++]=Array.isArray(r)?gt.BSON_DATA_ARRAY:gt.BSON_DATA_OBJECT;var d=a?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");n=n+d,t[n++]=0;var f=C_(t,r,i,n,s+1,o,u,c);return c.pop(),f}function r9(t,e,r,n,i){t[n++]=gt.BSON_DATA_DECIMAL128;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");return n=n+s,t[n++]=0,t.set(r.bytes.subarray(0,16),n),n+16}function n9(t,e,r,n,i){t[n++]=r._bsontype==="Long"?gt.BSON_DATA_LONG:gt.BSON_DATA_TIMESTAMP;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");n=n+s,t[n++]=0;var o=r.getLowBits(),u=r.getHighBits();return t[n++]=o&255,t[n++]=o>>8&255,t[n++]=o>>16&255,t[n++]=o>>24&255,t[n++]=u&255,t[n++]=u>>8&255,t[n++]=u>>16&255,t[n++]=u>>24&255,n}function i9(t,e,r,n,i){r=r.valueOf(),t[n++]=gt.BSON_DATA_INT;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");return n=n+s,t[n++]=0,t[n++]=r&255,t[n++]=r>>8&255,t[n++]=r>>16&255,t[n++]=r>>24&255,n}function s9(t,e,r,n,i){t[n++]=gt.BSON_DATA_NUMBER;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");return n=n+s,t[n++]=0,AB.setFloat64(0,r.value,!0),t.set(wh,n),n=n+8,n}function o9(t,e,r,n,i,s,o){i===void 0&&(i=!1),s===void 0&&(s=0),t[n++]=gt.BSON_DATA_CODE;var u=o?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");n=n+u,t[n++]=0;var a=(0,Qn.normalizedFunctionString)(r),c=t.write(a,n+4,void 0,"utf8")+1;return t[n]=c&255,t[n+1]=c>>8&255,t[n+2]=c>>16&255,t[n+3]=c>>24&255,n=n+4+c-1,t[n++]=0,n}function u9(t,e,r,n,i,s,o,u,a){if(i===void 0&&(i=!1),s===void 0&&(s=0),o===void 0&&(o=!1),u===void 0&&(u=!0),a===void 0&&(a=!1),r.scope&&typeof r.scope=="object"){t[n++]=gt.BSON_DATA_CODE_W_SCOPE;var c=a?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");n=n+c,t[n++]=0;var l=n,d=typeof r.code=="string"?r.code:r.code.toString();n=n+4;var f=t.write(d,n+4,void 0,"utf8")+1;t[n]=f&255,t[n+1]=f>>8&255,t[n+2]=f>>16&255,t[n+3]=f>>24&255,t[n+4+f-1]=0,n=n+f+4;var p=C_(t,r.scope,i,n,s+1,o,u);n=p-1;var m=p-l;t[l++]=m&255,t[l++]=m>>8&255,t[l++]=m>>16&255,t[l++]=m>>24&255,t[n++]=0}else{t[n++]=gt.BSON_DATA_CODE;var c=a?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");n=n+c,t[n++]=0;var d=r.code.toString(),y=t.write(d,n+4,void 0,"utf8")+1;t[n]=y&255,t[n+1]=y>>8&255,t[n+2]=y>>16&255,t[n+3]=y>>24&255,n=n+4+y-1,t[n++]=0}return n}function a9(t,e,r,n,i){t[n++]=gt.BSON_DATA_BINARY;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");n=n+s,t[n++]=0;var o=r.value(!0),u=r.position;return r.sub_type===_B.Binary.SUBTYPE_BYTE_ARRAY&&(u=u+4),t[n++]=u&255,t[n++]=u>>8&255,t[n++]=u>>16&255,t[n++]=u>>24&255,t[n++]=r.sub_type,r.sub_type===_B.Binary.SUBTYPE_BYTE_ARRAY&&(u=u-4,t[n++]=u&255,t[n++]=u>>8&255,t[n++]=u>>16&255,t[n++]=u>>24&255),t.set(o,n),n=n+r.position,n}function c9(t,e,r,n,i){t[n++]=gt.BSON_DATA_SYMBOL;var s=i?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");n=n+s,t[n++]=0;var o=t.write(r.value,n+4,void 0,"utf8")+1;return t[n]=o&255,t[n+1]=o>>8&255,t[n+2]=o>>16&255,t[n+3]=o>>24&255,n=n+4+o-1,t[n++]=0,n}function l9(t,e,r,n,i,s,o){t[n++]=gt.BSON_DATA_OBJECT;var u=o?t.write(e,n,void 0,"ascii"):t.write(e,n,void 0,"utf8");n=n+u,t[n++]=0;var a=n,c={$ref:r.collection||r.namespace,$id:r.oid};r.db!=null&&(c.$db=r.db),c=Object.assign(c,r.fields);var l=C_(t,c,!1,n,i+1,s),d=l-a;return t[a++]=d&255,t[a++]=d>>8&255,t[a++]=d>>16&255,t[a++]=d>>24&255,l}function C_(t,e,r,n,i,s,o,u){r===void 0&&(r=!1),n===void 0&&(n=0),i===void 0&&(i=0),s===void 0&&(s=!1),o===void 0&&(o=!0),u===void 0&&(u=[]),n=n||0,u=u||[],u.push(e);var a=n+4;if(Array.isArray(e))for(var c=0;c<e.length;c++){var l="".concat(c),d=e[c];if(typeof d?.toBSON=="function"&&(d=d.toBSON()),typeof d=="string")a=Hb(t,l,d,a,!0);else if(typeof d=="number")a=Gb(t,l,d,a,!0);else{if(typeof d=="bigint")throw new au.BSONTypeError("Unsupported type BigInt, please use Decimal128");if(typeof d=="boolean")a=Kb(t,l,d,a,!0);else if(d instanceof Date||(0,Qn.isDate)(d))a=Yb(t,l,d,a,!0);else if(d===void 0)a=Sh(t,l,d,a,!0);else if(d===null)a=Sh(t,l,d,a,!0);else if(d._bsontype==="ObjectId"||d._bsontype==="ObjectID")a=Zb(t,l,d,a,!0);else if((0,Qn.isUint8Array)(d))a=e9(t,l,d,a,!0);else if(d instanceof RegExp||(0,Qn.isRegExp)(d))a=Jb(t,l,d,a,!0);else if(typeof d=="object"&&d._bsontype==null)a=t9(t,l,d,a,r,i,s,o,!0,u);else if(typeof d=="object"&&(0,ohe.isBSONType)(d)&&d._bsontype==="Decimal128")a=r9(t,l,d,a,!0);else if(d._bsontype==="Long"||d._bsontype==="Timestamp")a=n9(t,l,d,a,!0);else if(d._bsontype==="Double")a=s9(t,l,d,a,!0);else if(typeof d=="function"&&s)a=o9(t,l,d,a,r,i,!0);else if(d._bsontype==="Code")a=u9(t,l,d,a,r,i,s,o,!0);else if(d._bsontype==="Binary")a=a9(t,l,d,a,!0);else if(d._bsontype==="Symbol")a=c9(t,l,d,a,!0);else if(d._bsontype==="DBRef")a=l9(t,l,d,a,i,s,!0);else if(d._bsontype==="BSONRegExp")a=Qb(t,l,d,a,!0);else if(d._bsontype==="Int32")a=i9(t,l,d,a,!0);else if(d._bsontype==="MinKey"||d._bsontype==="MaxKey")a=Xb(t,l,d,a,!0);else if(typeof d._bsontype<"u")throw new au.BSONTypeError("Unrecognized or invalid _bsontype: ".concat(String(d._bsontype)))}}else if(e instanceof ahe.Map||(0,Qn.isMap)(e))for(var f=e.entries(),p=!1;!p;){var m=f.next();if(p=!!m.done,!p){var l=m.value[0],d=m.value[1],y=typeof d;if(typeof l=="string"&&!EB.has(l)){if(l.match(O_)!=null)throw Error("key "+l+" must not contain null bytes");if(r){if(l[0]==="$")throw Error("key "+l+" must not start with '$'");if(~l.indexOf("."))throw Error("key "+l+" must not contain '.'")}}if(y==="string")a=Hb(t,l,d,a);else if(y==="number")a=Gb(t,l,d,a);else{if(y==="bigint"||(0,Qn.isBigInt64Array)(d)||(0,Qn.isBigUInt64Array)(d))throw new au.BSONTypeError("Unsupported type BigInt, please use Decimal128");if(y==="boolean")a=Kb(t,l,d,a);else if(d instanceof Date||(0,Qn.isDate)(d))a=Yb(t,l,d,a);else if(d===null||d===void 0&&o===!1)a=Sh(t,l,d,a);else if(d._bsontype==="ObjectId"||d._bsontype==="ObjectID")a=Zb(t,l,d,a);else if((0,Qn.isUint8Array)(d))a=e9(t,l,d,a);else if(d instanceof RegExp||(0,Qn.isRegExp)(d))a=Jb(t,l,d,a);else if(y==="object"&&d._bsontype==null)a=t9(t,l,d,a,r,i,s,o,!1,u);else if(y==="object"&&d._bsontype==="Decimal128")a=r9(t,l,d,a);else if(d._bsontype==="Long"||d._bsontype==="Timestamp")a=n9(t,l,d,a);else if(d._bsontype==="Double")a=s9(t,l,d,a);else if(d._bsontype==="Code")a=u9(t,l,d,a,r,i,s,o);else if(typeof d=="function"&&s)a=o9(t,l,d,a,r,i,s);else if(d._bsontype==="Binary")a=a9(t,l,d,a);else if(d._bsontype==="Symbol")a=c9(t,l,d,a);else if(d._bsontype==="DBRef")a=l9(t,l,d,a,i,s);else if(d._bsontype==="BSONRegExp")a=Qb(t,l,d,a);else if(d._bsontype==="Int32")a=i9(t,l,d,a);else if(d._bsontype==="MinKey"||d._bsontype==="MaxKey")a=Xb(t,l,d,a);else if(typeof d._bsontype<"u")throw new au.BSONTypeError("Unrecognized or invalid _bsontype: ".concat(String(d._bsontype)))}}}else{if(typeof e?.toBSON=="function"&&(e=e.toBSON(),e!=null&&typeof e!="object"))throw new au.BSONTypeError("toBSON function did not return an object");for(var l in e){var d=e[l];typeof d?.toBSON=="function"&&(d=d.toBSON());var y=typeof d;if(typeof l=="string"&&!EB.has(l)){if(l.match(O_)!=null)throw Error("key "+l+" must not contain null bytes");if(r){if(l[0]==="$")throw Error("key "+l+" must not start with '$'");if(~l.indexOf("."))throw Error("key "+l+" must not contain '.'")}}if(y==="string")a=Hb(t,l,d,a);else if(y==="number")a=Gb(t,l,d,a);else{if(y==="bigint")throw new au.BSONTypeError("Unsupported type BigInt, please use Decimal128");if(y==="boolean")a=Kb(t,l,d,a);else if(d instanceof Date||(0,Qn.isDate)(d))a=Yb(t,l,d,a);else if(d===void 0)o===!1&&(a=Sh(t,l,d,a));else if(d===null)a=Sh(t,l,d,a);else if(d._bsontype==="ObjectId"||d._bsontype==="ObjectID")a=Zb(t,l,d,a);else if((0,Qn.isUint8Array)(d))a=e9(t,l,d,a);else if(d instanceof RegExp||(0,Qn.isRegExp)(d))a=Jb(t,l,d,a);else if(y==="object"&&d._bsontype==null)a=t9(t,l,d,a,r,i,s,o,!1,u);else if(y==="object"&&d._bsontype==="Decimal128")a=r9(t,l,d,a);else if(d._bsontype==="Long"||d._bsontype==="Timestamp")a=n9(t,l,d,a);else if(d._bsontype==="Double")a=s9(t,l,d,a);else if(d._bsontype==="Code")a=u9(t,l,d,a,r,i,s,o);else if(typeof d=="function"&&s)a=o9(t,l,d,a,r,i,s);else if(d._bsontype==="Binary")a=a9(t,l,d,a);else if(d._bsontype==="Symbol")a=c9(t,l,d,a);else if(d._bsontype==="DBRef")a=l9(t,l,d,a,i,s);else if(d._bsontype==="BSONRegExp")a=Qb(t,l,d,a);else if(d._bsontype==="Int32")a=i9(t,l,d,a);else if(d._bsontype==="MinKey"||d._bsontype==="MaxKey")a=Xb(t,l,d,a);else if(typeof d._bsontype<"u")throw new au.BSONTypeError("Unrecognized or invalid _bsontype: ".concat(String(d._bsontype)))}}}u.pop(),t[a++]=0;var _=a-n;return t[n++]=_&255,t[n++]=_>>8&255,t[n++]=_>>16&255,t[n++]=_>>24&255,a}v_.serializeInto=C_});var d9=h(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.BSONRegExp=x.MaxKey=x.MinKey=x.Int32=x.Double=x.Timestamp=x.Long=x.UUID=x.ObjectId=x.Binary=x.DBRef=x.BSONSymbol=x.Map=x.Code=x.LongWithoutOverridesClass=x.EJSON=x.BSON_INT64_MIN=x.BSON_INT64_MAX=x.BSON_INT32_MIN=x.BSON_INT32_MAX=x.BSON_DATA_UNDEFINED=x.BSON_DATA_TIMESTAMP=x.BSON_DATA_SYMBOL=x.BSON_DATA_STRING=x.BSON_DATA_REGEXP=x.BSON_DATA_OID=x.BSON_DATA_OBJECT=x.BSON_DATA_NUMBER=x.BSON_DATA_NULL=x.BSON_DATA_MIN_KEY=x.BSON_DATA_MAX_KEY=x.BSON_DATA_LONG=x.BSON_DATA_INT=x.BSON_DATA_DECIMAL128=x.BSON_DATA_DBPOINTER=x.BSON_DATA_DATE=x.BSON_DATA_CODE_W_SCOPE=x.BSON_DATA_CODE=x.BSON_DATA_BOOLEAN=x.BSON_DATA_BINARY=x.BSON_DATA_ARRAY=x.BSON_BINARY_SUBTYPE_COLUMN=x.BSON_BINARY_SUBTYPE_ENCRYPTED=x.BSON_BINARY_SUBTYPE_UUID_NEW=x.BSON_BINARY_SUBTYPE_UUID=x.BSON_BINARY_SUBTYPE_USER_DEFINED=x.BSON_BINARY_SUBTYPE_MD5=x.BSON_BINARY_SUBTYPE_FUNCTION=x.BSON_BINARY_SUBTYPE_DEFAULT=x.BSON_BINARY_SUBTYPE_BYTE_ARRAY=void 0;x.deserializeStream=x.calculateObjectSize=x.deserialize=x.serializeWithBufferAndIndex=x.serialize=x.setInternalBufferSize=x.BSONTypeError=x.BSONError=x.ObjectID=x.Decimal128=void 0;var Oh=require("buffer"),b_=yd();Object.defineProperty(x,"Binary",{enumerable:!0,get:function(){return b_.Binary}});Object.defineProperty(x,"UUID",{enumerable:!0,get:function(){return b_.UUID}});var OB=Hg();Object.defineProperty(x,"Code",{enumerable:!0,get:function(){return OB.Code}});var CB=Gg();Object.defineProperty(x,"DBRef",{enumerable:!0,get:function(){return CB.DBRef}});var vB=Jg();Object.defineProperty(x,"Decimal128",{enumerable:!0,get:function(){return vB.Decimal128}});var bB=Xg();Object.defineProperty(x,"Double",{enumerable:!0,get:function(){return bB.Double}});var IB=fh(),che=p_(),PB=e_();Object.defineProperty(x,"Int32",{enumerable:!0,get:function(){return PB.Int32}});var TB=Fc();Object.defineProperty(x,"Long",{enumerable:!0,get:function(){return TB.Long}});var DB=Vb();Object.defineProperty(x,"Map",{enumerable:!0,get:function(){return DB.Map}});var RB=r_();Object.defineProperty(x,"MaxKey",{enumerable:!0,get:function(){return RB.MaxKey}});var NB=i_();Object.defineProperty(x,"MinKey",{enumerable:!0,get:function(){return NB.MinKey}});var I_=o_();Object.defineProperty(x,"ObjectId",{enumerable:!0,get:function(){return I_.ObjectId}});Object.defineProperty(x,"ObjectID",{enumerable:!0,get:function(){return I_.ObjectId}});var wB=Ui(),lhe=dB(),xB=gB(),MB=SB(),FB=c_();Object.defineProperty(x,"BSONRegExp",{enumerable:!0,get:function(){return FB.BSONRegExp}});var BB=d_();Object.defineProperty(x,"BSONSymbol",{enumerable:!0,get:function(){return BB.BSONSymbol}});var qB=yh();Object.defineProperty(x,"Timestamp",{enumerable:!0,get:function(){return qB.Timestamp}});var Ze=pd();Object.defineProperty(x,"BSON_BINARY_SUBTYPE_BYTE_ARRAY",{enumerable:!0,get:function(){return Ze.BSON_BINARY_SUBTYPE_BYTE_ARRAY}});Object.defineProperty(x,"BSON_BINARY_SUBTYPE_DEFAULT",{enumerable:!0,get:function(){return Ze.BSON_BINARY_SUBTYPE_DEFAULT}});Object.defineProperty(x,"BSON_BINARY_SUBTYPE_FUNCTION",{enumerable:!0,get:function(){return Ze.BSON_BINARY_SUBTYPE_FUNCTION}});Object.defineProperty(x,"BSON_BINARY_SUBTYPE_MD5",{enumerable:!0,get:function(){return Ze.BSON_BINARY_SUBTYPE_MD5}});Object.defineProperty(x,"BSON_BINARY_SUBTYPE_USER_DEFINED",{enumerable:!0,get:function(){return Ze.BSON_BINARY_SUBTYPE_USER_DEFINED}});Object.defineProperty(x,"BSON_BINARY_SUBTYPE_UUID",{enumerable:!0,get:function(){return Ze.BSON_BINARY_SUBTYPE_UUID}});Object.defineProperty(x,"BSON_BINARY_SUBTYPE_UUID_NEW",{enumerable:!0,get:function(){return Ze.BSON_BINARY_SUBTYPE_UUID_NEW}});Object.defineProperty(x,"BSON_BINARY_SUBTYPE_ENCRYPTED",{enumerable:!0,get:function(){return Ze.BSON_BINARY_SUBTYPE_ENCRYPTED}});Object.defineProperty(x,"BSON_BINARY_SUBTYPE_COLUMN",{enumerable:!0,get:function(){return Ze.BSON_BINARY_SUBTYPE_COLUMN}});Object.defineProperty(x,"BSON_DATA_ARRAY",{enumerable:!0,get:function(){return Ze.BSON_DATA_ARRAY}});Object.defineProperty(x,"BSON_DATA_BINARY",{enumerable:!0,get:function(){return Ze.BSON_DATA_BINARY}});Object.defineProperty(x,"BSON_DATA_BOOLEAN",{enumerable:!0,get:function(){return Ze.BSON_DATA_BOOLEAN}});Object.defineProperty(x,"BSON_DATA_CODE",{enumerable:!0,get:function(){return Ze.BSON_DATA_CODE}});Object.defineProperty(x,"BSON_DATA_CODE_W_SCOPE",{enumerable:!0,get:function(){return Ze.BSON_DATA_CODE_W_SCOPE}});Object.defineProperty(x,"BSON_DATA_DATE",{enumerable:!0,get:function(){return Ze.BSON_DATA_DATE}});Object.defineProperty(x,"BSON_DATA_DBPOINTER",{enumerable:!0,get:function(){return Ze.BSON_DATA_DBPOINTER}});Object.defineProperty(x,"BSON_DATA_DECIMAL128",{enumerable:!0,get:function(){return Ze.BSON_DATA_DECIMAL128}});Object.defineProperty(x,"BSON_DATA_INT",{enumerable:!0,get:function(){return Ze.BSON_DATA_INT}});Object.defineProperty(x,"BSON_DATA_LONG",{enumerable:!0,get:function(){return Ze.BSON_DATA_LONG}});Object.defineProperty(x,"BSON_DATA_MAX_KEY",{enumerable:!0,get:function(){return Ze.BSON_DATA_MAX_KEY}});Object.defineProperty(x,"BSON_DATA_MIN_KEY",{enumerable:!0,get:function(){return Ze.BSON_DATA_MIN_KEY}});Object.defineProperty(x,"BSON_DATA_NULL",{enumerable:!0,get:function(){return Ze.BSON_DATA_NULL}});Object.defineProperty(x,"BSON_DATA_NUMBER",{enumerable:!0,get:function(){return Ze.BSON_DATA_NUMBER}});Object.defineProperty(x,"BSON_DATA_OBJECT",{enumerable:!0,get:function(){return Ze.BSON_DATA_OBJECT}});Object.defineProperty(x,"BSON_DATA_OID",{enumerable:!0,get:function(){return Ze.BSON_DATA_OID}});Object.defineProperty(x,"BSON_DATA_REGEXP",{enumerable:!0,get:function(){return Ze.BSON_DATA_REGEXP}});Object.defineProperty(x,"BSON_DATA_STRING",{enumerable:!0,get:function(){return Ze.BSON_DATA_STRING}});Object.defineProperty(x,"BSON_DATA_SYMBOL",{enumerable:!0,get:function(){return Ze.BSON_DATA_SYMBOL}});Object.defineProperty(x,"BSON_DATA_TIMESTAMP",{enumerable:!0,get:function(){return Ze.BSON_DATA_TIMESTAMP}});Object.defineProperty(x,"BSON_DATA_UNDEFINED",{enumerable:!0,get:function(){return Ze.BSON_DATA_UNDEFINED}});Object.defineProperty(x,"BSON_INT32_MAX",{enumerable:!0,get:function(){return Ze.BSON_INT32_MAX}});Object.defineProperty(x,"BSON_INT32_MIN",{enumerable:!0,get:function(){return Ze.BSON_INT32_MIN}});Object.defineProperty(x,"BSON_INT64_MAX",{enumerable:!0,get:function(){return Ze.BSON_INT64_MAX}});Object.defineProperty(x,"BSON_INT64_MIN",{enumerable:!0,get:function(){return Ze.BSON_INT64_MIN}});var dhe=p_();Object.defineProperty(x,"EJSON",{enumerable:!0,get:function(){return dhe.EJSON}});var fhe=yh();Object.defineProperty(x,"LongWithoutOverridesClass",{enumerable:!0,get:function(){return fhe.LongWithoutOverridesClass}});var $B=Ui();Object.defineProperty(x,"BSONError",{enumerable:!0,get:function(){return $B.BSONError}});Object.defineProperty(x,"BSONTypeError",{enumerable:!0,get:function(){return $B.BSONTypeError}});var kB=1024*1024*17,ya=Oh.Buffer.alloc(kB);function jB(t){ya.length<t&&(ya=Oh.Buffer.alloc(t))}x.setInternalBufferSize=jB;function LB(t,e){e===void 0&&(e={});var r=typeof e.checkKeys=="boolean"?e.checkKeys:!1,n=typeof e.serializeFunctions=="boolean"?e.serializeFunctions:!1,i=typeof e.ignoreUndefined=="boolean"?e.ignoreUndefined:!0,s=typeof e.minInternalBufferSize=="number"?e.minInternalBufferSize:kB;ya.length<s&&(ya=Oh.Buffer.alloc(s));var o=(0,MB.serializeInto)(ya,t,r,0,0,n,i,[]),u=Oh.Buffer.alloc(o);return ya.copy(u,0,0,u.length),u}x.serialize=LB;function UB(t,e,r){r===void 0&&(r={});var n=typeof r.checkKeys=="boolean"?r.checkKeys:!1,i=typeof r.serializeFunctions=="boolean"?r.serializeFunctions:!1,s=typeof r.ignoreUndefined=="boolean"?r.ignoreUndefined:!0,o=typeof r.index=="number"?r.index:0,u=(0,MB.serializeInto)(ya,t,n,0,0,i,s);return ya.copy(e,o,0,u),o+u-1}x.serializeWithBufferAndIndex=UB;function zB(t,e){return e===void 0&&(e={}),(0,xB.deserialize)(t instanceof Oh.Buffer?t:(0,IB.ensureBuffer)(t),e)}x.deserialize=zB;function VB(t,e){e===void 0&&(e={}),e=e||{};var r=typeof e.serializeFunctions=="boolean"?e.serializeFunctions:!1,n=typeof e.ignoreUndefined=="boolean"?e.ignoreUndefined:!0;return(0,lhe.calculateObjectSize)(t,r,n)}x.calculateObjectSize=VB;function WB(t,e,r,n,i,s){for(var o=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},s),u=(0,IB.ensureBuffer)(t),a=e,c=0;c<r;c++){var l=u[a]|u[a+1]<<8|u[a+2]<<16|u[a+3]<<24;o.index=a,n[i+c]=(0,xB.deserialize)(u,o),a=a+l}return a}x.deserializeStream=WB;var hhe={Binary:b_.Binary,Code:OB.Code,DBRef:CB.DBRef,Decimal128:vB.Decimal128,Double:bB.Double,Int32:PB.Int32,Long:TB.Long,UUID:b_.UUID,Map:DB.Map,MaxKey:RB.MaxKey,MinKey:NB.MinKey,ObjectId:I_.ObjectId,ObjectID:I_.ObjectId,BSONRegExp:FB.BSONRegExp,BSONSymbol:BB.BSONSymbol,Timestamp:qB.Timestamp,EJSON:che.EJSON,setInternalBufferSize:jB,serialize:LB,serializeWithBufferAndIndex:UB,deserialize:zB,calculateObjectSize:VB,deserializeStream:WB,BSONError:wB.BSONError,BSONTypeError:wB.BSONTypeError};x.default=hhe});var Lt=h(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.resolveBSONOptions=ve.pluckBSONSerializeOptions=ve.BSON=ve.Timestamp=ve.ObjectId=ve.MinKey=ve.MaxKey=ve.Map=ve.Long=ve.Int32=ve.Double=ve.Decimal128=ve.DBRef=ve.Code=ve.BSONSymbol=ve.BSONRegExp=ve.Binary=ve.calculateObjectSize=ve.serialize=ve.deserialize=void 0;var Ch=d9();ve.BSON=Ch;try{ve.BSON=Ch=require("bson-ext")}catch{}ve.deserialize=Ch.deserialize;ve.serialize=Ch.serialize;ve.calculateObjectSize=Ch.calculateObjectSize;var Xn=d9();Object.defineProperty(ve,"Binary",{enumerable:!0,get:function(){return Xn.Binary}});Object.defineProperty(ve,"BSONRegExp",{enumerable:!0,get:function(){return Xn.BSONRegExp}});Object.defineProperty(ve,"BSONSymbol",{enumerable:!0,get:function(){return Xn.BSONSymbol}});Object.defineProperty(ve,"Code",{enumerable:!0,get:function(){return Xn.Code}});Object.defineProperty(ve,"DBRef",{enumerable:!0,get:function(){return Xn.DBRef}});Object.defineProperty(ve,"Decimal128",{enumerable:!0,get:function(){return Xn.Decimal128}});Object.defineProperty(ve,"Double",{enumerable:!0,get:function(){return Xn.Double}});Object.defineProperty(ve,"Int32",{enumerable:!0,get:function(){return Xn.Int32}});Object.defineProperty(ve,"Long",{enumerable:!0,get:function(){return Xn.Long}});Object.defineProperty(ve,"Map",{enumerable:!0,get:function(){return Xn.Map}});Object.defineProperty(ve,"MaxKey",{enumerable:!0,get:function(){return Xn.MaxKey}});Object.defineProperty(ve,"MinKey",{enumerable:!0,get:function(){return Xn.MinKey}});Object.defineProperty(ve,"ObjectId",{enumerable:!0,get:function(){return Xn.ObjectId}});Object.defineProperty(ve,"Timestamp",{enumerable:!0,get:function(){return Xn.Timestamp}});function phe(t){let{fieldsAsRaw:e,promoteValues:r,promoteBuffers:n,promoteLongs:i,serializeFunctions:s,ignoreUndefined:o,bsonRegExp:u,raw:a,enableUtf8Validation:c}=t;return{fieldsAsRaw:e,promoteValues:r,promoteBuffers:n,promoteLongs:i,serializeFunctions:s,ignoreUndefined:o,bsonRegExp:u,raw:a,enableUtf8Validation:c}}ve.pluckBSONSerializeOptions=phe;function mhe(t,e){var r,n,i,s,o,u,a,c,l,d,f,p,m,y,_,g,E,O;let w=e?.bsonOptions;return{raw:(n=(r=t?.raw)!==null&&r!==void 0?r:w?.raw)!==null&&n!==void 0?n:!1,promoteLongs:(s=(i=t?.promoteLongs)!==null&&i!==void 0?i:w?.promoteLongs)!==null&&s!==void 0?s:!0,promoteValues:(u=(o=t?.promoteValues)!==null&&o!==void 0?o:w?.promoteValues)!==null&&u!==void 0?u:!0,promoteBuffers:(c=(a=t?.promoteBuffers)!==null&&a!==void 0?a:w?.promoteBuffers)!==null&&c!==void 0?c:!1,ignoreUndefined:(d=(l=t?.ignoreUndefined)!==null&&l!==void 0?l:w?.ignoreUndefined)!==null&&d!==void 0?d:!1,bsonRegExp:(p=(f=t?.bsonRegExp)!==null&&f!==void 0?f:w?.bsonRegExp)!==null&&p!==void 0?p:!1,serializeFunctions:(y=(m=t?.serializeFunctions)!==null&&m!==void 0?m:w?.serializeFunctions)!==null&&y!==void 0?y:!1,fieldsAsRaw:(g=(_=t?.fieldsAsRaw)!==null&&_!==void 0?_:w?.fieldsAsRaw)!==null&&g!==void 0?g:{},enableUtf8Validation:(O=(E=t?.enableUtf8Validation)!==null&&E!==void 0?E:w?.enableUtf8Validation)!==null&&O!==void 0?O:!0}}ve.resolveBSONOptions=mhe});var Pd=h(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.OP_MSG=Gt.OP_COMPRESSED=Gt.OP_DELETE=Gt.OP_QUERY=Gt.OP_INSERT=Gt.OP_UPDATE=Gt.OP_REPLY=Gt.MAX_SUPPORTED_WIRE_VERSION=Gt.MIN_SUPPORTED_WIRE_VERSION=Gt.MAX_SUPPORTED_SERVER_VERSION=Gt.MIN_SUPPORTED_SERVER_VERSION=void 0;Gt.MIN_SUPPORTED_SERVER_VERSION="3.6";Gt.MAX_SUPPORTED_SERVER_VERSION="6.0";Gt.MIN_SUPPORTED_WIRE_VERSION=6;Gt.MAX_SUPPORTED_WIRE_VERSION=17;Gt.OP_REPLY=1;Gt.OP_UPDATE=2001;Gt.OP_INSERT=2002;Gt.OP_QUERY=2004;Gt.OP_DELETE=2006;Gt.OP_COMPRESSED=2012;Gt.OP_MSG=2013});var yn=h(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.TOPOLOGY_EVENTS=I.CMAP_EVENTS=I.HEARTBEAT_EVENTS=I.RESUME_TOKEN_CHANGED=I.END=I.CHANGE=I.INIT=I.MORE=I.RESPONSE=I.SERVER_HEARTBEAT_FAILED=I.SERVER_HEARTBEAT_SUCCEEDED=I.SERVER_HEARTBEAT_STARTED=I.COMMAND_FAILED=I.COMMAND_SUCCEEDED=I.COMMAND_STARTED=I.CLUSTER_TIME_RECEIVED=I.CONNECTION_CHECKED_IN=I.CONNECTION_CHECKED_OUT=I.CONNECTION_CHECK_OUT_FAILED=I.CONNECTION_CHECK_OUT_STARTED=I.CONNECTION_CLOSED=I.CONNECTION_READY=I.CONNECTION_CREATED=I.CONNECTION_POOL_READY=I.CONNECTION_POOL_CLEARED=I.CONNECTION_POOL_CLOSED=I.CONNECTION_POOL_CREATED=I.TOPOLOGY_DESCRIPTION_CHANGED=I.TOPOLOGY_CLOSED=I.TOPOLOGY_OPENING=I.SERVER_DESCRIPTION_CHANGED=I.SERVER_CLOSED=I.SERVER_OPENING=I.DESCRIPTION_RECEIVED=I.UNPINNED=I.PINNED=I.MESSAGE=I.ENDED=I.CLOSED=I.CONNECT=I.OPEN=I.CLOSE=I.TIMEOUT=I.ERROR=I.SYSTEM_JS_COLLECTION=I.SYSTEM_COMMAND_COLLECTION=I.SYSTEM_USER_COLLECTION=I.SYSTEM_PROFILE_COLLECTION=I.SYSTEM_INDEX_COLLECTION=I.SYSTEM_NAMESPACE_COLLECTION=void 0;I.LEGACY_HELLO_COMMAND_CAMEL_CASE=I.LEGACY_HELLO_COMMAND=I.MONGO_CLIENT_EVENTS=I.LOCAL_SERVER_EVENTS=I.SERVER_RELAY_EVENTS=I.APM_EVENTS=void 0;I.SYSTEM_NAMESPACE_COLLECTION="system.namespaces";I.SYSTEM_INDEX_COLLECTION="system.indexes";I.SYSTEM_PROFILE_COLLECTION="system.profile";I.SYSTEM_USER_COLLECTION="system.users";I.SYSTEM_COMMAND_COLLECTION="$cmd";I.SYSTEM_JS_COLLECTION="system.js";I.ERROR="error";I.TIMEOUT="timeout";I.CLOSE="close";I.OPEN="open";I.CONNECT="connect";I.CLOSED="closed";I.ENDED="ended";I.MESSAGE="message";I.PINNED="pinned";I.UNPINNED="unpinned";I.DESCRIPTION_RECEIVED="descriptionReceived";I.SERVER_OPENING="serverOpening";I.SERVER_CLOSED="serverClosed";I.SERVER_DESCRIPTION_CHANGED="serverDescriptionChanged";I.TOPOLOGY_OPENING="topologyOpening";I.TOPOLOGY_CLOSED="topologyClosed";I.TOPOLOGY_DESCRIPTION_CHANGED="topologyDescriptionChanged";I.CONNECTION_POOL_CREATED="connectionPoolCreated";I.CONNECTION_POOL_CLOSED="connectionPoolClosed";I.CONNECTION_POOL_CLEARED="connectionPoolCleared";I.CONNECTION_POOL_READY="connectionPoolReady";I.CONNECTION_CREATED="connectionCreated";I.CONNECTION_READY="connectionReady";I.CONNECTION_CLOSED="connectionClosed";I.CONNECTION_CHECK_OUT_STARTED="connectionCheckOutStarted";I.CONNECTION_CHECK_OUT_FAILED="connectionCheckOutFailed";I.CONNECTION_CHECKED_OUT="connectionCheckedOut";I.CONNECTION_CHECKED_IN="connectionCheckedIn";I.CLUSTER_TIME_RECEIVED="clusterTimeReceived";I.COMMAND_STARTED="commandStarted";I.COMMAND_SUCCEEDED="commandSucceeded";I.COMMAND_FAILED="commandFailed";I.SERVER_HEARTBEAT_STARTED="serverHeartbeatStarted";I.SERVER_HEARTBEAT_SUCCEEDED="serverHeartbeatSucceeded";I.SERVER_HEARTBEAT_FAILED="serverHeartbeatFailed";I.RESPONSE="response";I.MORE="more";I.INIT="init";I.CHANGE="change";I.END="end";I.RESUME_TOKEN_CHANGED="resumeTokenChanged";I.HEARTBEAT_EVENTS=Object.freeze([I.SERVER_HEARTBEAT_STARTED,I.SERVER_HEARTBEAT_SUCCEEDED,I.SERVER_HEARTBEAT_FAILED]);I.CMAP_EVENTS=Object.freeze([I.CONNECTION_POOL_CREATED,I.CONNECTION_POOL_READY,I.CONNECTION_POOL_CLEARED,I.CONNECTION_POOL_CLOSED,I.CONNECTION_CREATED,I.CONNECTION_READY,I.CONNECTION_CLOSED,I.CONNECTION_CHECK_OUT_STARTED,I.CONNECTION_CHECK_OUT_FAILED,I.CONNECTION_CHECKED_OUT,I.CONNECTION_CHECKED_IN]);I.TOPOLOGY_EVENTS=Object.freeze([I.SERVER_OPENING,I.SERVER_CLOSED,I.SERVER_DESCRIPTION_CHANGED,I.TOPOLOGY_OPENING,I.TOPOLOGY_CLOSED,I.TOPOLOGY_DESCRIPTION_CHANGED,I.ERROR,I.TIMEOUT,I.CLOSE]);I.APM_EVENTS=Object.freeze([I.COMMAND_STARTED,I.COMMAND_SUCCEEDED,I.COMMAND_FAILED]);I.SERVER_RELAY_EVENTS=Object.freeze([I.SERVER_HEARTBEAT_STARTED,I.SERVER_HEARTBEAT_SUCCEEDED,I.SERVER_HEARTBEAT_FAILED,I.COMMAND_STARTED,I.COMMAND_SUCCEEDED,I.COMMAND_FAILED,...I.CMAP_EVENTS]);I.LOCAL_SERVER_EVENTS=Object.freeze([I.CONNECT,I.DESCRIPTION_RECEIVED,I.CLOSED,I.ENDED]);I.MONGO_CLIENT_EVENTS=Object.freeze([...I.CMAP_EVENTS,...I.APM_EVENTS,...I.TOPOLOGY_EVENTS,...I.HEARTBEAT_EVENTS]);I.LEGACY_HELLO_COMMAND="ismaster";I.LEGACY_HELLO_COMMAND_CAMEL_CASE="isMaster"});var Td=h(T_=>{"use strict";Object.defineProperty(T_,"__esModule",{value:!0});T_.PromiseProvider=void 0;var yhe=re(),P_=Symbol("promise"),f9={[P_]:null},vh=class{static validate(e){if(typeof e!="function")throw new yhe.MongoInvalidArgumentError(`Promise must be a function, got ${e}`);return!!e}static set(e){if(e===null){f9[P_]=null;return}vh.validate(e)&&(f9[P_]=e)}static get(){return f9[P_]}};T_.PromiseProvider=vh});var Vi=h(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.ReadConcern=Fs.ReadConcernLevel=void 0;Fs.ReadConcernLevel=Object.freeze({local:"local",majority:"majority",linearizable:"linearizable",available:"available",snapshot:"snapshot"});var ga=class{constructor(e){var r;this.level=(r=Fs.ReadConcernLevel[e])!==null&&r!==void 0?r:e}static fromOptions(e){if(e!=null){if(e.readConcern){let{readConcern:r}=e;if(r instanceof ga)return r;if(typeof r=="string")return new ga(r);if("level"in r&&r.level)return new ga(r.level)}if(e.level)return new ga(e.level)}}static get MAJORITY(){return Fs.ReadConcernLevel.majority}static get AVAILABLE(){return Fs.ReadConcernLevel.available}static get LINEARIZABLE(){return Fs.ReadConcernLevel.linearizable}static get SNAPSHOT(){return Fs.ReadConcernLevel.snapshot}toJSON(){return{level:this.level}}};Fs.ReadConcern=ga});var wr=h(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.ReadPreference=gn.ReadPreferenceMode=void 0;var $c=re();gn.ReadPreferenceMode=Object.freeze({primary:"primary",primaryPreferred:"primaryPreferred",secondary:"secondary",secondaryPreferred:"secondaryPreferred",nearest:"nearest"});var Ve=class{constructor(e,r,n){if(!Ve.isValid(e))throw new $c.MongoInvalidArgumentError(`Invalid read preference mode ${JSON.stringify(e)}`);if(n==null&&typeof r=="object"&&!Array.isArray(r))n=r,r=void 0;else if(r&&!Array.isArray(r))throw new $c.MongoInvalidArgumentError("ReadPreference tags must be an array");if(this.mode=e,this.tags=r,this.hedge=n?.hedge,this.maxStalenessSeconds=void 0,this.minWireVersion=void 0,n=n??{},n.maxStalenessSeconds!=null){if(n.maxStalenessSeconds<=0)throw new $c.MongoInvalidArgumentError("maxStalenessSeconds must be a positive integer");this.maxStalenessSeconds=n.maxStalenessSeconds,this.minWireVersion=5}if(this.mode===Ve.PRIMARY){if(this.tags&&Array.isArray(this.tags)&&this.tags.length>0)throw new $c.MongoInvalidArgumentError("Primary read preference cannot be combined with tags");if(this.maxStalenessSeconds)throw new $c.MongoInvalidArgumentError("Primary read preference cannot be combined with maxStalenessSeconds");if(this.hedge)throw new $c.MongoInvalidArgumentError("Primary read preference cannot be combined with hedge")}}get preference(){return this.mode}static fromString(e){return new Ve(e)}static fromOptions(e){var r,n,i;if(!e)return;let s=(r=e.readPreference)!==null&&r!==void 0?r:(n=e.session)===null||n===void 0?void 0:n.transaction.options.readPreference,o=e.readPreferenceTags;if(s!=null){if(typeof s=="string")return new Ve(s,o,{maxStalenessSeconds:e.maxStalenessSeconds,hedge:e.hedge});if(!(s instanceof Ve)&&typeof s=="object"){let u=s.mode||s.preference;if(u&&typeof u=="string")return new Ve(u,(i=s.tags)!==null&&i!==void 0?i:o,{maxStalenessSeconds:s.maxStalenessSeconds,hedge:e.hedge})}return o&&(s.tags=o),s}}static translate(e){if(e.readPreference==null)return e;let r=e.readPreference;if(typeof r=="string")e.readPreference=new Ve(r);else if(r&&!(r instanceof Ve)&&typeof r=="object"){let n=r.mode||r.preference;n&&typeof n=="string"&&(e.readPreference=new Ve(n,r.tags,{maxStalenessSeconds:r.maxStalenessSeconds}))}else if(!(r instanceof Ve))throw new $c.MongoInvalidArgumentError(`Invalid read preference: ${r}`);return e}static isValid(e){return new Set([Ve.PRIMARY,Ve.PRIMARY_PREFERRED,Ve.SECONDARY,Ve.SECONDARY_PREFERRED,Ve.NEAREST,null]).has(e)}isValid(e){return Ve.isValid(typeof e=="string"?e:this.mode)}slaveOk(){return this.secondaryOk()}secondaryOk(){return new Set([Ve.PRIMARY_PREFERRED,Ve.SECONDARY,Ve.SECONDARY_PREFERRED,Ve.NEAREST]).has(this.mode)}equals(e){return e.mode===this.mode}toJSON(){let e={mode:this.mode};return Array.isArray(this.tags)&&(e.tags=this.tags),this.maxStalenessSeconds&&(e.maxStalenessSeconds=this.maxStalenessSeconds),this.hedge&&(e.hedge=this.hedge),e}};gn.ReadPreference=Ve;Ve.PRIMARY=gn.ReadPreferenceMode.primary;Ve.PRIMARY_PREFERRED=gn.ReadPreferenceMode.primaryPreferred;Ve.SECONDARY=gn.ReadPreferenceMode.secondary;Ve.SECONDARY_PREFERRED=gn.ReadPreferenceMode.secondaryPreferred;Ve.NEAREST=gn.ReadPreferenceMode.nearest;Ve.primary=new Ve(gn.ReadPreferenceMode.primary);Ve.primaryPreferred=new Ve(gn.ReadPreferenceMode.primaryPreferred);Ve.secondary=new Ve(gn.ReadPreferenceMode.secondary);Ve.secondaryPreferred=new Ve(gn.ReadPreferenceMode.secondaryPreferred);Ve.nearest=new Ve(gn.ReadPreferenceMode.nearest)});var Wi=h($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r._advanceClusterTime=$r.drainTimerQueue=$r.ServerType=$r.TopologyType=$r.STATE_CONNECTED=$r.STATE_CONNECTING=$r.STATE_CLOSED=$r.STATE_CLOSING=void 0;var ghe=require("timers");$r.STATE_CLOSING="closing";$r.STATE_CLOSED="closed";$r.STATE_CONNECTING="connecting";$r.STATE_CONNECTED="connected";$r.TopologyType=Object.freeze({Single:"Single",ReplicaSetNoPrimary:"ReplicaSetNoPrimary",ReplicaSetWithPrimary:"ReplicaSetWithPrimary",Sharded:"Sharded",Unknown:"Unknown",LoadBalanced:"LoadBalanced"});$r.ServerType=Object.freeze({Standalone:"Standalone",Mongos:"Mongos",PossiblePrimary:"PossiblePrimary",RSPrimary:"RSPrimary",RSSecondary:"RSSecondary",RSArbiter:"RSArbiter",RSOther:"RSOther",RSGhost:"RSGhost",Unknown:"Unknown",LoadBalancer:"LoadBalancer"});function _he(t){t.forEach(ghe.clearTimeout),t.clear()}$r.drainTimerQueue=_he;function Ehe(t,e){(t.clusterTime==null||e.clusterTime.greaterThan(t.clusterTime.clusterTime))&&(t.clusterTime=e)}$r._advanceClusterTime=Ehe});var Hi=h(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.WriteConcern=Dd.WRITE_CONCERN_KEYS=void 0;Dd.WRITE_CONCERN_KEYS=["w","wtimeout","j","journal","fsync"];var kc=class{constructor(e,r,n,i){e!=null&&(Number.isNaN(Number(e))?this.w=e:this.w=Number(e)),r!=null&&(this.wtimeout=r),n!=null&&(this.j=n),i!=null&&(this.fsync=i)}static fromOptions(e,r){if(e==null)return;r=r??{};let n;typeof e=="string"||typeof e=="number"?n={w:e}:e instanceof kc?n=e:n=e.writeConcern;let i=r instanceof kc?r:r.writeConcern,{w:s=void 0,wtimeout:o=void 0,j:u=void 0,fsync:a=void 0,journal:c=void 0,wtimeoutMS:l=void 0}={...i,...n};if(s!=null||o!=null||l!=null||u!=null||c!=null||a!=null)return new kc(s,o??l,u??c,a)}};Dd.WriteConcern=kc});var HB=h((hZe,Ahe)=>{Ahe.exports={name:"mongodb",version:"4.13.0",description:"The official MongoDB driver for Node.js",main:"lib/index.js",files:["lib","src","etc/prepare.js","mongodb.d.ts","tsconfig.json"],types:"mongodb.d.ts",repository:{type:"git",url:"git@github.com:mongodb/node-mongodb-native.git"},keywords:["mongodb","driver","official"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},dependencies:{bson:"^4.7.0","mongodb-connection-string-url":"^2.5.4",socks:"^2.7.1"},devDependencies:{"@iarna/toml":"^2.2.5","@istanbuljs/nyc-config-typescript":"^1.0.2","@microsoft/api-extractor":"^7.33.3","@microsoft/tsdoc-config":"^0.16.2","@mongodb-js/zstd":"^1.0.0","@types/chai":"^4.3.3","@types/chai-subset":"^1.3.3","@types/express":"^4.17.14","@types/kerberos":"^1.1.1","@types/mocha":"^10.0.0","@types/node":"^18.11.0","@types/saslprep":"^1.0.1","@types/semver":"^7.3.12","@types/sinon":"^10.0.13","@types/sinon-chai":"^3.2.8","@types/whatwg-url":"^11.0.0","@typescript-eslint/eslint-plugin":"^5.40.0","@typescript-eslint/parser":"^5.40.0",bluebird:"^3.7.2",chai:"^4.3.6","chai-subset":"^1.6.0",chalk:"^4.1.2",eslint:"^8.25.0","eslint-config-prettier":"^8.5.0","eslint-plugin-import":"^2.26.0","eslint-plugin-prettier":"^4.2.1","eslint-plugin-simple-import-sort":"^8.0.0","eslint-plugin-tsdoc":"^0.2.17",express:"^4.18.2","js-yaml":"^4.1.0",mocha:"^9.2.2","mocha-sinon":"^2.1.2",nyc:"^15.1.0",prettier:"^2.7.1",rimraf:"^3.0.2",semver:"^7.3.8",sinon:"^13.0.1","sinon-chai":"^3.7.0","source-map-support":"^0.5.21","standard-version":"^9.5.0","ts-node":"^10.9.1",tsd:"^0.24.1",typescript:"^4.8.4","typescript-cached-transpile":"^0.0.6",xml2js:"^0.4.23",yargs:"^17.6.0"},license:"Apache-2.0",engines:{node:">=12.9.0"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},homepage:"https://github.com/mongodb/node-mongodb-native",optionalDependencies:{"@aws-sdk/credential-providers":"^3.186.0",saslprep:"^1.0.3"},scripts:{"build:evergreen":"node .evergreen/generate_evergreen_tasks.js","build:ts":"node ./node_modules/typescript/bin/tsc","build:dts":"npm run build:ts && api-extractor run && rimraf 'lib/**/*.d.ts*'","build:docs":"./etc/docs/build.ts","build:typedoc":"typedoc","check:bench":"node test/benchmarks/driverBench","check:coverage":"nyc npm run test:all","check:integration-coverage":"nyc npm run check:test","check:lambda":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/handler.test.js","check:lambda:aws":"mocha --config test/mocha_lambda.json test/integration/node-specific/examples/aws_handler.test.js","check:lint":"npm run build:dts && npm run check:dts && npm run check:eslint && npm run check:tsd","check:eslint":"eslint -v && eslint --max-warnings=0 --ext '.js,.ts' src test","check:tsd":"tsd --version && tsd","check:dependencies":"mocha test/action/dependency.test.ts","check:dts":"node ./node_modules/typescript/bin/tsc --noEmit mongodb.d.ts && tsd","check:test":"mocha --config test/mocha_mongodb.json test/integration","check:unit":"mocha test/unit","check:ts":"node ./node_modules/typescript/bin/tsc -v && node ./node_modules/typescript/bin/tsc --noEmit","check:atlas":"mocha --config test/manual/mocharc.json test/manual/atlas_connectivity.test.js","check:adl":"mocha --config test/mocha_mongodb.json test/manual/atlas-data-lake-testing","check:aws":"mocha --config test/mocha_mongodb.json test/integration/auth/mongodb_aws.test.ts","check:ocsp":"mocha --config test/manual/mocharc.json test/manual/ocsp_support.test.js","check:kerberos":"mocha --config test/manual/mocharc.json test/manual/kerberos.test.js","check:tls":"mocha --config test/manual/mocharc.json test/manual/tls_support.test.js","check:ldap":"mocha --config test/manual/mocharc.json test/manual/ldap.test.js","check:socks5":"mocha --config test/manual/mocharc.json test/manual/socks5.test.ts","check:csfle":"mocha --config test/mocha_mongodb.json test/integration/client-side-encryption","check:snappy":"mocha test/unit/assorted/snappy.test.js","fix:eslint":"npm run check:eslint -- --fix",prepare:"node etc/prepare.js","preview:docs":"ts-node etc/docs/preview.ts",release:"bash etc/check-remote.sh && standard-version -a -i HISTORY.md",test:"npm run check:lint && npm run test:all","test:all":"npm run check:unit && npm run check:test","update:docs":"npm run build:docs -- --yes"},tsd:{directory:"test/types",compilerOptions:{strict:!0,target:"esnext",module:"commonjs",moduleResolution:"node"}}}});var ye=h($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.getMongoDBClientEncryption=$.commandSupportsReadConcern=$.shuffle=$.parsePackageVersion=$.supportsRetryableWrites=$.enumToString=$.emitWarningOnce=$.emitWarning=$.MONGODB_WARNING_CODE=$.DEFAULT_PK_FACTORY=$.HostAddress=$.BufferPool=$.List=$.deepCopy=$.isRecord=$.setDifference=$.isHello=$.isSuperset=$.resolveOptions=$.hasAtomicOperators=$.calculateDurationInMs=$.now=$.makeClientMetadata=$.makeStateMachine=$.errorStrictEqual=$.arrayStrictEqual=$.eachAsyncSeries=$.eachAsync=$.maxWireVersion=$.uuidV4=$.databaseNamespace=$.maybeCallback=$.makeCounter=$.MongoDBNamespace=$.ns=$.deprecateOptions=$.defaultMsgHandler=$.getTopology=$.decorateWithExplain=$.decorateWithReadConcern=$.decorateWithCollation=$.isPromiseLike=$.applyWriteConcern=$.applyRetryableWrites=$.filterOptions=$.mergeOptions=$.isObject=$.normalizeHintField=$.checkCollectionName=$.MAX_JS_INT=void 0;$.parseUnsignedInteger=$.parseInteger=$.compareObjectId=void 0;var She=require("crypto"),h9=require("os"),whe=require("url"),KB=Lt(),Ohe=Pd(),Che=yn(),Zn=re(),vhe=Td(),bhe=Vi(),Ihe=wr(),Phe=Wi(),YB=Hi();$.MAX_JS_INT=Number.MAX_SAFE_INTEGER+1;function The(t){if(typeof t!="string")throw new Zn.MongoInvalidArgumentError("Collection name must be a String");if(!t||t.indexOf("..")!==-1)throw new Zn.MongoInvalidArgumentError("Collection names cannot be empty");if(t.indexOf("$")!==-1&&t.match(/((^\$cmd)|(oplog\.\$main))/)==null)throw new Zn.MongoInvalidArgumentError("Collection names must not contain '$'");if(t.match(/^\.|\.$/)!=null)throw new Zn.MongoInvalidArgumentError("Collection names must not start or end with '.'");if(t.indexOf("\0")!==-1)throw new Zn.MongoInvalidArgumentError("Collection names cannot contain a null character")}$.checkCollectionName=The;function Dhe(t){let e;if(typeof t=="string")e=t;else if(Array.isArray(t))e={},t.forEach(r=>{e[r]=1});else if(t!=null&&typeof t=="object"){e={};for(let r in t)e[r]=t[r]}return e}$.normalizeHintField=Dhe;var Rhe=t=>Object.prototype.toString.call(t);function D_(t){return Rhe(t)==="[object Object]"}$.isObject=D_;function Nhe(t,e){return{...t,...e}}$.mergeOptions=Nhe;function xhe(t,e){let r={};for(let n in t)e.includes(n)&&(r[n]=t[n]);return r}$.filterOptions=xhe;function Mhe(t,e){var r;return e&&(!((r=e.s.options)===null||r===void 0)&&r.retryWrites)&&(t.retryWrites=!0),t}$.applyRetryableWrites=Mhe;function Fhe(t,e,r){r=r??{};let n=e.db,i=e.collection;if(r.session&&r.session.inTransaction())return t.writeConcern&&delete t.writeConcern,t;let s=YB.WriteConcern.fromOptions(r);return s?Object.assign(t,{writeConcern:s}):i&&i.writeConcern?Object.assign(t,{writeConcern:Object.assign({},i.writeConcern)}):n&&n.writeConcern?Object.assign(t,{writeConcern:Object.assign({},n.writeConcern)}):t}$.applyWriteConcern=Fhe;function Bhe(t){return!!t&&typeof t.then=="function"}$.isPromiseLike=Bhe;function qhe(t,e,r){let n=JB(e).capabilities;if(r.collation&&typeof r.collation=="object")if(n&&n.commandsTakeCollation)t.collation=r.collation;else throw new Zn.MongoCompatibilityError("Current topology does not support collation")}$.decorateWithCollation=qhe;function $he(t,e,r){if(r&&r.session&&r.session.inTransaction())return;let n=Object.assign({},t.readConcern||{});e.s.readConcern&&Object.assign(n,e.s.readConcern),Object.keys(n).length>0&&Object.assign(t,{readConcern:n})}$.decorateWithReadConcern=$he;function khe(t,e){return t.explain?t:{explain:t,verbosity:e.verbosity}}$.decorateWithExplain=khe;function JB(t){if("topology"in t&&t.topology)return t.topology;if("s"in t&&"client"in t.s&&t.s.client.topology)return t.s.client.topology;if("s"in t&&"db"in t.s&&t.s.db.s.client.topology)return t.s.db.s.client.topology;throw new Zn.MongoNotConnectedError("MongoClient must be connected to perform this operation")}$.getTopology=JB;function QB(t,e){return`${t} option [${e}] is deprecated and will be removed in a later version.`}$.defaultMsgHandler=QB;function jhe(t,e){if(process.noDeprecation===!0)return e;let r=t.msgHandler?t.msgHandler:QB,n=new Set;function i(...s){let o=s[t.optionsIndex];if(!D_(o)||Object.keys(o).length===0)return e.bind(this)(...s);for(let u of t.deprecatedOptions)if(u in o&&!n.has(u)){n.add(u);let a=r(t.name,u);if(y9(a),this&&"getLogger"in this){let c=this.getLogger();c&&c.warn(a)}}return e.bind(this)(...s)}return Object.setPrototypeOf(i,e),e.prototype&&(i.prototype=e.prototype),i}$.deprecateOptions=jhe;function Lhe(t){return Lc.fromString(t)}$.ns=Lhe;var Lc=class{constructor(e,r){this.db=e,this.collection=r===""?void 0:r}toString(){return this.collection?`${this.db}.${this.collection}`:this.db}withCollection(e){return new Lc(this.db,e)}static fromString(e){if(typeof e!="string"||e==="")throw new Zn.MongoRuntimeError(`Cannot parse namespace from "${e}"`);let[r,...n]=e.split("."),i=n.join(".");return new Lc(r,i===""?void 0:i)}};$.MongoDBNamespace=Lc;function*Uhe(t=0){let e=t;for(;;){let r=e;e+=1,yield r}}$.makeCounter=Uhe;function zhe(t,e){let r=vhe.PromiseProvider.get(),n=t();if(e==null)return r==null?n:new r((i,s)=>{n.then(i,s)});n.then(i=>e(void 0,i),i=>e(i))}$.maybeCallback=zhe;function Vhe(t){return t.split(".")[0]}$.databaseNamespace=Vhe;function Whe(){let t=She.randomBytes(16);return t[6]=t[6]&15|64,t[8]=t[8]&63|128,t}$.uuidV4=Whe;function Hhe(t){if(t){if(t.loadBalanced)return Ohe.MAX_SUPPORTED_WIRE_VERSION;if(t.hello)return t.hello.maxWireVersion;if("lastHello"in t&&typeof t.lastHello=="function"){let e=t.lastHello();if(e)return e.maxWireVersion}if(t.description&&"maxWireVersion"in t.description&&t.description.maxWireVersion!=null)return t.description.maxWireVersion}return 0}$.maxWireVersion=Hhe;function Ghe(t,e,r){t=t||[];let n=0,i=0;for(n=0;n<t.length;++n)i++,e(t[n],s);if(i===0){r();return}function s(o){if(i--,o){r(o);return}n===t.length&&i<=0&&r()}}$.eachAsync=Ghe;function Khe(t,e,r){t=t||[];let n=0,i=t.length;if(i===0){r();return}function s(o){if(n++,i--,o){r(o);return}if(n===t.length&&i<=0){r();return}e(t[n],s)}e(t[n],s)}$.eachAsyncSeries=Khe;function Yhe(t,e){return!Array.isArray(t)||!Array.isArray(e)?!1:t.length===e.length&&t.every((r,n)=>r===e[n])}$.arrayStrictEqual=Yhe;function Jhe(t,e){return t===e?!0:!t||!e?t===e:!(t==null&&e!=null||t!=null&&e==null||t.constructor.name!==e.constructor.name||t.message!==e.message)}$.errorStrictEqual=Jhe;function Qhe(t){return function(r,n){let i=t[r.s.state];if(i&&i.indexOf(n)<0)throw new Zn.MongoRuntimeError(`illegal state transition from [${r.s.state}] => [${n}], allowed: [${i}]`);r.emit("stateChanged",r.s.state,n),r.s.state=n}}$.makeStateMachine=Qhe;var Xhe=HB().version;function Zhe(t){t=t??{};let e={driver:{name:"nodejs",version:Xhe},os:{type:h9.type(),name:process.platform,architecture:process.arch,version:h9.release()},platform:`Node.js ${process.version}, ${h9.endianness()} (unified)`};if(t.driverInfo&&(t.driverInfo.name&&(e.driver.name=`${e.driver.name}|${t.driverInfo.name}`),t.driverInfo.version&&(e.version=`${e.driver.version}|${t.driverInfo.version}`),t.driverInfo.platform&&(e.platform=`${e.platform}|${t.driverInfo.platform}`)),t.appName){let r=Buffer.from(t.appName);e.application={name:r.byteLength>128?r.slice(0,128).toString("utf8"):t.appName}}return e}$.makeClientMetadata=Zhe;function XB(){let t=process.hrtime();return Math.floor(t[0]*1e3+t[1]/1e6)}$.now=XB;function epe(t){if(typeof t!="number")throw new Zn.MongoInvalidArgumentError("Numeric value required to calculate duration");let e=XB()-t;return e<0?0:e}$.calculateDurationInMs=epe;function ZB(t){if(Array.isArray(t)){for(let r of t)if(ZB(r))return!0;return!1}let e=Object.keys(t);return e.length>0&&e[0][0]==="$"}$.hasAtomicOperators=ZB;function tpe(t,e){var r,n,i;let s=Object.assign({},e,(0,KB.resolveBSONOptions)(e,t)),o=e?.session;if(!o?.inTransaction()){let a=(r=bhe.ReadConcern.fromOptions(e))!==null&&r!==void 0?r:t?.readConcern;a&&(s.readConcern=a);let c=(n=YB.WriteConcern.fromOptions(e))!==null&&n!==void 0?n:t?.writeConcern;c&&(s.writeConcern=c)}let u=(i=Ihe.ReadPreference.fromOptions(e))!==null&&i!==void 0?i:t?.readPreference;return u&&(s.readPreference=u),s}$.resolveOptions=tpe;function eq(t,e){t=Array.isArray(t)?new Set(t):t,e=Array.isArray(e)?new Set(e):e;for(let r of e)if(!t.has(r))return!1;return!0}$.isSuperset=eq;function rpe(t){return!!(t[Che.LEGACY_HELLO_COMMAND]||t.hello)}$.isHello=rpe;function npe(t,e){let r=new Set(t);for(let n of e)r.delete(n);return r}$.setDifference=npe;var ipe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);function tq(t,e=void 0){if(!D_(t))return!1;let r=t.constructor;if(r&&r.prototype&&(!D_(r.prototype)||!ipe(r.prototype,"isPrototypeOf")))return!1;if(e){let n=Object.keys(t);return eq(n,e)}return!0}$.isRecord=tq;function p9(t){if(t==null)return t;if(Array.isArray(t))return t.map(r=>p9(r));if(tq(t)){let r={};for(let n in t)r[n]=p9(t[n]);return r}let e=t.constructor;if(e)switch(e.name.toLowerCase()){case"date":return new e(Number(t));case"map":return new Map(t);case"set":return new Set(t);case"buffer":return Buffer.from(t)}return t}$.deepCopy=p9;var R_=class{constructor(){this.count=0,this.head={next:null,prev:null,value:null},this.head.next=this.head,this.head.prev=this.head}get length(){return this.count}get[Symbol.toStringTag](){return"List"}toArray(){return Array.from(this)}toString(){return`head <=> ${this.toArray().join(" <=> ")} <=> head`}*[Symbol.iterator](){for(let e of this.nodes())yield e.value}*nodes(){let e=this.head.next;for(;e!==this.head;){let{next:r}=e;yield e,e=r}}push(e){this.count+=1;let r={next:this.head,prev:this.head.prev,value:e};this.head.prev.next=r,this.head.prev=r}pushMany(e){for(let r of e)this.push(r)}unshift(e){this.count+=1;let r={next:this.head.next,prev:this.head,value:e};this.head.next.prev=r,this.head.next=r}remove(e){if(e===this.head||this.length===0)return null;this.count-=1;let r=e.prev,n=e.next;return r.next=n,n.prev=r,e.value}shift(){return this.remove(this.head.next)}pop(){return this.remove(this.head.prev)}prune(e){for(let r of this.nodes())e(r.value)&&this.remove(r)}clear(){this.count=0,this.head.next=this.head,this.head.prev=this.head}first(){return this.head.next.value}last(){return this.head.prev.value}};$.List=R_;var m9=class{constructor(){this.buffers=new R_,this.totalByteLength=0}get length(){return this.totalByteLength}append(e){this.buffers.push(e),this.totalByteLength+=e.length}getInt32(){if(this.totalByteLength<4)return null;let e=this.buffers.first();if(e!=null&&e.byteLength>=4)return e.readInt32LE(0);let r=this.read(4),n=r.readInt32LE(0);return this.totalByteLength+=4,this.buffers.unshift(r),n}read(e){if(typeof e!="number"||e<0)throw new Zn.MongoInvalidArgumentError('Argument "size" must be a non-negative number');if(e>this.totalByteLength)return Buffer.alloc(0);let r=Buffer.allocUnsafe(e);for(let n=0;n<e;){let i=this.buffers.shift();if(i==null)break;let s=e-n,o=Math.min(s,i.byteLength),u=i.subarray(0,o);r.set(u,n),n+=o,this.totalByteLength-=o,o<i.byteLength&&this.buffers.unshift(i.subarray(o))}return r}};$.BufferPool=m9;var jc=class{constructor(e){this.host=void 0,this.port=void 0,this.socketPath=void 0,this.isIPv6=!1;let r=e.split(" ").join("%20");if(r.endsWith(".sock")){this.socketPath=decodeURIComponent(r);return}let n=`iLoveJS://${r}`,i;try{i=new whe.URL(n)}catch(a){let c=new Zn.MongoRuntimeError(`Unable to parse ${r} with URL`);throw c.cause=a,c}let s=i.hostname,o=i.port,u=decodeURIComponent(s).toLowerCase();if(u.startsWith("[")&&u.endsWith("]")&&(this.isIPv6=!0,u=u.substring(1,s.length-1)),this.host=u.toLowerCase(),typeof o=="number"?this.port=o:typeof o=="string"&&o!==""?this.port=Number.parseInt(o,10):this.port=27017,this.port===0)throw new Zn.MongoParseError("Invalid port (zero) with hostname");Object.freeze(this)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new HostAddress('${this.toString()}')`}toString(){return typeof this.host=="string"?this.isIPv6?`[${this.host}]:${this.port}`:`${this.host}:${this.port}`:`${this.socketPath}`}static fromString(e){return new jc(e)}static fromHostPort(e,r){return e.includes(":")&&(e=`[${e}]`),jc.fromString(`${e}:${r}`)}static fromSrvRecord({name:e,port:r}){return jc.fromHostPort(e,r)}};$.HostAddress=jc;$.DEFAULT_PK_FACTORY={createPk(){return new KB.ObjectId}};$.MONGODB_WARNING_CODE="MONGODB DRIVER";function y9(t){return process.emitWarning(t,{code:$.MONGODB_WARNING_CODE})}$.emitWarning=y9;var GB=new Set;function spe(t){if(!GB.has(t))return GB.add(t),y9(t)}$.emitWarningOnce=spe;function ope(t){return Object.values(t).join(", ")}$.enumToString=ope;function upe(t){return t?!!(t.loadBalanced||t.description.logicalSessionTimeoutMinutes!=null&&t.description.type!==Phe.ServerType.Standalone):!1}$.supportsRetryableWrites=upe;function ape({version:t}){let[e,r,n]=t.split(".").map(i=>Number.parseInt(i,10));return{major:e,minor:r,patch:n}}$.parsePackageVersion=ape;function cpe(t,e=0){let r=Array.from(t);if(e>r.length)throw new Zn.MongoRuntimeError("Limit must be less than the number of items");let n=r.length,i=e%r.length===0?1:r.length-e;for(;n>i;){let s=Math.floor(Math.random()*n);n-=1;let o=r[n];r[n]=r[s],r[s]=o}return e%r.length===0?r:r.slice(i)}$.shuffle=cpe;function lpe(t,e){return!!(t.aggregate||t.count||t.distinct||t.find||t.geoNear||t.mapReduce&&e&&e.out&&(e.out.inline===1||e.out==="inline"))}$.commandSupportsReadConcern=lpe;function dpe(){let t=null;if(typeof process.env.MONGODB_CLIENT_ENCRYPTION_OVERRIDE=="string"&&process.env.MONGODB_CLIENT_ENCRYPTION_OVERRIDE.length>0)try{t=require(process.env.MONGODB_CLIENT_ENCRYPTION_OVERRIDE)}catch{}else try{t=require("mongodb-client-encryption")}catch{}return t}$.getMongoDBClientEncryption=dpe;function fpe(t,e){return t==null&&e==null?0:t==null?-1:e==null?1:t.id.compare(e.id)}$.compareObjectId=fpe;function rq(t){if(typeof t=="number")return Math.trunc(t);let e=Number.parseInt(String(t),10);return Number.isNaN(e)?null:e}$.parseInteger=rq;function hpe(t){let e=rq(t);return e!=null&&e>=0?e:null}$.parseUnsignedInteger=hpe});var g9=h(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.Explain=_a.ExplainVerbosity=void 0;var ppe=re();_a.ExplainVerbosity=Object.freeze({queryPlanner:"queryPlanner",queryPlannerExtended:"queryPlannerExtended",executionStats:"executionStats",allPlansExecution:"allPlansExecution"});var bh=class{constructor(e){typeof e=="boolean"?this.verbosity=e?_a.ExplainVerbosity.allPlansExecution:_a.ExplainVerbosity.queryPlanner:this.verbosity=e}static fromOptions(e){if(e?.explain==null)return;let r=e.explain;if(typeof r=="boolean"||typeof r=="string")return new bh(r);throw new ppe.MongoInvalidArgumentError('Field "explain" must be a string or a boolean')}};_a.Explain=bh});var Ph=h(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.readPreferenceServerSelector=Ei.secondaryWritableServerSelector=Ei.sameServerSelector=Ei.writableServerSelector=Ei.MIN_SECONDARY_WRITE_WIRE_VERSION=void 0;var x_=re(),Ih=wr(),Ai=Wi(),mpe=1e4,nq=90;Ei.MIN_SECONDARY_WRITE_WIRE_VERSION=13;function ype(){return(t,e)=>_9(t,e.filter(r=>r.isWritable))}Ei.writableServerSelector=ype;function gpe(t){return(e,r)=>t?r.filter(n=>n.address===t.address&&n.type!==Ai.ServerType.Unknown):[]}Ei.sameServerSelector=gpe;function _pe(t,e){return!e||!t||t&&t<Ei.MIN_SECONDARY_WRITE_WIRE_VERSION?E9(Ih.ReadPreference.primary):E9(e)}Ei.secondaryWritableServerSelector=_pe;function Epe(t,e,r){if(t.maxStalenessSeconds==null||t.maxStalenessSeconds<0)return r;let n=t.maxStalenessSeconds,i=(e.heartbeatFrequencyMS+mpe)/1e3;if(n<i)throw new x_.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${i} seconds`);if(n<nq)throw new x_.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${nq} seconds`);if(e.type===Ai.TopologyType.ReplicaSetWithPrimary){let s=Array.from(e.servers.values()).filter(N_)[0];return r.reduce((o,u)=>{var a;let l=(u.lastUpdateTime-u.lastWriteDate-(s.lastUpdateTime-s.lastWriteDate)+e.heartbeatFrequencyMS)/1e3,d=(a=t.maxStalenessSeconds)!==null&&a!==void 0?a:0;return l<=d&&o.push(u),o},[])}if(e.type===Ai.TopologyType.ReplicaSetNoPrimary){if(r.length===0)return r;let s=r.reduce((o,u)=>u.lastWriteDate>o.lastWriteDate?u:o);return r.reduce((o,u)=>{var a;let l=(s.lastWriteDate-u.lastWriteDate+e.heartbeatFrequencyMS)/1e3,d=(a=t.maxStalenessSeconds)!==null&&a!==void 0?a:0;return l<=d&&o.push(u),o},[])}return r}function Ape(t,e){let r=Object.keys(t),n=Object.keys(e);for(let i=0;i<r.length;++i){let s=r[i];if(n.indexOf(s)===-1||e[s]!==t[s])return!1}return!0}function Spe(t,e){if(t.tags==null||Array.isArray(t.tags)&&t.tags.length===0)return e;for(let r=0;r<t.tags.length;++r){let n=t.tags[r],i=e.reduce((s,o)=>(Ape(n,o.tags)&&s.push(o),s),[]);if(i.length)return i}return[]}function _9(t,e){let r=e.reduce((i,s)=>i===-1?s.roundTripTime:Math.min(s.roundTripTime,i),-1),n=r+t.localThresholdMS;return e.reduce((i,s)=>(s.roundTripTime<=n&&s.roundTripTime>=r&&i.push(s),i),[])}function N_(t){return t.type===Ai.ServerType.RSPrimary}function wpe(t){return t.type===Ai.ServerType.RSSecondary}function Ope(t){return t.type===Ai.ServerType.RSSecondary||t.type===Ai.ServerType.RSPrimary}function Cpe(t){return t.type!==Ai.ServerType.Unknown}function vpe(t){return t.type===Ai.ServerType.LoadBalancer}function E9(t){if(!t.isValid())throw new x_.MongoInvalidArgumentError("Invalid read preference specified");return(e,r)=>{let n=e.commonWireVersion;if(n&&t.minWireVersion&&t.minWireVersion>n)throw new x_.MongoCompatibilityError(`Minimum wire version '${t.minWireVersion}' required, but found '${n}'`);if(e.type===Ai.TopologyType.LoadBalanced)return r.filter(vpe);if(e.type===Ai.TopologyType.Unknown)return[];if(e.type===Ai.TopologyType.Single||e.type===Ai.TopologyType.Sharded)return _9(e,r.filter(Cpe));let i=t.mode;if(i===Ih.ReadPreference.PRIMARY)return r.filter(N_);if(i===Ih.ReadPreference.PRIMARY_PREFERRED){let u=r.filter(N_);if(u.length)return u}let s=i===Ih.ReadPreference.NEAREST?Ope:wpe,o=_9(e,Spe(t,Epe(t,e,r.filter(s))));return i===Ih.ReadPreference.SECONDARY_PREFERRED&&o.length===0?r.filter(N_):o}}Ei.readPreferenceServerSelector=E9});var _t=h(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.defineAspects=cu.AbstractOperation=cu.Aspect=void 0;var bpe=require("util"),Ipe=Lt(),A9=wr();cu.Aspect={READ_OPERATION:Symbol("READ_OPERATION"),WRITE_OPERATION:Symbol("WRITE_OPERATION"),RETRYABLE:Symbol("RETRYABLE"),EXPLAINABLE:Symbol("EXPLAINABLE"),SKIP_COLLATION:Symbol("SKIP_COLLATION"),CURSOR_CREATING:Symbol("CURSOR_CREATING"),MUST_SELECT_SAME_SERVER:Symbol("MUST_SELECT_SAME_SERVER")};var S9=Symbol("session"),w9=class{constructor(e={}){var r;this.executeAsync=(0,bpe.promisify)((n,i,s)=>{this.execute(n,i,s)}),this.readPreference=this.hasAspect(cu.Aspect.WRITE_OPERATION)?A9.ReadPreference.primary:(r=A9.ReadPreference.fromOptions(e))!==null&&r!==void 0?r:A9.ReadPreference.primary,this.bsonOptions=(0,Ipe.resolveBSONOptions)(e),this[S9]=e.session!=null?e.session:void 0,this.options=e,this.bypassPinningCheck=!!e.bypassPinningCheck,this.trySecondaryWrite=!1}hasAspect(e){let r=this.constructor;return r.aspects==null?!1:r.aspects.has(e)}get session(){return this[S9]}clearSession(){this[S9]=void 0}get canRetryRead(){return!0}get canRetryWrite(){return!0}};cu.AbstractOperation=w9;function Ppe(t,e){return!Array.isArray(e)&&!(e instanceof Set)&&(e=[e]),e=new Set(e),Object.defineProperty(t,"aspects",{value:e,writable:!1}),e}cu.defineAspects=Ppe});var Zt=h(M_=>{"use strict";Object.defineProperty(M_,"__esModule",{value:!0});M_.CommandOperation=void 0;var Tpe=re(),Dpe=g9(),Rpe=Vi(),Npe=Ph(),Th=ye(),xpe=Hi(),Rd=_t(),O9=class extends Rd.AbstractOperation{constructor(e,r){super(r),this.options=r??{};let n=r?.dbName||r?.authdb;if(n?this.ns=new Th.MongoDBNamespace(n,"$cmd"):this.ns=e?e.s.namespace.withCollection("$cmd"):new Th.MongoDBNamespace("admin","$cmd"),this.readConcern=Rpe.ReadConcern.fromOptions(r),this.writeConcern=xpe.WriteConcern.fromOptions(r),e&&e.logger&&(this.logger=e.logger),this.hasAspect(Rd.Aspect.EXPLAINABLE))this.explain=Dpe.Explain.fromOptions(r);else if(r?.explain!=null)throw new Tpe.MongoInvalidArgumentError('Option "explain" is not supported on this command')}get canRetryWrite(){return this.hasAspect(Rd.Aspect.EXPLAINABLE)?this.explain==null:!0}executeCommand(e,r,n,i){this.server=e;let s={...this.options,...this.bsonOptions,readPreference:this.readPreference,session:r},o=(0,Th.maxWireVersion)(e),u=this.session&&this.session.inTransaction();this.readConcern&&(0,Th.commandSupportsReadConcern)(n)&&!u&&Object.assign(n,{readConcern:this.readConcern}),this.trySecondaryWrite&&o<Npe.MIN_SECONDARY_WRITE_WIRE_VERSION&&(s.omitReadPreference=!0),this.writeConcern&&this.hasAspect(Rd.Aspect.WRITE_OPERATION)&&!u&&Object.assign(n,{writeConcern:this.writeConcern}),s.collation&&typeof s.collation=="object"&&!this.hasAspect(Rd.Aspect.SKIP_COLLATION)&&Object.assign(n,{collation:s.collation}),typeof s.maxTimeMS=="number"&&(n.maxTimeMS=s.maxTimeMS),this.hasAspect(Rd.Aspect.EXPLAINABLE)&&this.explain&&(n=(0,Th.decorateWithExplain)(n,this.explain)),e.command(this.ns,n,s,i)}};M_.CommandOperation=O9});var C9=h(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});B_.AddUserOperation=void 0;var Mpe=require("crypto"),Fpe=re(),iq=ye(),Bpe=Zt(),sq=_t(),F_=class extends Bpe.CommandOperation{constructor(e,r,n,i){super(e,i),this.db=e,this.username=r,this.password=n,this.options=i??{}}execute(e,r,n){let i=this.db,s=this.username,o=this.password,u=this.options;if(u.digestPassword!=null)return n(new Fpe.MongoInvalidArgumentError('Option "digestPassword" not supported via addUser, use db.command(...) instead'));let a;!u.roles||Array.isArray(u.roles)&&u.roles.length===0?((0,iq.emitWarningOnce)('Creating a user without roles is deprecated. Defaults to "root" if db is "admin" or "dbOwner" otherwise'),i.databaseName.toLowerCase()==="admin"?a=["root"]:a=["dbOwner"]):a=Array.isArray(u.roles)?u.roles:[u.roles];let c;try{c=(0,iq.getTopology)(i)}catch(p){return n(p)}let l=c.lastHello().maxWireVersion>=7,d=o;if(!l){let p=Mpe.createHash("md5");p.update(`${s}:mongo:${o}`),d=p.digest("hex")}let f={createUser:s,customData:u.customData||{},roles:a,digestPassword:l};typeof o=="string"&&(f.pwd=d),super.executeCommand(e,r,f,n)}};B_.AddUserOperation=F_;(0,sq.defineAspects)(F_,[sq.Aspect.WRITE_OPERATION])});var Gi=h(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});q_.executeOperation=void 0;var _n=re(),v9=wr(),oq=Ph(),b9=ye(),Ea=_t(),qpe=_n.MONGODB_ERROR_CODES.IllegalOperation,uq="This MongoDB deployment does not support retryable writes. Please add retryWrites=false to your connection string.";function $pe(t,e,r){return(0,b9.maybeCallback)(()=>kpe(t,e),r)}q_.executeOperation=$pe;async function kpe(t,e){var r,n;if(!(e instanceof Ea.AbstractOperation))throw new _n.MongoRuntimeError("This method requires a valid operation instance");if(t.topology==null){if(t.s.hasBeenClosed)throw new _n.MongoNotConnectedError("Client must be connected before running operations");t.s.options[Symbol.for("@@mdb.skipPingOnConnect")]=!0;try{await t.connect()}finally{delete t.s.options[Symbol.for("@@mdb.skipPingOnConnect")]}}let{topology:i}=t;if(i==null)throw new _n.MongoRuntimeError("client.connect did not create a topology but also did not throw");i.shouldCheckForSessionSupport()&&await i.selectServerAsync(v9.ReadPreference.primaryPreferred,{});let s=e.session,o;if(i.hasSessionSupport())if(s==null)o=Symbol(),s=t.startSession({owner:o,explicit:!1});else{if(s.hasEnded)throw new _n.MongoExpiredSessionError("Use of expired sessions is not permitted");if(s.snapshotEnabled&&!i.capabilities.supportsSnapshotReads)throw new _n.MongoCompatibilityError("Snapshot reads require MongoDB 5.0 or later")}else{if(s&&s.explicit)throw new _n.MongoCompatibilityError("Current topology does not support sessions");s&&!s.explicit&&(delete e.options.session,e.clearSession(),s=void 0)}let u=(r=e.readPreference)!==null&&r!==void 0?r:v9.ReadPreference.primary,a=!!s?.inTransaction();if(a&&!u.equals(v9.ReadPreference.primary))throw new _n.MongoTransactionError(`Read preference in a transaction must be primary, not: ${u.mode}`);s?.isPinned&&s.transaction.isCommitted&&!e.bypassPinningCheck&&s.unpin();let c;e.hasAspect(Ea.Aspect.MUST_SELECT_SAME_SERVER)?c=(0,oq.sameServerSelector)((n=e.server)===null||n===void 0?void 0:n.description):e.trySecondaryWrite?c=(0,oq.secondaryWritableServerSelector)(i.commonWireVersion,u):c=u;let l=await i.selectServerAsync(c,{session:s});if(s==null)return e.executeAsync(l,void 0);if(!e.hasAspect(Ea.Aspect.RETRYABLE))try{return await e.executeAsync(l,s)}finally{s?.owner!=null&&s.owner===o&&await s.endSession().catch(()=>null)}let d=i.s.options.retryReads&&!a&&e.canRetryRead,f=i.s.options.retryWrites&&!a&&(0,b9.supportsRetryableWrites)(l)&&e.canRetryWrite,p=e.hasAspect(Ea.Aspect.READ_OPERATION),m=e.hasAspect(Ea.Aspect.WRITE_OPERATION),y=p&&d||m&&f;m&&f&&(e.options.willRetryWrite=!0,s.incrementTransactionNumber());try{return await e.executeAsync(l,s)}catch(_){if(y&&_ instanceof _n.MongoError)return await jpe(e,_,{session:s,topology:i,selector:c});throw _}finally{s?.owner!=null&&s.owner===o&&await s.endSession().catch(()=>null)}}async function jpe(t,e,{session:r,topology:n,selector:i}){let s=t.hasAspect(Ea.Aspect.WRITE_OPERATION),o=t.hasAspect(Ea.Aspect.READ_OPERATION);if(s&&e.code===qpe)throw new _n.MongoServerError({message:uq,errmsg:uq,originalError:e});if(s&&!(0,_n.isRetryableWriteError)(e)||o&&!(0,_n.isRetryableReadError)(e))throw e;e instanceof _n.MongoNetworkError&&r.isPinned&&!r.inTransaction()&&t.hasAspect(Ea.Aspect.CURSOR_CREATING)&&r.unpin({force:!0,forceClear:!0});let u=await n.selectServerAsync(i,{session:r});if(s&&!(0,b9.supportsRetryableWrites)(u))throw new _n.MongoUnexpectedServerResponseError("Selected server does not support retryable writes");try{return await t.executeAsync(u,r)}catch(a){throw a instanceof _n.MongoError&&a.hasErrorLabel(_n.MongoErrorLabel.NoWritesPerformed)?e:a}}});var cq=h(k_=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});k_.ListDatabasesOperation=void 0;var aq=ye(),Lpe=Zt(),I9=_t(),$_=class extends Lpe.CommandOperation{constructor(e,r){super(e,r),this.options=r??{},this.ns=new aq.MongoDBNamespace("admin","$cmd")}execute(e,r,n){let i={listDatabases:1};this.options.nameOnly&&(i.nameOnly=Number(i.nameOnly)),this.options.filter&&(i.filter=this.options.filter),typeof this.options.authorizedDatabases=="boolean"&&(i.authorizedDatabases=this.options.authorizedDatabases),(0,aq.maxWireVersion)(e)>=9&&this.options.comment!==void 0&&(i.comment=this.options.comment),super.executeCommand(e,r,i,n)}};k_.ListDatabasesOperation=$_;(0,I9.defineAspects)($_,[I9.Aspect.READ_OPERATION,I9.Aspect.RETRYABLE])});var P9=h(L_=>{"use strict";Object.defineProperty(L_,"__esModule",{value:!0});L_.RemoveUserOperation=void 0;var Upe=Zt(),lq=_t(),j_=class extends Upe.CommandOperation{constructor(e,r,n){super(e,n),this.options=n,this.username=r}execute(e,r,n){super.executeCommand(e,r,{dropUser:this.username},i=>{n(i,!i)})}};L_.RemoveUserOperation=j_;(0,lq.defineAspects)(j_,[lq.Aspect.WRITE_OPERATION])});var Dh=h(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.RunAdminCommandOperation=Nd.RunCommandOperation=void 0;var zpe=ye(),Vpe=Zt(),U_=class extends Vpe.CommandOperation{constructor(e,r,n){super(e,n),this.options=n??{},this.command=r}execute(e,r,n){let i=this.command;this.executeCommand(e,r,i,n)}};Nd.RunCommandOperation=U_;var T9=class extends U_{constructor(e,r,n){super(e,r,n),this.ns=new zpe.MongoDBNamespace("admin")}};Nd.RunAdminCommandOperation=T9});var dq=h(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0});V_.ValidateCollectionOperation=void 0;var z_=re(),Wpe=Zt(),D9=class extends Wpe.CommandOperation{constructor(e,r,n){let i={validate:r},s=Object.keys(n);for(let o=0;o<s.length;o++)Object.prototype.hasOwnProperty.call(n,s[o])&&s[o]!=="session"&&(i[s[o]]=n[s[o]]);super(e.s.db,n),this.options=n,this.command=i,this.collectionName=r}execute(e,r,n){let i=this.collectionName;super.executeCommand(e,r,this.command,(s,o)=>s!=null?n(s):o.ok===0?n(new z_.MongoRuntimeError("Error with validate command")):o.result!=null&&typeof o.result!="string"?n(new z_.MongoRuntimeError("Error with validation data")):o.result!=null&&o.result.match(/exception|corrupt/)!=null?n(new z_.MongoRuntimeError(`Invalid collection ${i}`)):o.valid!=null&&!o.valid?n(new z_.MongoRuntimeError(`Invalid collection ${i}`)):n(void 0,o))}};V_.ValidateCollectionOperation=D9});var N9=h(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});W_.Admin=void 0;var Hpe=C9(),Rh=Gi(),Gpe=cq(),Kpe=P9(),Ype=Dh(),Jpe=dq(),R9=class{constructor(e){this.s={db:e}}command(e,r,n){return typeof r=="function"&&(n=r,r={}),r=Object.assign({dbName:"admin"},r),(0,Rh.executeOperation)(this.s.db.s.client,new Ype.RunCommandOperation(this.s.db,e,r),n)}buildInfo(e,r){return typeof e=="function"&&(r=e,e={}),e=e??{},this.command({buildinfo:1},e,r)}serverInfo(e,r){return typeof e=="function"&&(r=e,e={}),e=e??{},this.command({buildinfo:1},e,r)}serverStatus(e,r){return typeof e=="function"&&(r=e,e={}),e=e??{},this.command({serverStatus:1},e,r)}ping(e,r){return typeof e=="function"&&(r=e,e={}),e=e??{},this.command({ping:1},e,r)}addUser(e,r,n,i){return typeof r=="function"?(i=r,r=void 0,n={}):typeof r!="string"?typeof n=="function"?(i=n,n=r,r=void 0):(n=r,i=void 0,r=void 0):typeof n=="function"&&(i=n,n={}),n=Object.assign({dbName:"admin"},n),(0,Rh.executeOperation)(this.s.db.s.client,new Hpe.AddUserOperation(this.s.db,e,r,n),i)}removeUser(e,r,n){return typeof r=="function"&&(n=r,r={}),r=Object.assign({dbName:"admin"},r),(0,Rh.executeOperation)(this.s.db.s.client,new Kpe.RemoveUserOperation(this.s.db,e,r),n)}validateCollection(e,r,n){return typeof r=="function"&&(n=r,r={}),r=r??{},(0,Rh.executeOperation)(this.s.db.s.client,new Jpe.ValidateCollectionOperation(this,e,r),n)}listDatabases(e,r){return typeof e=="function"&&(r=e,e={}),e=e??{},(0,Rh.executeOperation)(this.s.db.s.client,new Gpe.ListDatabasesOperation(this.s.db,e),r)}replSetGetStatus(e,r){return typeof e=="function"&&(r=e,e={}),e=e??{},this.command({replSetGetStatus:1},e,r)}};W_.Admin=R9});var M9=h(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.makeDeleteStatement=ho.DeleteManyOperation=ho.DeleteOneOperation=ho.DeleteOperation=void 0;var Nh=re(),Qpe=Zt(),Ki=_t(),xd=class extends Qpe.CommandOperation{constructor(e,r,n){super(void 0,n),this.options=n,this.ns=e,this.statements=r}get canRetryWrite(){return super.canRetryWrite===!1?!1:this.statements.every(e=>e.limit!=null?e.limit>0:!0)}execute(e,r,n){var i;let s=(i=this.options)!==null&&i!==void 0?i:{},o=typeof s.ordered=="boolean"?s.ordered:!0,u={delete:this.ns.collection,deletes:this.statements,ordered:o};if(s.let&&(u.let=s.let),s.comment!==void 0&&(u.comment=s.comment),this.writeConcern&&this.writeConcern.w===0&&this.statements.find(c=>c.hint)){n(new Nh.MongoCompatibilityError("hint is not supported with unacknowledged writes"));return}super.executeCommand(e,r,u,n)}};ho.DeleteOperation=xd;var H_=class extends xd{constructor(e,r,n){super(e.s.namespace,[x9(r,{...n,limit:1})],n)}execute(e,r,n){super.execute(e,r,(i,s)=>{var o,u;if(i||s==null)return n(i);if(s.code)return n(new Nh.MongoServerError(s));if(s.writeErrors)return n(new Nh.MongoServerError(s.writeErrors[0]));if(this.explain)return n(void 0,s);n(void 0,{acknowledged:(u=((o=this.writeConcern)===null||o===void 0?void 0:o.w)!==0)!==null&&u!==void 0?u:!0,deletedCount:s.n})})}};ho.DeleteOneOperation=H_;var G_=class extends xd{constructor(e,r,n){super(e.s.namespace,[x9(r,n)],n)}execute(e,r,n){super.execute(e,r,(i,s)=>{var o,u;if(i||s==null)return n(i);if(s.code)return n(new Nh.MongoServerError(s));if(s.writeErrors)return n(new Nh.MongoServerError(s.writeErrors[0]));if(this.explain)return n(void 0,s);n(void 0,{acknowledged:(u=((o=this.writeConcern)===null||o===void 0?void 0:o.w)!==0)!==null&&u!==void 0?u:!0,deletedCount:s.n})})}};ho.DeleteManyOperation=G_;function x9(t,e){let r={q:t,limit:typeof e.limit=="number"?e.limit:0};return e.single===!0&&(r.limit=1),e.collation&&(r.collation=e.collation),e.hint&&(r.hint=e.hint),r}ho.makeDeleteStatement=x9;(0,Ki.defineAspects)(xd,[Ki.Aspect.RETRYABLE,Ki.Aspect.WRITE_OPERATION]);(0,Ki.defineAspects)(H_,[Ki.Aspect.RETRYABLE,Ki.Aspect.WRITE_OPERATION,Ki.Aspect.EXPLAINABLE,Ki.Aspect.SKIP_COLLATION]);(0,Ki.defineAspects)(G_,[Ki.Aspect.WRITE_OPERATION,Ki.Aspect.EXPLAINABLE,Ki.Aspect.SKIP_COLLATION])});var B9=h(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});Y_.BulkWriteOperation=void 0;var F9=_t(),K_=class extends F9.AbstractOperation{constructor(e,r,n){super(n),this.options=n,this.collection=e,this.operations=r}execute(e,r,n){let i=this.collection,s=this.operations,o={...this.options,...this.bsonOptions,readPreference:this.readPreference},u=o.ordered===!1?i.initializeUnorderedBulkOp(o):i.initializeOrderedBulkOp(o);try{for(let a=0;a<s.length;a++)u.raw(s[a])}catch(a){return n(a)}u.execute({...o,session:r},(a,c)=>{if(!c&&a)return n(a);n(void 0,c)})}};Y_.BulkWriteOperation=K_;(0,F9.defineAspects)(K_,[F9.Aspect.WRITE_OPERATION])});var q9=h(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.prepareDocs=Md.indexInformation=void 0;var Xpe=re(),Zpe=ye();function e0e(t,e,r,n){let i=r,s=n;typeof r=="function"&&(s=r,i={});let o=i.full==null?!1:i.full,u;try{u=(0,Zpe.getTopology)(t)}catch(c){return s(c)}if(u.isDestroyed())return s(new Xpe.MongoTopologyClosedError);function a(c){let l={};for(let d=0;d<c.length;d++){let f=c[d];l[f.name]=[];for(let p in f.key)l[f.name].push([p,f.key[p]])}return l}t.collection(e).listIndexes(i).toArray((c,l)=>{if(c)return s(c);if(!Array.isArray(l))return s(void 0,[]);if(o)return s(void 0,l);s(void 0,a(l))})}Md.indexInformation=e0e;function t0e(t,e,r){var n;return(typeof r.forceServerObjectId=="boolean"?r.forceServerObjectId:(n=t.s.db.options)===null||n===void 0?void 0:n.forceServerObjectId)===!0?e:e.map(s=>(s._id==null&&(s._id=t.s.pkFactory.createPk()),s))}Md.prepareDocs=t0e});var $9=h(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.InsertManyOperation=Aa.InsertOneOperation=Aa.InsertOperation=void 0;var J_=re(),r0e=Hi(),n0e=B9(),i0e=Zt(),fq=q9(),lu=_t(),xh=class extends i0e.CommandOperation{constructor(e,r,n){var i;super(void 0,n),this.options={...n,checkKeys:(i=n.checkKeys)!==null&&i!==void 0?i:!1},this.ns=e,this.documents=r}execute(e,r,n){var i;let s=(i=this.options)!==null&&i!==void 0?i:{},o=typeof s.ordered=="boolean"?s.ordered:!0,u={insert:this.ns.collection,documents:this.documents,ordered:o};typeof s.bypassDocumentValidation=="boolean"&&(u.bypassDocumentValidation=s.bypassDocumentValidation),s.comment!==void 0&&(u.comment=s.comment),super.executeCommand(e,r,u,n)}};Aa.InsertOperation=xh;var Q_=class extends xh{constructor(e,r,n){super(e.s.namespace,(0,fq.prepareDocs)(e,[r],n),n)}execute(e,r,n){super.execute(e,r,(i,s)=>{var o,u;if(i||s==null)return n(i);if(s.code)return n(new J_.MongoServerError(s));if(s.writeErrors)return n(new J_.MongoServerError(s.writeErrors[0]));n(void 0,{acknowledged:(u=((o=this.writeConcern)===null||o===void 0?void 0:o.w)!==0)!==null&&u!==void 0?u:!0,insertedId:this.documents[0]._id})})}};Aa.InsertOneOperation=Q_;var X_=class extends lu.AbstractOperation{constructor(e,r,n){if(super(n),!Array.isArray(r))throw new J_.MongoInvalidArgumentError('Argument "docs" must be an array of documents');this.options=n,this.collection=e,this.docs=r}execute(e,r,n){let i=this.collection,s={...this.options,...this.bsonOptions,readPreference:this.readPreference},o=r0e.WriteConcern.fromOptions(s);new n0e.BulkWriteOperation(i,(0,fq.prepareDocs)(i,this.docs,s).map(a=>({insertOne:{document:a}})),s).execute(e,r,(a,c)=>{var l;if(a||c==null)return a&&a.message==="Operation must be an object with an operation key"&&(a=new J_.MongoInvalidArgumentError("Collection.insertMany() cannot be called with an array that has null/undefined values")),n(a);n(void 0,{acknowledged:(l=o?.w!==0)!==null&&l!==void 0?l:!0,insertedCount:c.insertedCount,insertedIds:c.insertedIds})})}};Aa.InsertManyOperation=X_;(0,lu.defineAspects)(xh,[lu.Aspect.RETRYABLE,lu.Aspect.WRITE_OPERATION]);(0,lu.defineAspects)(Q_,[lu.Aspect.RETRYABLE,lu.Aspect.WRITE_OPERATION]);(0,lu.defineAspects)(X_,[lu.Aspect.WRITE_OPERATION])});var j9=h(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.makeUpdateStatement=Yi.ReplaceOneOperation=Yi.UpdateManyOperation=Yi.UpdateOneOperation=Yi.UpdateOperation=void 0;var Ji=re(),k9=ye(),s0e=Zt(),Kr=_t(),Uc=class extends s0e.CommandOperation{constructor(e,r,n){super(void 0,n),this.options=n,this.ns=e,this.statements=r}get canRetryWrite(){return super.canRetryWrite===!1?!1:this.statements.every(e=>e.multi==null||e.multi===!1)}execute(e,r,n){var i;let s=(i=this.options)!==null&&i!==void 0?i:{},o=typeof s.ordered=="boolean"?s.ordered:!0,u={update:this.ns.collection,updates:this.statements,ordered:o};if(typeof s.bypassDocumentValidation=="boolean"&&(u.bypassDocumentValidation=s.bypassDocumentValidation),s.let&&(u.let=s.let),s.comment!==void 0&&(u.comment=s.comment),this.writeConcern&&this.writeConcern.w===0&&this.statements.find(c=>c.hint)){n(new Ji.MongoCompatibilityError("hint is not supported with unacknowledged writes"));return}super.executeCommand(e,r,u,n)}};Yi.UpdateOperation=Uc;var Z_=class extends Uc{constructor(e,r,n,i){if(super(e.s.namespace,[r2(r,n,{...i,multi:!1})],i),!(0,k9.hasAtomicOperators)(n))throw new Ji.MongoInvalidArgumentError("Update document requires atomic operators")}execute(e,r,n){super.execute(e,r,(i,s)=>{var o,u;if(i||!s)return n(i);if(this.explain!=null)return n(void 0,s);if(s.code)return n(new Ji.MongoServerError(s));if(s.writeErrors)return n(new Ji.MongoServerError(s.writeErrors[0]));n(void 0,{acknowledged:(u=((o=this.writeConcern)===null||o===void 0?void 0:o.w)!==0)!==null&&u!==void 0?u:!0,modifiedCount:s.nModified!=null?s.nModified:s.n,upsertedId:Array.isArray(s.upserted)&&s.upserted.length>0?s.upserted[0]._id:null,upsertedCount:Array.isArray(s.upserted)&&s.upserted.length?s.upserted.length:0,matchedCount:Array.isArray(s.upserted)&&s.upserted.length>0?0:s.n})})}};Yi.UpdateOneOperation=Z_;var e2=class extends Uc{constructor(e,r,n,i){if(super(e.s.namespace,[r2(r,n,{...i,multi:!0})],i),!(0,k9.hasAtomicOperators)(n))throw new Ji.MongoInvalidArgumentError("Update document requires atomic operators")}execute(e,r,n){super.execute(e,r,(i,s)=>{var o,u;if(i||!s)return n(i);if(this.explain!=null)return n(void 0,s);if(s.code)return n(new Ji.MongoServerError(s));if(s.writeErrors)return n(new Ji.MongoServerError(s.writeErrors[0]));n(void 0,{acknowledged:(u=((o=this.writeConcern)===null||o===void 0?void 0:o.w)!==0)!==null&&u!==void 0?u:!0,modifiedCount:s.nModified!=null?s.nModified:s.n,upsertedId:Array.isArray(s.upserted)&&s.upserted.length>0?s.upserted[0]._id:null,upsertedCount:Array.isArray(s.upserted)&&s.upserted.length?s.upserted.length:0,matchedCount:Array.isArray(s.upserted)&&s.upserted.length>0?0:s.n})})}};Yi.UpdateManyOperation=e2;var t2=class extends Uc{constructor(e,r,n,i){if(super(e.s.namespace,[r2(r,n,{...i,multi:!1})],i),(0,k9.hasAtomicOperators)(n))throw new Ji.MongoInvalidArgumentError("Replacement document must not contain atomic operators")}execute(e,r,n){super.execute(e,r,(i,s)=>{var o,u;if(i||!s)return n(i);if(this.explain!=null)return n(void 0,s);if(s.code)return n(new Ji.MongoServerError(s));if(s.writeErrors)return n(new Ji.MongoServerError(s.writeErrors[0]));n(void 0,{acknowledged:(u=((o=this.writeConcern)===null||o===void 0?void 0:o.w)!==0)!==null&&u!==void 0?u:!0,modifiedCount:s.nModified!=null?s.nModified:s.n,upsertedId:Array.isArray(s.upserted)&&s.upserted.length>0?s.upserted[0]._id:null,upsertedCount:Array.isArray(s.upserted)&&s.upserted.length?s.upserted.length:0,matchedCount:Array.isArray(s.upserted)&&s.upserted.length>0?0:s.n})})}};Yi.ReplaceOneOperation=t2;function r2(t,e,r){if(t==null||typeof t!="object")throw new Ji.MongoInvalidArgumentError("Selector must be a valid JavaScript object");if(e==null||typeof e!="object")throw new Ji.MongoInvalidArgumentError("Document must be a valid JavaScript object");let n={q:t,u:e};return typeof r.upsert=="boolean"&&(n.upsert=r.upsert),r.multi&&(n.multi=r.multi),r.hint&&(n.hint=r.hint),r.arrayFilters&&(n.arrayFilters=r.arrayFilters),r.collation&&(n.collation=r.collation),n}Yi.makeUpdateStatement=r2;(0,Kr.defineAspects)(Uc,[Kr.Aspect.RETRYABLE,Kr.Aspect.WRITE_OPERATION,Kr.Aspect.SKIP_COLLATION]);(0,Kr.defineAspects)(Z_,[Kr.Aspect.RETRYABLE,Kr.Aspect.WRITE_OPERATION,Kr.Aspect.EXPLAINABLE,Kr.Aspect.SKIP_COLLATION]);(0,Kr.defineAspects)(e2,[Kr.Aspect.WRITE_OPERATION,Kr.Aspect.EXPLAINABLE,Kr.Aspect.SKIP_COLLATION]);(0,Kr.defineAspects)(t2,[Kr.Aspect.RETRYABLE,Kr.Aspect.WRITE_OPERATION,Kr.Aspect.SKIP_COLLATION])});var qh=h(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.BulkOperationBase=Ge.FindOperators=Ge.MongoBulkWriteError=Ge.mergeBatchResults=Ge.WriteError=Ge.WriteConcernError=Ge.BulkWriteResult=Ge.Batch=Ge.BatchType=void 0;var Bd=Lt(),xr=re(),Fh=M9(),i2=Gi(),o0e=$9(),u0e=_t(),zc=j9(),du=ye(),hq=Hi(),Fd=Symbol("serverError");Ge.BatchType=Object.freeze({INSERT:1,UPDATE:2,DELETE:3});var L9=class{constructor(e,r){this.originalZeroIndex=r,this.currentIndex=0,this.originalIndexes=[],this.batchType=e,this.operations=[],this.size=0,this.sizeBytes=0}};Ge.Batch=L9;var Vc=class{constructor(e){this.result=e}get insertedCount(){var e;return(e=this.result.nInserted)!==null&&e!==void 0?e:0}get matchedCount(){var e;return(e=this.result.nMatched)!==null&&e!==void 0?e:0}get modifiedCount(){var e;return(e=this.result.nModified)!==null&&e!==void 0?e:0}get deletedCount(){var e;return(e=this.result.nRemoved)!==null&&e!==void 0?e:0}get upsertedCount(){var e;return(e=this.result.upserted.length)!==null&&e!==void 0?e:0}get upsertedIds(){var e;let r={};for(let n of(e=this.result.upserted)!==null&&e!==void 0?e:[])r[n.index]=n._id;return r}get insertedIds(){var e;let r={};for(let n of(e=this.result.insertedIds)!==null&&e!==void 0?e:[])r[n.index]=n._id;return r}get ok(){return this.result.ok}get nInserted(){return this.result.nInserted}get nUpserted(){return this.result.nUpserted}get nMatched(){return this.result.nMatched}get nModified(){return this.result.nModified}get nRemoved(){return this.result.nRemoved}getInsertedIds(){return this.result.insertedIds}getUpsertedIds(){return this.result.upserted}getUpsertedIdAt(e){return this.result.upserted[e]}getRawResponse(){return this.result}hasWriteErrors(){return this.result.writeErrors.length>0}getWriteErrorCount(){return this.result.writeErrors.length}getWriteErrorAt(e){return e<this.result.writeErrors.length?this.result.writeErrors[e]:void 0}getWriteErrors(){return this.result.writeErrors}getLastOp(){return this.result.opTime}getWriteConcernError(){if(this.result.writeConcernErrors.length!==0){if(this.result.writeConcernErrors.length===1)return this.result.writeConcernErrors[0];{let e="";for(let r=0;r<this.result.writeConcernErrors.length;r++){let n=this.result.writeConcernErrors[r];e=e+n.errmsg,r===0&&(e=e+" and ")}return new qd({errmsg:e,code:xr.MONGODB_ERROR_CODES.WriteConcernFailed})}}}toJSON(){return this.result}toString(){return`BulkWriteResult(${this.toJSON()})`}isOk(){return this.result.ok===1}};Ge.BulkWriteResult=Vc;var qd=class{constructor(e){this[Fd]=e}get code(){return this[Fd].code}get errmsg(){return this[Fd].errmsg}get errInfo(){return this[Fd].errInfo}get err(){return this[Fd]}toJSON(){return this[Fd]}toString(){return`WriteConcernError(${this.errmsg})`}};Ge.WriteConcernError=qd;var Bh=class{constructor(e){this.err=e}get code(){return this.err.code}get index(){return this.err.index}get errmsg(){return this.err.errmsg}get errInfo(){return this.err.errInfo}getOperation(){return this.err.op}toJSON(){return{code:this.err.code,index:this.err.index,errmsg:this.err.errmsg,op:this.err.op}}toString(){return`WriteError(${JSON.stringify(this.toJSON())})`}};Ge.WriteError=Bh;function n2(t){return typeof t=="number"?Bd.Long.fromNumber(t):t}function s2(t,e,r,n){if(r?n=r:n&&n.result&&(n=n.result),n==null)return;if(n.ok===0&&e.ok===1){e.ok=0;let s={index:0,code:n.code||0,errmsg:n.message,errInfo:n.errInfo,op:t.operations[0]};e.writeErrors.push(new Bh(s));return}else if(n.ok===0&&e.ok===0)return;if(n.opTime||n.lastOp){let s=n.lastOp||n.opTime;if(s._bsontype==="Timestamp"&&(s={ts:s,t:Bd.Long.ZERO}),!e.opTime)e.opTime=s;else{let o=n2(e.opTime.ts),u=n2(s.ts);if(u.greaterThan(o))e.opTime=s;else if(u.equals(o)){let a=n2(e.opTime.t);n2(s.t).greaterThan(a)&&(e.opTime=s)}}}yq(t)&&n.n&&(e.nInserted=e.nInserted+n.n),V9(t)&&n.n&&(e.nRemoved=e.nRemoved+n.n);let i=0;if(Array.isArray(n.upserted)){i=n.upserted.length;for(let s=0;s<n.upserted.length;s++)e.upserted.push({index:n.upserted[s].index+t.originalZeroIndex,_id:n.upserted[s]._id})}else n.upserted&&(i=1,e.upserted.push({index:t.originalZeroIndex,_id:n.upserted}));if(z9(t)&&n.n){let s=n.nModified;e.nUpserted=e.nUpserted+i,e.nMatched=e.nMatched+(n.n-i),typeof s=="number"?e.nModified=e.nModified+s:e.nModified=0}if(Array.isArray(n.writeErrors))for(let s=0;s<n.writeErrors.length;s++){let o={index:t.originalIndexes[n.writeErrors[s].index],code:n.writeErrors[s].code,errmsg:n.writeErrors[s].errmsg,errInfo:n.writeErrors[s].errInfo,op:t.operations[n.writeErrors[s].index]};e.writeErrors.push(new Bh(o))}n.writeConcernError&&e.writeConcernErrors.push(new qd(n.writeConcernError))}Ge.mergeBatchResults=s2;function mq(t,e,r){if(t.s.batches.length===0)return r(void 0,new Vc(t.s.bulkResult));let n=t.s.batches.shift();function i(o,u){if(o&&"message"in o&&!(o instanceof xr.MongoWriteConcernError))return r(new Wc(o,new Vc(t.s.bulkResult)));if(o instanceof xr.MongoWriteConcernError)return a0e(n,t.s.bulkResult,o,r);let a=new Vc(t.s.bulkResult);if(s2(n,t.s.bulkResult,o,u)!=null)return r(void 0,a);t.handleWriteError(r,a)||mq(t,e,r)}let s=(0,du.resolveOptions)(t,{...e,ordered:t.isOrdered});s.bypassDocumentValidation!==!0&&delete s.bypassDocumentValidation,t.operationId&&(i.operationId=t.operationId),t.s.bypassDocumentValidation===!0&&(s.bypassDocumentValidation=!0),t.s.checkKeys===!1&&(s.checkKeys=!1),s.retryWrites&&(z9(n)&&(s.retryWrites=s.retryWrites&&!n.operations.some(o=>o.multi)),V9(n)&&(s.retryWrites=s.retryWrites&&!n.operations.some(o=>o.limit===0)));try{yq(n)?(0,i2.executeOperation)(t.s.collection.s.db.s.client,new o0e.InsertOperation(t.s.namespace,n.operations,s),i):z9(n)?(0,i2.executeOperation)(t.s.collection.s.db.s.client,new zc.UpdateOperation(t.s.namespace,n.operations,s),i):V9(n)&&(0,i2.executeOperation)(t.s.collection.s.db.s.client,new Fh.DeleteOperation(t.s.namespace,n.operations,s),i)}catch(o){o.ok=0,s2(n,t.s.bulkResult,o,void 0),r()}}function a0e(t,e,r,n){var i,s;s2(t,e,void 0,r.result),n(new Wc({message:(i=r.result)===null||i===void 0?void 0:i.writeConcernError.errmsg,code:(s=r.result)===null||s===void 0?void 0:s.writeConcernError.result},new Vc(e)))}var Wc=class extends xr.MongoServerError{constructor(e,r){var n;super(e),this.writeErrors=[],e instanceof qd?this.err=e:e instanceof Error||(this.message=e.message,this.code=e.code,this.writeErrors=(n=e.writeErrors)!==null&&n!==void 0?n:[]),this.result=r,Object.assign(this,e)}get name(){return"MongoBulkWriteError"}get insertedCount(){return this.result.insertedCount}get matchedCount(){return this.result.matchedCount}get modifiedCount(){return this.result.modifiedCount}get deletedCount(){return this.result.deletedCount}get upsertedCount(){return this.result.upsertedCount}get insertedIds(){return this.result.insertedIds}get upsertedIds(){return this.result.upsertedIds}};Ge.MongoBulkWriteError=Wc;var o2=class{constructor(e){this.bulkOperation=e}update(e){let r=Mh(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ge.BatchType.UPDATE,(0,zc.makeUpdateStatement)(r.selector,e,{...r,multi:!0}))}updateOne(e){if(!(0,du.hasAtomicOperators)(e))throw new xr.MongoInvalidArgumentError("Update document requires atomic operators");let r=Mh(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ge.BatchType.UPDATE,(0,zc.makeUpdateStatement)(r.selector,e,{...r,multi:!1}))}replaceOne(e){if((0,du.hasAtomicOperators)(e))throw new xr.MongoInvalidArgumentError("Replacement document must not use atomic operators");let r=Mh(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ge.BatchType.UPDATE,(0,zc.makeUpdateStatement)(r.selector,e,{...r,multi:!1}))}deleteOne(){let e=Mh(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ge.BatchType.DELETE,(0,Fh.makeDeleteStatement)(e.selector,{...e,limit:1}))}delete(){let e=Mh(this.bulkOperation);return this.bulkOperation.addToOperationsList(Ge.BatchType.DELETE,(0,Fh.makeDeleteStatement)(e.selector,{...e,limit:0}))}upsert(){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.upsert=!0,this}collation(e){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.collation=e,this}arrayFilters(e){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.arrayFilters=e,this}hint(e){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.hint=e,this}};Ge.FindOperators=o2;var U9=class extends u0e.AbstractOperation{constructor(e,r){super(r),this.bulkOperation=e}execute(e,r,n){return this.options.session==null&&(this.options.session=r),mq(this.bulkOperation,this.options,n)}},u2=class{constructor(e,r,n){this.isOrdered=n;let i=(0,du.getTopology)(e);r=r??{};let s=e.s.namespace,o=!1,u=void 0,a=i.lastHello(),c=!!(i.s.options&&i.s.options.autoEncrypter),l=a&&a.maxBsonObjectSize?a.maxBsonObjectSize:1024*1024*16,d=c?1024*1024*2:l,f=a&&a.maxWriteBatchSize?a.maxWriteBatchSize:1e3,p=(f-1).toString(10).length+2,m=Object.assign({},r);m=(0,du.applyRetryableWrites)(m,e.s.db);let y={ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]};this.s={bulkResult:y,currentBatch:void 0,currentIndex:0,currentBatchSize:0,currentBatchSizeBytes:0,currentInsertBatch:void 0,currentUpdateBatch:void 0,currentRemoveBatch:void 0,batches:[],writeConcern:hq.WriteConcern.fromOptions(r),maxBsonObjectSize:l,maxBatchSizeBytes:d,maxWriteBatchSize:f,maxKeySize:p,namespace:s,topology:i,options:m,bsonOptions:(0,Bd.resolveBSONOptions)(r),currentOp:u,executed:o,collection:e,err:void 0,checkKeys:typeof r.checkKeys=="boolean"?r.checkKeys:!1},r.bypassDocumentValidation===!0&&(this.s.bypassDocumentValidation=!0)}insert(e){return e._id==null&&!pq(this)&&(e._id=new Bd.ObjectId),this.addToOperationsList(Ge.BatchType.INSERT,e)}find(e){if(!e)throw new xr.MongoInvalidArgumentError("Bulk find operation must specify a selector");return this.s.currentOp={selector:e},new o2(this)}raw(e){if(e==null||typeof e!="object")throw new xr.MongoInvalidArgumentError("Operation must be an object with an operation key");if("insertOne"in e){let r=pq(this);return e.insertOne&&e.insertOne.document==null?(r!==!0&&e.insertOne._id==null&&(e.insertOne._id=new Bd.ObjectId),this.addToOperationsList(Ge.BatchType.INSERT,e.insertOne)):(r!==!0&&e.insertOne.document._id==null&&(e.insertOne.document._id=new Bd.ObjectId),this.addToOperationsList(Ge.BatchType.INSERT,e.insertOne.document))}if("replaceOne"in e||"updateOne"in e||"updateMany"in e){if("replaceOne"in e){if("q"in e.replaceOne)throw new xr.MongoInvalidArgumentError("Raw operations are not allowed");let r=(0,zc.makeUpdateStatement)(e.replaceOne.filter,e.replaceOne.replacement,{...e.replaceOne,multi:!1});if((0,du.hasAtomicOperators)(r.u))throw new xr.MongoInvalidArgumentError("Replacement document must not use atomic operators");return this.addToOperationsList(Ge.BatchType.UPDATE,r)}if("updateOne"in e){if("q"in e.updateOne)throw new xr.MongoInvalidArgumentError("Raw operations are not allowed");let r=(0,zc.makeUpdateStatement)(e.updateOne.filter,e.updateOne.update,{...e.updateOne,multi:!1});if(!(0,du.hasAtomicOperators)(r.u))throw new xr.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(Ge.BatchType.UPDATE,r)}if("updateMany"in e){if("q"in e.updateMany)throw new xr.MongoInvalidArgumentError("Raw operations are not allowed");let r=(0,zc.makeUpdateStatement)(e.updateMany.filter,e.updateMany.update,{...e.updateMany,multi:!0});if(!(0,du.hasAtomicOperators)(r.u))throw new xr.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(Ge.BatchType.UPDATE,r)}}if("deleteOne"in e){if("q"in e.deleteOne)throw new xr.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(Ge.BatchType.DELETE,(0,Fh.makeDeleteStatement)(e.deleteOne.filter,{...e.deleteOne,limit:1}))}if("deleteMany"in e){if("q"in e.deleteMany)throw new xr.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(Ge.BatchType.DELETE,(0,Fh.makeDeleteStatement)(e.deleteMany.filter,{...e.deleteMany,limit:0}))}throw new xr.MongoInvalidArgumentError("bulkWrite only supports insertOne, updateOne, updateMany, deleteOne, deleteMany")}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get batches(){let e=[...this.s.batches];return this.isOrdered?this.s.currentBatch&&e.push(this.s.currentBatch):(this.s.currentInsertBatch&&e.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&e.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&e.push(this.s.currentRemoveBatch)),e}execute(e,r){return r=typeof r=="function"?r:typeof e=="function"?e:void 0,(0,du.maybeCallback)(async()=>{if(e=e!=null&&typeof e!="function"?e:{},this.s.executed)throw new xr.MongoBatchReExecutionError;let n=hq.WriteConcern.fromOptions(e);if(n&&(this.s.writeConcern=n),this.isOrdered?this.s.currentBatch&&this.s.batches.push(this.s.currentBatch):(this.s.currentInsertBatch&&this.s.batches.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&this.s.batches.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&this.s.batches.push(this.s.currentRemoveBatch)),this.s.batches.length===0)throw new xr.MongoInvalidArgumentError("Invalid BulkOperation, Batch cannot be empty");this.s.executed=!0;let i={...this.s.options,...e},s=new U9(this,i);return(0,i2.executeOperation)(this.s.collection.s.db.s.client,s)},r)}handleWriteError(e,r){if(this.s.bulkResult.writeErrors.length>0){let i=this.s.bulkResult.writeErrors[0].errmsg?this.s.bulkResult.writeErrors[0].errmsg:"write operation failed";return e(new Wc({message:i,code:this.s.bulkResult.writeErrors[0].code,writeErrors:this.s.bulkResult.writeErrors},r)),!0}let n=r.getWriteConcernError();return n?(e(new Wc(n,r)),!0):!1}};Ge.BulkOperationBase=u2;Object.defineProperty(u2.prototype,"length",{enumerable:!0,get(){return this.s.currentIndex}});function pq(t){var e,r;return typeof t.s.options.forceServerObjectId=="boolean"?t.s.options.forceServerObjectId:typeof((e=t.s.collection.s.db.options)===null||e===void 0?void 0:e.forceServerObjectId)=="boolean"?(r=t.s.collection.s.db.options)===null||r===void 0?void 0:r.forceServerObjectId:!1}function yq(t){return t.batchType===Ge.BatchType.INSERT}function z9(t){return t.batchType===Ge.BatchType.UPDATE}function V9(t){return t.batchType===Ge.BatchType.DELETE}function Mh(t){let{currentOp:e}=t.s;return t.s.currentOp=void 0,e||(e={}),e}});var H9=h(c2=>{"use strict";Object.defineProperty(c2,"__esModule",{value:!0});c2.OrderedBulkOperation=void 0;var c0e=Lt(),gq=re(),a2=qh(),W9=class extends a2.BulkOperationBase{constructor(e,r){super(e,r,!0)}addToOperationsList(e,r){let n=c0e.calculateObjectSize(r,{checkKeys:!1,ignoreUndefined:!1});if(n>=this.s.maxBsonObjectSize)throw new gq.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);this.s.currentBatch==null&&(this.s.currentBatch=new a2.Batch(e,this.s.currentIndex));let i=this.s.maxKeySize;if((this.s.currentBatchSize+1>=this.s.maxWriteBatchSize||this.s.currentBatchSize>0&&this.s.currentBatchSizeBytes+i+n>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==e)&&(this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new a2.Batch(e,this.s.currentIndex),this.s.currentBatchSize=0,this.s.currentBatchSizeBytes=0),e===a2.BatchType.INSERT&&this.s.bulkResult.insertedIds.push({index:this.s.currentIndex,_id:r._id}),Array.isArray(r))throw new gq.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentBatch.operations.push(r),this.s.currentBatchSize+=1,this.s.currentBatchSizeBytes+=i+n,this.s.currentIndex+=1,this}};c2.OrderedBulkOperation=W9});var K9=h(l2=>{"use strict";Object.defineProperty(l2,"__esModule",{value:!0});l2.UnorderedBulkOperation=void 0;var l0e=Lt(),_q=re(),fu=qh(),G9=class extends fu.BulkOperationBase{constructor(e,r){super(e,r,!1)}handleWriteError(e,r){return this.s.batches.length?!1:super.handleWriteError(e,r)}addToOperationsList(e,r){let n=l0e.calculateObjectSize(r,{checkKeys:!1,ignoreUndefined:!1});if(n>=this.s.maxBsonObjectSize)throw new _q.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);this.s.currentBatch=void 0,e===fu.BatchType.INSERT?this.s.currentBatch=this.s.currentInsertBatch:e===fu.BatchType.UPDATE?this.s.currentBatch=this.s.currentUpdateBatch:e===fu.BatchType.DELETE&&(this.s.currentBatch=this.s.currentRemoveBatch);let i=this.s.maxKeySize;if(this.s.currentBatch==null&&(this.s.currentBatch=new fu.Batch(e,this.s.currentIndex)),(this.s.currentBatch.size+1>=this.s.maxWriteBatchSize||this.s.currentBatch.size>0&&this.s.currentBatch.sizeBytes+i+n>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==e)&&(this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new fu.Batch(e,this.s.currentIndex)),Array.isArray(r))throw new _q.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.operations.push(r),this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentIndex=this.s.currentIndex+1,e===fu.BatchType.INSERT?(this.s.currentInsertBatch=this.s.currentBatch,this.s.bulkResult.insertedIds.push({index:this.s.bulkResult.insertedIds.length,_id:r._id})):e===fu.BatchType.UPDATE?this.s.currentUpdateBatch=this.s.currentBatch:e===fu.BatchType.DELETE&&(this.s.currentRemoveBatch=this.s.currentBatch),this.s.currentBatch.size+=1,this.s.currentBatch.sizeBytes+=i+n,this}};l2.UnorderedBulkOperation=G9});var f2=h(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.AggregateOperation=Hc.DB_AGGREGATE_COLLECTION=void 0;var Eq=re(),d0e=ye(),f0e=Zt(),$h=_t();Hc.DB_AGGREGATE_COLLECTION=1;var h0e=8,d2=class extends f0e.CommandOperation{constructor(e,r,n){if(super(void 0,{...n,dbName:e.db}),this.options=n??{},this.target=e.collection||Hc.DB_AGGREGATE_COLLECTION,this.pipeline=r,this.hasWriteStage=!1,typeof n?.out=="string")this.pipeline=this.pipeline.concat({$out:n.out}),this.hasWriteStage=!0;else if(r.length>0){let i=r[r.length-1];(i.$out||i.$merge)&&(this.hasWriteStage=!0)}if(this.hasWriteStage&&(this.trySecondaryWrite=!0),this.explain&&this.writeConcern)throw new Eq.MongoInvalidArgumentError('Option "explain" cannot be used on an aggregate call with writeConcern');if(n?.cursor!=null&&typeof n.cursor!="object")throw new Eq.MongoInvalidArgumentError("Cursor options must be an object")}get canRetryRead(){return!this.hasWriteStage}addToPipeline(e){this.pipeline.push(e)}execute(e,r,n){let i=this.options,s=(0,d0e.maxWireVersion)(e),o={aggregate:this.target,pipeline:this.pipeline};this.hasWriteStage&&s<h0e&&(this.readConcern=void 0),this.hasWriteStage&&this.writeConcern&&Object.assign(o,{writeConcern:this.writeConcern}),i.bypassDocumentValidation===!0&&(o.bypassDocumentValidation=i.bypassDocumentValidation),typeof i.allowDiskUse=="boolean"&&(o.allowDiskUse=i.allowDiskUse),i.hint&&(o.hint=i.hint),i.let&&(o.let=i.let),i.comment!==void 0&&(o.comment=i.comment),o.cursor=i.cursor||{},i.batchSize&&!this.hasWriteStage&&(o.cursor.batchSize=i.batchSize),super.executeCommand(e,r,o,n)}};Hc.AggregateOperation=d2;(0,$h.defineAspects)(d2,[$h.Aspect.READ_OPERATION,$h.Aspect.RETRYABLE,$h.Aspect.EXPLAINABLE,$h.Aspect.CURSOR_CREATING])});var ei=h(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.CancellationToken=Sa.TypedEventEmitter=Sa.BSONType=void 0;var p0e=require("events");Sa.BSONType=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});var h2=class extends p0e.EventEmitter{};Sa.TypedEventEmitter=h2;var Y9=class extends h2{};Sa.CancellationToken=Y9});var Aq=h(y2=>{"use strict";Object.defineProperty(y2,"__esModule",{value:!0});y2.GetMoreOperation=void 0;var J9=re(),m0e=ye(),p2=_t(),m2=class extends p2.AbstractOperation{constructor(e,r,n,i){super(i),this.options=i,this.ns=e,this.cursorId=r,this.server=n}execute(e,r,n){if(e!==this.server)return n(new J9.MongoRuntimeError("Getmore must run on the same server operation began on"));if(this.cursorId==null||this.cursorId.isZero())return n(new J9.MongoRuntimeError("Unable to iterate cursor with no id"));let i=this.ns.collection;if(i==null)return n(new J9.MongoRuntimeError("A collection name must be determined before getMore"));let s={getMore:this.cursorId,collection:i};typeof this.options.batchSize=="number"&&(s.batchSize=Math.abs(this.options.batchSize)),typeof this.options.maxAwaitTimeMS=="number"&&(s.maxTimeMS=this.options.maxAwaitTimeMS),this.options.comment!==void 0&&(0,m0e.maxWireVersion)(e)>=9&&(s.comment=this.options.comment);let o={returnFieldSelector:null,documentsReturnedIn:"nextBatch",...this.options};e.command(this.ns,s,o,n)}};y2.GetMoreOperation=m2;(0,p2.defineAspects)(m2,[p2.Aspect.READ_OPERATION,p2.Aspect.MUST_SELECT_SAME_SERVER])});var wq=h(_2=>{"use strict";Object.defineProperty(_2,"__esModule",{value:!0});_2.KillCursorsOperation=void 0;var Sq=re(),Q9=_t(),g2=class extends Q9.AbstractOperation{constructor(e,r,n,i){super(i),this.ns=r,this.cursorId=e,this.server=n}execute(e,r,n){if(e!==this.server)return n(new Sq.MongoRuntimeError("Killcursor must run on the same server operation began on"));let i=this.ns.collection;if(i==null)return n(new Sq.MongoRuntimeError("A collection name must be determined before killCursors"));let s={killCursors:i,cursors:[this.cursorId]};e.command(this.ns,s,{session:r},()=>n())}};_2.KillCursorsOperation=g2;(0,Q9.defineAspects)(g2,[Q9.Aspect.MUST_SELECT_SAME_SERVER])});var X9=h(E2=>{"use strict";Object.defineProperty(E2,"__esModule",{value:!0});E2.ConnectionPoolMetrics=void 0;var Bs=class{constructor(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}markPinned(e){e===Bs.TXN?this.txnConnections+=1:e===Bs.CURSOR?this.cursorConnections+=1:this.otherConnections+=1}markUnpinned(e){e===Bs.TXN?this.txnConnections-=1:e===Bs.CURSOR?this.cursorConnections-=1:this.otherConnections-=1}info(e){return`Timed out while checking out a connection from connection pool: maxPoolSize: ${e}, connections in use by cursors: ${this.cursorConnections}, connections in use by transactions: ${this.txnConnections}, connections in use by other operations: ${this.otherConnections}`}reset(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}};E2.ConnectionPoolMetrics=Bs;Bs.TXN="txn";Bs.CURSOR="cursor";Bs.OTHER="other"});var kh=h(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.compareTopologyVersion=wa.parseServerType=wa.ServerDescription=void 0;var A2=Lt(),y0e=re(),$d=ye(),Or=Wi(),g0e=new Set([Or.ServerType.RSPrimary,Or.ServerType.Standalone,Or.ServerType.Mongos,Or.ServerType.LoadBalancer]),_0e=new Set([Or.ServerType.RSPrimary,Or.ServerType.RSSecondary,Or.ServerType.Mongos,Or.ServerType.Standalone,Or.ServerType.LoadBalancer]),Z9=class{constructor(e,r,n={}){var i,s,o,u,a,c,l,d,f,p,m,y,_,g,E,O,w,b,M,T,G,ee,J,k;if(e==null||e==="")throw new y0e.MongoRuntimeError("ServerDescription must be provided with a non-empty address");this.address=typeof e=="string"?$d.HostAddress.fromString(e).toString():e.toString(),this.type=Oq(r,n),this.hosts=(s=(i=r?.hosts)===null||i===void 0?void 0:i.map(q=>q.toLowerCase()))!==null&&s!==void 0?s:[],this.passives=(u=(o=r?.passives)===null||o===void 0?void 0:o.map(q=>q.toLowerCase()))!==null&&u!==void 0?u:[],this.arbiters=(c=(a=r?.arbiters)===null||a===void 0?void 0:a.map(q=>q.toLowerCase()))!==null&&c!==void 0?c:[],this.tags=(l=r?.tags)!==null&&l!==void 0?l:{},this.minWireVersion=(d=r?.minWireVersion)!==null&&d!==void 0?d:0,this.maxWireVersion=(f=r?.maxWireVersion)!==null&&f!==void 0?f:0,this.roundTripTime=(p=n?.roundTripTime)!==null&&p!==void 0?p:-1,this.lastUpdateTime=(0,$d.now)(),this.lastWriteDate=(y=(m=r?.lastWrite)===null||m===void 0?void 0:m.lastWriteDate)!==null&&y!==void 0?y:0,this.error=(_=n.error)!==null&&_!==void 0?_:null,this.topologyVersion=(O=(E=(g=this.error)===null||g===void 0?void 0:g.topologyVersion)!==null&&E!==void 0?E:r?.topologyVersion)!==null&&O!==void 0?O:null,this.setName=(w=r?.setName)!==null&&w!==void 0?w:null,this.setVersion=(b=r?.setVersion)!==null&&b!==void 0?b:null,this.electionId=(M=r?.electionId)!==null&&M!==void 0?M:null,this.logicalSessionTimeoutMinutes=(T=r?.logicalSessionTimeoutMinutes)!==null&&T!==void 0?T:null,this.primary=(G=r?.primary)!==null&&G!==void 0?G:null,this.me=(J=(ee=r?.me)===null||ee===void 0?void 0:ee.toLowerCase())!==null&&J!==void 0?J:null,this.$clusterTime=(k=r?.$clusterTime)!==null&&k!==void 0?k:null}get hostAddress(){return $d.HostAddress.fromString(this.address)}get allHosts(){return this.hosts.concat(this.arbiters).concat(this.passives)}get isReadable(){return this.type===Or.ServerType.RSSecondary||this.isWritable}get isDataBearing(){return _0e.has(this.type)}get isWritable(){return g0e.has(this.type)}get host(){let e=`:${this.port}`.length;return this.address.slice(0,-e)}get port(){let e=this.address.split(":").pop();return e?Number.parseInt(e,10):27017}equals(e){let r=this.topologyVersion===e?.topologyVersion||Cq(this.topologyVersion,e?.topologyVersion)===0,n=this.electionId!=null&&e?.electionId!=null?(0,$d.compareObjectId)(this.electionId,e.electionId)===0:this.electionId===e?.electionId;return e!=null&&(0,$d.errorStrictEqual)(this.error,e.error)&&this.type===e.type&&this.minWireVersion===e.minWireVersion&&(0,$d.arrayStrictEqual)(this.hosts,e.hosts)&&E0e(this.tags,e.tags)&&this.setName===e.setName&&this.setVersion===e.setVersion&&n&&this.primary===e.primary&&this.logicalSessionTimeoutMinutes===e.logicalSessionTimeoutMinutes&&r}};wa.ServerDescription=Z9;function Oq(t,e){return e?.loadBalanced?Or.ServerType.LoadBalancer:!t||!t.ok?Or.ServerType.Unknown:t.isreplicaset?Or.ServerType.RSGhost:t.msg&&t.msg==="isdbgrid"?Or.ServerType.Mongos:t.setName?t.hidden?Or.ServerType.RSOther:t.isWritablePrimary?Or.ServerType.RSPrimary:t.secondary?Or.ServerType.RSSecondary:t.arbiterOnly?Or.ServerType.RSArbiter:Or.ServerType.RSOther:Or.ServerType.Standalone}wa.parseServerType=Oq;function E0e(t,e){let r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&r.every(i=>e[i]===t[i])}function Cq(t,e){if(t==null||e==null||!t.processId.equals(e.processId))return-1;let r=A2.Long.isLong(t.counter)?t.counter:A2.Long.fromNumber(t.counter),n=A2.Long.isLong(e.counter)?e.counter:A2.Long.fromNumber(e.counter);return r.compare(n)}wa.compareTopologyVersion=Cq});var t8=h(w2=>{"use strict";Object.defineProperty(w2,"__esModule",{value:!0});w2.TopologyDescription=void 0;var S2=Pd(),A0e=re(),e8=ye(),Ke=Wi(),Oa=kh(),S0e=S2.MIN_SUPPORTED_SERVER_VERSION,w0e=S2.MAX_SUPPORTED_SERVER_VERSION,vq=S2.MIN_SUPPORTED_WIRE_VERSION,bq=S2.MAX_SUPPORTED_WIRE_VERSION,O0e=new Set([Ke.ServerType.Mongos,Ke.ServerType.Unknown]),Iq=new Set([Ke.ServerType.Mongos,Ke.ServerType.Standalone]),Pq=new Set([Ke.ServerType.RSSecondary,Ke.ServerType.RSArbiter,Ke.ServerType.RSOther]),Kc=class{constructor(e,r=null,n=null,i=null,s=null,o=null,u=null){var a,c;u=u??{},this.type=e??Ke.TopologyType.Unknown,this.servers=r??new Map,this.stale=!1,this.compatible=!0,this.heartbeatFrequencyMS=(a=u.heartbeatFrequencyMS)!==null&&a!==void 0?a:0,this.localThresholdMS=(c=u.localThresholdMS)!==null&&c!==void 0?c:15,this.setName=n??null,this.maxElectionId=s??null,this.maxSetVersion=i??null,this.commonWireVersion=o??0;for(let l of this.servers.values())if(!(l.type===Ke.ServerType.Unknown||l.type===Ke.ServerType.LoadBalancer)&&(l.minWireVersion>bq&&(this.compatible=!1,this.compatibilityError=`Server at ${l.address} requires wire version ${l.minWireVersion}, but this version of the driver only supports up to ${bq} (MongoDB ${w0e})`),l.maxWireVersion<vq)){this.compatible=!1,this.compatibilityError=`Server at ${l.address} reports wire version ${l.maxWireVersion}, but this version of the driver requires at least ${vq} (MongoDB ${S0e}).`;break}this.logicalSessionTimeoutMinutes=null;for(let[,l]of this.servers)if(l.isReadable){if(l.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=null;break}if(this.logicalSessionTimeoutMinutes==null){this.logicalSessionTimeoutMinutes=l.logicalSessionTimeoutMinutes;continue}this.logicalSessionTimeoutMinutes=Math.min(this.logicalSessionTimeoutMinutes,l.logicalSessionTimeoutMinutes)}}updateFromSrvPollingEvent(e,r=0){let n=e.hostnames(),i=new Set(this.servers.keys()),s=new Set(n),o=new Set;for(let a of i)s.delete(a),n.has(a)||o.add(a);if(s.size===0&&o.size===0)return this;let u=new Map(this.servers);for(let a of o)u.delete(a);if(s.size>0){if(r===0)for(let a of s)u.set(a,new Oa.ServerDescription(a));else if(u.size<r){let a=(0,e8.shuffle)(s,r-u.size);for(let c of a)u.set(c,new Oa.ServerDescription(c))}}return new Kc(this.type,u,this.setName,this.maxSetVersion,this.maxElectionId,this.commonWireVersion,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}update(e){let r=e.address,{type:n,setName:i,maxSetVersion:s,maxElectionId:o,commonWireVersion:u}=this,a=e.type,c=new Map(this.servers);if(e.maxWireVersion!==0&&(u==null?u=e.maxWireVersion:u=Math.min(u,e.maxWireVersion)),typeof e.setName=="string"&&typeof i=="string"&&e.setName!==i&&(n===Ke.TopologyType.Single?e=new Oa.ServerDescription(r):c.delete(r)),c.set(r,e),n===Ke.TopologyType.Single)return new Kc(Ke.TopologyType.Single,c,i,s,o,u,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS});if(n===Ke.TopologyType.Unknown&&(a===Ke.ServerType.Standalone&&this.servers.size!==1?c.delete(r):n=C0e(a)),n===Ke.TopologyType.Sharded&&(O0e.has(a)||c.delete(r)),n===Ke.TopologyType.ReplicaSetNoPrimary){if(Iq.has(a)&&c.delete(r),a===Ke.ServerType.RSPrimary){let l=Tq(c,e,i,s,o);n=l[0],i=l[1],s=l[2],o=l[3]}else if(Pq.has(a)){let l=b0e(c,e,i);n=l[0],i=l[1]}}if(n===Ke.TopologyType.ReplicaSetWithPrimary)if(Iq.has(a))c.delete(r),n=Gc(c);else if(a===Ke.ServerType.RSPrimary){let l=Tq(c,e,i,s,o);n=l[0],i=l[1],s=l[2],o=l[3]}else Pq.has(a)?n=v0e(c,e,i):n=Gc(c);return new Kc(n,c,i,s,o,u,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}get error(){let e=Array.from(this.servers.values()).filter(r=>r.error);return e.length>0?e[0].error:null}get hasKnownServers(){return Array.from(this.servers.values()).some(e=>e.type!==Ke.ServerType.Unknown)}get hasDataBearingServers(){return Array.from(this.servers.values()).some(e=>e.isDataBearing)}hasServer(e){return this.servers.has(e)}};w2.TopologyDescription=Kc;function C0e(t){switch(t){case Ke.ServerType.Standalone:return Ke.TopologyType.Single;case Ke.ServerType.Mongos:return Ke.TopologyType.Sharded;case Ke.ServerType.RSPrimary:return Ke.TopologyType.ReplicaSetWithPrimary;case Ke.ServerType.RSOther:case Ke.ServerType.RSSecondary:return Ke.TopologyType.ReplicaSetNoPrimary;default:return Ke.TopologyType.Unknown}}function Tq(t,e,r=null,n=null,i=null){var s;if(r=r||e.setName,r!==e.setName)return t.delete(e.address),[Gc(t),r,n,i];if(e.maxWireVersion>=17){let a=(0,e8.compareObjectId)(i,e.electionId),c=a===0,l=a===-1,d=(n??-1)<=((s=e.setVersion)!==null&&s!==void 0?s:-1);if(l||c&&d)i=e.electionId,n=e.setVersion;else return t.set(e.address,new Oa.ServerDescription(e.address)),[Gc(t),r,n,i]}else{let a=e.electionId?e.electionId:null;if(e.setVersion&&a){if(n&&i&&(n>e.setVersion||(0,e8.compareObjectId)(i,a)>0))return t.set(e.address,new Oa.ServerDescription(e.address)),[Gc(t),r,n,i];i=e.electionId}e.setVersion!=null&&(n==null||e.setVersion>n)&&(n=e.setVersion)}for(let[a,c]of t)if(c.type===Ke.ServerType.RSPrimary&&c.address!==e.address){t.set(a,new Oa.ServerDescription(c.address));break}e.allHosts.forEach(a=>{t.has(a)||t.set(a,new Oa.ServerDescription(a))});let o=Array.from(t.keys()),u=e.allHosts;return o.filter(a=>u.indexOf(a)===-1).forEach(a=>{t.delete(a)}),[Gc(t),r,n,i]}function v0e(t,e,r=null){if(r==null)throw new A0e.MongoRuntimeError('Argument "setName" is required if connected to a replica set');return(r!==e.setName||e.me&&e.address!==e.me)&&t.delete(e.address),Gc(t)}function b0e(t,e,r=null){let n=Ke.TopologyType.ReplicaSetNoPrimary;return r=r??e.setName,r!==e.setName?(t.delete(e.address),[n,r]):(e.allHosts.forEach(i=>{t.has(i)||t.set(i,new Oa.ServerDescription(i))}),e.me&&e.address!==e.me&&t.delete(e.address),[n,r])}function Gc(t){for(let e of t.values())if(e.type===Ke.ServerType.RSPrimary)return Ke.TopologyType.ReplicaSetWithPrimary;return Ke.TopologyType.ReplicaSetNoPrimary}});var n8=h(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.isSharded=Ca.applyCommonQueryOptions=Ca.getReadPreference=void 0;var I0e=re(),r8=wr(),Dq=Wi(),P0e=t8();function T0e(t,e){let r=t.readPreference||r8.ReadPreference.primary;if(e?.readPreference&&(r=e.readPreference),typeof r=="string"&&(r=r8.ReadPreference.fromString(r)),!(r instanceof r8.ReadPreference))throw new I0e.MongoInvalidArgumentError('Option "readPreference" must be a ReadPreference instance');return r}Ca.getReadPreference=T0e;function D0e(t,e){return Object.assign(t,{raw:typeof e.raw=="boolean"?e.raw:!1,promoteLongs:typeof e.promoteLongs=="boolean"?e.promoteLongs:!0,promoteValues:typeof e.promoteValues=="boolean"?e.promoteValues:!0,promoteBuffers:typeof e.promoteBuffers=="boolean"?e.promoteBuffers:!1,bsonRegExp:typeof e.bsonRegExp=="boolean"?e.bsonRegExp:!1,enableUtf8Validation:typeof e.enableUtf8Validation=="boolean"?e.enableUtf8Validation:!0}),e.session&&(t.session=e.session),t}Ca.applyCommonQueryOptions=D0e;function R0e(t){return t==null?!1:t.description&&t.description.type===Dq.ServerType.Mongos?!0:t.description&&t.description instanceof P0e.TopologyDescription?Array.from(t.description.servers.values()).some(r=>r.type===Dq.ServerType.Mongos):!1}Ca.isSharded=R0e});var s8=h(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.isTransactionCommand=Be.Transaction=Be.TxnState=void 0;var Rq=re(),N0e=Vi(),x0e=wr(),M0e=Hi();Be.TxnState=Object.freeze({NO_TRANSACTION:"NO_TRANSACTION",STARTING_TRANSACTION:"STARTING_TRANSACTION",TRANSACTION_IN_PROGRESS:"TRANSACTION_IN_PROGRESS",TRANSACTION_COMMITTED:"TRANSACTION_COMMITTED",TRANSACTION_COMMITTED_EMPTY:"TRANSACTION_COMMITTED_EMPTY",TRANSACTION_ABORTED:"TRANSACTION_ABORTED"});var F0e={[Be.TxnState.NO_TRANSACTION]:[Be.TxnState.NO_TRANSACTION,Be.TxnState.STARTING_TRANSACTION],[Be.TxnState.STARTING_TRANSACTION]:[Be.TxnState.TRANSACTION_IN_PROGRESS,Be.TxnState.TRANSACTION_COMMITTED,Be.TxnState.TRANSACTION_COMMITTED_EMPTY,Be.TxnState.TRANSACTION_ABORTED],[Be.TxnState.TRANSACTION_IN_PROGRESS]:[Be.TxnState.TRANSACTION_IN_PROGRESS,Be.TxnState.TRANSACTION_COMMITTED,Be.TxnState.TRANSACTION_ABORTED],[Be.TxnState.TRANSACTION_COMMITTED]:[Be.TxnState.TRANSACTION_COMMITTED,Be.TxnState.TRANSACTION_COMMITTED_EMPTY,Be.TxnState.STARTING_TRANSACTION,Be.TxnState.NO_TRANSACTION],[Be.TxnState.TRANSACTION_ABORTED]:[Be.TxnState.STARTING_TRANSACTION,Be.TxnState.NO_TRANSACTION],[Be.TxnState.TRANSACTION_COMMITTED_EMPTY]:[Be.TxnState.TRANSACTION_COMMITTED_EMPTY,Be.TxnState.NO_TRANSACTION]},B0e=new Set([Be.TxnState.STARTING_TRANSACTION,Be.TxnState.TRANSACTION_IN_PROGRESS]),q0e=new Set([Be.TxnState.TRANSACTION_COMMITTED,Be.TxnState.TRANSACTION_COMMITTED_EMPTY,Be.TxnState.TRANSACTION_ABORTED]),i8=class{constructor(e){e=e??{},this.state=Be.TxnState.NO_TRANSACTION,this.options={};let r=M0e.WriteConcern.fromOptions(e);if(r){if(r.w===0)throw new Rq.MongoTransactionError("Transactions do not support unacknowledged write concern");this.options.writeConcern=r}e.readConcern&&(this.options.readConcern=N0e.ReadConcern.fromOptions(e)),e.readPreference&&(this.options.readPreference=x0e.ReadPreference.fromOptions(e)),e.maxCommitTimeMS&&(this.options.maxTimeMS=e.maxCommitTimeMS),this._pinnedServer=void 0,this._recoveryToken=void 0}get server(){return this._pinnedServer}get recoveryToken(){return this._recoveryToken}get isPinned(){return!!this.server}get isStarting(){return this.state===Be.TxnState.STARTING_TRANSACTION}get isActive(){return B0e.has(this.state)}get isCommitted(){return q0e.has(this.state)}transition(e){let r=F0e[this.state];if(r&&r.includes(e)){this.state=e,(this.state===Be.TxnState.NO_TRANSACTION||this.state===Be.TxnState.STARTING_TRANSACTION||this.state===Be.TxnState.TRANSACTION_ABORTED)&&this.unpinServer();return}throw new Rq.MongoRuntimeError(`Attempted illegal state transition from [${this.state}] to [${e}]`)}pinServer(e){this.isActive&&(this._pinnedServer=e)}unpinServer(){this._pinnedServer=void 0}};Be.Transaction=i8;function $0e(t){return!!(t.commitTransaction||t.abortTransaction)}Be.isTransactionCommand=$0e});var Lh=h(ti=>{"use strict";var Bq;Object.defineProperty(ti,"__esModule",{value:!0});ti.updateSessionFromResponse=ti.applySession=ti.ServerSessionPool=ti.ServerSession=ti.maybeClearPinnedConnection=ti.ClientSession=void 0;var k0e=require("util"),O2=Lt(),C2=X9(),j0e=n8(),qq=yn(),Te=re(),L0e=ei(),Nq=Gi(),xq=Dh(),U0e=Td(),z0e=Vi(),Mq=wr(),o8=Wi(),Ut=s8(),Si=ye(),V0e=8,kd=Symbol("serverSession"),v2=Symbol("snapshotTime"),Ld=Symbol("snapshotEnabled"),jd=Symbol("pinnedConnection"),b2=Symbol("txnNumberIncrement"),jh=class extends L0e.TypedEventEmitter{constructor(e,r,n,i){var s;if(super(),this[Bq]=!1,e==null)throw new Te.MongoRuntimeError("ClientSession requires a MongoClient");if(r==null||!(r instanceof P2))throw new Te.MongoRuntimeError("ClientSession requires a ServerSessionPool");if(n=n??{},n.snapshot===!0&&(this[Ld]=!0,n.causalConsistency===!0))throw new Te.MongoInvalidArgumentError('Properties "causalConsistency" and "snapshot" are mutually exclusive');this.client=e,this.sessionPool=r,this.hasEnded=!1,this.clientOptions=i,this.explicit=!!n.explicit,this[kd]=this.explicit?this.sessionPool.acquire():null,this[b2]=0;let o=this.explicit&&n.snapshot!==!0;this.supports={causalConsistency:(s=n.causalConsistency)!==null&&s!==void 0?s:o},this.clusterTime=n.initialClusterTime,this.operationTime=void 0,this.owner=n.owner,this.defaultTransactionOptions=Object.assign({},n.defaultTransactionOptions),this.transaction=new Ut.Transaction}get id(){var e;return(e=this[kd])===null||e===void 0?void 0:e.id}get serverSession(){let e=this[kd];if(e==null){if(this.explicit)throw new Te.MongoRuntimeError("Unexpected null serverSession for an explicit session");if(this.hasEnded)throw new Te.MongoRuntimeError("Unexpected null serverSession for an ended implicit session");e=this.sessionPool.acquire(),this[kd]=e}return e}get snapshotEnabled(){return this[Ld]}get loadBalanced(){var e;return((e=this.client.topology)===null||e===void 0?void 0:e.description.type)===o8.TopologyType.LoadBalanced}get pinnedConnection(){return this[jd]}pin(e){if(this[jd])throw TypeError("Cannot pin multiple connections to the same session");this[jd]=e,e.emit(qq.PINNED,this.inTransaction()?C2.ConnectionPoolMetrics.TXN:C2.ConnectionPoolMetrics.CURSOR)}unpin(e){if(this.loadBalanced)return I2(this,e);this.transaction.unpinServer()}get isPinned(){return this.loadBalanced?!!this[jd]:this.transaction.isPinned}endSession(e,r){typeof e=="function"&&(r=e,e={});let n={force:!0,...e};return(0,Si.maybeCallback)(async()=>{try{if(this.inTransaction()&&await this.abortTransaction(),!this.hasEnded){let i=this[kd];i!=null&&(this.sessionPool.release(i),Object.defineProperty(this,kd,{value:Yc.clone(i),writable:!1})),this.hasEnded=!0,this.emit("ended",this)}}catch{}finally{I2(this,n)}},r)}advanceOperationTime(e){if(this.operationTime==null){this.operationTime=e;return}e.greaterThan(this.operationTime)&&(this.operationTime=e)}advanceClusterTime(e){var r,n;if(!e||typeof e!="object")throw new Te.MongoInvalidArgumentError("input cluster time must be an object");if(!e.clusterTime||e.clusterTime._bsontype!=="Timestamp")throw new Te.MongoInvalidArgumentError('input cluster time "clusterTime" property must be a valid BSON Timestamp');if(!e.signature||((r=e.signature.hash)===null||r===void 0?void 0:r._bsontype)!=="Binary"||typeof e.signature.keyId!="number"&&((n=e.signature.keyId)===null||n===void 0?void 0:n._bsontype)!=="Long")throw new Te.MongoInvalidArgumentError('input cluster time must have a valid "signature" property with BSON Binary hash and BSON Long keyId');(0,o8._advanceClusterTime)(this,e)}equals(e){return!(e instanceof jh)||this.id==null||e.id==null?!1:this.id.id.buffer.equals(e.id.id.buffer)}incrementTransactionNumber(){this[b2]+=1}inTransaction(){return this.transaction.isActive}startTransaction(e){var r,n,i,s,o,u,a,c,l,d;if(this[Ld])throw new Te.MongoCompatibilityError("Transactions are not supported in snapshot sessions");if(this.inTransaction())throw new Te.MongoTransactionError("Transaction already in progress");this.isPinned&&this.transaction.isCommitted&&this.unpin();let f=(0,Si.maxWireVersion)(this.client.topology);if((0,j0e.isSharded)(this.client.topology)&&f!=null&&f<V0e)throw new Te.MongoCompatibilityError("Transactions are not supported on sharded clusters in MongoDB < 4.2.");this.incrementTransactionNumber(),this.transaction=new Ut.Transaction({readConcern:(n=(r=e?.readConcern)!==null&&r!==void 0?r:this.defaultTransactionOptions.readConcern)!==null&&n!==void 0?n:(i=this.clientOptions)===null||i===void 0?void 0:i.readConcern,writeConcern:(o=(s=e?.writeConcern)!==null&&s!==void 0?s:this.defaultTransactionOptions.writeConcern)!==null&&o!==void 0?o:(u=this.clientOptions)===null||u===void 0?void 0:u.writeConcern,readPreference:(c=(a=e?.readPreference)!==null&&a!==void 0?a:this.defaultTransactionOptions.readPreference)!==null&&c!==void 0?c:(l=this.clientOptions)===null||l===void 0?void 0:l.readPreference,maxCommitTimeMS:(d=e?.maxCommitTimeMS)!==null&&d!==void 0?d:this.defaultTransactionOptions.maxCommitTimeMS}),this.transaction.transition(Ut.TxnState.STARTING_TRANSACTION)}commitTransaction(e){return(0,Si.maybeCallback)(async()=>Fq(this,"commitTransaction"),e)}abortTransaction(e){return(0,Si.maybeCallback)(async()=>Fq(this,"abortTransaction"),e)}toBSON(){throw new Te.MongoRuntimeError("ClientSession cannot be serialized to BSON.")}withTransaction(e,r){let n=(0,Si.now)();return u8(this,n,e,r)}};ti.ClientSession=jh;Bq=Ld;var $q=12e4,W0e=new Set(["CannotSatisfyWriteConcern","UnknownReplWriteConcern","UnsatisfiableWriteConcern"]);function kq(t,e){return(0,Si.calculateDurationInMs)(t)<e}function H0e(t){let e=t instanceof Te.MongoServerError&&t.codeName&&W0e.has(t.codeName);return T2(t)||!e&&t.code!==Te.MONGODB_ERROR_CODES.UnsatisfiableWriteConcern&&t.code!==Te.MONGODB_ERROR_CODES.UnknownReplWriteConcern}function I2(t,e){let r=t[jd],n=e?.error;if(t.inTransaction()&&n&&n instanceof Te.MongoError&&n.hasErrorLabel(Te.MongoErrorLabel.TransientTransactionError))return;let i=t.client.topology;if(r&&i!=null){let o=Array.from(i.s.servers.values())[0];(e?.error==null||e?.force)&&(o.s.pool.checkIn(r),r.emit(qq.UNPINNED,t.transaction.state!==Ut.TxnState.NO_TRANSACTION?C2.ConnectionPoolMetrics.TXN:C2.ConnectionPoolMetrics.CURSOR),e?.forceClear&&o.s.pool.clear({serviceId:r.serviceId})),t[jd]=void 0}}ti.maybeClearPinnedConnection=I2;function T2(t){return t==null||!(t instanceof Te.MongoServerError)?!1:t.code===Te.MONGODB_ERROR_CODES.MaxTimeMSExpired||t.writeConcernError&&t.writeConcernError.code===Te.MONGODB_ERROR_CODES.MaxTimeMSExpired}function jq(t,e,r,n){return t.commitTransaction().catch(i=>{if(i instanceof Te.MongoError&&kq(e,$q)&&!T2(i)){if(i.hasErrorLabel(Te.MongoErrorLabel.UnknownTransactionCommitResult))return jq(t,e,r,n);if(i.hasErrorLabel(Te.MongoErrorLabel.TransientTransactionError))return u8(t,e,r,n)}throw i})}var G0e=new Set([Ut.TxnState.NO_TRANSACTION,Ut.TxnState.TRANSACTION_COMMITTED,Ut.TxnState.TRANSACTION_ABORTED]);function K0e(t){return G0e.has(t.transaction.state)}function u8(t,e,r,n){var i;t.startTransaction(n);let s;try{s=r(t)}catch(o){s=((i=U0e.PromiseProvider.get())!==null&&i!==void 0?i:Promise).reject(o)}if(!(0,Si.isPromiseLike)(s))throw t.abortTransaction().catch(()=>null),new Te.MongoInvalidArgumentError("Function provided to `withTransaction` must return a Promise");return s.then(()=>{if(!K0e(t))return jq(t,e,r,n)},o=>{function u(a){if(a instanceof Te.MongoError&&a.hasErrorLabel(Te.MongoErrorLabel.TransientTransactionError)&&kq(e,$q))return u8(t,e,r,n);throw T2(a)&&a.addErrorLabel(Te.MongoErrorLabel.UnknownTransactionCommitResult),a}return t.inTransaction()?t.abortTransaction().then(()=>u(o)):u(o)})}var Fq=(0,k0e.promisify)(Y0e);function Y0e(t,e,r){let n=t.transaction.state;if(n===Ut.TxnState.NO_TRANSACTION){r(new Te.MongoTransactionError("No transaction started"));return}if(e==="commitTransaction"){if(n===Ut.TxnState.STARTING_TRANSACTION||n===Ut.TxnState.TRANSACTION_COMMITTED_EMPTY){t.transaction.transition(Ut.TxnState.TRANSACTION_COMMITTED_EMPTY),r();return}if(n===Ut.TxnState.TRANSACTION_ABORTED){r(new Te.MongoTransactionError("Cannot call commitTransaction after calling abortTransaction"));return}}else{if(n===Ut.TxnState.STARTING_TRANSACTION){t.transaction.transition(Ut.TxnState.TRANSACTION_ABORTED),r();return}if(n===Ut.TxnState.TRANSACTION_ABORTED){r(new Te.MongoTransactionError("Cannot call abortTransaction twice"));return}if(n===Ut.TxnState.TRANSACTION_COMMITTED||n===Ut.TxnState.TRANSACTION_COMMITTED_EMPTY){r(new Te.MongoTransactionError("Cannot call abortTransaction after calling commitTransaction"));return}}let i={[e]:1},s;t.transaction.options.writeConcern?s=Object.assign({},t.transaction.options.writeConcern):t.clientOptions&&t.clientOptions.writeConcern&&(s={w:t.clientOptions.writeConcern.w}),n===Ut.TxnState.TRANSACTION_COMMITTED&&(s=Object.assign({wtimeout:1e4},s,{w:"majority"})),s&&Object.assign(i,{writeConcern:s}),e==="commitTransaction"&&t.transaction.options.maxTimeMS&&Object.assign(i,{maxTimeMS:t.transaction.options.maxTimeMS});function o(u,a){if(e!=="commitTransaction")return t.transaction.transition(Ut.TxnState.TRANSACTION_ABORTED),t.loadBalanced&&I2(t,{force:!1}),r();t.transaction.transition(Ut.TxnState.TRANSACTION_COMMITTED),u instanceof Te.MongoError&&(u.hasErrorLabel(Te.MongoErrorLabel.RetryableWriteError)||u instanceof Te.MongoWriteConcernError||T2(u)?H0e(u)&&(u.addErrorLabel(Te.MongoErrorLabel.UnknownTransactionCommitResult),t.unpin({error:u})):u.hasErrorLabel(Te.MongoErrorLabel.TransientTransactionError)&&t.unpin({error:u})),r(u,a)}t.transaction.recoveryToken&&(i.recoveryToken=t.transaction.recoveryToken),(0,Nq.executeOperation)(t.client,new xq.RunAdminCommandOperation(void 0,i,{session:t,readPreference:Mq.ReadPreference.primary,bypassPinningCheck:!0}),(u,a)=>{if(i.abortTransaction&&t.unpin(),u instanceof Te.MongoError&&u.hasErrorLabel(Te.MongoErrorLabel.RetryableWriteError))return i.commitTransaction&&(t.unpin({force:!0}),i.writeConcern=Object.assign({wtimeout:1e4},i.writeConcern,{w:"majority"})),(0,Nq.executeOperation)(t.client,new xq.RunAdminCommandOperation(void 0,i,{session:t,readPreference:Mq.ReadPreference.primary,bypassPinningCheck:!0}),o);o(u,a)})}var Yc=class{constructor(){this.id={id:new O2.Binary((0,Si.uuidV4)(),O2.Binary.SUBTYPE_UUID)},this.lastUse=(0,Si.now)(),this.txnNumber=0,this.isDirty=!1}hasTimedOut(e){return Math.round((0,Si.calculateDurationInMs)(this.lastUse)%864e5%36e5/6e4)>e-1}static clone(e){let r=new ArrayBuffer(16),n=Buffer.from(r);n.set(e.id.id.buffer);let i=new O2.Binary(n,e.id.id.sub_type);return Object.setPrototypeOf({id:{id:i},lastUse:e.lastUse,txnNumber:e.txnNumber,isDirty:e.isDirty},Yc.prototype)}};ti.ServerSession=Yc;var P2=class{constructor(e){if(e==null)throw new Te.MongoRuntimeError("ServerSessionPool requires a MongoClient");this.client=e,this.sessions=new Si.List}acquire(){var e,r,n;let i=(r=(e=this.client.topology)===null||e===void 0?void 0:e.logicalSessionTimeoutMinutes)!==null&&r!==void 0?r:10,s=null;for(;this.sessions.length>0;){let o=this.sessions.shift();if(o!=null&&(!((n=this.client.topology)===null||n===void 0)&&n.loadBalanced||!o.hasTimedOut(i))){s=o;break}}return s==null&&(s=new Yc),s}release(e){var r,n,i;let s=(n=(r=this.client.topology)===null||r===void 0?void 0:r.logicalSessionTimeoutMinutes)!==null&&n!==void 0?n:10;if(!((i=this.client.topology)===null||i===void 0)&&i.loadBalanced&&!s&&this.sessions.unshift(e),!!s&&(this.sessions.prune(o=>o.hasTimedOut(s)),!e.hasTimedOut(s))){if(e.isDirty)return;this.sessions.unshift(e)}}};ti.ServerSessionPool=P2;function J0e(t,e,r){var n,i;if(t.hasEnded)return new Te.MongoExpiredSessionError;let s=t.serverSession;if(s==null)return new Te.MongoRuntimeError("Unable to acquire server session");if(((n=r.writeConcern)===null||n===void 0?void 0:n.w)===0)return t&&t.explicit?new Te.MongoAPIError("Cannot have explicit session with unacknowledged writes"):void 0;s.lastUse=(0,Si.now)(),e.lsid=s.id;let o=t.inTransaction()||(0,Ut.isTransactionCommand)(e);if((!!r.willRetryWrite||o)&&(s.txnNumber+=t[b2],t[b2]=0,e.txnNumber=O2.Long.fromNumber(s.txnNumber)),!o){t.transaction.state!==Ut.TxnState.NO_TRANSACTION&&t.transaction.transition(Ut.TxnState.NO_TRANSACTION),t.supports.causalConsistency&&t.operationTime&&(0,Si.commandSupportsReadConcern)(e,r)?(e.readConcern=e.readConcern||{},Object.assign(e.readConcern,{afterClusterTime:t.operationTime})):t[Ld]&&(e.readConcern=e.readConcern||{level:z0e.ReadConcernLevel.snapshot},t[v2]!=null&&Object.assign(e.readConcern,{atClusterTime:t[v2]}));return}if(e.autocommit=!1,t.transaction.state===Ut.TxnState.STARTING_TRANSACTION){t.transaction.transition(Ut.TxnState.TRANSACTION_IN_PROGRESS),e.startTransaction=!0;let a=t.transaction.options.readConcern||((i=t?.clientOptions)===null||i===void 0?void 0:i.readConcern);a&&(e.readConcern=a),t.supports.causalConsistency&&t.operationTime&&(e.readConcern=e.readConcern||{},Object.assign(e.readConcern,{afterClusterTime:t.operationTime}))}}ti.applySession=J0e;function Q0e(t,e){var r;if(e.$clusterTime&&(0,o8._advanceClusterTime)(t,e.$clusterTime),e.operationTime&&t&&t.supports.causalConsistency&&t.advanceOperationTime(e.operationTime),e.recoveryToken&&t&&t.inTransaction()&&(t.transaction._recoveryToken=e.recoveryToken),t?.[Ld]&&t[v2]==null){let n=((r=e.cursor)===null||r===void 0?void 0:r.atClusterTime)||e.atClusterTime;n&&(t[v2]=n)}}ti.updateSessionFromResponse=Q0e});var va=h(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.assertUninitialized=Qi.next=Qi.AbstractCursor=Qi.CURSOR_FLAGS=void 0;var Vq=require("stream"),Wq=require("util"),mu=Lt(),wi=re(),X0e=ei(),Hq=Gi(),Z0e=Aq(),eme=wq(),tme=Td(),Lq=Vi(),D2=wr(),c8=Lh(),hu=ye(),En=Symbol("id"),xn=Symbol("documents"),R2=Symbol("server"),Uh=Symbol("namespace"),Ud=Symbol("client"),pu=Symbol("session"),kr=Symbol("options"),Vh=Symbol("transform"),zh=Symbol("initialized"),zd=Symbol("closed"),N2=Symbol("killed"),Gq=Symbol("kInit");Qi.CURSOR_FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];var Qc=class extends X0e.TypedEventEmitter{constructor(e,r,n={}){if(super(),!e.s.isMongoClient)throw new wi.MongoRuntimeError("Cursor must be constructed with MongoClient");this[Ud]=e,this[Uh]=r,this[En]=null,this[xn]=new hu.List,this[zh]=!1,this[zd]=!1,this[N2]=!1,this[kr]={readPreference:n.readPreference&&n.readPreference instanceof D2.ReadPreference?n.readPreference:D2.ReadPreference.primary,...(0,mu.pluckBSONSerializeOptions)(n)};let i=Lq.ReadConcern.fromOptions(n);i&&(this[kr].readConcern=i),typeof n.batchSize=="number"&&(this[kr].batchSize=n.batchSize),n.comment!==void 0&&(this[kr].comment=n.comment),typeof n.maxTimeMS=="number"&&(this[kr].maxTimeMS=n.maxTimeMS),typeof n.maxAwaitTimeMS=="number"&&(this[kr].maxAwaitTimeMS=n.maxAwaitTimeMS),n.session instanceof c8.ClientSession?this[pu]=n.session:this[pu]=this[Ud].startSession({owner:this,explicit:!1})}get id(){var e;return(e=this[En])!==null&&e!==void 0?e:void 0}get client(){return this[Ud]}get server(){return this[R2]}get namespace(){return this[Uh]}get readPreference(){return this[kr].readPreference}get readConcern(){return this[kr].readConcern}get session(){return this[pu]}set session(e){this[pu]=e}get cursorOptions(){return this[kr]}get closed(){return this[zd]}get killed(){return this[N2]}get loadBalanced(){var e;return!!(!((e=this[Ud].topology)===null||e===void 0)&&e.loadBalanced)}bufferedCount(){return this[xn].length}readBufferedDocuments(e){let r=[],n=Math.min(e??this[xn].length,this[xn].length);for(let i=0;i<n;i++){let s=this[xn].shift();s!=null&&r.push(s)}return r}[Symbol.asyncIterator](){async function*e(){if(!this.closed)for(;;){let n=await this.next();if(n===null){if(!this.closed){let i="Cursor returned a `null` document, but the cursor is not exhausted.  Mapping documents to `null` is not supported in the cursor transform.";throw await zq(this,{needsToEmitClosed:!0}).catch(()=>null),new wi.MongoAPIError(i)}break}if(yield n,this[En]===mu.Long.ZERO)break}}let r=e.call(this);return tme.PromiseProvider.get()==null?r:{next:()=>(0,hu.maybeCallback)(()=>r.next(),null)}}stream(e){if(e?.transform){let r=e.transform;return new x2(this).pipe(new Vq.Transform({objectMode:!0,highWaterMark:1,transform(i,s,o){try{let u=r(i);o(void 0,u)}catch(u){o(u)}}}))}return new x2(this)}hasNext(e){return(0,hu.maybeCallback)(async()=>{if(this[En]===mu.Long.ZERO)return!1;if(this[xn].length!==0)return!0;let r=await a8(this,!0);return r?(this[xn].unshift(r),!0):!1},e)}next(e){return(0,hu.maybeCallback)(async()=>{if(this[En]===mu.Long.ZERO)throw new wi.MongoCursorExhaustedError;return a8(this,!0)},e)}tryNext(e){return(0,hu.maybeCallback)(async()=>{if(this[En]===mu.Long.ZERO)throw new wi.MongoCursorExhaustedError;return a8(this,!1)},e)}forEach(e,r){if(typeof e!="function")throw new wi.MongoInvalidArgumentError('Argument "iterator" must be a function');return(0,hu.maybeCallback)(async()=>{for await(let n of this)if(e(n)===!1)break},r)}close(e,r){typeof e=="function"&&(r=e,e={}),e=e??{};let n=!this[zd];return this[zd]=!0,(0,hu.maybeCallback)(async()=>zq(this,{needsToEmitClosed:n}),r)}toArray(e){return(0,hu.maybeCallback)(async()=>{let r=[];for await(let n of this)r.push(n);return r},e)}addCursorFlag(e,r){if(Jc(this),!Qi.CURSOR_FLAGS.includes(e))throw new wi.MongoInvalidArgumentError(`Flag ${e} is not one of ${Qi.CURSOR_FLAGS}`);if(typeof r!="boolean")throw new wi.MongoInvalidArgumentError(`Flag ${e} must be a boolean value`);return this[kr][e]=r,this}map(e){Jc(this);let r=this[Vh];return r?this[Vh]=n=>e(r(n)):this[Vh]=e,this}withReadPreference(e){if(Jc(this),e instanceof D2.ReadPreference)this[kr].readPreference=e;else if(typeof e=="string")this[kr].readPreference=D2.ReadPreference.fromString(e);else throw new wi.MongoInvalidArgumentError(`Invalid read preference: ${e}`);return this}withReadConcern(e){Jc(this);let r=Lq.ReadConcern.fromOptions({readConcern:e});return r&&(this[kr].readConcern=r),this}maxTimeMS(e){if(Jc(this),typeof e!="number")throw new wi.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[kr].maxTimeMS=e,this}batchSize(e){if(Jc(this),this[kr].tailable)throw new wi.MongoTailableCursorError("Tailable cursor does not support batchSize");if(typeof e!="number")throw new wi.MongoInvalidArgumentError('Operation "batchSize" requires an integer');return this[kr].batchSize=e,this}rewind(){if(!this[zh])return;this[En]=null,this[xn].clear(),this[zd]=!1,this[N2]=!1,this[zh]=!1;let e=this[pu];e&&e.explicit===!1&&(e.hasEnded||e.endSession().catch(()=>null),this[pu]=this.client.startSession({owner:this,explicit:!1}))}_getMore(e,r){let n=new Z0e.GetMoreOperation(this[Uh],this[En],this[R2],{...this[kr],session:this[pu],batchSize:e});(0,Hq.executeOperation)(this[Ud],n,r)}[Gq](e){this._initialize(this[pu],(r,n)=>{if(n){let i=n.response;this[R2]=n.server,i.cursor&&(this[En]=typeof i.cursor.id=="number"?mu.Long.fromNumber(i.cursor.id):i.cursor.id,i.cursor.ns&&(this[Uh]=(0,hu.ns)(i.cursor.ns)),this[xn].pushMany(i.cursor.firstBatch)),this[En]==null&&(this[En]=mu.Long.ZERO,this[xn].push(n.response))}if(this[zh]=!0,r)return Hh(this,{error:r},()=>e(r,void 0));if(l8(this))return Hh(this,void 0,()=>e());e()})}};Qi.AbstractCursor=Qc;Qc.CLOSE="close";function Uq(t){let e=t[xn].shift();return e&&t[Vh]?t[Vh](e):e}var a8=(0,Wq.promisify)(Wh);function Wh(t,e,r){let n=t[En];if(t.closed)return r(void 0,null);if(t[xn].length!==0){r(void 0,Uq(t));return}if(n==null){t[Gq](s=>s?r(s):Wh(t,e,r));return}if(l8(t))return Hh(t,void 0,()=>r(void 0,null));let i=t[kr].batchSize||1e3;t._getMore(i,(s,o)=>{if(o){let u=typeof o.cursor.id=="number"?mu.Long.fromNumber(o.cursor.id):o.cursor.id;t[xn].pushMany(o.cursor.nextBatch),t[En]=u}if(s||l8(t))return Hh(t,{error:s},()=>r(s,Uq(t)));if(t[xn].length===0&&e===!1)return r(void 0,null);Wh(t,e,r)})}Qi.next=Wh;function l8(t){let e=t[En];return!!e&&e.isZero()}var zq=(0,Wq.promisify)(Hh);function Hh(t,e,r){var n;let i=t[En],s=t[Uh],o=t[R2],u=t[pu],a=e?.error,c=(n=e?.needsToEmitClosed)!==null&&n!==void 0?n:t[xn].length===0;if(a&&t.loadBalanced&&a instanceof wi.MongoNetworkError)return l();if(i==null||o==null||i.isZero()||s==null){if(c&&(t[zd]=!0,t[En]=mu.Long.ZERO,t.emit(Qc.CLOSE)),u){if(u.owner===t)return u.endSession({error:a},r);u.inTransaction()||(0,c8.maybeClearPinnedConnection)(u,{error:a})}return r()}function l(){if(u){if(u.owner===t)return u.endSession({error:a},()=>{t.emit(Qc.CLOSE),r()});u.inTransaction()||(0,c8.maybeClearPinnedConnection)(u,{error:a})}return t.emit(Qc.CLOSE),r()}return t[N2]=!0,(0,Hq.executeOperation)(t[Ud],new eme.KillCursorsOperation(i,s,o,{session:u}),l)}function Jc(t){if(t[zh])throw new wi.MongoCursorInUseError}Qi.assertUninitialized=Jc;var x2=class extends Vq.Readable{constructor(e){super({objectMode:!0,autoDestroy:!1,highWaterMark:1}),this._readInProgress=!1,this._cursor=e}_read(e){this._readInProgress||(this._readInProgress=!0,this._readNext())}_destroy(e,r){this._cursor.close(n=>process.nextTick(r,n||e))}_readNext(){Wh(this._cursor,!0,(e,r)=>{if(e)return e.message.match(/server is closed/)?(this._cursor.close().catch(()=>null),this.push(null)):e.message.match(/operation was interrupted/)?this.push(null):this.destroy(e);if(r==null)this.push(null);else if(this.destroyed)this._cursor.close().catch(()=>null);else{if(this.push(r))return this._readNext();this._readInProgress=!1}})}}});var B2=h(F2=>{"use strict";Object.defineProperty(F2,"__esModule",{value:!0});F2.AggregationCursor=void 0;var Kq=f2(),Yq=Gi(),rme=ye(),Xi=va(),An=Symbol("pipeline"),M2=Symbol("options"),Gh=class extends Xi.AbstractCursor{constructor(e,r,n=[],i={}){super(e,r,i),this[An]=n,this[M2]=i}get pipeline(){return this[An]}clone(){let e=(0,rme.mergeOptions)({},this[M2]);return delete e.session,new Gh(this.client,this.namespace,this[An],{...e})}map(e){return super.map(e)}_initialize(e,r){let n=new Kq.AggregateOperation(this.namespace,this[An],{...this[M2],...this.cursorOptions,session:e});(0,Yq.executeOperation)(this.client,n,(i,s)=>{if(i||s==null)return r(i);r(void 0,{server:n.server,session:e,response:s})})}explain(e,r){return typeof e=="function"&&(r=e,e=!0),e==null&&(e=!0),(0,Yq.executeOperation)(this.client,new Kq.AggregateOperation(this.namespace,this[An],{...this[M2],...this.cursorOptions,explain:e}),r)}group(e){return(0,Xi.assertUninitialized)(this),this[An].push({$group:e}),this}limit(e){return(0,Xi.assertUninitialized)(this),this[An].push({$limit:e}),this}match(e){return(0,Xi.assertUninitialized)(this),this[An].push({$match:e}),this}out(e){return(0,Xi.assertUninitialized)(this),this[An].push({$out:e}),this}project(e){return(0,Xi.assertUninitialized)(this),this[An].push({$project:e}),this}lookup(e){return(0,Xi.assertUninitialized)(this),this[An].push({$lookup:e}),this}redact(e){return(0,Xi.assertUninitialized)(this),this[An].push({$redact:e}),this}skip(e){return(0,Xi.assertUninitialized)(this),this[An].push({$skip:e}),this}sort(e){return(0,Xi.assertUninitialized)(this),this[An].push({$sort:e}),this}unwind(e){return(0,Xi.assertUninitialized)(this),this[An].push({$unwind:e}),this}geoNear(e){return(0,Xi.assertUninitialized)(this),this[An].push({$geoNear:e}),this}};F2.AggregationCursor=Gh});var f8=h($2=>{"use strict";Object.defineProperty($2,"__esModule",{value:!0});$2.CountOperation=void 0;var nme=Zt(),d8=_t(),q2=class extends nme.CommandOperation{constructor(e,r,n){super({s:{namespace:e}},n),this.options=n,this.collectionName=e.collection,this.query=r}execute(e,r,n){let i=this.options,s={count:this.collectionName,query:this.query};typeof i.limit=="number"&&(s.limit=i.limit),typeof i.skip=="number"&&(s.skip=i.skip),i.hint!=null&&(s.hint=i.hint),typeof i.maxTimeMS=="number"&&(s.maxTimeMS=i.maxTimeMS),super.executeCommand(e,r,s,(o,u)=>{n(o,u?u.n:0)})}};$2.CountOperation=q2;(0,d8.defineAspects)(q2,[d8.Aspect.READ_OPERATION,d8.Aspect.RETRYABLE])});var j2=h(k2=>{"use strict";Object.defineProperty(k2,"__esModule",{value:!0});k2.formatSort=void 0;var Jq=re();function Vd(t=1){let e=`${t}`.toLowerCase();if(ime(t))return t;switch(e){case"ascending":case"asc":case"1":return 1;case"descending":case"desc":case"-1":return-1;default:throw new Jq.MongoInvalidArgumentError(`Invalid sort direction: ${JSON.stringify(t)}`)}}function ime(t){return typeof t=="object"&&t!=null&&"$meta"in t&&typeof t.$meta=="string"}function sme(t){if(Array.isArray(t)&&t.length===2)try{return Vd(t[1]),!0}catch{return!1}return!1}function ome(t){return Array.isArray(t)&&Array.isArray(t[0])}function ume(t){return t instanceof Map&&t.size>0}function ame(t){return new Map([[`${t[0]}`,Vd([t[1]])]])}function cme(t){let e=t.map(([r,n])=>[`${r}`,Vd(n)]);return new Map(e)}function lme(t){let e=t.map(r=>[`${r}`,1]);return new Map(e)}function dme(t){let e=Object.entries(t).map(([r,n])=>[`${r}`,Vd(n)]);return new Map(e)}function fme(t){let e=Array.from(t).map(([r,n])=>[`${r}`,Vd(n)]);return new Map(e)}function hme(t,e){if(t!=null){if(typeof t=="string")return new Map([[t,Vd(e)]]);if(typeof t!="object")throw new Jq.MongoInvalidArgumentError(`Invalid sort format: ${JSON.stringify(t)} Sort must be a valid object`);if(!Array.isArray(t))return ume(t)?fme(t):Object.keys(t).length?dme(t):void 0;if(t.length)return ome(t)?cme(t):sme(t)?ame(t):lme(t)}}k2.formatSort=hme});var Zq=h(U2=>{"use strict";Object.defineProperty(U2,"__esModule",{value:!0});U2.FindOperation=void 0;var Qq=re(),pme=Vi(),mme=j2(),Xq=ye(),yme=Zt(),Kh=_t(),L2=class extends yme.CommandOperation{constructor(e,r,n={},i={}){if(super(e,i),this.options=i,this.ns=r,typeof n!="object"||Array.isArray(n))throw new Qq.MongoInvalidArgumentError("Query filter must be a plain object or ObjectId");if(Buffer.isBuffer(n)){let s=n[0]|n[1]<<8|n[2]<<16|n[3]<<24;if(s!==n.length)throw new Qq.MongoInvalidArgumentError(`Query filter raw message size does not match message header size [${n.length}] != [${s}]`)}this.filter=n!=null&&n._bsontype==="ObjectID"?{_id:n}:n}execute(e,r,n){this.server=e;let i=this.options,s=gme(this.ns,this.filter,i);this.explain&&(s=(0,Xq.decorateWithExplain)(s,this.explain)),e.command(this.ns,s,{...this.options,...this.bsonOptions,documentsReturnedIn:"firstBatch",session:r},n)}};U2.FindOperation=L2;function gme(t,e,r){let n={find:t.collection,filter:e};if(r.sort&&(n.sort=(0,mme.formatSort)(r.sort)),r.projection){let s=r.projection;s&&Array.isArray(s)&&(s=s.length?s.reduce((o,u)=>(o[u]=1,o),{}):{_id:1}),n.projection=s}r.hint&&(n.hint=(0,Xq.normalizeHintField)(r.hint)),typeof r.skip=="number"&&(n.skip=r.skip),typeof r.limit=="number"&&(r.limit<0?(n.limit=-r.limit,n.singleBatch=!0):n.limit=r.limit),typeof r.batchSize=="number"&&(r.batchSize<0?(r.limit&&r.limit!==0&&Math.abs(r.batchSize)<Math.abs(r.limit)&&(n.limit=-r.batchSize),n.singleBatch=!0):n.batchSize=r.batchSize),typeof r.singleBatch=="boolean"&&(n.singleBatch=r.singleBatch),r.comment!==void 0&&(n.comment=r.comment),typeof r.maxTimeMS=="number"&&(n.maxTimeMS=r.maxTimeMS);let i=pme.ReadConcern.fromOptions(r);return i&&(n.readConcern=i.toJSON()),r.max&&(n.max=r.max),r.min&&(n.min=r.min),typeof r.returnKey=="boolean"&&(n.returnKey=r.returnKey),typeof r.showRecordId=="boolean"&&(n.showRecordId=r.showRecordId),typeof r.tailable=="boolean"&&(n.tailable=r.tailable),typeof r.oplogReplay=="boolean"&&(n.oplogReplay=r.oplogReplay),typeof r.timeout=="boolean"?n.noCursorTimeout=!r.timeout:typeof r.noCursorTimeout=="boolean"&&(n.noCursorTimeout=r.noCursorTimeout),typeof r.awaitData=="boolean"&&(n.awaitData=r.awaitData),typeof r.allowPartialResults=="boolean"&&(n.allowPartialResults=r.allowPartialResults),r.collation&&(n.collation=r.collation),typeof r.allowDiskUse=="boolean"&&(n.allowDiskUse=r.allowDiskUse),r.let&&(n.let=r.let),n}(0,Kh.defineAspects)(L2,[Kh.Aspect.READ_OPERATION,Kh.Aspect.RETRYABLE,Kh.Aspect.EXPLAINABLE,Kh.Aspect.CURSOR_CREATING])});var m8=h(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.FindCursor=Wd.FLAGS=void 0;var qs=re(),_me=f8(),h8=Gi(),e$=Zq(),p8=j2(),t$=ye(),Yr=va(),Xc=Symbol("filter"),Yh=Symbol("numReturned"),Ye=Symbol("builtOptions");Wd.FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];var Jh=class extends Yr.AbstractCursor{constructor(e,r,n,i={}){super(e,r,i),this[Xc]=n||{},this[Ye]=i,i.sort!=null&&(this[Ye].sort=(0,p8.formatSort)(i.sort))}clone(){let e=(0,t$.mergeOptions)({},this[Ye]);return delete e.session,new Jh(this.client,this.namespace,this[Xc],{...e})}map(e){return super.map(e)}_initialize(e,r){let n=new e$.FindOperation(void 0,this.namespace,this[Xc],{...this[Ye],...this.cursorOptions,session:e});(0,h8.executeOperation)(this.client,n,(i,s)=>{if(i||s==null)return r(i);s.cursor?this[Yh]=s.cursor.firstBatch.length:this[Yh]=s.documents?s.documents.length:0,r(void 0,{server:n.server,session:e,response:s})})}_getMore(e,r){let n=this[Yh];if(n){let i=this[Ye].limit;if(e=i&&i>0&&n+e>i?i-n:e,e<=0)return this.close(r)}super._getMore(e,(i,s)=>{if(i)return r(i);s&&(this[Yh]=this[Yh]+s.cursor.nextBatch.length),r(void 0,s)})}count(e,r){if((0,t$.emitWarningOnce)("cursor.count is deprecated and will be removed in the next major version, please use `collection.estimatedDocumentCount` or `collection.countDocuments` instead "),typeof e=="boolean")throw new qs.MongoInvalidArgumentError("Invalid first parameter to count");return typeof e=="function"&&(r=e,e={}),e=e??{},(0,h8.executeOperation)(this.client,new _me.CountOperation(this.namespace,this[Xc],{...this[Ye],...this.cursorOptions,...e}),r)}explain(e,r){return typeof e=="function"&&(r=e,e=!0),e==null&&(e=!0),(0,h8.executeOperation)(this.client,new e$.FindOperation(void 0,this.namespace,this[Xc],{...this[Ye],...this.cursorOptions,explain:e}),r)}filter(e){return(0,Yr.assertUninitialized)(this),this[Xc]=e,this}hint(e){return(0,Yr.assertUninitialized)(this),this[Ye].hint=e,this}min(e){return(0,Yr.assertUninitialized)(this),this[Ye].min=e,this}max(e){return(0,Yr.assertUninitialized)(this),this[Ye].max=e,this}returnKey(e){return(0,Yr.assertUninitialized)(this),this[Ye].returnKey=e,this}showRecordId(e){return(0,Yr.assertUninitialized)(this),this[Ye].showRecordId=e,this}addQueryModifier(e,r){if((0,Yr.assertUninitialized)(this),e[0]!=="$")throw new qs.MongoInvalidArgumentError(`${e} is not a valid query modifier`);switch(e.substr(1)){case"comment":this[Ye].comment=r;break;case"explain":this[Ye].explain=r;break;case"hint":this[Ye].hint=r;break;case"max":this[Ye].max=r;break;case"maxTimeMS":this[Ye].maxTimeMS=r;break;case"min":this[Ye].min=r;break;case"orderby":this[Ye].sort=(0,p8.formatSort)(r);break;case"query":this[Xc]=r;break;case"returnKey":this[Ye].returnKey=r;break;case"showDiskLoc":this[Ye].showRecordId=r;break;default:throw new qs.MongoInvalidArgumentError(`Invalid query modifier: ${e}`)}return this}comment(e){return(0,Yr.assertUninitialized)(this),this[Ye].comment=e,this}maxAwaitTimeMS(e){if((0,Yr.assertUninitialized)(this),typeof e!="number")throw new qs.MongoInvalidArgumentError("Argument for maxAwaitTimeMS must be a number");return this[Ye].maxAwaitTimeMS=e,this}maxTimeMS(e){if((0,Yr.assertUninitialized)(this),typeof e!="number")throw new qs.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this[Ye].maxTimeMS=e,this}project(e){return(0,Yr.assertUninitialized)(this),this[Ye].projection=e,this}sort(e,r){if((0,Yr.assertUninitialized)(this),this[Ye].tailable)throw new qs.MongoTailableCursorError("Tailable cursor does not support sorting");return this[Ye].sort=(0,p8.formatSort)(e,r),this}allowDiskUse(e=!0){if((0,Yr.assertUninitialized)(this),!this[Ye].sort)throw new qs.MongoInvalidArgumentError('Option "allowDiskUse" requires a sort specification');return e?(this[Ye].allowDiskUse=!0,this):(this[Ye].allowDiskUse=!1,this)}collation(e){return(0,Yr.assertUninitialized)(this),this[Ye].collation=e,this}limit(e){if((0,Yr.assertUninitialized)(this),this[Ye].tailable)throw new qs.MongoTailableCursorError("Tailable cursor does not support limit");if(typeof e!="number")throw new qs.MongoInvalidArgumentError('Operation "limit" requires an integer');return this[Ye].limit=e,this}skip(e){if((0,Yr.assertUninitialized)(this),this[Ye].tailable)throw new qs.MongoTailableCursorError("Tailable cursor does not support skip");if(typeof e!="number")throw new qs.MongoInvalidArgumentError('Operation "skip" requires an integer');return this[Ye].skip=e,this}};Wd.FindCursor=Jh});var ep=h(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.IndexInformationOperation=Cr.IndexExistsOperation=Cr.ListIndexesOperation=Cr.DropIndexesOperation=Cr.DropIndexOperation=Cr.EnsureIndexOperation=Cr.CreateIndexOperation=Cr.CreateIndexesOperation=Cr.IndexesOperation=void 0;var r$=re(),Eme=wr(),E8=ye(),A8=Zt(),S8=q9(),Jr=_t(),Ame=new Set(["background","unique","name","partialFilterExpression","sparse","hidden","expireAfterSeconds","storageEngine","collation","version","weights","default_language","language_override","textIndexVersion","2dsphereIndexVersion","bits","min","max","bucketSize","wildcardProjection"]);function Sme(t){return typeof t=="number"||t==="2d"||t==="2dsphere"||t==="text"||t==="geoHaystack"}function wme(t){return Array.isArray(t)&&t.length===2&&Sme(t[1])}function Ome(t,e){var r;let n=new Map,i=!Array.isArray(t)||wme(t)?[t]:t;for(let s of i)if(typeof s=="string")n.set(s,1);else if(Array.isArray(s))n.set(s[0],(r=s[1])!==null&&r!==void 0?r:1);else if(s instanceof Map)for(let[o,u]of s)n.set(o,u);else if((0,E8.isObject)(s))for(let[o,u]of Object.entries(s))n.set(o,u);return{...e,key:n}}var y8=class extends Jr.AbstractOperation{constructor(e,r){super(r),this.options=r,this.collection=e}execute(e,r,n){let i=this.collection,s=this.options;(0,S8.indexInformation)(i.s.db,i.collectionName,{full:!0,...s,readPreference:this.readPreference,session:r},n)}};Cr.IndexesOperation=y8;var Qh=class extends A8.CommandOperation{constructor(e,r,n,i){super(e,i),this.options=i??{},this.collectionName=r,this.indexes=n.map(s=>{let o=s.key instanceof Map?s.key:new Map(Object.entries(s.key)),u=s.name!=null?s.name:Array.from(o).flat().join("_");return{...Object.fromEntries(Object.entries({...s}).filter(([c])=>Ame.has(c))),name:u,key:o}})}execute(e,r,n){let i=this.options,s=this.indexes,o=(0,E8.maxWireVersion)(e),u={createIndexes:this.collectionName,indexes:s};if(i.commitQuorum!=null){if(o<9){n(new r$.MongoCompatibilityError("Option `commitQuorum` for `createIndexes` not supported on servers < 4.4"));return}u.commitQuorum=i.commitQuorum}this.options.collation=void 0,super.executeCommand(e,r,u,a=>{if(a){n(a);return}let c=s.map(l=>l.name||"");n(void 0,c)})}};Cr.CreateIndexesOperation=Qh;var Xh=class extends Qh{constructor(e,r,n,i){super(e,r,[Ome(n,i)],i)}execute(e,r,n){super.execute(e,r,(i,s)=>i||!s?n(i):n(void 0,s[0]))}};Cr.CreateIndexOperation=Xh;var z2=class extends Xh{constructor(e,r,n,i){super(e,r,n,i),this.readPreference=Eme.ReadPreference.primary,this.db=e,this.collectionName=r}execute(e,r,n){let i=this.indexes[0].name;this.db.collection(this.collectionName).listIndexes({session:r}).toArray((o,u)=>{if(o&&o.code!==r$.MONGODB_ERROR_CODES.NamespaceNotFound)return n(o);if(u&&(u=Array.isArray(u)?u:[u],u.some(a=>a.name===i))){n(void 0,i);return}super.execute(e,r,n)})}};Cr.EnsureIndexOperation=z2;var Zh=class extends A8.CommandOperation{constructor(e,r,n){super(e,n),this.options=n??{},this.collection=e,this.indexName=r}execute(e,r,n){let i={dropIndexes:this.collection.collectionName,index:this.indexName};super.executeCommand(e,r,i,n)}};Cr.DropIndexOperation=Zh;var V2=class extends Zh{constructor(e,r){super(e,"*",r)}execute(e,r,n){super.execute(e,r,i=>{if(i)return n(i,!1);n(void 0,!0)})}};Cr.DropIndexesOperation=V2;var W2=class extends A8.CommandOperation{constructor(e,r){super(e,r),this.options=r??{},this.collectionNamespace=e.s.namespace}execute(e,r,n){let i=(0,E8.maxWireVersion)(e),s=this.options.batchSize?{batchSize:this.options.batchSize}:{},o={listIndexes:this.collectionNamespace.collection,cursor:s};i>=9&&this.options.comment!==void 0&&(o.comment=this.options.comment),super.executeCommand(e,r,o,n)}};Cr.ListIndexesOperation=W2;var g8=class extends Jr.AbstractOperation{constructor(e,r,n){super(n),this.options=n,this.collection=e,this.indexes=r}execute(e,r,n){let i=this.collection,s=this.indexes;(0,S8.indexInformation)(i.s.db,i.collectionName,{...this.options,readPreference:this.readPreference,session:r},(o,u)=>{if(o!=null)return n(o);if(!Array.isArray(s))return n(void 0,u[s]!=null);for(let a=0;a<s.length;a++)if(u[s[a]]==null)return n(void 0,!1);return n(void 0,!0)})}};Cr.IndexExistsOperation=g8;var _8=class extends Jr.AbstractOperation{constructor(e,r,n){super(n),this.options=n??{},this.db=e,this.name=r}execute(e,r,n){let i=this.db,s=this.name;(0,S8.indexInformation)(i,s,{...this.options,readPreference:this.readPreference,session:r},n)}};Cr.IndexInformationOperation=_8;(0,Jr.defineAspects)(W2,[Jr.Aspect.READ_OPERATION,Jr.Aspect.RETRYABLE,Jr.Aspect.CURSOR_CREATING]);(0,Jr.defineAspects)(Qh,[Jr.Aspect.WRITE_OPERATION]);(0,Jr.defineAspects)(Xh,[Jr.Aspect.WRITE_OPERATION]);(0,Jr.defineAspects)(z2,[Jr.Aspect.WRITE_OPERATION]);(0,Jr.defineAspects)(Zh,[Jr.Aspect.WRITE_OPERATION]);(0,Jr.defineAspects)(V2,[Jr.Aspect.WRITE_OPERATION])});var w8=h(H2=>{"use strict";Object.defineProperty(H2,"__esModule",{value:!0});H2.ListIndexesCursor=void 0;var Cme=Gi(),vme=ep(),bme=va(),tp=class extends bme.AbstractCursor{constructor(e,r){super(e.s.db.s.client,e.s.namespace,r),this.parent=e,this.options=r}clone(){return new tp(this.parent,{...this.options,...this.cursorOptions})}_initialize(e,r){let n=new vme.ListIndexesOperation(this.parent,{...this.cursorOptions,...this.options,session:e});(0,Cme.executeOperation)(this.parent.s.db.s.client,n,(i,s)=>{if(i||s==null)return r(i);r(void 0,{server:n.server,session:e,response:s})})}};H2.ListIndexesCursor=tp});var n$=h(G2=>{"use strict";Object.defineProperty(G2,"__esModule",{value:!0});G2.CountDocumentsOperation=void 0;var Ime=f2(),O8=class extends Ime.AggregateOperation{constructor(e,r,n){let i=[];i.push({$match:r}),typeof n.skip=="number"&&i.push({$skip:n.skip}),typeof n.limit=="number"&&i.push({$limit:n.limit}),i.push({$group:{_id:1,n:{$sum:1}}}),super(e.s.namespace,i,n)}execute(e,r,n){super.execute(e,r,(i,s)=>{if(i||!s){n(i);return}let o=s;if(o.cursor==null||o.cursor.firstBatch==null){n(void 0,0);return}let u=o.cursor.firstBatch;n(void 0,u.length?u[0].n:0)})}};G2.CountDocumentsOperation=O8});var s$=h(J2=>{"use strict";Object.defineProperty(J2,"__esModule",{value:!0});J2.DistinctOperation=void 0;var i$=ye(),Pme=Zt(),K2=_t(),Y2=class extends Pme.CommandOperation{constructor(e,r,n,i){super(e,i),this.options=i??{},this.collection=e,this.key=r,this.query=n}execute(e,r,n){let i=this.collection,s=this.key,o=this.query,u=this.options,a={distinct:i.collectionName,key:s,query:o};typeof u.maxTimeMS=="number"&&(a.maxTimeMS=u.maxTimeMS),typeof u.comment<"u"&&(a.comment=u.comment),(0,i$.decorateWithReadConcern)(a,i,u);try{(0,i$.decorateWithCollation)(a,i,u)}catch(c){return n(c)}super.executeCommand(e,r,a,(c,l)=>{if(c){n(c);return}n(void 0,this.explain?l:l.values)})}};J2.DistinctOperation=Y2;(0,K2.defineAspects)(Y2,[K2.Aspect.READ_OPERATION,K2.Aspect.RETRYABLE,K2.Aspect.EXPLAINABLE])});var C8=h(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.DropDatabaseOperation=Gd.DropCollectionOperation=void 0;var o$=re(),u$=Zt(),Q2=_t(),Hd=class extends u$.CommandOperation{constructor(e,r,n={}){super(e,n),this.db=e,this.options=n,this.name=r}execute(e,r,n){(async()=>{var i,s,o,u;let a=this.db,c=this.options,l=this.name,d=(i=a.s.client.options.autoEncryption)===null||i===void 0?void 0:i.encryptedFieldsMap,f=(s=c.encryptedFields)!==null&&s!==void 0?s:d?.[`${a.databaseName}.${l}`];if(!f&&d){let p=await a.listCollections({name:l},{nameOnly:!1}).toArray();f=(u=(o=p?.[0])===null||o===void 0?void 0:o.options)===null||u===void 0?void 0:u.encryptedFields}if(f){let p=f.escCollection||`enxcol_.${l}.esc`,m=f.eccCollection||`enxcol_.${l}.ecc`,y=f.ecocCollection||`enxcol_.${l}.ecoc`;for(let _ of[p,m,y]){let g=new Hd(a,_);try{await g.executeWithoutEncryptedFieldsCheck(e,r)}catch(E){if(!(E instanceof o$.MongoServerError)||E.code!==o$.MONGODB_ERROR_CODES.NamespaceNotFound)throw E}}}return this.executeWithoutEncryptedFieldsCheck(e,r)})().then(i=>n(void 0,i),i=>n(i))}executeWithoutEncryptedFieldsCheck(e,r){return new Promise((n,i)=>{super.executeCommand(e,r,{drop:this.name},(s,o)=>{if(s)return i(s);n(!!o.ok)})})}};Gd.DropCollectionOperation=Hd;var X2=class extends u$.CommandOperation{constructor(e,r){super(e,r),this.options=r}execute(e,r,n){super.executeCommand(e,r,{dropDatabase:1},(i,s)=>{if(i)return n(i);if(s.ok)return n(void 0,!0);n(void 0,!1)})}};Gd.DropDatabaseOperation=X2;(0,Q2.defineAspects)(Hd,[Q2.Aspect.WRITE_OPERATION]);(0,Q2.defineAspects)(X2,[Q2.Aspect.WRITE_OPERATION])});var a$=h(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.EstimatedDocumentCountOperation=void 0;var Tme=Zt(),Z2=_t(),eE=class extends Tme.CommandOperation{constructor(e,r={}){super(e,r),this.options=r,this.collectionName=e.collectionName}execute(e,r,n){let i={count:this.collectionName};typeof this.options.maxTimeMS=="number"&&(i.maxTimeMS=this.options.maxTimeMS),this.options.comment!==void 0&&(i.comment=this.options.comment),super.executeCommand(e,r,i,(s,o)=>{if(s){n(s);return}n(void 0,o?.n||0)})}};tE.EstimatedDocumentCountOperation=eE;(0,Z2.defineAspects)(eE,[Z2.Aspect.READ_OPERATION,Z2.Aspect.RETRYABLE,Z2.Aspect.CURSOR_CREATING])});var P8=h($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.FindOneAndUpdateOperation=$s.FindOneAndReplaceOperation=$s.FindOneAndDeleteOperation=$s.ReturnDocument=void 0;var ba=re(),Dme=wr(),Rme=j2(),nE=ye(),Nme=Zt(),rE=_t();$s.ReturnDocument=Object.freeze({BEFORE:"before",AFTER:"after"});function c$(t,e){return t.new=e.returnDocument===$s.ReturnDocument.AFTER,t.upsert=e.upsert===!0,e.bypassDocumentValidation===!0&&(t.bypassDocumentValidation=e.bypassDocumentValidation),t}var Kd=class extends Nme.CommandOperation{constructor(e,r,n){super(e,n),this.options=n??{},this.cmdBase={remove:!1,new:!1,upsert:!1};let i=(0,Rme.formatSort)(n.sort);i&&(this.cmdBase.sort=i),n.projection&&(this.cmdBase.fields=n.projection),n.maxTimeMS&&(this.cmdBase.maxTimeMS=n.maxTimeMS),n.writeConcern&&(this.cmdBase.writeConcern=n.writeConcern),n.let&&(this.cmdBase.let=n.let),n.comment!==void 0&&(this.cmdBase.comment=n.comment),this.readPreference=Dme.ReadPreference.primary,this.collection=e,this.query=r}execute(e,r,n){var i;let s=this.collection,o=this.query,u={...this.options,...this.bsonOptions},a={findAndModify:s.collectionName,query:o,...this.cmdBase};try{(0,nE.decorateWithCollation)(a,s,u)}catch(c){return n(c)}if(u.hint){if(((i=this.writeConcern)===null||i===void 0?void 0:i.w)===0||(0,nE.maxWireVersion)(e)<8){n(new ba.MongoCompatibilityError("The current topology does not support a hint on findAndModify commands"));return}a.hint=u.hint}super.executeCommand(e,r,a,(c,l)=>c?n(c):n(void 0,l))}},v8=class extends Kd{constructor(e,r,n){if(r==null||typeof r!="object")throw new ba.MongoInvalidArgumentError('Argument "filter" must be an object');super(e,r,n),this.cmdBase.remove=!0}};$s.FindOneAndDeleteOperation=v8;var b8=class extends Kd{constructor(e,r,n,i){if(r==null||typeof r!="object")throw new ba.MongoInvalidArgumentError('Argument "filter" must be an object');if(n==null||typeof n!="object")throw new ba.MongoInvalidArgumentError('Argument "replacement" must be an object');if((0,nE.hasAtomicOperators)(n))throw new ba.MongoInvalidArgumentError("Replacement document must not contain atomic operators");super(e,r,i),this.cmdBase.update=n,c$(this.cmdBase,i)}};$s.FindOneAndReplaceOperation=b8;var I8=class extends Kd{constructor(e,r,n,i){if(r==null||typeof r!="object")throw new ba.MongoInvalidArgumentError('Argument "filter" must be an object');if(n==null||typeof n!="object")throw new ba.MongoInvalidArgumentError('Argument "update" must be an object');if(!(0,nE.hasAtomicOperators)(n))throw new ba.MongoInvalidArgumentError("Update document requires atomic operators");super(e,r,i),this.cmdBase.update=n,c$(this.cmdBase,i),i.arrayFilters&&(this.cmdBase.arrayFilters=i.arrayFilters)}};$s.FindOneAndUpdateOperation=I8;(0,rE.defineAspects)(Kd,[rE.Aspect.WRITE_OPERATION,rE.Aspect.RETRYABLE,rE.Aspect.EXPLAINABLE])});var l$=h(iE=>{"use strict";Object.defineProperty(iE,"__esModule",{value:!0});iE.IsCappedOperation=void 0;var xme=re(),Mme=_t(),T8=class extends Mme.AbstractOperation{constructor(e,r){super(r),this.options=r,this.collection=e}execute(e,r,n){let i=this.collection;i.s.db.listCollections({name:i.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:r}).toArray((s,o)=>{if(s||!o)return n(s);if(o.length===0)return n(new xme.MongoAPIError(`collection ${i.namespace} not found`));let u=o[0].options;n(void 0,!!(u&&u.capped))})}};iE.IsCappedOperation=T8});var m$=h(oE=>{"use strict";Object.defineProperty(oE,"__esModule",{value:!0});oE.MapReduceOperation=void 0;var Fme=Lt(),d$=re(),f$=wr(),rp=ye(),Bme=Zt(),h$=_t(),qme=["explain","readPreference","readConcern","session","bypassDocumentValidation","writeConcern","raw","fieldsAsRaw","promoteLongs","promoteValues","promoteBuffers","bsonRegExp","serializeFunctions","ignoreUndefined","enableUtf8Validation","scope"],sE=class extends Bme.CommandOperation{constructor(e,r,n,i){super(e,i),this.options=i??{},this.collection=e,this.map=r,this.reduce=n}execute(e,r,n){let i=this.collection,s=this.map,o=this.reduce,u=this.options,a={mapReduce:i.collectionName,map:s,reduce:o};u.scope&&(a.scope=p$(u.scope));for(let c in u)qme.indexOf(c)===-1&&(a[c]=u[c]);u=Object.assign({},u),this.readPreference.mode===f$.ReadPreferenceMode.primary&&u.out&&u.out.inline!==1&&u.out!=="inline"?(u.readPreference=f$.ReadPreference.primary,(0,rp.applyWriteConcern)(a,{db:i.s.db,collection:i},u)):(0,rp.decorateWithReadConcern)(a,i,u),u.bypassDocumentValidation===!0&&(a.bypassDocumentValidation=u.bypassDocumentValidation);try{(0,rp.decorateWithCollation)(a,i,u)}catch(c){return n(c)}if(this.explain&&(0,rp.maxWireVersion)(e)<9){n(new d$.MongoCompatibilityError(`Server ${e.name} does not support explain on mapReduce`));return}super.executeCommand(e,r,a,(c,l)=>{if(c)return n(c);if(l.ok!==1||l.err||l.errmsg)return n(new d$.MongoServerError(l));if(this.explain)return n(void 0,l);let d={};if(l.timeMillis&&(d.processtime=l.timeMillis),l.counts&&(d.counts=l.counts),l.timing&&(d.timing=l.timing),l.results)return u.verbose==null||!u.verbose?n(void 0,l.results):n(void 0,{results:l.results,stats:d});let f=null;if(l.result!=null&&typeof l.result=="object"){let p=l.result;f=i.s.db.s.client.db(p.db,i.s.db.s.options).collection(p.collection)}else f=i.s.db.collection(l.result);if(u.verbose==null||!u.verbose)return n(c,f);n(c,{collection:f,stats:d})})}};oE.MapReduceOperation=sE;function p$(t){if(!(0,rp.isObject)(t)||t._bsontype==="ObjectID")return t;let e={};for(let r of Object.keys(t))typeof t[r]=="function"?e[r]=new Fme.Code(String(t[r])):t[r]._bsontype==="Code"?e[r]=t[r]:e[r]=p$(t[r]);return e}(0,h$.defineAspects)(sE,[h$.Aspect.EXPLAINABLE])});var y$=h(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});uE.OptionsOperation=void 0;var $me=re(),kme=_t(),D8=class extends kme.AbstractOperation{constructor(e,r){super(r),this.options=r,this.collection=e}execute(e,r,n){let i=this.collection;i.s.db.listCollections({name:i.collectionName},{...this.options,nameOnly:!1,readPreference:this.readPreference,session:r}).toArray((s,o)=>{if(s||!o)return n(s);if(o.length===0)return n(new $me.MongoAPIError(`collection ${i.namespace} not found`));n(s,o[0].options)})}};uE.OptionsOperation=D8});var R8=h(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0});cE.RenameOperation=void 0;var jme=Zc(),Lme=re(),Ume=ye(),g$=_t(),zme=Dh(),aE=class extends zme.RunAdminCommandOperation{constructor(e,r,n){(0,Ume.checkCollectionName)(r);let i=e.namespace,s=e.s.namespace.withCollection(r).toString(),o=typeof n.dropTarget=="boolean"?n.dropTarget:!1,u={renameCollection:i,to:s,dropTarget:o};super(e,u,n),this.options=n,this.collection=e,this.newName=r}execute(e,r,n){let i=this.collection;super.execute(e,r,(s,o)=>{if(s)return n(s);if(o?.errmsg)return n(new Lme.MongoServerError(o));let u;try{u=new jme.Collection(i.s.db,this.newName,i.s.options)}catch(a){return n(a)}return n(void 0,u)})}};cE.RenameOperation=aE;(0,g$.defineAspects)(aE,[g$.Aspect.WRITE_OPERATION])});var N8=h(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.DbStatsOperation=Yd.CollStatsOperation=void 0;var _$=Zt(),lE=_t(),dE=class extends _$.CommandOperation{constructor(e,r){super(e,r),this.options=r??{},this.collectionName=e.collectionName}execute(e,r,n){let i={collStats:this.collectionName};this.options.scale!=null&&(i.scale=this.options.scale),super.executeCommand(e,r,i,n)}};Yd.CollStatsOperation=dE;var fE=class extends _$.CommandOperation{constructor(e,r){super(e,r),this.options=r}execute(e,r,n){let i={dbStats:!0};this.options.scale!=null&&(i.scale=this.options.scale),super.executeCommand(e,r,i,n)}};Yd.DbStatsOperation=fE;(0,lE.defineAspects)(dE,[lE.Aspect.READ_OPERATION]);(0,lE.defineAspects)(fE,[lE.Aspect.READ_OPERATION])});var Zc=h(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});hE.Collection=void 0;var Vme=Lt(),Wme=H9(),Hme=K9(),Gme=Jd(),Kme=B2(),Yme=m8(),Jme=w8(),Ia=re(),Qme=B9(),Xme=f8(),Zme=n$(),E$=M9(),eye=s$(),tye=C8(),rye=a$(),wt=Gi(),x8=P8(),el=ep(),A$=$9(),nye=l$(),iye=m$(),sye=y$(),oye=R8(),uye=N8(),M8=j9(),aye=Vi(),F8=wr(),ke=ye(),S$=Hi(),B8=class{constructor(e,r,n){var i,s;(0,ke.checkCollectionName)(r),this.s={db:e,options:n,namespace:new ke.MongoDBNamespace(e.databaseName,r),pkFactory:(s=(i=e.options)===null||i===void 0?void 0:i.pkFactory)!==null&&s!==void 0?s:ke.DEFAULT_PK_FACTORY,readPreference:F8.ReadPreference.fromOptions(n),bsonOptions:(0,Vme.resolveBSONOptions)(n,e),readConcern:aye.ReadConcern.fromOptions(n),writeConcern:S$.WriteConcern.fromOptions(n)}}get dbName(){return this.s.namespace.db}get collectionName(){return this.s.namespace.collection}get namespace(){return this.s.namespace.toString()}get readConcern(){return this.s.readConcern==null?this.s.db.readConcern:this.s.readConcern}get readPreference(){return this.s.readPreference==null?this.s.db.readPreference:this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern==null?this.s.db.writeConcern:this.s.writeConcern}get hint(){return this.s.collectionHint}set hint(e){this.s.collectionHint=(0,ke.normalizeHintField)(e)}insertOne(e,r,n){return typeof r=="function"&&(n=r,r={}),r&&Reflect.get(r,"w")&&(r.writeConcern=S$.WriteConcern.fromOptions(Reflect.get(r,"w"))),(0,wt.executeOperation)(this.s.db.s.client,new A$.InsertOneOperation(this,e,(0,ke.resolveOptions)(this,r)),n)}insertMany(e,r,n){return typeof r=="function"&&(n=r,r={}),r=r?Object.assign({},r):{ordered:!0},(0,wt.executeOperation)(this.s.db.s.client,new A$.InsertManyOperation(this,e,(0,ke.resolveOptions)(this,r)),n)}bulkWrite(e,r,n){if(typeof r=="function"&&(n=r,r={}),r=r||{ordered:!0},!Array.isArray(e))throw new Ia.MongoInvalidArgumentError('Argument "operations" must be an array of documents');return(0,wt.executeOperation)(this.s.db.s.client,new Qme.BulkWriteOperation(this,e,(0,ke.resolveOptions)(this,r)),n)}updateOne(e,r,n,i){return typeof n=="function"&&(i=n,n={}),(0,wt.executeOperation)(this.s.db.s.client,new M8.UpdateOneOperation(this,e,r,(0,ke.resolveOptions)(this,n)),i)}replaceOne(e,r,n,i){return typeof n=="function"&&(i=n,n={}),(0,wt.executeOperation)(this.s.db.s.client,new M8.ReplaceOneOperation(this,e,r,(0,ke.resolveOptions)(this,n)),i)}updateMany(e,r,n,i){return typeof n=="function"&&(i=n,n={}),(0,wt.executeOperation)(this.s.db.s.client,new M8.UpdateManyOperation(this,e,r,(0,ke.resolveOptions)(this,n)),i)}deleteOne(e,r,n){return typeof r=="function"&&(n=r,r={}),(0,wt.executeOperation)(this.s.db.s.client,new E$.DeleteOneOperation(this,e,(0,ke.resolveOptions)(this,r)),n)}deleteMany(e,r,n){return e==null?(e={},r={},n=void 0):typeof e=="function"?(n=e,e={},r={}):typeof r=="function"&&(n=r,r={}),(0,wt.executeOperation)(this.s.db.s.client,new E$.DeleteManyOperation(this,e,(0,ke.resolveOptions)(this,r)),n)}rename(e,r,n){return typeof r=="function"&&(n=r,r={}),(0,wt.executeOperation)(this.s.db.s.client,new oye.RenameOperation(this,e,{...r,readPreference:F8.ReadPreference.PRIMARY}),n)}drop(e,r){return typeof e=="function"&&(r=e,e={}),e=e??{},(0,wt.executeOperation)(this.s.db.s.client,new tye.DropCollectionOperation(this.s.db,this.collectionName,e),r)}findOne(e,r,n){if(n!=null&&typeof n!="function")throw new Ia.MongoInvalidArgumentError("Third parameter to `findOne()` must be a callback or undefined");typeof e=="function"&&(n=e,e={},r={}),typeof r=="function"&&(n=r,r={});let i=e??{},s=r??{};return this.find(i,s).limit(-1).batchSize(1).next(n)}find(e,r){if(arguments.length>2)throw new Ia.MongoInvalidArgumentError('Method "collection.find()" accepts at most two arguments');if(typeof r=="function")throw new Ia.MongoInvalidArgumentError('Argument "options" must not be function');return new Yme.FindCursor(this.s.db.s.client,this.s.namespace,e,(0,ke.resolveOptions)(this,r))}options(e,r){return typeof e=="function"&&(r=e,e={}),(0,wt.executeOperation)(this.s.db.s.client,new sye.OptionsOperation(this,(0,ke.resolveOptions)(this,e)),r)}isCapped(e,r){return typeof e=="function"&&(r=e,e={}),(0,wt.executeOperation)(this.s.db.s.client,new nye.IsCappedOperation(this,(0,ke.resolveOptions)(this,e)),r)}createIndex(e,r,n){return typeof r=="function"&&(n=r,r={}),(0,wt.executeOperation)(this.s.db.s.client,new el.CreateIndexOperation(this,this.collectionName,e,(0,ke.resolveOptions)(this,r)),n)}createIndexes(e,r,n){return typeof r=="function"&&(n=r,r={}),r=r?Object.assign({},r):{},typeof r.maxTimeMS!="number"&&delete r.maxTimeMS,(0,wt.executeOperation)(this.s.db.s.client,new el.CreateIndexesOperation(this,this.collectionName,e,(0,ke.resolveOptions)(this,r)),n)}dropIndex(e,r,n){return typeof r=="function"&&(n=r,r={}),r=(0,ke.resolveOptions)(this,r),r.readPreference=F8.ReadPreference.primary,(0,wt.executeOperation)(this.s.db.s.client,new el.DropIndexOperation(this,e,r),n)}dropIndexes(e,r){return typeof e=="function"&&(r=e,e={}),(0,wt.executeOperation)(this.s.db.s.client,new el.DropIndexesOperation(this,(0,ke.resolveOptions)(this,e)),r)}listIndexes(e){return new Jme.ListIndexesCursor(this,(0,ke.resolveOptions)(this,e))}indexExists(e,r,n){return typeof r=="function"&&(n=r,r={}),(0,wt.executeOperation)(this.s.db.s.client,new el.IndexExistsOperation(this,e,(0,ke.resolveOptions)(this,r)),n)}indexInformation(e,r){return typeof e=="function"&&(r=e,e={}),(0,wt.executeOperation)(this.s.db.s.client,new el.IndexInformationOperation(this.s.db,this.collectionName,(0,ke.resolveOptions)(this,e)),r)}estimatedDocumentCount(e,r){return typeof e=="function"&&(r=e,e={}),(0,wt.executeOperation)(this.s.db.s.client,new rye.EstimatedDocumentCountOperation(this,(0,ke.resolveOptions)(this,e)),r)}countDocuments(e,r,n){return e==null?(e={},r={},n=void 0):typeof e=="function"?(n=e,e={},r={}):arguments.length===2&&typeof r=="function"&&(n=r,r={}),e??(e={}),(0,wt.executeOperation)(this.s.db.s.client,new Zme.CountDocumentsOperation(this,e,(0,ke.resolveOptions)(this,r)),n)}distinct(e,r,n,i){return typeof r=="function"?(i=r,r={},n={}):arguments.length===3&&typeof n=="function"&&(i=n,n={}),r??(r={}),(0,wt.executeOperation)(this.s.db.s.client,new eye.DistinctOperation(this,e,r,(0,ke.resolveOptions)(this,n)),i)}indexes(e,r){return typeof e=="function"&&(r=e,e={}),(0,wt.executeOperation)(this.s.db.s.client,new el.IndexesOperation(this,(0,ke.resolveOptions)(this,e)),r)}stats(e,r){return typeof e=="function"&&(r=e,e={}),e=e??{},(0,wt.executeOperation)(this.s.db.s.client,new uye.CollStatsOperation(this,e),r)}findOneAndDelete(e,r,n){return typeof r=="function"&&(n=r,r={}),(0,wt.executeOperation)(this.s.db.s.client,new x8.FindOneAndDeleteOperation(this,e,(0,ke.resolveOptions)(this,r)),n)}findOneAndReplace(e,r,n,i){return typeof n=="function"&&(i=n,n={}),(0,wt.executeOperation)(this.s.db.s.client,new x8.FindOneAndReplaceOperation(this,e,r,(0,ke.resolveOptions)(this,n)),i)}findOneAndUpdate(e,r,n,i){return typeof n=="function"&&(i=n,n={}),(0,wt.executeOperation)(this.s.db.s.client,new x8.FindOneAndUpdateOperation(this,e,r,(0,ke.resolveOptions)(this,n)),i)}aggregate(e=[],r){if(arguments.length>2)throw new Ia.MongoInvalidArgumentError('Method "collection.aggregate()" accepts at most two arguments');if(!Array.isArray(e))throw new Ia.MongoInvalidArgumentError('Argument "pipeline" must be an array of aggregation stages');if(typeof r=="function")throw new Ia.MongoInvalidArgumentError('Argument "options" must not be function');return new Kme.AggregationCursor(this.s.db.s.client,this.s.namespace,e,(0,ke.resolveOptions)(this,r))}watch(e=[],r={}){return Array.isArray(e)||(r=e,e=[]),new Gme.ChangeStream(this,e,(0,ke.resolveOptions)(this,r))}mapReduce(e,r,n,i){if((0,ke.emitWarningOnce)("collection.mapReduce is deprecated. Use the aggregation pipeline instead. Visit https://docs.mongodb.com/manual/reference/map-reduce-to-aggregation-pipeline for more information on how to translate map-reduce operations to the aggregation pipeline."),typeof n=="function"&&(i=n,n={}),n?.out==null)throw new Ia.MongoInvalidArgumentError('Option "out" must be defined, see mongodb docs for possible values');return typeof e=="function"&&(e=e.toString()),typeof r=="function"&&(r=r.toString()),typeof n.finalize=="function"&&(n.finalize=n.finalize.toString()),(0,wt.executeOperation)(this.s.db.s.client,new iye.MapReduceOperation(this,e,r,(0,ke.resolveOptions)(this,n)),i)}initializeUnorderedBulkOp(e){return new Hme.UnorderedBulkOperation(this,(0,ke.resolveOptions)(this,e))}initializeOrderedBulkOp(e){return new Wme.OrderedBulkOperation(this,(0,ke.resolveOptions)(this,e))}getLogger(){return this.s.db.s.logger}get logger(){return this.s.db.s.logger}insert(e,r,n){return(0,ke.emitWarningOnce)("collection.insert is deprecated. Use insertOne, insertMany or bulkWrite instead."),typeof r=="function"&&(n=r,r={}),r=r||{ordered:!1},e=Array.isArray(e)?e:[e],r.keepGoing===!0&&(r.ordered=!1),this.insertMany(e,r,n)}update(e,r,n,i){return(0,ke.emitWarningOnce)("collection.update is deprecated. Use updateOne, updateMany, or bulkWrite instead."),typeof n=="function"&&(i=n,n={}),n=n??{},this.updateMany(e,r,n,i)}remove(e,r,n){return(0,ke.emitWarningOnce)("collection.remove is deprecated. Use deleteOne, deleteMany, or bulkWrite instead."),typeof r=="function"&&(n=r,r={}),r=r??{},this.deleteMany(e,r,n)}count(e,r,n){return typeof e=="function"?(n=e,e={},r={}):typeof r=="function"&&(n=r,r={}),e??(e={}),(0,wt.executeOperation)(this.s.db.s.client,new Xme.CountOperation(ke.MongoDBNamespace.fromString(this.namespace),e,(0,ke.resolveOptions)(this,r)),n)}};hE.Collection=B8});var k8=h(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});pE.ChangeStreamCursor=void 0;var q8=Jd(),w$=yn(),cye=f2(),lye=Gi(),$8=ye(),dye=va(),np=class extends dye.AbstractCursor{constructor(e,r,n=[],i={}){super(e,r,i),this.pipeline=n,this.options=i,this._resumeToken=null,this.startAtOperationTime=i.startAtOperationTime,i.startAfter?this.resumeToken=i.startAfter:i.resumeAfter&&(this.resumeToken=i.resumeAfter)}set resumeToken(e){this._resumeToken=e,this.emit(q8.ChangeStream.RESUME_TOKEN_CHANGED,e)}get resumeToken(){return this._resumeToken}get resumeOptions(){let e={...this.options};for(let r of["resumeAfter","startAfter","startAtOperationTime"])delete e[r];return this.resumeToken!=null?this.options.startAfter&&!this.hasReceived?e.startAfter=this.resumeToken:e.resumeAfter=this.resumeToken:this.startAtOperationTime!=null&&(0,$8.maxWireVersion)(this.server)>=7&&(e.startAtOperationTime=this.startAtOperationTime),e}cacheResumeToken(e){this.bufferedCount()===0&&this.postBatchResumeToken?this.resumeToken=this.postBatchResumeToken:this.resumeToken=e,this.hasReceived=!0}_processBatch(e){let r=e.cursor;r.postBatchResumeToken&&(this.postBatchResumeToken=e.cursor.postBatchResumeToken,("firstBatch"in e.cursor?e.cursor.firstBatch:e.cursor.nextBatch).length===0&&(this.resumeToken=r.postBatchResumeToken))}clone(){return new np(this.client,this.namespace,this.pipeline,{...this.cursorOptions})}_initialize(e,r){let n=new cye.AggregateOperation(this.namespace,this.pipeline,{...this.cursorOptions,...this.options,session:e});(0,lye.executeOperation)(e.client,n,(i,s)=>{if(i||s==null)return r(i);let o=n.server;this.maxWireVersion=(0,$8.maxWireVersion)(o),this.startAtOperationTime==null&&this.resumeAfter==null&&this.startAfter==null&&this.maxWireVersion>=7&&(this.startAtOperationTime=s.operationTime),this._processBatch(s),this.emit(w$.INIT,s),this.emit(w$.RESPONSE),r(void 0,{server:o,session:e,response:s})})}_getMore(e,r){super._getMore(e,(n,i)=>{if(n)return r(n);this.maxWireVersion=(0,$8.maxWireVersion)(this.server),this._processBatch(i),this.emit(q8.ChangeStream.MORE,i),this.emit(q8.ChangeStream.RESPONSE),r(n,i)})}};pE.ChangeStreamCursor=np});var O$=h(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0});gE.ListCollectionsOperation=void 0;var fye=ye(),hye=Zt(),mE=_t(),yE=class extends hye.CommandOperation{constructor(e,r,n){super(e,n),this.options=n??{},this.db=e,this.filter=r,this.nameOnly=!!this.options.nameOnly,this.authorizedCollections=!!this.options.authorizedCollections,typeof this.options.batchSize=="number"&&(this.batchSize=this.options.batchSize)}execute(e,r,n){return super.executeCommand(e,r,this.generateCommand((0,fye.maxWireVersion)(e)),n)}generateCommand(e){let r={listCollections:1,filter:this.filter,cursor:this.batchSize?{batchSize:this.batchSize}:{},nameOnly:this.nameOnly,authorizedCollections:this.authorizedCollections};return e>=9&&this.options.comment!==void 0&&(r.comment=this.options.comment),r}};gE.ListCollectionsOperation=yE;(0,mE.defineAspects)(yE,[mE.Aspect.READ_OPERATION,mE.Aspect.RETRYABLE,mE.Aspect.CURSOR_CREATING])});var j8=h(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0});_E.ListCollectionsCursor=void 0;var pye=Gi(),mye=O$(),yye=va(),ip=class extends yye.AbstractCursor{constructor(e,r,n){super(e.s.client,e.s.namespace,n),this.parent=e,this.filter=r,this.options=n}clone(){return new ip(this.parent,this.filter,{...this.options,...this.cursorOptions})}_initialize(e,r){let n=new mye.ListCollectionsOperation(this.parent,this.filter,{...this.cursorOptions,...this.options,session:e});(0,pye.executeOperation)(this.parent.s.client,n,(i,s)=>{if(i||s==null)return r(i);r(void 0,{server:n.server,session:e,response:s})})}};_E.ListCollectionsCursor=ip});var Ta=h(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.Logger=It.LoggerLevel=void 0;var EE=require("util"),C$=re(),gye=ye(),sp={},Sn={},Oi,Pa=process.pid,tl=console.warn;It.LoggerLevel=Object.freeze({ERROR:"error",WARN:"warn",INFO:"info",DEBUG:"debug",error:"error",warn:"warn",info:"info",debug:"debug"});var op=class{constructor(e,r){r=r??{},this.className=e,!(r.logger instanceof op)&&typeof r.logger=="function"&&(tl=r.logger),r.loggerLevel&&(Oi=r.loggerLevel||It.LoggerLevel.ERROR),Sn[this.className]==null&&(sp[this.className]=!0)}debug(e,r){if(this.isDebug()&&(Object.keys(Sn).length>0&&Sn[this.className]||Object.keys(Sn).length===0&&sp[this.className])){let n=new Date().getTime(),i=(0,EE.format)("[%s-%s:%s] %s %s","DEBUG",this.className,Pa,n,e),s={type:It.LoggerLevel.DEBUG,message:e,className:this.className,pid:Pa,date:n};r&&(s.meta=r),tl(i,s)}}warn(e,r){if(this.isWarn()&&(Object.keys(Sn).length>0&&Sn[this.className]||Object.keys(Sn).length===0&&sp[this.className])){let n=new Date().getTime(),i=(0,EE.format)("[%s-%s:%s] %s %s","WARN",this.className,Pa,n,e),s={type:It.LoggerLevel.WARN,message:e,className:this.className,pid:Pa,date:n};r&&(s.meta=r),tl(i,s)}}info(e,r){if(this.isInfo()&&(Object.keys(Sn).length>0&&Sn[this.className]||Object.keys(Sn).length===0&&sp[this.className])){let n=new Date().getTime(),i=(0,EE.format)("[%s-%s:%s] %s %s","INFO",this.className,Pa,n,e),s={type:It.LoggerLevel.INFO,message:e,className:this.className,pid:Pa,date:n};r&&(s.meta=r),tl(i,s)}}error(e,r){if(this.isError()&&(Object.keys(Sn).length>0&&Sn[this.className]||Object.keys(Sn).length===0&&sp[this.className])){let n=new Date().getTime(),i=(0,EE.format)("[%s-%s:%s] %s %s","ERROR",this.className,Pa,n,e),s={type:It.LoggerLevel.ERROR,message:e,className:this.className,pid:Pa,date:n};r&&(s.meta=r),tl(i,s)}}isInfo(){return Oi===It.LoggerLevel.INFO||Oi===It.LoggerLevel.DEBUG}isError(){return Oi===It.LoggerLevel.ERROR||Oi===It.LoggerLevel.INFO||Oi===It.LoggerLevel.DEBUG}isWarn(){return Oi===It.LoggerLevel.ERROR||Oi===It.LoggerLevel.WARN||Oi===It.LoggerLevel.INFO||Oi===It.LoggerLevel.DEBUG}isDebug(){return Oi===It.LoggerLevel.DEBUG}static reset(){Oi=It.LoggerLevel.ERROR,Sn={}}static currentLogger(){return tl}static setCurrentLogger(e){if(typeof e!="function")throw new C$.MongoInvalidArgumentError("Current logger must be a function");tl=e}static filter(e,r){e==="class"&&Array.isArray(r)&&(Sn={},r.forEach(n=>Sn[n]=!0))}static setLevel(e){if(e!==It.LoggerLevel.INFO&&e!==It.LoggerLevel.ERROR&&e!==It.LoggerLevel.DEBUG&&e!==It.LoggerLevel.WARN)throw new C$.MongoInvalidArgumentError(`Argument "newLevel" should be one of ${(0,gye.enumToString)(It.LoggerLevel)}`);Oi=e}};It.Logger=op});var v$=h(AE=>{"use strict";Object.defineProperty(AE,"__esModule",{value:!0});AE.CollectionsOperation=void 0;var _ye=Zc(),Eye=_t(),L8=class extends Eye.AbstractOperation{constructor(e,r){super(r),this.options=r,this.db=e}execute(e,r,n){let i=this.db;i.listCollections({},{...this.options,nameOnly:!0,readPreference:this.readPreference,session:r}).toArray((s,o)=>{if(s||!o)return n(s);o=o.filter(u=>u.name.indexOf("$")===-1),n(void 0,o.map(u=>new _ye.Collection(i,u.name,i.s.options)))})}};AE.CollectionsOperation=L8});var I$=h(SE=>{"use strict";Object.defineProperty(SE,"__esModule",{value:!0});SE.CreateCollectionOperation=void 0;var Aye=Zc(),Sye=Zt(),wye=ep(),b$=_t(),Oye=new Set(["w","wtimeout","j","fsync","autoIndexId","pkFactory","raw","readPreference","session","readConcern","writeConcern","raw","fieldsAsRaw","promoteLongs","promoteValues","promoteBuffers","bsonRegExp","serializeFunctions","ignoreUndefined","enableUtf8Validation"]),Qd=class extends Sye.CommandOperation{constructor(e,r,n={}){super(e,n),this.options=n,this.db=e,this.name=r}execute(e,r,n){(async()=>{var i,s,o,u,a,c;let l=this.db,d=this.name,f=this.options,p=(i=f.encryptedFields)!==null&&i!==void 0?i:(o=(s=l.s.client.options.autoEncryption)===null||s===void 0?void 0:s.encryptedFieldsMap)===null||o===void 0?void 0:o[`${l.databaseName}.${d}`];if(p){let y=(u=p.escCollection)!==null&&u!==void 0?u:`enxcol_.${d}.esc`,_=(a=p.eccCollection)!==null&&a!==void 0?a:`enxcol_.${d}.ecc`,g=(c=p.ecocCollection)!==null&&c!==void 0?c:`enxcol_.${d}.ecoc`;for(let E of[y,_,g])await new Qd(l,E,{clusteredIndex:{key:{_id:1},unique:!0}}).executeWithoutEncryptedFieldsCheck(e,r);f.encryptedFields||(this.options={...this.options,encryptedFields:p})}let m=await this.executeWithoutEncryptedFieldsCheck(e,r);if(p){let y=new wye.CreateIndexOperation(l,d,{__safeContent__:1},{});await new Promise((_,g)=>{y.execute(e,r,E=>E?g(E):_())})}return m})().then(i=>n(void 0,i),i=>n(i))}executeWithoutEncryptedFieldsCheck(e,r){return new Promise((n,i)=>{let s=this.db,o=this.name,u=this.options,a=l=>{if(l)return i(l);n(new Aye.Collection(s,o,u))},c={create:o};for(let l in u)u[l]!=null&&typeof u[l]!="function"&&!Oye.has(l)&&(c[l]=u[l]);super.executeCommand(e,r,c,a)})}};SE.CreateCollectionOperation=Qd;(0,b$.defineAspects)(Qd,[b$.Aspect.WRITE_OPERATION])});var T$=h(wE=>{"use strict";Object.defineProperty(wE,"__esModule",{value:!0});wE.ProfilingLevelOperation=void 0;var P$=re(),Cye=Zt(),U8=class extends Cye.CommandOperation{constructor(e,r){super(e,r),this.options=r}execute(e,r,n){super.executeCommand(e,r,{profile:-1},(i,s)=>{if(i==null&&s.ok===1){let o=s.was;return o===0?n(void 0,"off"):o===1?n(void 0,"slow_only"):o===2?n(void 0,"all"):n(new P$.MongoRuntimeError(`Illegal profiling level value ${o}`))}else i!=null?n(i):n(new P$.MongoRuntimeError("Error with profile command"))})}};wE.ProfilingLevelOperation=U8});var V8=h(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.SetProfilingLevelOperation=po.ProfilingLevel=void 0;var D$=re(),vye=ye(),bye=Zt(),Iye=new Set(["off","slow_only","all"]);po.ProfilingLevel=Object.freeze({off:"off",slowOnly:"slow_only",all:"all"});var z8=class extends bye.CommandOperation{constructor(e,r,n){switch(super(e,n),this.options=n,r){case po.ProfilingLevel.off:this.profile=0;break;case po.ProfilingLevel.slowOnly:this.profile=1;break;case po.ProfilingLevel.all:this.profile=2;break;default:this.profile=0;break}this.level=r}execute(e,r,n){let i=this.level;if(!Iye.has(i))return n(new D$.MongoInvalidArgumentError(`Profiling level must be one of "${(0,vye.enumToString)(po.ProfilingLevel)}"`));super.executeCommand(e,r,{profile:this.profile},(s,o)=>s==null&&o.ok===1?n(void 0,i):s!=null?n(s):n(new D$.MongoRuntimeError("Error with profile command")))}};po.SetProfilingLevelOperation=z8});var CE=h(OE=>{"use strict";Object.defineProperty(OE,"__esModule",{value:!0});OE.Db=void 0;var Pye=N9(),Tye=Lt(),Dye=Jd(),Rye=Zc(),Xd=yn(),Nye=B2(),xye=j8(),rl=re(),Mye=Ta(),Fye=C9(),Bye=v$(),qye=I$(),R$=C8(),Ci=Gi(),N$=ep(),$ye=T$(),kye=P9(),jye=R8(),Lye=Dh(),Uye=V8(),zye=N8(),Vye=Vi(),x$=wr(),Mr=ye(),Wye=Hi(),Hye=["writeConcern","readPreference","readPreferenceTags","native_parser","forceServerObjectId","pkFactory","serializeFunctions","raw","authSource","ignoreUndefined","readConcern","retryMiliSeconds","numberOfRetries","loggerLevel","logger","promoteBuffers","promoteLongs","bsonRegExp","enableUtf8Validation","promoteValues","compression","retryWrites"],yu=class{constructor(e,r,n){var i;n=n??{},n=(0,Mr.filterOptions)(n,Hye),Gye(r),this.s={client:e,options:n,logger:new Mye.Logger("Db",n),readPreference:x$.ReadPreference.fromOptions(n),bsonOptions:(0,Tye.resolveBSONOptions)(n,e),pkFactory:(i=n?.pkFactory)!==null&&i!==void 0?i:Mr.DEFAULT_PK_FACTORY,readConcern:Vye.ReadConcern.fromOptions(n),writeConcern:Wye.WriteConcern.fromOptions(n),namespace:new Mr.MongoDBNamespace(r)}}get databaseName(){return this.s.namespace.db}get options(){return this.s.options}get slaveOk(){return this.secondaryOk}get secondaryOk(){var e;return((e=this.s.readPreference)===null||e===void 0?void 0:e.preference)!=="primary"||!1}get readConcern(){return this.s.readConcern}get readPreference(){return this.s.readPreference==null?this.s.client.readPreference:this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get namespace(){return this.s.namespace.toString()}createCollection(e,r,n){return typeof r=="function"&&(n=r,r={}),(0,Ci.executeOperation)(this.s.client,new qye.CreateCollectionOperation(this,e,(0,Mr.resolveOptions)(this,r)),n)}command(e,r,n){return typeof r=="function"&&(n=r,r={}),(0,Ci.executeOperation)(this.s.client,new Lye.RunCommandOperation(this,e,r??{}),n)}aggregate(e=[],r){if(arguments.length>2)throw new rl.MongoInvalidArgumentError('Method "db.aggregate()" accepts at most two arguments');if(typeof e=="function")throw new rl.MongoInvalidArgumentError('Argument "pipeline" must not be function');if(typeof r=="function")throw new rl.MongoInvalidArgumentError('Argument "options" must not be function');return new Nye.AggregationCursor(this.s.client,this.s.namespace,e,(0,Mr.resolveOptions)(this,r))}admin(){return new Pye.Admin(this)}collection(e,r={}){if(typeof r=="function")throw new rl.MongoInvalidArgumentError("The callback form of this helper has been removed.");let n=(0,Mr.resolveOptions)(this,r);return new Rye.Collection(this,e,n)}stats(e,r){return typeof e=="function"&&(r=e,e={}),(0,Ci.executeOperation)(this.s.client,new zye.DbStatsOperation(this,(0,Mr.resolveOptions)(this,e)),r)}listCollections(e={},r={}){return new xye.ListCollectionsCursor(this,e,(0,Mr.resolveOptions)(this,r))}renameCollection(e,r,n,i){return typeof n=="function"&&(i=n,n={}),n={...n,readPreference:x$.ReadPreference.PRIMARY},n.new_collection=!0,(0,Ci.executeOperation)(this.s.client,new jye.RenameOperation(this.collection(e),r,n),i)}dropCollection(e,r,n){return typeof r=="function"&&(n=r,r={}),(0,Ci.executeOperation)(this.s.client,new R$.DropCollectionOperation(this,e,(0,Mr.resolveOptions)(this,r)),n)}dropDatabase(e,r){return typeof e=="function"&&(r=e,e={}),(0,Ci.executeOperation)(this.s.client,new R$.DropDatabaseOperation(this,(0,Mr.resolveOptions)(this,e)),r)}collections(e,r){return typeof e=="function"&&(r=e,e={}),(0,Ci.executeOperation)(this.s.client,new Bye.CollectionsOperation(this,(0,Mr.resolveOptions)(this,e)),r)}createIndex(e,r,n,i){return typeof n=="function"&&(i=n,n={}),(0,Ci.executeOperation)(this.s.client,new N$.CreateIndexOperation(this,e,r,(0,Mr.resolveOptions)(this,n)),i)}addUser(e,r,n,i){return typeof r=="function"?(i=r,r=void 0,n={}):typeof r!="string"?typeof n=="function"?(i=n,n=r,r=void 0):(n=r,i=void 0,r=void 0):typeof n=="function"&&(i=n,n={}),(0,Ci.executeOperation)(this.s.client,new Fye.AddUserOperation(this,e,r,(0,Mr.resolveOptions)(this,n)),i)}removeUser(e,r,n){return typeof r=="function"&&(n=r,r={}),(0,Ci.executeOperation)(this.s.client,new kye.RemoveUserOperation(this,e,(0,Mr.resolveOptions)(this,r)),n)}setProfilingLevel(e,r,n){return typeof r=="function"&&(n=r,r={}),(0,Ci.executeOperation)(this.s.client,new Uye.SetProfilingLevelOperation(this,e,(0,Mr.resolveOptions)(this,r)),n)}profilingLevel(e,r){return typeof e=="function"&&(r=e,e={}),(0,Ci.executeOperation)(this.s.client,new $ye.ProfilingLevelOperation(this,(0,Mr.resolveOptions)(this,e)),r)}indexInformation(e,r,n){return typeof r=="function"&&(n=r,r={}),(0,Ci.executeOperation)(this.s.client,new N$.IndexInformationOperation(this,e,(0,Mr.resolveOptions)(this,r)),n)}unref(){(0,Mr.getTopology)(this).unref()}watch(e=[],r={}){return Array.isArray(e)||(r=e,e=[]),new Dye.ChangeStream(this,e,(0,Mr.resolveOptions)(this,r))}getLogger(){return this.s.logger}get logger(){return this.s.logger}};OE.Db=yu;yu.SYSTEM_NAMESPACE_COLLECTION=Xd.SYSTEM_NAMESPACE_COLLECTION;yu.SYSTEM_INDEX_COLLECTION=Xd.SYSTEM_INDEX_COLLECTION;yu.SYSTEM_PROFILE_COLLECTION=Xd.SYSTEM_PROFILE_COLLECTION;yu.SYSTEM_USER_COLLECTION=Xd.SYSTEM_USER_COLLECTION;yu.SYSTEM_COMMAND_COLLECTION=Xd.SYSTEM_COMMAND_COLLECTION;yu.SYSTEM_JS_COLLECTION=Xd.SYSTEM_JS_COLLECTION;function Gye(t){if(typeof t!="string")throw new rl.MongoInvalidArgumentError("Database name must be a string");if(t.length===0)throw new rl.MongoInvalidArgumentError("Database name cannot be the empty string");if(t==="$external")return;let e=[" ",".","$","/","\\"];for(let r=0;r<e.length;r++)if(t.indexOf(e[r])!==-1)throw new rl.MongoAPIError(`database names cannot contain the character '${e[r]}'`)}});var bE=h(Et=>{"use strict";function Ot(t,e,r){return r.globals&&(t=r.globals[t.name]),new t(`${r.context?r.context:"Value"} ${e}.`)}function t1(t,e){if(typeof t=="bigint")throw Ot(TypeError,"is a BigInt which cannot be converted to a number",e);return e.globals?e.globals.Number(t):Number(t)}function F$(t){return t>0&&t%1===.5&&!(t&1)||t<0&&t%1===-.5&&(t&1)===1?up(Math.floor(t)):up(Math.round(t))}function vE(t){return up(Math.trunc(t))}function M$(t){return t<0?-1:1}function Kye(t,e){let r=t%e;return M$(e)!==M$(r)?r+e:r}function up(t){return t===0?0:t}function r1(t,{unsigned:e}){let r,n;e?(r=0,n=2**t-1):(r=-(2**(t-1)),n=2**(t-1)-1);let i=2**t,s=2**(t-1);return(o,u={})=>{let a=t1(o,u);if(a=up(a),u.enforceRange){if(!Number.isFinite(a))throw Ot(TypeError,"is not a finite number",u);if(a=vE(a),a<r||a>n)throw Ot(TypeError,`is outside the accepted range of ${r} to ${n}, inclusive`,u);return a}return!Number.isNaN(a)&&u.clamp?(a=Math.min(Math.max(a,r),n),a=F$(a),a):!Number.isFinite(a)||a===0?0:(a=vE(a),a>=r&&a<=n?a:(a=Kye(a,i),!e&&a>=s?a-i:a))}}function B$(t,{unsigned:e}){let r=Number.MAX_SAFE_INTEGER,n=e?0:Number.MIN_SAFE_INTEGER,i=e?BigInt.asUintN:BigInt.asIntN;return(s,o={})=>{let u=t1(s,o);if(u=up(u),o.enforceRange){if(!Number.isFinite(u))throw Ot(TypeError,"is not a finite number",o);if(u=vE(u),u<n||u>r)throw Ot(TypeError,`is outside the accepted range of ${n} to ${r}, inclusive`,o);return u}if(!Number.isNaN(u)&&o.clamp)return u=Math.min(Math.max(u,n),r),u=F$(u),u;if(!Number.isFinite(u)||u===0)return 0;let a=BigInt(vE(u));return a=i(t,a),Number(a)}}Et.any=t=>t;Et.undefined=()=>{};Et.boolean=t=>Boolean(t);Et.byte=r1(8,{unsigned:!1});Et.octet=r1(8,{unsigned:!0});Et.short=r1(16,{unsigned:!1});Et["unsigned short"]=r1(16,{unsigned:!0});Et.long=r1(32,{unsigned:!1});Et["unsigned long"]=r1(32,{unsigned:!0});Et["long long"]=B$(64,{unsigned:!1});Et["unsigned long long"]=B$(64,{unsigned:!0});Et.double=(t,e={})=>{let r=t1(t,e);if(!Number.isFinite(r))throw Ot(TypeError,"is not a finite floating-point value",e);return r};Et["unrestricted double"]=(t,e={})=>t1(t,e);Et.float=(t,e={})=>{let r=t1(t,e);if(!Number.isFinite(r))throw Ot(TypeError,"is not a finite floating-point value",e);if(Object.is(r,-0))return r;let n=Math.fround(r);if(!Number.isFinite(n))throw Ot(TypeError,"is outside the range of a single-precision floating-point value",e);return n};Et["unrestricted float"]=(t,e={})=>{let r=t1(t,e);return isNaN(r)||Object.is(r,-0)?r:Math.fround(r)};Et.DOMString=(t,e={})=>{if(e.treatNullAsEmptyString&&t===null)return"";if(typeof t=="symbol")throw Ot(TypeError,"is a symbol, which cannot be converted to a string",e);return(e.globals?e.globals.String:String)(t)};Et.ByteString=(t,e={})=>{let r=Et.DOMString(t,e),n;for(let i=0;(n=r.codePointAt(i))!==void 0;++i)if(n>255)throw Ot(TypeError,"is not a valid ByteString",e);return r};Et.USVString=(t,e={})=>{let r=Et.DOMString(t,e),n=r.length,i=[];for(let s=0;s<n;++s){let o=r.charCodeAt(s);if(o<55296||o>57343)i.push(String.fromCodePoint(o));else if(56320<=o&&o<=57343)i.push(String.fromCodePoint(65533));else if(s===n-1)i.push(String.fromCodePoint(65533));else{let u=r.charCodeAt(s+1);if(56320<=u&&u<=57343){let a=o&1023,c=u&1023;i.push(String.fromCodePoint((2<<15)+(2<<9)*a+c)),++s}else i.push(String.fromCodePoint(65533))}}return i.join("")};Et.object=(t,e={})=>{if(t===null||typeof t!="object"&&typeof t!="function")throw Ot(TypeError,"is not an object",e);return t};var Yye=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,Jye=typeof SharedArrayBuffer=="function"?Object.getOwnPropertyDescriptor(SharedArrayBuffer.prototype,"byteLength").get:null;function W8(t){try{return Yye.call(t),!0}catch{return!1}}function Zd(t){try{return Jye.call(t),!0}catch{return!1}}function e1(t){try{return new Uint8Array(t),!1}catch{return!0}}Et.ArrayBuffer=(t,e={})=>{if(!W8(t))throw e.allowShared&&!Zd(t)?Ot(TypeError,"is not an ArrayBuffer or SharedArrayBuffer",e):Ot(TypeError,"is not an ArrayBuffer",e);if(e1(t))throw Ot(TypeError,"is a detached ArrayBuffer",e);return t};var Qye=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;Et.DataView=(t,e={})=>{try{Qye.call(t)}catch{throw Ot(TypeError,"is not a DataView",e)}if(!e.allowShared&&Zd(t.buffer))throw Ot(TypeError,"is backed by a SharedArrayBuffer, which is not allowed",e);if(e1(t.buffer))throw Ot(TypeError,"is backed by a detached ArrayBuffer",e);return t};var Xye=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array).prototype,Symbol.toStringTag).get;[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach(t=>{let{name:e}=t,r=/^[AEIOU]/u.test(e)?"an":"a";Et[e]=(n,i={})=>{if(!ArrayBuffer.isView(n)||Xye.call(n)!==e)throw Ot(TypeError,`is not ${r} ${e} object`,i);if(!i.allowShared&&Zd(n.buffer))throw Ot(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",i);if(e1(n.buffer))throw Ot(TypeError,"is a view on a detached ArrayBuffer",i);return n}});Et.ArrayBufferView=(t,e={})=>{if(!ArrayBuffer.isView(t))throw Ot(TypeError,"is not a view on an ArrayBuffer or SharedArrayBuffer",e);if(!e.allowShared&&Zd(t.buffer))throw Ot(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",e);if(e1(t.buffer))throw Ot(TypeError,"is a view on a detached ArrayBuffer",e);return t};Et.BufferSource=(t,e={})=>{if(ArrayBuffer.isView(t)){if(!e.allowShared&&Zd(t.buffer))throw Ot(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",e);if(e1(t.buffer))throw Ot(TypeError,"is a view on a detached ArrayBuffer",e);return t}if(!e.allowShared&&!W8(t))throw Ot(TypeError,"is not an ArrayBuffer or a view on one",e);if(e.allowShared&&!Zd(t)&&!W8(t))throw Ot(TypeError,"is not an ArrayBuffer, SharedArrayBuffer, or a view on one",e);if(e1(t))throw Ot(TypeError,"is a detached ArrayBuffer",e);return t};Et.DOMTimeStamp=Et["unsigned long long"]});var PE=h((z$,V$)=>{"use strict";function Zye(t){return typeof t=="object"&&t!==null||typeof t=="function"}var q$=Function.prototype.call.bind(Object.prototype.hasOwnProperty);function ege(t,e){for(let r of Reflect.ownKeys(e)){let n=Reflect.getOwnPropertyDescriptor(e,r);if(n&&!Reflect.defineProperty(t,r,n))throw new TypeError(`Cannot redefine property: ${String(r)}`)}}function tge(t,e){let r=j$(t);return Object.defineProperties(Object.create(r["%Object.prototype%"]),Object.getOwnPropertyDescriptors(e))}var $$=Symbol("wrapper"),k$=Symbol("impl"),n1=Symbol("SameObject caches"),IE=Symbol.for("[webidl2js] constructor registry"),rge=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);function j$(t){if(q$(t,IE))return t[IE];let e=Object.create(null);e["%Object.prototype%"]=t.Object.prototype,e["%IteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(new t.Array()[Symbol.iterator]()));try{e["%AsyncIteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(t.eval("(async function* () {})").prototype))}catch{e["%AsyncIteratorPrototype%"]=rge}return t[IE]=e,e}function nge(t,e,r){return t[n1]||(t[n1]=Object.create(null)),e in t[n1]||(t[n1][e]=r()),t[n1][e]}function L$(t){return t?t[$$]:null}function U$(t){return t?t[k$]:null}function ige(t){let e=L$(t);return e||t}function sge(t){let e=U$(t);return e||t}var oge=Symbol("internal");function uge(t){if(typeof t!="string")return!1;let e=t>>>0;if(e===2**32-1)return!1;let r=`${e}`;return t===r}var age=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;function cge(t){try{return age.call(t),!0}catch{return!1}}function lge([t,e],r){let n;switch(r){case"key":n=t;break;case"value":n=e;break;case"key+value":n=[t,e];break}return{value:n,done:!1}}var dge=Symbol("supports property index"),fge=Symbol("supported property indices"),hge=Symbol("supports property name"),pge=Symbol("supported property names"),mge=Symbol("indexed property get"),yge=Symbol("indexed property set new"),gge=Symbol("indexed property set existing"),_ge=Symbol("named property get"),Ege=Symbol("named property set new"),Age=Symbol("named property set existing"),Sge=Symbol("named property delete"),wge=Symbol("async iterator get the next iteration result"),Oge=Symbol("async iterator return steps"),Cge=Symbol("async iterator initialization steps"),vge=Symbol("async iterator end of iteration");V$.exports=z$={isObject:Zye,hasOwn:q$,define:ege,newObjectInRealm:tge,wrapperSymbol:$$,implSymbol:k$,getSameObject:nge,ctorRegistrySymbol:IE,initCtorRegistry:j$,wrapperForImpl:L$,implForWrapper:U$,tryWrapperForImpl:ige,tryImplForWrapper:sge,iterInternalSymbol:oge,isArrayBuffer:cge,isArrayIndexPropName:uge,supportsPropertyIndex:dge,supportedPropertyIndices:fge,supportsPropertyName:hge,supportedPropertyNames:pge,indexedGet:mge,indexedSetNew:yge,indexedSetExisting:gge,namedGet:_ge,namedSetNew:Ege,namedSetExisting:Age,namedDelete:Sge,asyncIteratorNext:wge,asyncIteratorReturn:Oge,asyncIteratorInit:Cge,asyncIteratorEOI:vge,iteratorResult:lge}});var H$=h((Aet,W$)=>{"use strict";var bge=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]/u,Ige=/[\u094D\u09CD\u0A4D\u0ACD\u0B4D\u0BCD\u0C4D\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0EBA\u0F84\u1039\u103A\u1714\u1734\u17D2\u1A60\u1B44\u1BAA\u1BAB\u1BF2\u1BF3\u2D7F\uA806\uA8C4\uA953\uA9C0\uAAF6\uABED\u{10A3F}\u{11046}\u{1107F}\u{110B9}\u{11133}\u{11134}\u{111C0}\u{11235}\u{112EA}\u{1134D}\u{11442}\u{114C2}\u{115BF}\u{1163F}\u{116B6}\u{1172B}\u{11839}\u{119E0}\u{11A34}\u{11A47}\u{11A99}\u{11C3F}\u{11D44}\u{11D45}\u{11D97}]/u,Pge=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u0860\u0862-\u0865\u0868\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u08B6-\u08B8\u08BA-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA872\u{10AC0}-\u{10AC4}\u{10ACD}\u{10AD3}-\u{10ADC}\u{10ADE}-\u{10AE0}\u{10AEB}-\u{10AEE}\u{10B80}\u{10B82}\u{10B86}-\u{10B88}\u{10B8A}\u{10B8B}\u{10B8D}\u{10B90}\u{10BAD}\u{10BAE}\u{10D00}-\u{10D21}\u{10D23}\u{10F30}-\u{10F32}\u{10F34}-\u{10F44}\u{10F51}-\u{10F53}\u{1E900}-\u{1E943}][\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*\u200C[\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10F46}-\u{10F50}\u{11001}\u{11038}-\u{11046}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{13430}-\u{13438}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u0860\u0862-\u0865\u0867-\u086A\u08A0-\u08AC\u08AE-\u08B4\u08B6-\u08BD\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA871\u{10AC0}-\u{10AC5}\u{10AC7}\u{10AC9}\u{10ACA}\u{10ACE}-\u{10AD6}\u{10AD8}-\u{10AE1}\u{10AE4}\u{10AEB}-\u{10AEF}\u{10B80}-\u{10B91}\u{10BA9}-\u{10BAE}\u{10D01}-\u{10D23}\u{10F30}-\u{10F44}\u{10F51}-\u{10F54}\u{1E900}-\u{1E943}]/u,Tge=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,Dge=/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]/u,Rge=/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,Nge=/^[\0-\x08\x0E-\x1B!-@\[-`\{-\x84\x86-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u058D-\u058F\u0591-\u05C7\u05D0-\u05EA\u05EF-\u05F4\u0600-\u070D\u070F-\u074A\u074D-\u07B1\u07C0-\u07FA\u07FD-\u082D\u0830-\u083E\u0840-\u085B\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u0898-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1390-\u1399\u1400\u169B\u169C\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u200B-\u200D\u200F-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20C0\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189-\u218B\u2190-\u2335\u237B-\u2394\u2396-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u27FF\u2900-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2D7F\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u3004\u3008-\u3020\u302A-\u302D\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA67F\uA69E\uA69F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82C\uA838\uA839\uA874-\uA877\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uAB6A\uAB6B\uABE5\uABE8\uABED\uFB1D-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD8F\uFD92-\uFDC7\uFDCF\uFDF0-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10101}\u{10140}-\u{1018C}\u{10190}-\u{1019C}\u{101A0}\u{101FD}\u{102E0}-\u{102FB}\u{10376}-\u{1037A}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{1091F}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A38}-\u{10A3A}\u{10A3F}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE6}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B39}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D27}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAB}-\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F59}\u{10F70}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{11001}\u{11038}-\u{11046}\u{11052}-\u{11065}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{11660}-\u{1166C}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11FD5}-\u{11FF1}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE2}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D1E9}\u{1D1EA}\u{1D200}-\u{1D245}\u{1D300}-\u{1D356}\u{1D6DB}\u{1D715}\u{1D74F}\u{1D789}\u{1D7C3}\u{1D7CE}-\u{1D7FF}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E2FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8D6}\u{1E900}-\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F10F}\u{1F12F}\u{1F16A}-\u{1F16F}\u{1F1AD}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DD}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*$/u,xge=/[0-9\xB2\xB3\xB9\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\u{102E1}-\u{102FB}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1D7CE}-\u{1D7FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,Mge=/[0-9\xB2\xB3\xB9\u06F0-\u06F9\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFF10-\uFF19\u{102E1}-\u{102FB}\u{1D7CE}-\u{1D7FF}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}]/u,Fge=/[\u0600-\u0605\u0660-\u0669\u066B\u066C\u06DD\u0890\u0891\u08E2\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}]/u,Bge=/^[\0-\x08\x0E-\x1B!-\x84\x86-\u0377\u037A-\u037F\u0384-\u038A\u038C\u038E-\u03A1\u03A3-\u052F\u0531-\u0556\u0559-\u058A\u058D-\u058F\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065F\u066A\u0670\u06D6-\u06DC\u06DE-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A76\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AF1\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BFA\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C77-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4F\u0D54-\u0D63\u0D66-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E3A\u0E3F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FDA\u1000-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u137C\u1380-\u1399\u13A0-\u13F5\u13F8-\u13FD\u1400-\u167F\u1681-\u169C\u16A0-\u16F8\u1700-\u1715\u171F-\u1736\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1800-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1940\u1944-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u19DE-\u1A1B\u1A1E-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1AB0-\u1ACE\u1B00-\u1B4C\u1B50-\u1B7E\u1B80-\u1BF3\u1BFC-\u1C37\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD0-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u200B-\u200E\u2010-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2071\u2074-\u208E\u2090-\u209C\u20A0-\u20C0\u20D0-\u20F0\u2100-\u218B\u2190-\u2426\u2440-\u244A\u2460-\u2B73\u2B76-\u2B95\u2B97-\u2CF3\u2CF9-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303F\u3041-\u3096\u3099-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31E3\u31F0-\u321E\u3220-\uA48C\uA490-\uA4C6\uA4D0-\uA62B\uA640-\uA6F7\uA700-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA82C\uA830-\uA839\uA840-\uA877\uA880-\uA8C5\uA8CE-\uA8D9\uA8E0-\uA953\uA95F-\uA97C\uA980-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA5C-\uAAC2\uAADB-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1E\uFB29\uFD3E-\uFD4F\uFDCF\uFDFD-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}-\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1018E}\u{10190}-\u{1019C}\u{101A0}\u{101D0}-\u{101FD}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E0}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{1037A}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{1091F}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10B39}-\u{10B3F}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{1104D}\u{11052}-\u{11075}\u{1107F}-\u{110C2}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11100}-\u{11134}\u{11136}-\u{11147}\u{11150}-\u{11176}\u{11180}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1123E}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112EA}\u{112F0}-\u{112F9}\u{11300}-\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133B}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11400}-\u{1145B}\u{1145D}-\u{11461}\u{11480}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B5}\u{115B8}-\u{115DD}\u{11600}-\u{11644}\u{11650}-\u{11659}\u{11660}-\u{1166C}\u{11680}-\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{1171D}-\u{1172B}\u{11730}-\u{11746}\u{11800}-\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D7}\u{119DA}-\u{119E4}\u{11A00}-\u{11A47}\u{11A50}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C36}\u{11C38}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D47}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FF1}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF0}-\u{16AF5}\u{16B00}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F4F}-\u{16F87}\u{16F8F}-\u{16F9F}\u{16FE0}-\u{16FE4}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D1EA}\u{1D200}-\u{1D245}\u{1D2E0}-\u{1D2F3}\u{1D300}-\u{1D356}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D7CB}\u{1D7CE}-\u{1DA8B}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1DF00}-\u{1DF1E}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E100}-\u{1E12C}\u{1E130}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AE}\u{1E2C0}-\u{1E2F9}\u{1E2FF}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F1AD}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DD}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F773}\u{1F780}-\u{1F7D8}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}\u{1F8B1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA74}\u{1FA78}-\u{1FA7C}\u{1FA80}-\u{1FA86}\u{1FA90}-\u{1FAAC}\u{1FAB0}-\u{1FABA}\u{1FAC0}-\u{1FAC5}\u{1FAD0}-\u{1FAD9}\u{1FAE0}-\u{1FAE7}\u{1FAF0}-\u{1FAF6}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBCA}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]*$/u,qge=/[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u06F0-\u06F9\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B50-\u1B6A\u1B74-\u1B7E\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C88\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u2488-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E1}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1342E}\u{13430}-\u{13438}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6DA}\u{1D6DC}-\u{1D714}\u{1D716}-\u{1D74E}\u{1D750}-\u{1D788}\u{1D78A}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D7CE}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F100}-\u{1F10A}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B738}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10EAB}\u{10EAC}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}-\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u;W$.exports={combiningMarks:bge,combiningClassVirama:Ige,validZWNJ:Pge,bidiDomain:Tge,bidiS1LTR:Dge,bidiS1RTL:Rge,bidiS2:Nge,bidiS3:xge,bidiS4EN:Mge,bidiS4AN:Fge,bidiS5:Bge,bidiS6:qge}});var G$=h((wet,$ge)=>{$ge.exports=[[[0,44],4],[[45,46],2],[47,4],[[48,57],2],[[58,64],4],[65,1,"a"],[66,1,"b"],[67,1,"c"],[68,1,"d"],[69,1,"e"],[70,1,"f"],[71,1,"g"],[72,1,"h"],[73,1,"i"],[74,1,"j"],[75,1,"k"],[76,1,"l"],[77,1,"m"],[78,1,"n"],[79,1,"o"],[80,1,"p"],[81,1,"q"],[82,1,"r"],[83,1,"s"],[84,1,"t"],[85,1,"u"],[86,1,"v"],[87,1,"w"],[88,1,"x"],[89,1,"y"],[90,1,"z"],[[91,96],4],[[97,122],2],[[123,127],4],[[128,159],3],[160,5," "],[[161,167],2],[168,5," \u0308"],[169,2],[170,1,"a"],[[171,172],2],[173,7],[174,2],[175,5," \u0304"],[[176,177],2],[178,1,"2"],[179,1,"3"],[180,5," \u0301"],[181,1,"\u03BC"],[182,2],[183,2],[184,5," \u0327"],[185,1,"1"],[186,1,"o"],[187,2],[188,1,"1\u20444"],[189,1,"1\u20442"],[190,1,"3\u20444"],[191,2],[192,1,"\xE0"],[193,1,"\xE1"],[194,1,"\xE2"],[195,1,"\xE3"],[196,1,"\xE4"],[197,1,"\xE5"],[198,1,"\xE6"],[199,1,"\xE7"],[200,1,"\xE8"],[201,1,"\xE9"],[202,1,"\xEA"],[203,1,"\xEB"],[204,1,"\xEC"],[205,1,"\xED"],[206,1,"\xEE"],[207,1,"\xEF"],[208,1,"\xF0"],[209,1,"\xF1"],[210,1,"\xF2"],[211,1,"\xF3"],[212,1,"\xF4"],[213,1,"\xF5"],[214,1,"\xF6"],[215,2],[216,1,"\xF8"],[217,1,"\xF9"],[218,1,"\xFA"],[219,1,"\xFB"],[220,1,"\xFC"],[221,1,"\xFD"],[222,1,"\xFE"],[223,6,"ss"],[[224,246],2],[247,2],[[248,255],2],[256,1,"\u0101"],[257,2],[258,1,"\u0103"],[259,2],[260,1,"\u0105"],[261,2],[262,1,"\u0107"],[263,2],[264,1,"\u0109"],[265,2],[266,1,"\u010B"],[267,2],[268,1,"\u010D"],[269,2],[270,1,"\u010F"],[271,2],[272,1,"\u0111"],[273,2],[274,1,"\u0113"],[275,2],[276,1,"\u0115"],[277,2],[278,1,"\u0117"],[279,2],[280,1,"\u0119"],[281,2],[282,1,"\u011B"],[283,2],[284,1,"\u011D"],[285,2],[286,1,"\u011F"],[287,2],[288,1,"\u0121"],[289,2],[290,1,"\u0123"],[291,2],[292,1,"\u0125"],[293,2],[294,1,"\u0127"],[295,2],[296,1,"\u0129"],[297,2],[298,1,"\u012B"],[299,2],[300,1,"\u012D"],[301,2],[302,1,"\u012F"],[303,2],[304,1,"i\u0307"],[305,2],[[306,307],1,"ij"],[308,1,"\u0135"],[309,2],[310,1,"\u0137"],[[311,312],2],[313,1,"\u013A"],[314,2],[315,1,"\u013C"],[316,2],[317,1,"\u013E"],[318,2],[[319,320],1,"l\xB7"],[321,1,"\u0142"],[322,2],[323,1,"\u0144"],[324,2],[325,1,"\u0146"],[326,2],[327,1,"\u0148"],[328,2],[329,1,"\u02BCn"],[330,1,"\u014B"],[331,2],[332,1,"\u014D"],[333,2],[334,1,"\u014F"],[335,2],[336,1,"\u0151"],[337,2],[338,1,"\u0153"],[339,2],[340,1,"\u0155"],[341,2],[342,1,"\u0157"],[343,2],[344,1,"\u0159"],[345,2],[346,1,"\u015B"],[347,2],[348,1,"\u015D"],[349,2],[350,1,"\u015F"],[351,2],[352,1,"\u0161"],[353,2],[354,1,"\u0163"],[355,2],[356,1,"\u0165"],[357,2],[358,1,"\u0167"],[359,2],[360,1,"\u0169"],[361,2],[362,1,"\u016B"],[363,2],[364,1,"\u016D"],[365,2],[366,1,"\u016F"],[367,2],[368,1,"\u0171"],[369,2],[370,1,"\u0173"],[371,2],[372,1,"\u0175"],[373,2],[374,1,"\u0177"],[375,2],[376,1,"\xFF"],[377,1,"\u017A"],[378,2],[379,1,"\u017C"],[380,2],[381,1,"\u017E"],[382,2],[383,1,"s"],[384,2],[385,1,"\u0253"],[386,1,"\u0183"],[387,2],[388,1,"\u0185"],[389,2],[390,1,"\u0254"],[391,1,"\u0188"],[392,2],[393,1,"\u0256"],[394,1,"\u0257"],[395,1,"\u018C"],[[396,397],2],[398,1,"\u01DD"],[399,1,"\u0259"],[400,1,"\u025B"],[401,1,"\u0192"],[402,2],[403,1,"\u0260"],[404,1,"\u0263"],[405,2],[406,1,"\u0269"],[407,1,"\u0268"],[408,1,"\u0199"],[[409,411],2],[412,1,"\u026F"],[413,1,"\u0272"],[414,2],[415,1,"\u0275"],[416,1,"\u01A1"],[417,2],[418,1,"\u01A3"],[419,2],[420,1,"\u01A5"],[421,2],[422,1,"\u0280"],[423,1,"\u01A8"],[424,2],[425,1,"\u0283"],[[426,427],2],[428,1,"\u01AD"],[429,2],[430,1,"\u0288"],[431,1,"\u01B0"],[432,2],[433,1,"\u028A"],[434,1,"\u028B"],[435,1,"\u01B4"],[436,2],[437,1,"\u01B6"],[438,2],[439,1,"\u0292"],[440,1,"\u01B9"],[[441,443],2],[444,1,"\u01BD"],[[445,451],2],[[452,454],1,"d\u017E"],[[455,457],1,"lj"],[[458,460],1,"nj"],[461,1,"\u01CE"],[462,2],[463,1,"\u01D0"],[464,2],[465,1,"\u01D2"],[466,2],[467,1,"\u01D4"],[468,2],[469,1,"\u01D6"],[470,2],[471,1,"\u01D8"],[472,2],[473,1,"\u01DA"],[474,2],[475,1,"\u01DC"],[[476,477],2],[478,1,"\u01DF"],[479,2],[480,1,"\u01E1"],[481,2],[482,1,"\u01E3"],[483,2],[484,1,"\u01E5"],[485,2],[486,1,"\u01E7"],[487,2],[488,1,"\u01E9"],[489,2],[490,1,"\u01EB"],[491,2],[492,1,"\u01ED"],[493,2],[494,1,"\u01EF"],[[495,496],2],[[497,499],1,"dz"],[500,1,"\u01F5"],[501,2],[502,1,"\u0195"],[503,1,"\u01BF"],[504,1,"\u01F9"],[505,2],[506,1,"\u01FB"],[507,2],[508,1,"\u01FD"],[509,2],[510,1,"\u01FF"],[511,2],[512,1,"\u0201"],[513,2],[514,1,"\u0203"],[515,2],[516,1,"\u0205"],[517,2],[518,1,"\u0207"],[519,2],[520,1,"\u0209"],[521,2],[522,1,"\u020B"],[523,2],[524,1,"\u020D"],[525,2],[526,1,"\u020F"],[527,2],[528,1,"\u0211"],[529,2],[530,1,"\u0213"],[531,2],[532,1,"\u0215"],[533,2],[534,1,"\u0217"],[535,2],[536,1,"\u0219"],[537,2],[538,1,"\u021B"],[539,2],[540,1,"\u021D"],[541,2],[542,1,"\u021F"],[543,2],[544,1,"\u019E"],[545,2],[546,1,"\u0223"],[547,2],[548,1,"\u0225"],[549,2],[550,1,"\u0227"],[551,2],[552,1,"\u0229"],[553,2],[554,1,"\u022B"],[555,2],[556,1,"\u022D"],[557,2],[558,1,"\u022F"],[559,2],[560,1,"\u0231"],[561,2],[562,1,"\u0233"],[563,2],[[564,566],2],[[567,569],2],[570,1,"\u2C65"],[571,1,"\u023C"],[572,2],[573,1,"\u019A"],[574,1,"\u2C66"],[[575,576],2],[577,1,"\u0242"],[578,2],[579,1,"\u0180"],[580,1,"\u0289"],[581,1,"\u028C"],[582,1,"\u0247"],[583,2],[584,1,"\u0249"],[585,2],[586,1,"\u024B"],[587,2],[588,1,"\u024D"],[589,2],[590,1,"\u024F"],[591,2],[[592,680],2],[[681,685],2],[[686,687],2],[688,1,"h"],[689,1,"\u0266"],[690,1,"j"],[691,1,"r"],[692,1,"\u0279"],[693,1,"\u027B"],[694,1,"\u0281"],[695,1,"w"],[696,1,"y"],[[697,705],2],[[706,709],2],[[710,721],2],[[722,727],2],[728,5," \u0306"],[729,5," \u0307"],[730,5," \u030A"],[731,5," \u0328"],[732,5," \u0303"],[733,5," \u030B"],[734,2],[735,2],[736,1,"\u0263"],[737,1,"l"],[738,1,"s"],[739,1,"x"],[740,1,"\u0295"],[[741,745],2],[[746,747],2],[748,2],[749,2],[750,2],[[751,767],2],[[768,831],2],[832,1,"\u0300"],[833,1,"\u0301"],[834,2],[835,1,"\u0313"],[836,1,"\u0308\u0301"],[837,1,"\u03B9"],[[838,846],2],[847,7],[[848,855],2],[[856,860],2],[[861,863],2],[[864,865],2],[866,2],[[867,879],2],[880,1,"\u0371"],[881,2],[882,1,"\u0373"],[883,2],[884,1,"\u02B9"],[885,2],[886,1,"\u0377"],[887,2],[[888,889],3],[890,5," \u03B9"],[[891,893],2],[894,5,";"],[895,1,"\u03F3"],[[896,899],3],[900,5," \u0301"],[901,5," \u0308\u0301"],[902,1,"\u03AC"],[903,1,"\xB7"],[904,1,"\u03AD"],[905,1,"\u03AE"],[906,1,"\u03AF"],[907,3],[908,1,"\u03CC"],[909,3],[910,1,"\u03CD"],[911,1,"\u03CE"],[912,2],[913,1,"\u03B1"],[914,1,"\u03B2"],[915,1,"\u03B3"],[916,1,"\u03B4"],[917,1,"\u03B5"],[918,1,"\u03B6"],[919,1,"\u03B7"],[920,1,"\u03B8"],[921,1,"\u03B9"],[922,1,"\u03BA"],[923,1,"\u03BB"],[924,1,"\u03BC"],[925,1,"\u03BD"],[926,1,"\u03BE"],[927,1,"\u03BF"],[928,1,"\u03C0"],[929,1,"\u03C1"],[930,3],[931,1,"\u03C3"],[932,1,"\u03C4"],[933,1,"\u03C5"],[934,1,"\u03C6"],[935,1,"\u03C7"],[936,1,"\u03C8"],[937,1,"\u03C9"],[938,1,"\u03CA"],[939,1,"\u03CB"],[[940,961],2],[962,6,"\u03C3"],[[963,974],2],[975,1,"\u03D7"],[976,1,"\u03B2"],[977,1,"\u03B8"],[978,1,"\u03C5"],[979,1,"\u03CD"],[980,1,"\u03CB"],[981,1,"\u03C6"],[982,1,"\u03C0"],[983,2],[984,1,"\u03D9"],[985,2],[986,1,"\u03DB"],[987,2],[988,1,"\u03DD"],[989,2],[990,1,"\u03DF"],[991,2],[992,1,"\u03E1"],[993,2],[994,1,"\u03E3"],[995,2],[996,1,"\u03E5"],[997,2],[998,1,"\u03E7"],[999,2],[1e3,1,"\u03E9"],[1001,2],[1002,1,"\u03EB"],[1003,2],[1004,1,"\u03ED"],[1005,2],[1006,1,"\u03EF"],[1007,2],[1008,1,"\u03BA"],[1009,1,"\u03C1"],[1010,1,"\u03C3"],[1011,2],[1012,1,"\u03B8"],[1013,1,"\u03B5"],[1014,2],[1015,1,"\u03F8"],[1016,2],[1017,1,"\u03C3"],[1018,1,"\u03FB"],[1019,2],[1020,2],[1021,1,"\u037B"],[1022,1,"\u037C"],[1023,1,"\u037D"],[1024,1,"\u0450"],[1025,1,"\u0451"],[1026,1,"\u0452"],[1027,1,"\u0453"],[1028,1,"\u0454"],[1029,1,"\u0455"],[1030,1,"\u0456"],[1031,1,"\u0457"],[1032,1,"\u0458"],[1033,1,"\u0459"],[1034,1,"\u045A"],[1035,1,"\u045B"],[1036,1,"\u045C"],[1037,1,"\u045D"],[1038,1,"\u045E"],[1039,1,"\u045F"],[1040,1,"\u0430"],[1041,1,"\u0431"],[1042,1,"\u0432"],[1043,1,"\u0433"],[1044,1,"\u0434"],[1045,1,"\u0435"],[1046,1,"\u0436"],[1047,1,"\u0437"],[1048,1,"\u0438"],[1049,1,"\u0439"],[1050,1,"\u043A"],[1051,1,"\u043B"],[1052,1,"\u043C"],[1053,1,"\u043D"],[1054,1,"\u043E"],[1055,1,"\u043F"],[1056,1,"\u0440"],[1057,1,"\u0441"],[1058,1,"\u0442"],[1059,1,"\u0443"],[1060,1,"\u0444"],[1061,1,"\u0445"],[1062,1,"\u0446"],[1063,1,"\u0447"],[1064,1,"\u0448"],[1065,1,"\u0449"],[1066,1,"\u044A"],[1067,1,"\u044B"],[1068,1,"\u044C"],[1069,1,"\u044D"],[1070,1,"\u044E"],[1071,1,"\u044F"],[[1072,1103],2],[1104,2],[[1105,1116],2],[1117,2],[[1118,1119],2],[1120,1,"\u0461"],[1121,2],[1122,1,"\u0463"],[1123,2],[1124,1,"\u0465"],[1125,2],[1126,1,"\u0467"],[1127,2],[1128,1,"\u0469"],[1129,2],[1130,1,"\u046B"],[1131,2],[1132,1,"\u046D"],[1133,2],[1134,1,"\u046F"],[1135,2],[1136,1,"\u0471"],[1137,2],[1138,1,"\u0473"],[1139,2],[1140,1,"\u0475"],[1141,2],[1142,1,"\u0477"],[1143,2],[1144,1,"\u0479"],[1145,2],[1146,1,"\u047B"],[1147,2],[1148,1,"\u047D"],[1149,2],[1150,1,"\u047F"],[1151,2],[1152,1,"\u0481"],[1153,2],[1154,2],[[1155,1158],2],[1159,2],[[1160,1161],2],[1162,1,"\u048B"],[1163,2],[1164,1,"\u048D"],[1165,2],[1166,1,"\u048F"],[1167,2],[1168,1,"\u0491"],[1169,2],[1170,1,"\u0493"],[1171,2],[1172,1,"\u0495"],[1173,2],[1174,1,"\u0497"],[1175,2],[1176,1,"\u0499"],[1177,2],[1178,1,"\u049B"],[1179,2],[1180,1,"\u049D"],[1181,2],[1182,1,"\u049F"],[1183,2],[1184,1,"\u04A1"],[1185,2],[1186,1,"\u04A3"],[1187,2],[1188,1,"\u04A5"],[1189,2],[1190,1,"\u04A7"],[1191,2],[1192,1,"\u04A9"],[1193,2],[1194,1,"\u04AB"],[1195,2],[1196,1,"\u04AD"],[1197,2],[1198,1,"\u04AF"],[1199,2],[1200,1,"\u04B1"],[1201,2],[1202,1,"\u04B3"],[1203,2],[1204,1,"\u04B5"],[1205,2],[1206,1,"\u04B7"],[1207,2],[1208,1,"\u04B9"],[1209,2],[1210,1,"\u04BB"],[1211,2],[1212,1,"\u04BD"],[1213,2],[1214,1,"\u04BF"],[1215,2],[1216,3],[1217,1,"\u04C2"],[1218,2],[1219,1,"\u04C4"],[1220,2],[1221,1,"\u04C6"],[1222,2],[1223,1,"\u04C8"],[1224,2],[1225,1,"\u04CA"],[1226,2],[1227,1,"\u04CC"],[1228,2],[1229,1,"\u04CE"],[1230,2],[1231,2],[1232,1,"\u04D1"],[1233,2],[1234,1,"\u04D3"],[1235,2],[1236,1,"\u04D5"],[1237,2],[1238,1,"\u04D7"],[1239,2],[1240,1,"\u04D9"],[1241,2],[1242,1,"\u04DB"],[1243,2],[1244,1,"\u04DD"],[1245,2],[1246,1,"\u04DF"],[1247,2],[1248,1,"\u04E1"],[1249,2],[1250,1,"\u04E3"],[1251,2],[1252,1,"\u04E5"],[1253,2],[1254,1,"\u04E7"],[1255,2],[1256,1,"\u04E9"],[1257,2],[1258,1,"\u04EB"],[1259,2],[1260,1,"\u04ED"],[1261,2],[1262,1,"\u04EF"],[1263,2],[1264,1,"\u04F1"],[1265,2],[1266,1,"\u04F3"],[1267,2],[1268,1,"\u04F5"],[1269,2],[1270,1,"\u04F7"],[1271,2],[1272,1,"\u04F9"],[1273,2],[1274,1,"\u04FB"],[1275,2],[1276,1,"\u04FD"],[1277,2],[1278,1,"\u04FF"],[1279,2],[1280,1,"\u0501"],[1281,2],[1282,1,"\u0503"],[1283,2],[1284,1,"\u0505"],[1285,2],[1286,1,"\u0507"],[1287,2],[1288,1,"\u0509"],[1289,2],[1290,1,"\u050B"],[1291,2],[1292,1,"\u050D"],[1293,2],[1294,1,"\u050F"],[1295,2],[1296,1,"\u0511"],[1297,2],[1298,1,"\u0513"],[1299,2],[1300,1,"\u0515"],[1301,2],[1302,1,"\u0517"],[1303,2],[1304,1,"\u0519"],[1305,2],[1306,1,"\u051B"],[1307,2],[1308,1,"\u051D"],[1309,2],[1310,1,"\u051F"],[1311,2],[1312,1,"\u0521"],[1313,2],[1314,1,"\u0523"],[1315,2],[1316,1,"\u0525"],[1317,2],[1318,1,"\u0527"],[1319,2],[1320,1,"\u0529"],[1321,2],[1322,1,"\u052B"],[1323,2],[1324,1,"\u052D"],[1325,2],[1326,1,"\u052F"],[1327,2],[1328,3],[1329,1,"\u0561"],[1330,1,"\u0562"],[1331,1,"\u0563"],[1332,1,"\u0564"],[1333,1,"\u0565"],[1334,1,"\u0566"],[1335,1,"\u0567"],[1336,1,"\u0568"],[1337,1,"\u0569"],[1338,1,"\u056A"],[1339,1,"\u056B"],[1340,1,"\u056C"],[1341,1,"\u056D"],[1342,1,"\u056E"],[1343,1,"\u056F"],[1344,1,"\u0570"],[1345,1,"\u0571"],[1346,1,"\u0572"],[1347,1,"\u0573"],[1348,1,"\u0574"],[1349,1,"\u0575"],[1350,1,"\u0576"],[1351,1,"\u0577"],[1352,1,"\u0578"],[1353,1,"\u0579"],[1354,1,"\u057A"],[1355,1,"\u057B"],[1356,1,"\u057C"],[1357,1,"\u057D"],[1358,1,"\u057E"],[1359,1,"\u057F"],[1360,1,"\u0580"],[1361,1,"\u0581"],[1362,1,"\u0582"],[1363,1,"\u0583"],[1364,1,"\u0584"],[1365,1,"\u0585"],[1366,1,"\u0586"],[[1367,1368],3],[1369,2],[[1370,1375],2],[1376,2],[[1377,1414],2],[1415,1,"\u0565\u0582"],[1416,2],[1417,2],[1418,2],[[1419,1420],3],[[1421,1422],2],[1423,2],[1424,3],[[1425,1441],2],[1442,2],[[1443,1455],2],[[1456,1465],2],[1466,2],[[1467,1469],2],[1470,2],[1471,2],[1472,2],[[1473,1474],2],[1475,2],[1476,2],[1477,2],[1478,2],[1479,2],[[1480,1487],3],[[1488,1514],2],[[1515,1518],3],[1519,2],[[1520,1524],2],[[1525,1535],3],[[1536,1539],3],[1540,3],[1541,3],[[1542,1546],2],[1547,2],[1548,2],[[1549,1551],2],[[1552,1557],2],[[1558,1562],2],[1563,2],[1564,3],[1565,2],[1566,2],[1567,2],[1568,2],[[1569,1594],2],[[1595,1599],2],[1600,2],[[1601,1618],2],[[1619,1621],2],[[1622,1624],2],[[1625,1630],2],[1631,2],[[1632,1641],2],[[1642,1645],2],[[1646,1647],2],[[1648,1652],2],[1653,1,"\u0627\u0674"],[1654,1,"\u0648\u0674"],[1655,1,"\u06C7\u0674"],[1656,1,"\u064A\u0674"],[[1657,1719],2],[[1720,1721],2],[[1722,1726],2],[1727,2],[[1728,1742],2],[1743,2],[[1744,1747],2],[1748,2],[[1749,1756],2],[1757,3],[1758,2],[[1759,1768],2],[1769,2],[[1770,1773],2],[[1774,1775],2],[[1776,1785],2],[[1786,1790],2],[1791,2],[[1792,1805],2],[1806,3],[1807,3],[[1808,1836],2],[[1837,1839],2],[[1840,1866],2],[[1867,1868],3],[[1869,1871],2],[[1872,1901],2],[[1902,1919],2],[[1920,1968],2],[1969,2],[[1970,1983],3],[[1984,2037],2],[[2038,2042],2],[[2043,2044],3],[2045,2],[[2046,2047],2],[[2048,2093],2],[[2094,2095],3],[[2096,2110],2],[2111,3],[[2112,2139],2],[[2140,2141],3],[2142,2],[2143,3],[[2144,2154],2],[[2155,2159],3],[[2160,2183],2],[2184,2],[[2185,2190],2],[2191,3],[[2192,2193],3],[[2194,2199],3],[[2200,2207],2],[2208,2],[2209,2],[[2210,2220],2],[[2221,2226],2],[[2227,2228],2],[2229,2],[[2230,2237],2],[[2238,2247],2],[[2248,2258],2],[2259,2],[[2260,2273],2],[2274,3],[2275,2],[[2276,2302],2],[2303,2],[2304,2],[[2305,2307],2],[2308,2],[[2309,2361],2],[[2362,2363],2],[[2364,2381],2],[2382,2],[2383,2],[[2384,2388],2],[2389,2],[[2390,2391],2],[2392,1,"\u0915\u093C"],[2393,1,"\u0916\u093C"],[2394,1,"\u0917\u093C"],[2395,1,"\u091C\u093C"],[2396,1,"\u0921\u093C"],[2397,1,"\u0922\u093C"],[2398,1,"\u092B\u093C"],[2399,1,"\u092F\u093C"],[[2400,2403],2],[[2404,2405],2],[[2406,2415],2],[2416,2],[[2417,2418],2],[[2419,2423],2],[2424,2],[[2425,2426],2],[[2427,2428],2],[2429,2],[[2430,2431],2],[2432,2],[[2433,2435],2],[2436,3],[[2437,2444],2],[[2445,2446],3],[[2447,2448],2],[[2449,2450],3],[[2451,2472],2],[2473,3],[[2474,2480],2],[2481,3],[2482,2],[[2483,2485],3],[[2486,2489],2],[[2490,2491],3],[2492,2],[2493,2],[[2494,2500],2],[[2501,2502],3],[[2503,2504],2],[[2505,2506],3],[[2507,2509],2],[2510,2],[[2511,2518],3],[2519,2],[[2520,2523],3],[2524,1,"\u09A1\u09BC"],[2525,1,"\u09A2\u09BC"],[2526,3],[2527,1,"\u09AF\u09BC"],[[2528,2531],2],[[2532,2533],3],[[2534,2545],2],[[2546,2554],2],[2555,2],[2556,2],[2557,2],[2558,2],[[2559,2560],3],[2561,2],[2562,2],[2563,2],[2564,3],[[2565,2570],2],[[2571,2574],3],[[2575,2576],2],[[2577,2578],3],[[2579,2600],2],[2601,3],[[2602,2608],2],[2609,3],[2610,2],[2611,1,"\u0A32\u0A3C"],[2612,3],[2613,2],[2614,1,"\u0A38\u0A3C"],[2615,3],[[2616,2617],2],[[2618,2619],3],[2620,2],[2621,3],[[2622,2626],2],[[2627,2630],3],[[2631,2632],2],[[2633,2634],3],[[2635,2637],2],[[2638,2640],3],[2641,2],[[2642,2648],3],[2649,1,"\u0A16\u0A3C"],[2650,1,"\u0A17\u0A3C"],[2651,1,"\u0A1C\u0A3C"],[2652,2],[2653,3],[2654,1,"\u0A2B\u0A3C"],[[2655,2661],3],[[2662,2676],2],[2677,2],[2678,2],[[2679,2688],3],[[2689,2691],2],[2692,3],[[2693,2699],2],[2700,2],[2701,2],[2702,3],[[2703,2705],2],[2706,3],[[2707,2728],2],[2729,3],[[2730,2736],2],[2737,3],[[2738,2739],2],[2740,3],[[2741,2745],2],[[2746,2747],3],[[2748,2757],2],[2758,3],[[2759,2761],2],[2762,3],[[2763,2765],2],[[2766,2767],3],[2768,2],[[2769,2783],3],[2784,2],[[2785,2787],2],[[2788,2789],3],[[2790,2799],2],[2800,2],[2801,2],[[2802,2808],3],[2809,2],[[2810,2815],2],[2816,3],[[2817,2819],2],[2820,3],[[2821,2828],2],[[2829,2830],3],[[2831,2832],2],[[2833,2834],3],[[2835,2856],2],[2857,3],[[2858,2864],2],[2865,3],[[2866,2867],2],[2868,3],[2869,2],[[2870,2873],2],[[2874,2875],3],[[2876,2883],2],[2884,2],[[2885,2886],3],[[2887,2888],2],[[2889,2890],3],[[2891,2893],2],[[2894,2900],3],[2901,2],[[2902,2903],2],[[2904,2907],3],[2908,1,"\u0B21\u0B3C"],[2909,1,"\u0B22\u0B3C"],[2910,3],[[2911,2913],2],[[2914,2915],2],[[2916,2917],3],[[2918,2927],2],[2928,2],[2929,2],[[2930,2935],2],[[2936,2945],3],[[2946,2947],2],[2948,3],[[2949,2954],2],[[2955,2957],3],[[2958,2960],2],[2961,3],[[2962,2965],2],[[2966,2968],3],[[2969,2970],2],[2971,3],[2972,2],[2973,3],[[2974,2975],2],[[2976,2978],3],[[2979,2980],2],[[2981,2983],3],[[2984,2986],2],[[2987,2989],3],[[2990,2997],2],[2998,2],[[2999,3001],2],[[3002,3005],3],[[3006,3010],2],[[3011,3013],3],[[3014,3016],2],[3017,3],[[3018,3021],2],[[3022,3023],3],[3024,2],[[3025,3030],3],[3031,2],[[3032,3045],3],[3046,2],[[3047,3055],2],[[3056,3058],2],[[3059,3066],2],[[3067,3071],3],[3072,2],[[3073,3075],2],[3076,2],[[3077,3084],2],[3085,3],[[3086,3088],2],[3089,3],[[3090,3112],2],[3113,3],[[3114,3123],2],[3124,2],[[3125,3129],2],[[3130,3131],3],[3132,2],[3133,2],[[3134,3140],2],[3141,3],[[3142,3144],2],[3145,3],[[3146,3149],2],[[3150,3156],3],[[3157,3158],2],[3159,3],[[3160,3161],2],[3162,2],[[3163,3164],3],[3165,2],[[3166,3167],3],[[3168,3169],2],[[3170,3171],2],[[3172,3173],3],[[3174,3183],2],[[3184,3190],3],[3191,2],[[3192,3199],2],[3200,2],[3201,2],[[3202,3203],2],[3204,2],[[3205,3212],2],[3213,3],[[3214,3216],2],[3217,3],[[3218,3240],2],[3241,3],[[3242,3251],2],[3252,3],[[3253,3257],2],[[3258,3259],3],[[3260,3261],2],[[3262,3268],2],[3269,3],[[3270,3272],2],[3273,3],[[3274,3277],2],[[3278,3284],3],[[3285,3286],2],[[3287,3292],3],[3293,2],[3294,2],[3295,3],[[3296,3297],2],[[3298,3299],2],[[3300,3301],3],[[3302,3311],2],[3312,3],[[3313,3314],2],[[3315,3327],3],[3328,2],[3329,2],[[3330,3331],2],[3332,2],[[3333,3340],2],[3341,3],[[3342,3344],2],[3345,3],[[3346,3368],2],[3369,2],[[3370,3385],2],[3386,2],[[3387,3388],2],[3389,2],[[3390,3395],2],[3396,2],[3397,3],[[3398,3400],2],[3401,3],[[3402,3405],2],[3406,2],[3407,2],[[3408,3411],3],[[3412,3414],2],[3415,2],[[3416,3422],2],[3423,2],[[3424,3425],2],[[3426,3427],2],[[3428,3429],3],[[3430,3439],2],[[3440,3445],2],[[3446,3448],2],[3449,2],[[3450,3455],2],[3456,3],[3457,2],[[3458,3459],2],[3460,3],[[3461,3478],2],[[3479,3481],3],[[3482,3505],2],[3506,3],[[3507,3515],2],[3516,3],[3517,2],[[3518,3519],3],[[3520,3526],2],[[3527,3529],3],[3530,2],[[3531,3534],3],[[3535,3540],2],[3541,3],[3542,2],[3543,3],[[3544,3551],2],[[3552,3557],3],[[3558,3567],2],[[3568,3569],3],[[3570,3571],2],[3572,2],[[3573,3584],3],[[3585,3634],2],[3635,1,"\u0E4D\u0E32"],[[3636,3642],2],[[3643,3646],3],[3647,2],[[3648,3662],2],[3663,2],[[3664,3673],2],[[3674,3675],2],[[3676,3712],3],[[3713,3714],2],[3715,3],[3716,2],[3717,3],[3718,2],[[3719,3720],2],[3721,2],[3722,2],[3723,3],[3724,2],[3725,2],[[3726,3731],2],[[3732,3735],2],[3736,2],[[3737,3743],2],[3744,2],[[3745,3747],2],[3748,3],[3749,2],[3750,3],[3751,2],[[3752,3753],2],[[3754,3755],2],[3756,2],[[3757,3762],2],[3763,1,"\u0ECD\u0EB2"],[[3764,3769],2],[3770,2],[[3771,3773],2],[[3774,3775],3],[[3776,3780],2],[3781,3],[3782,2],[3783,3],[[3784,3789],2],[[3790,3791],3],[[3792,3801],2],[[3802,3803],3],[3804,1,"\u0EAB\u0E99"],[3805,1,"\u0EAB\u0EA1"],[[3806,3807],2],[[3808,3839],3],[3840,2],[[3841,3850],2],[3851,2],[3852,1,"\u0F0B"],[[3853,3863],2],[[3864,3865],2],[[3866,3871],2],[[3872,3881],2],[[3882,3892],2],[3893,2],[3894,2],[3895,2],[3896,2],[3897,2],[[3898,3901],2],[[3902,3906],2],[3907,1,"\u0F42\u0FB7"],[[3908,3911],2],[3912,3],[[3913,3916],2],[3917,1,"\u0F4C\u0FB7"],[[3918,3921],2],[3922,1,"\u0F51\u0FB7"],[[3923,3926],2],[3927,1,"\u0F56\u0FB7"],[[3928,3931],2],[3932,1,"\u0F5B\u0FB7"],[[3933,3944],2],[3945,1,"\u0F40\u0FB5"],[3946,2],[[3947,3948],2],[[3949,3952],3],[[3953,3954],2],[3955,1,"\u0F71\u0F72"],[3956,2],[3957,1,"\u0F71\u0F74"],[3958,1,"\u0FB2\u0F80"],[3959,1,"\u0FB2\u0F71\u0F80"],[3960,1,"\u0FB3\u0F80"],[3961,1,"\u0FB3\u0F71\u0F80"],[[3962,3968],2],[3969,1,"\u0F71\u0F80"],[[3970,3972],2],[3973,2],[[3974,3979],2],[[3980,3983],2],[[3984,3986],2],[3987,1,"\u0F92\u0FB7"],[[3988,3989],2],[3990,2],[3991,2],[3992,3],[[3993,3996],2],[3997,1,"\u0F9C\u0FB7"],[[3998,4001],2],[4002,1,"\u0FA1\u0FB7"],[[4003,4006],2],[4007,1,"\u0FA6\u0FB7"],[[4008,4011],2],[4012,1,"\u0FAB\u0FB7"],[4013,2],[[4014,4016],2],[[4017,4023],2],[4024,2],[4025,1,"\u0F90\u0FB5"],[[4026,4028],2],[4029,3],[[4030,4037],2],[4038,2],[[4039,4044],2],[4045,3],[4046,2],[4047,2],[[4048,4049],2],[[4050,4052],2],[[4053,4056],2],[[4057,4058],2],[[4059,4095],3],[[4096,4129],2],[4130,2],[[4131,4135],2],[4136,2],[[4137,4138],2],[4139,2],[[4140,4146],2],[[4147,4149],2],[[4150,4153],2],[[4154,4159],2],[[4160,4169],2],[[4170,4175],2],[[4176,4185],2],[[4186,4249],2],[[4250,4253],2],[[4254,4255],2],[[4256,4293],3],[4294,3],[4295,1,"\u2D27"],[[4296,4300],3],[4301,1,"\u2D2D"],[[4302,4303],3],[[4304,4342],2],[[4343,4344],2],[[4345,4346],2],[4347,2],[4348,1,"\u10DC"],[[4349,4351],2],[[4352,4441],2],[[4442,4446],2],[[4447,4448],3],[[4449,4514],2],[[4515,4519],2],[[4520,4601],2],[[4602,4607],2],[[4608,4614],2],[4615,2],[[4616,4678],2],[4679,2],[4680,2],[4681,3],[[4682,4685],2],[[4686,4687],3],[[4688,4694],2],[4695,3],[4696,2],[4697,3],[[4698,4701],2],[[4702,4703],3],[[4704,4742],2],[4743,2],[4744,2],[4745,3],[[4746,4749],2],[[4750,4751],3],[[4752,4782],2],[4783,2],[4784,2],[4785,3],[[4786,4789],2],[[4790,4791],3],[[4792,4798],2],[4799,3],[4800,2],[4801,3],[[4802,4805],2],[[4806,4807],3],[[4808,4814],2],[4815,2],[[4816,4822],2],[4823,3],[[4824,4846],2],[4847,2],[[4848,4878],2],[4879,2],[4880,2],[4881,3],[[4882,4885],2],[[4886,4887],3],[[4888,4894],2],[4895,2],[[4896,4934],2],[4935,2],[[4936,4954],2],[[4955,4956],3],[[4957,4958],2],[4959,2],[4960,2],[[4961,4988],2],[[4989,4991],3],[[4992,5007],2],[[5008,5017],2],[[5018,5023],3],[[5024,5108],2],[5109,2],[[5110,5111],3],[5112,1,"\u13F0"],[5113,1,"\u13F1"],[5114,1,"\u13F2"],[5115,1,"\u13F3"],[5116,1,"\u13F4"],[5117,1,"\u13F5"],[[5118,5119],3],[5120,2],[[5121,5740],2],[[5741,5742],2],[[5743,5750],2],[[5751,5759],2],[5760,3],[[5761,5786],2],[[5787,5788],2],[[5789,5791],3],[[5792,5866],2],[[5867,5872],2],[[5873,5880],2],[[5881,5887],3],[[5888,5900],2],[5901,2],[[5902,5908],2],[5909,2],[[5910,5918],3],[5919,2],[[5920,5940],2],[[5941,5942],2],[[5943,5951],3],[[5952,5971],2],[[5972,5983],3],[[5984,5996],2],[5997,3],[[5998,6e3],2],[6001,3],[[6002,6003],2],[[6004,6015],3],[[6016,6067],2],[[6068,6069],3],[[6070,6099],2],[[6100,6102],2],[6103,2],[[6104,6107],2],[6108,2],[6109,2],[[6110,6111],3],[[6112,6121],2],[[6122,6127],3],[[6128,6137],2],[[6138,6143],3],[[6144,6149],2],[6150,3],[[6151,6154],2],[[6155,6157],7],[6158,3],[6159,7],[[6160,6169],2],[[6170,6175],3],[[6176,6263],2],[6264,2],[[6265,6271],3],[[6272,6313],2],[6314,2],[[6315,6319],3],[[6320,6389],2],[[6390,6399],3],[[6400,6428],2],[[6429,6430],2],[6431,3],[[6432,6443],2],[[6444,6447],3],[[6448,6459],2],[[6460,6463],3],[6464,2],[[6465,6467],3],[[6468,6469],2],[[6470,6509],2],[[6510,6511],3],[[6512,6516],2],[[6517,6527],3],[[6528,6569],2],[[6570,6571],2],[[6572,6575],3],[[6576,6601],2],[[6602,6607],3],[[6608,6617],2],[6618,2],[[6619,6621],3],[[6622,6623],2],[[6624,6655],2],[[6656,6683],2],[[6684,6685],3],[[6686,6687],2],[[6688,6750],2],[6751,3],[[6752,6780],2],[[6781,6782],3],[[6783,6793],2],[[6794,6799],3],[[6800,6809],2],[[6810,6815],3],[[6816,6822],2],[6823,2],[[6824,6829],2],[[6830,6831],3],[[6832,6845],2],[6846,2],[[6847,6848],2],[[6849,6862],2],[[6863,6911],3],[[6912,6987],2],[6988,2],[[6989,6991],3],[[6992,7001],2],[[7002,7018],2],[[7019,7027],2],[[7028,7036],2],[[7037,7038],2],[7039,3],[[7040,7082],2],[[7083,7085],2],[[7086,7097],2],[[7098,7103],2],[[7104,7155],2],[[7156,7163],3],[[7164,7167],2],[[7168,7223],2],[[7224,7226],3],[[7227,7231],2],[[7232,7241],2],[[7242,7244],3],[[7245,7293],2],[[7294,7295],2],[7296,1,"\u0432"],[7297,1,"\u0434"],[7298,1,"\u043E"],[7299,1,"\u0441"],[[7300,7301],1,"\u0442"],[7302,1,"\u044A"],[7303,1,"\u0463"],[7304,1,"\uA64B"],[[7305,7311],3],[7312,1,"\u10D0"],[7313,1,"\u10D1"],[7314,1,"\u10D2"],[7315,1,"\u10D3"],[7316,1,"\u10D4"],[7317,1,"\u10D5"],[7318,1,"\u10D6"],[7319,1,"\u10D7"],[7320,1,"\u10D8"],[7321,1,"\u10D9"],[7322,1,"\u10DA"],[7323,1,"\u10DB"],[7324,1,"\u10DC"],[7325,1,"\u10DD"],[7326,1,"\u10DE"],[7327,1,"\u10DF"],[7328,1,"\u10E0"],[7329,1,"\u10E1"],[7330,1,"\u10E2"],[7331,1,"\u10E3"],[7332,1,"\u10E4"],[7333,1,"\u10E5"],[7334,1,"\u10E6"],[7335,1,"\u10E7"],[7336,1,"\u10E8"],[7337,1,"\u10E9"],[7338,1,"\u10EA"],[7339,1,"\u10EB"],[7340,1,"\u10EC"],[7341,1,"\u10ED"],[7342,1,"\u10EE"],[7343,1,"\u10EF"],[7344,1,"\u10F0"],[7345,1,"\u10F1"],[7346,1,"\u10F2"],[7347,1,"\u10F3"],[7348,1,"\u10F4"],[7349,1,"\u10F5"],[7350,1,"\u10F6"],[7351,1,"\u10F7"],[7352,1,"\u10F8"],[7353,1,"\u10F9"],[7354,1,"\u10FA"],[[7355,7356],3],[7357,1,"\u10FD"],[7358,1,"\u10FE"],[7359,1,"\u10FF"],[[7360,7367],2],[[7368,7375],3],[[7376,7378],2],[7379,2],[[7380,7410],2],[[7411,7414],2],[7415,2],[[7416,7417],2],[7418,2],[[7419,7423],3],[[7424,7467],2],[7468,1,"a"],[7469,1,"\xE6"],[7470,1,"b"],[7471,2],[7472,1,"d"],[7473,1,"e"],[7474,1,"\u01DD"],[7475,1,"g"],[7476,1,"h"],[7477,1,"i"],[7478,1,"j"],[7479,1,"k"],[7480,1,"l"],[7481,1,"m"],[7482,1,"n"],[7483,2],[7484,1,"o"],[7485,1,"\u0223"],[7486,1,"p"],[7487,1,"r"],[7488,1,"t"],[7489,1,"u"],[7490,1,"w"],[7491,1,"a"],[7492,1,"\u0250"],[7493,1,"\u0251"],[7494,1,"\u1D02"],[7495,1,"b"],[7496,1,"d"],[7497,1,"e"],[7498,1,"\u0259"],[7499,1,"\u025B"],[7500,1,"\u025C"],[7501,1,"g"],[7502,2],[7503,1,"k"],[7504,1,"m"],[7505,1,"\u014B"],[7506,1,"o"],[7507,1,"\u0254"],[7508,1,"\u1D16"],[7509,1,"\u1D17"],[7510,1,"p"],[7511,1,"t"],[7512,1,"u"],[7513,1,"\u1D1D"],[7514,1,"\u026F"],[7515,1,"v"],[7516,1,"\u1D25"],[7517,1,"\u03B2"],[7518,1,"\u03B3"],[7519,1,"\u03B4"],[7520,1,"\u03C6"],[7521,1,"\u03C7"],[7522,1,"i"],[7523,1,"r"],[7524,1,"u"],[7525,1,"v"],[7526,1,"\u03B2"],[7527,1,"\u03B3"],[7528,1,"\u03C1"],[7529,1,"\u03C6"],[7530,1,"\u03C7"],[7531,2],[[7532,7543],2],[7544,1,"\u043D"],[[7545,7578],2],[7579,1,"\u0252"],[7580,1,"c"],[7581,1,"\u0255"],[7582,1,"\xF0"],[7583,1,"\u025C"],[7584,1,"f"],[7585,1,"\u025F"],[7586,1,"\u0261"],[7587,1,"\u0265"],[7588,1,"\u0268"],[7589,1,"\u0269"],[7590,1,"\u026A"],[7591,1,"\u1D7B"],[7592,1,"\u029D"],[7593,1,"\u026D"],[7594,1,"\u1D85"],[7595,1,"\u029F"],[7596,1,"\u0271"],[7597,1,"\u0270"],[7598,1,"\u0272"],[7599,1,"\u0273"],[7600,1,"\u0274"],[7601,1,"\u0275"],[7602,1,"\u0278"],[7603,1,"\u0282"],[7604,1,"\u0283"],[7605,1,"\u01AB"],[7606,1,"\u0289"],[7607,1,"\u028A"],[7608,1,"\u1D1C"],[7609,1,"\u028B"],[7610,1,"\u028C"],[7611,1,"z"],[7612,1,"\u0290"],[7613,1,"\u0291"],[7614,1,"\u0292"],[7615,1,"\u03B8"],[[7616,7619],2],[[7620,7626],2],[[7627,7654],2],[[7655,7669],2],[[7670,7673],2],[7674,2],[7675,2],[7676,2],[7677,2],[[7678,7679],2],[7680,1,"\u1E01"],[7681,2],[7682,1,"\u1E03"],[7683,2],[7684,1,"\u1E05"],[7685,2],[7686,1,"\u1E07"],[7687,2],[7688,1,"\u1E09"],[7689,2],[7690,1,"\u1E0B"],[7691,2],[7692,1,"\u1E0D"],[7693,2],[7694,1,"\u1E0F"],[7695,2],[7696,1,"\u1E11"],[7697,2],[7698,1,"\u1E13"],[7699,2],[7700,1,"\u1E15"],[7701,2],[7702,1,"\u1E17"],[7703,2],[7704,1,"\u1E19"],[7705,2],[7706,1,"\u1E1B"],[7707,2],[7708,1,"\u1E1D"],[7709,2],[7710,1,"\u1E1F"],[7711,2],[7712,1,"\u1E21"],[7713,2],[7714,1,"\u1E23"],[7715,2],[7716,1,"\u1E25"],[7717,2],[7718,1,"\u1E27"],[7719,2],[7720,1,"\u1E29"],[7721,2],[7722,1,"\u1E2B"],[7723,2],[7724,1,"\u1E2D"],[7725,2],[7726,1,"\u1E2F"],[7727,2],[7728,1,"\u1E31"],[7729,2],[7730,1,"\u1E33"],[7731,2],[7732,1,"\u1E35"],[7733,2],[7734,1,"\u1E37"],[7735,2],[7736,1,"\u1E39"],[7737,2],[7738,1,"\u1E3B"],[7739,2],[7740,1,"\u1E3D"],[7741,2],[7742,1,"\u1E3F"],[7743,2],[7744,1,"\u1E41"],[7745,2],[7746,1,"\u1E43"],[7747,2],[7748,1,"\u1E45"],[7749,2],[7750,1,"\u1E47"],[7751,2],[7752,1,"\u1E49"],[7753,2],[7754,1,"\u1E4B"],[7755,2],[7756,1,"\u1E4D"],[7757,2],[7758,1,"\u1E4F"],[7759,2],[7760,1,"\u1E51"],[7761,2],[7762,1,"\u1E53"],[7763,2],[7764,1,"\u1E55"],[7765,2],[7766,1,"\u1E57"],[7767,2],[7768,1,"\u1E59"],[7769,2],[7770,1,"\u1E5B"],[7771,2],[7772,1,"\u1E5D"],[7773,2],[7774,1,"\u1E5F"],[7775,2],[7776,1,"\u1E61"],[7777,2],[7778,1,"\u1E63"],[7779,2],[7780,1,"\u1E65"],[7781,2],[7782,1,"\u1E67"],[7783,2],[7784,1,"\u1E69"],[7785,2],[7786,1,"\u1E6B"],[7787,2],[7788,1,"\u1E6D"],[7789,2],[7790,1,"\u1E6F"],[7791,2],[7792,1,"\u1E71"],[7793,2],[7794,1,"\u1E73"],[7795,2],[7796,1,"\u1E75"],[7797,2],[7798,1,"\u1E77"],[7799,2],[7800,1,"\u1E79"],[7801,2],[7802,1,"\u1E7B"],[7803,2],[7804,1,"\u1E7D"],[7805,2],[7806,1,"\u1E7F"],[7807,2],[7808,1,"\u1E81"],[7809,2],[7810,1,"\u1E83"],[7811,2],[7812,1,"\u1E85"],[7813,2],[7814,1,"\u1E87"],[7815,2],[7816,1,"\u1E89"],[7817,2],[7818,1,"\u1E8B"],[7819,2],[7820,1,"\u1E8D"],[7821,2],[7822,1,"\u1E8F"],[7823,2],[7824,1,"\u1E91"],[7825,2],[7826,1,"\u1E93"],[7827,2],[7828,1,"\u1E95"],[[7829,7833],2],[7834,1,"a\u02BE"],[7835,1,"\u1E61"],[[7836,7837],2],[7838,1,"ss"],[7839,2],[7840,1,"\u1EA1"],[7841,2],[7842,1,"\u1EA3"],[7843,2],[7844,1,"\u1EA5"],[7845,2],[7846,1,"\u1EA7"],[7847,2],[7848,1,"\u1EA9"],[7849,2],[7850,1,"\u1EAB"],[7851,2],[7852,1,"\u1EAD"],[7853,2],[7854,1,"\u1EAF"],[7855,2],[7856,1,"\u1EB1"],[7857,2],[7858,1,"\u1EB3"],[7859,2],[7860,1,"\u1EB5"],[7861,2],[7862,1,"\u1EB7"],[7863,2],[7864,1,"\u1EB9"],[7865,2],[7866,1,"\u1EBB"],[7867,2],[7868,1,"\u1EBD"],[7869,2],[7870,1,"\u1EBF"],[7871,2],[7872,1,"\u1EC1"],[7873,2],[7874,1,"\u1EC3"],[7875,2],[7876,1,"\u1EC5"],[7877,2],[7878,1,"\u1EC7"],[7879,2],[7880,1,"\u1EC9"],[7881,2],[7882,1,"\u1ECB"],[7883,2],[7884,1,"\u1ECD"],[7885,2],[7886,1,"\u1ECF"],[7887,2],[7888,1,"\u1ED1"],[7889,2],[7890,1,"\u1ED3"],[7891,2],[7892,1,"\u1ED5"],[7893,2],[7894,1,"\u1ED7"],[7895,2],[7896,1,"\u1ED9"],[7897,2],[7898,1,"\u1EDB"],[7899,2],[7900,1,"\u1EDD"],[7901,2],[7902,1,"\u1EDF"],[7903,2],[7904,1,"\u1EE1"],[7905,2],[7906,1,"\u1EE3"],[7907,2],[7908,1,"\u1EE5"],[7909,2],[7910,1,"\u1EE7"],[7911,2],[7912,1,"\u1EE9"],[7913,2],[7914,1,"\u1EEB"],[7915,2],[7916,1,"\u1EED"],[7917,2],[7918,1,"\u1EEF"],[7919,2],[7920,1,"\u1EF1"],[7921,2],[7922,1,"\u1EF3"],[7923,2],[7924,1,"\u1EF5"],[7925,2],[7926,1,"\u1EF7"],[7927,2],[7928,1,"\u1EF9"],[7929,2],[7930,1,"\u1EFB"],[7931,2],[7932,1,"\u1EFD"],[7933,2],[7934,1,"\u1EFF"],[7935,2],[[7936,7943],2],[7944,1,"\u1F00"],[7945,1,"\u1F01"],[7946,1,"\u1F02"],[7947,1,"\u1F03"],[7948,1,"\u1F04"],[7949,1,"\u1F05"],[7950,1,"\u1F06"],[7951,1,"\u1F07"],[[7952,7957],2],[[7958,7959],3],[7960,1,"\u1F10"],[7961,1,"\u1F11"],[7962,1,"\u1F12"],[7963,1,"\u1F13"],[7964,1,"\u1F14"],[7965,1,"\u1F15"],[[7966,7967],3],[[7968,7975],2],[7976,1,"\u1F20"],[7977,1,"\u1F21"],[7978,1,"\u1F22"],[7979,1,"\u1F23"],[7980,1,"\u1F24"],[7981,1,"\u1F25"],[7982,1,"\u1F26"],[7983,1,"\u1F27"],[[7984,7991],2],[7992,1,"\u1F30"],[7993,1,"\u1F31"],[7994,1,"\u1F32"],[7995,1,"\u1F33"],[7996,1,"\u1F34"],[7997,1,"\u1F35"],[7998,1,"\u1F36"],[7999,1,"\u1F37"],[[8e3,8005],2],[[8006,8007],3],[8008,1,"\u1F40"],[8009,1,"\u1F41"],[8010,1,"\u1F42"],[8011,1,"\u1F43"],[8012,1,"\u1F44"],[8013,1,"\u1F45"],[[8014,8015],3],[[8016,8023],2],[8024,3],[8025,1,"\u1F51"],[8026,3],[8027,1,"\u1F53"],[8028,3],[8029,1,"\u1F55"],[8030,3],[8031,1,"\u1F57"],[[8032,8039],2],[8040,1,"\u1F60"],[8041,1,"\u1F61"],[8042,1,"\u1F62"],[8043,1,"\u1F63"],[8044,1,"\u1F64"],[8045,1,"\u1F65"],[8046,1,"\u1F66"],[8047,1,"\u1F67"],[8048,2],[8049,1,"\u03AC"],[8050,2],[8051,1,"\u03AD"],[8052,2],[8053,1,"\u03AE"],[8054,2],[8055,1,"\u03AF"],[8056,2],[8057,1,"\u03CC"],[8058,2],[8059,1,"\u03CD"],[8060,2],[8061,1,"\u03CE"],[[8062,8063],3],[8064,1,"\u1F00\u03B9"],[8065,1,"\u1F01\u03B9"],[8066,1,"\u1F02\u03B9"],[8067,1,"\u1F03\u03B9"],[8068,1,"\u1F04\u03B9"],[8069,1,"\u1F05\u03B9"],[8070,1,"\u1F06\u03B9"],[8071,1,"\u1F07\u03B9"],[8072,1,"\u1F00\u03B9"],[8073,1,"\u1F01\u03B9"],[8074,1,"\u1F02\u03B9"],[8075,1,"\u1F03\u03B9"],[8076,1,"\u1F04\u03B9"],[8077,1,"\u1F05\u03B9"],[8078,1,"\u1F06\u03B9"],[8079,1,"\u1F07\u03B9"],[8080,1,"\u1F20\u03B9"],[8081,1,"\u1F21\u03B9"],[8082,1,"\u1F22\u03B9"],[8083,1,"\u1F23\u03B9"],[8084,1,"\u1F24\u03B9"],[8085,1,"\u1F25\u03B9"],[8086,1,"\u1F26\u03B9"],[8087,1,"\u1F27\u03B9"],[8088,1,"\u1F20\u03B9"],[8089,1,"\u1F21\u03B9"],[8090,1,"\u1F22\u03B9"],[8091,1,"\u1F23\u03B9"],[8092,1,"\u1F24\u03B9"],[8093,1,"\u1F25\u03B9"],[8094,1,"\u1F26\u03B9"],[8095,1,"\u1F27\u03B9"],[8096,1,"\u1F60\u03B9"],[8097,1,"\u1F61\u03B9"],[8098,1,"\u1F62\u03B9"],[8099,1,"\u1F63\u03B9"],[8100,1,"\u1F64\u03B9"],[8101,1,"\u1F65\u03B9"],[8102,1,"\u1F66\u03B9"],[8103,1,"\u1F67\u03B9"],[8104,1,"\u1F60\u03B9"],[8105,1,"\u1F61\u03B9"],[8106,1,"\u1F62\u03B9"],[8107,1,"\u1F63\u03B9"],[8108,1,"\u1F64\u03B9"],[8109,1,"\u1F65\u03B9"],[8110,1,"\u1F66\u03B9"],[8111,1,"\u1F67\u03B9"],[[8112,8113],2],[8114,1,"\u1F70\u03B9"],[8115,1,"\u03B1\u03B9"],[8116,1,"\u03AC\u03B9"],[8117,3],[8118,2],[8119,1,"\u1FB6\u03B9"],[8120,1,"\u1FB0"],[8121,1,"\u1FB1"],[8122,1,"\u1F70"],[8123,1,"\u03AC"],[8124,1,"\u03B1\u03B9"],[8125,5," \u0313"],[8126,1,"\u03B9"],[8127,5," \u0313"],[8128,5," \u0342"],[8129,5," \u0308\u0342"],[8130,1,"\u1F74\u03B9"],[8131,1,"\u03B7\u03B9"],[8132,1,"\u03AE\u03B9"],[8133,3],[8134,2],[8135,1,"\u1FC6\u03B9"],[8136,1,"\u1F72"],[8137,1,"\u03AD"],[8138,1,"\u1F74"],[8139,1,"\u03AE"],[8140,1,"\u03B7\u03B9"],[8141,5," \u0313\u0300"],[8142,5," \u0313\u0301"],[8143,5," \u0313\u0342"],[[8144,8146],2],[8147,1,"\u0390"],[[8148,8149],3],[[8150,8151],2],[8152,1,"\u1FD0"],[8153,1,"\u1FD1"],[8154,1,"\u1F76"],[8155,1,"\u03AF"],[8156,3],[8157,5," \u0314\u0300"],[8158,5," \u0314\u0301"],[8159,5," \u0314\u0342"],[[8160,8162],2],[8163,1,"\u03B0"],[[8164,8167],2],[8168,1,"\u1FE0"],[8169,1,"\u1FE1"],[8170,1,"\u1F7A"],[8171,1,"\u03CD"],[8172,1,"\u1FE5"],[8173,5," \u0308\u0300"],[8174,5," \u0308\u0301"],[8175,5,"`"],[[8176,8177],3],[8178,1,"\u1F7C\u03B9"],[8179,1,"\u03C9\u03B9"],[8180,1,"\u03CE\u03B9"],[8181,3],[8182,2],[8183,1,"\u1FF6\u03B9"],[8184,1,"\u1F78"],[8185,1,"\u03CC"],[8186,1,"\u1F7C"],[8187,1,"\u03CE"],[8188,1,"\u03C9\u03B9"],[8189,5," \u0301"],[8190,5," \u0314"],[8191,3],[[8192,8202],5," "],[8203,7],[[8204,8205],6,""],[[8206,8207],3],[8208,2],[8209,1,"\u2010"],[[8210,8214],2],[8215,5," \u0333"],[[8216,8227],2],[[8228,8230],3],[8231,2],[[8232,8238],3],[8239,5," "],[[8240,8242],2],[8243,1,"\u2032\u2032"],[8244,1,"\u2032\u2032\u2032"],[8245,2],[8246,1,"\u2035\u2035"],[8247,1,"\u2035\u2035\u2035"],[[8248,8251],2],[8252,5,"!!"],[8253,2],[8254,5," \u0305"],[[8255,8262],2],[8263,5,"??"],[8264,5,"?!"],[8265,5,"!?"],[[8266,8269],2],[[8270,8274],2],[[8275,8276],2],[[8277,8278],2],[8279,1,"\u2032\u2032\u2032\u2032"],[[8280,8286],2],[8287,5," "],[8288,7],[[8289,8291],3],[8292,7],[8293,3],[[8294,8297],3],[[8298,8303],3],[8304,1,"0"],[8305,1,"i"],[[8306,8307],3],[8308,1,"4"],[8309,1,"5"],[8310,1,"6"],[8311,1,"7"],[8312,1,"8"],[8313,1,"9"],[8314,5,"+"],[8315,1,"\u2212"],[8316,5,"="],[8317,5,"("],[8318,5,")"],[8319,1,"n"],[8320,1,"0"],[8321,1,"1"],[8322,1,"2"],[8323,1,"3"],[8324,1,"4"],[8325,1,"5"],[8326,1,"6"],[8327,1,"7"],[8328,1,"8"],[8329,1,"9"],[8330,5,"+"],[8331,1,"\u2212"],[8332,5,"="],[8333,5,"("],[8334,5,")"],[8335,3],[8336,1,"a"],[8337,1,"e"],[8338,1,"o"],[8339,1,"x"],[8340,1,"\u0259"],[8341,1,"h"],[8342,1,"k"],[8343,1,"l"],[8344,1,"m"],[8345,1,"n"],[8346,1,"p"],[8347,1,"s"],[8348,1,"t"],[[8349,8351],3],[[8352,8359],2],[8360,1,"rs"],[[8361,8362],2],[8363,2],[8364,2],[[8365,8367],2],[[8368,8369],2],[[8370,8373],2],[[8374,8376],2],[8377,2],[8378,2],[[8379,8381],2],[8382,2],[8383,2],[8384,2],[[8385,8399],3],[[8400,8417],2],[[8418,8419],2],[[8420,8426],2],[8427,2],[[8428,8431],2],[8432,2],[[8433,8447],3],[8448,5,"a/c"],[8449,5,"a/s"],[8450,1,"c"],[8451,1,"\xB0c"],[8452,2],[8453,5,"c/o"],[8454,5,"c/u"],[8455,1,"\u025B"],[8456,2],[8457,1,"\xB0f"],[8458,1,"g"],[[8459,8462],1,"h"],[8463,1,"\u0127"],[[8464,8465],1,"i"],[[8466,8467],1,"l"],[8468,2],[8469,1,"n"],[8470,1,"no"],[[8471,8472],2],[8473,1,"p"],[8474,1,"q"],[[8475,8477],1,"r"],[[8478,8479],2],[8480,1,"sm"],[8481,1,"tel"],[8482,1,"tm"],[8483,2],[8484,1,"z"],[8485,2],[8486,1,"\u03C9"],[8487,2],[8488,1,"z"],[8489,2],[8490,1,"k"],[8491,1,"\xE5"],[8492,1,"b"],[8493,1,"c"],[8494,2],[[8495,8496],1,"e"],[8497,1,"f"],[8498,3],[8499,1,"m"],[8500,1,"o"],[8501,1,"\u05D0"],[8502,1,"\u05D1"],[8503,1,"\u05D2"],[8504,1,"\u05D3"],[8505,1,"i"],[8506,2],[8507,1,"fax"],[8508,1,"\u03C0"],[[8509,8510],1,"\u03B3"],[8511,1,"\u03C0"],[8512,1,"\u2211"],[[8513,8516],2],[[8517,8518],1,"d"],[8519,1,"e"],[8520,1,"i"],[8521,1,"j"],[[8522,8523],2],[8524,2],[8525,2],[8526,2],[8527,2],[8528,1,"1\u20447"],[8529,1,"1\u20449"],[8530,1,"1\u204410"],[8531,1,"1\u20443"],[8532,1,"2\u20443"],[8533,1,"1\u20445"],[8534,1,"2\u20445"],[8535,1,"3\u20445"],[8536,1,"4\u20445"],[8537,1,"1\u20446"],[8538,1,"5\u20446"],[8539,1,"1\u20448"],[8540,1,"3\u20448"],[8541,1,"5\u20448"],[8542,1,"7\u20448"],[8543,1,"1\u2044"],[8544,1,"i"],[8545,1,"ii"],[8546,1,"iii"],[8547,1,"iv"],[8548,1,"v"],[8549,1,"vi"],[8550,1,"vii"],[8551,1,"viii"],[8552,1,"ix"],[8553,1,"x"],[8554,1,"xi"],[8555,1,"xii"],[8556,1,"l"],[8557,1,"c"],[8558,1,"d"],[8559,1,"m"],[8560,1,"i"],[8561,1,"ii"],[8562,1,"iii"],[8563,1,"iv"],[8564,1,"v"],[8565,1,"vi"],[8566,1,"vii"],[8567,1,"viii"],[8568,1,"ix"],[8569,1,"x"],[8570,1,"xi"],[8571,1,"xii"],[8572,1,"l"],[8573,1,"c"],[8574,1,"d"],[8575,1,"m"],[[8576,8578],2],[8579,3],[8580,2],[[8581,8584],2],[8585,1,"0\u20443"],[[8586,8587],2],[[8588,8591],3],[[8592,8682],2],[[8683,8691],2],[[8692,8703],2],[[8704,8747],2],[8748,1,"\u222B\u222B"],[8749,1,"\u222B\u222B\u222B"],[8750,2],[8751,1,"\u222E\u222E"],[8752,1,"\u222E\u222E\u222E"],[[8753,8799],2],[8800,4],[[8801,8813],2],[[8814,8815],4],[[8816,8945],2],[[8946,8959],2],[8960,2],[8961,2],[[8962,9e3],2],[9001,1,"\u3008"],[9002,1,"\u3009"],[[9003,9082],2],[9083,2],[9084,2],[[9085,9114],2],[[9115,9166],2],[[9167,9168],2],[[9169,9179],2],[[9180,9191],2],[9192,2],[[9193,9203],2],[[9204,9210],2],[[9211,9214],2],[9215,2],[[9216,9252],2],[[9253,9254],2],[[9255,9279],3],[[9280,9290],2],[[9291,9311],3],[9312,1,"1"],[9313,1,"2"],[9314,1,"3"],[9315,1,"4"],[9316,1,"5"],[9317,1,"6"],[9318,1,"7"],[9319,1,"8"],[9320,1,"9"],[9321,1,"10"],[9322,1,"11"],[9323,1,"12"],[9324,1,"13"],[9325,1,"14"],[9326,1,"15"],[9327,1,"16"],[9328,1,"17"],[9329,1,"18"],[9330,1,"19"],[9331,1,"20"],[9332,5,"(1)"],[9333,5,"(2)"],[9334,5,"(3)"],[9335,5,"(4)"],[9336,5,"(5)"],[9337,5,"(6)"],[9338,5,"(7)"],[9339,5,"(8)"],[9340,5,"(9)"],[9341,5,"(10)"],[9342,5,"(11)"],[9343,5,"(12)"],[9344,5,"(13)"],[9345,5,"(14)"],[9346,5,"(15)"],[9347,5,"(16)"],[9348,5,"(17)"],[9349,5,"(18)"],[9350,5,"(19)"],[9351,5,"(20)"],[[9352,9371],3],[9372,5,"(a)"],[9373,5,"(b)"],[9374,5,"(c)"],[9375,5,"(d)"],[9376,5,"(e)"],[9377,5,"(f)"],[9378,5,"(g)"],[9379,5,"(h)"],[9380,5,"(i)"],[9381,5,"(j)"],[9382,5,"(k)"],[9383,5,"(l)"],[9384,5,"(m)"],[9385,5,"(n)"],[9386,5,"(o)"],[9387,5,"(p)"],[9388,5,"(q)"],[9389,5,"(r)"],[9390,5,"(s)"],[9391,5,"(t)"],[9392,5,"(u)"],[9393,5,"(v)"],[9394,5,"(w)"],[9395,5,"(x)"],[9396,5,"(y)"],[9397,5,"(z)"],[9398,1,"a"],[9399,1,"b"],[9400,1,"c"],[9401,1,"d"],[9402,1,"e"],[9403,1,"f"],[9404,1,"g"],[9405,1,"h"],[9406,1,"i"],[9407,1,"j"],[9408,1,"k"],[9409,1,"l"],[9410,1,"m"],[9411,1,"n"],[9412,1,"o"],[9413,1,"p"],[9414,1,"q"],[9415,1,"r"],[9416,1,"s"],[9417,1,"t"],[9418,1,"u"],[9419,1,"v"],[9420,1,"w"],[9421,1,"x"],[9422,1,"y"],[9423,1,"z"],[9424,1,"a"],[9425,1,"b"],[9426,1,"c"],[9427,1,"d"],[9428,1,"e"],[9429,1,"f"],[9430,1,"g"],[9431,1,"h"],[9432,1,"i"],[9433,1,"j"],[9434,1,"k"],[9435,1,"l"],[9436,1,"m"],[9437,1,"n"],[9438,1,"o"],[9439,1,"p"],[9440,1,"q"],[9441,1,"r"],[9442,1,"s"],[9443,1,"t"],[9444,1,"u"],[9445,1,"v"],[9446,1,"w"],[9447,1,"x"],[9448,1,"y"],[9449,1,"z"],[9450,1,"0"],[[9451,9470],2],[9471,2],[[9472,9621],2],[[9622,9631],2],[[9632,9711],2],[[9712,9719],2],[[9720,9727],2],[[9728,9747],2],[[9748,9749],2],[[9750,9751],2],[9752,2],[9753,2],[[9754,9839],2],[[9840,9841],2],[[9842,9853],2],[[9854,9855],2],[[9856,9865],2],[[9866,9873],2],[[9874,9884],2],[9885,2],[[9886,9887],2],[[9888,9889],2],[[9890,9905],2],[9906,2],[[9907,9916],2],[[9917,9919],2],[[9920,9923],2],[[9924,9933],2],[9934,2],[[9935,9953],2],[9954,2],[9955,2],[[9956,9959],2],[[9960,9983],2],[9984,2],[[9985,9988],2],[9989,2],[[9990,9993],2],[[9994,9995],2],[[9996,10023],2],[10024,2],[[10025,10059],2],[10060,2],[10061,2],[10062,2],[[10063,10066],2],[[10067,10069],2],[10070,2],[10071,2],[[10072,10078],2],[[10079,10080],2],[[10081,10087],2],[[10088,10101],2],[[10102,10132],2],[[10133,10135],2],[[10136,10159],2],[10160,2],[[10161,10174],2],[10175,2],[[10176,10182],2],[[10183,10186],2],[10187,2],[10188,2],[10189,2],[[10190,10191],2],[[10192,10219],2],[[10220,10223],2],[[10224,10239],2],[[10240,10495],2],[[10496,10763],2],[10764,1,"\u222B\u222B\u222B\u222B"],[[10765,10867],2],[10868,5,"::="],[10869,5,"=="],[10870,5,"==="],[[10871,10971],2],[10972,1,"\u2ADD\u0338"],[[10973,11007],2],[[11008,11021],2],[[11022,11027],2],[[11028,11034],2],[[11035,11039],2],[[11040,11043],2],[[11044,11084],2],[[11085,11087],2],[[11088,11092],2],[[11093,11097],2],[[11098,11123],2],[[11124,11125],3],[[11126,11157],2],[11158,3],[11159,2],[[11160,11193],2],[[11194,11196],2],[[11197,11208],2],[11209,2],[[11210,11217],2],[11218,2],[[11219,11243],2],[[11244,11247],2],[[11248,11262],2],[11263,2],[11264,1,"\u2C30"],[11265,1,"\u2C31"],[11266,1,"\u2C32"],[11267,1,"\u2C33"],[11268,1,"\u2C34"],[11269,1,"\u2C35"],[11270,1,"\u2C36"],[11271,1,"\u2C37"],[11272,1,"\u2C38"],[11273,1,"\u2C39"],[11274,1,"\u2C3A"],[11275,1,"\u2C3B"],[11276,1,"\u2C3C"],[11277,1,"\u2C3D"],[11278,1,"\u2C3E"],[11279,1,"\u2C3F"],[11280,1,"\u2C40"],[11281,1,"\u2C41"],[11282,1,"\u2C42"],[11283,1,"\u2C43"],[11284,1,"\u2C44"],[11285,1,"\u2C45"],[11286,1,"\u2C46"],[11287,1,"\u2C47"],[11288,1,"\u2C48"],[11289,1,"\u2C49"],[11290,1,"\u2C4A"],[11291,1,"\u2C4B"],[11292,1,"\u2C4C"],[11293,1,"\u2C4D"],[11294,1,"\u2C4E"],[11295,1,"\u2C4F"],[11296,1,"\u2C50"],[11297,1,"\u2C51"],[11298,1,"\u2C52"],[11299,1,"\u2C53"],[11300,1,"\u2C54"],[11301,1,"\u2C55"],[11302,1,"\u2C56"],[11303,1,"\u2C57"],[11304,1,"\u2C58"],[11305,1,"\u2C59"],[11306,1,"\u2C5A"],[11307,1,"\u2C5B"],[11308,1,"\u2C5C"],[11309,1,"\u2C5D"],[11310,1,"\u2C5E"],[11311,1,"\u2C5F"],[[11312,11358],2],[11359,2],[11360,1,"\u2C61"],[11361,2],[11362,1,"\u026B"],[11363,1,"\u1D7D"],[11364,1,"\u027D"],[[11365,11366],2],[11367,1,"\u2C68"],[11368,2],[11369,1,"\u2C6A"],[11370,2],[11371,1,"\u2C6C"],[11372,2],[11373,1,"\u0251"],[11374,1,"\u0271"],[11375,1,"\u0250"],[11376,1,"\u0252"],[11377,2],[11378,1,"\u2C73"],[11379,2],[11380,2],[11381,1,"\u2C76"],[[11382,11383],2],[[11384,11387],2],[11388,1,"j"],[11389,1,"v"],[11390,1,"\u023F"],[11391,1,"\u0240"],[11392,1,"\u2C81"],[11393,2],[11394,1,"\u2C83"],[11395,2],[11396,1,"\u2C85"],[11397,2],[11398,1,"\u2C87"],[11399,2],[11400,1,"\u2C89"],[11401,2],[11402,1,"\u2C8B"],[11403,2],[11404,1,"\u2C8D"],[11405,2],[11406,1,"\u2C8F"],[11407,2],[11408,1,"\u2C91"],[11409,2],[11410,1,"\u2C93"],[11411,2],[11412,1,"\u2C95"],[11413,2],[11414,1,"\u2C97"],[11415,2],[11416,1,"\u2C99"],[11417,2],[11418,1,"\u2C9B"],[11419,2],[11420,1,"\u2C9D"],[11421,2],[11422,1,"\u2C9F"],[11423,2],[11424,1,"\u2CA1"],[11425,2],[11426,1,"\u2CA3"],[11427,2],[11428,1,"\u2CA5"],[11429,2],[11430,1,"\u2CA7"],[11431,2],[11432,1,"\u2CA9"],[11433,2],[11434,1,"\u2CAB"],[11435,2],[11436,1,"\u2CAD"],[11437,2],[11438,1,"\u2CAF"],[11439,2],[11440,1,"\u2CB1"],[11441,2],[11442,1,"\u2CB3"],[11443,2],[11444,1,"\u2CB5"],[11445,2],[11446,1,"\u2CB7"],[11447,2],[11448,1,"\u2CB9"],[11449,2],[11450,1,"\u2CBB"],[11451,2],[11452,1,"\u2CBD"],[11453,2],[11454,1,"\u2CBF"],[11455,2],[11456,1,"\u2CC1"],[11457,2],[11458,1,"\u2CC3"],[11459,2],[11460,1,"\u2CC5"],[11461,2],[11462,1,"\u2CC7"],[11463,2],[11464,1,"\u2CC9"],[11465,2],[11466,1,"\u2CCB"],[11467,2],[11468,1,"\u2CCD"],[11469,2],[11470,1,"\u2CCF"],[11471,2],[11472,1,"\u2CD1"],[11473,2],[11474,1,"\u2CD3"],[11475,2],[11476,1,"\u2CD5"],[11477,2],[11478,1,"\u2CD7"],[11479,2],[11480,1,"\u2CD9"],[11481,2],[11482,1,"\u2CDB"],[11483,2],[11484,1,"\u2CDD"],[11485,2],[11486,1,"\u2CDF"],[11487,2],[11488,1,"\u2CE1"],[11489,2],[11490,1,"\u2CE3"],[[11491,11492],2],[[11493,11498],2],[11499,1,"\u2CEC"],[11500,2],[11501,1,"\u2CEE"],[[11502,11505],2],[11506,1,"\u2CF3"],[11507,2],[[11508,11512],3],[[11513,11519],2],[[11520,11557],2],[11558,3],[11559,2],[[11560,11564],3],[11565,2],[[11566,11567],3],[[11568,11621],2],[[11622,11623],2],[[11624,11630],3],[11631,1,"\u2D61"],[11632,2],[[11633,11646],3],[11647,2],[[11648,11670],2],[[11671,11679],3],[[11680,11686],2],[11687,3],[[11688,11694],2],[11695,3],[[11696,11702],2],[11703,3],[[11704,11710],2],[11711,3],[[11712,11718],2],[11719,3],[[11720,11726],2],[11727,3],[[11728,11734],2],[11735,3],[[11736,11742],2],[11743,3],[[11744,11775],2],[[11776,11799],2],[[11800,11803],2],[[11804,11805],2],[[11806,11822],2],[11823,2],[11824,2],[11825,2],[[11826,11835],2],[[11836,11842],2],[[11843,11844],2],[[11845,11849],2],[[11850,11854],2],[11855,2],[[11856,11858],2],[[11859,11869],2],[[11870,11903],3],[[11904,11929],2],[11930,3],[[11931,11934],2],[11935,1,"\u6BCD"],[[11936,12018],2],[12019,1,"\u9F9F"],[[12020,12031],3],[12032,1,"\u4E00"],[12033,1,"\u4E28"],[12034,1,"\u4E36"],[12035,1,"\u4E3F"],[12036,1,"\u4E59"],[12037,1,"\u4E85"],[12038,1,"\u4E8C"],[12039,1,"\u4EA0"],[12040,1,"\u4EBA"],[12041,1,"\u513F"],[12042,1,"\u5165"],[12043,1,"\u516B"],[12044,1,"\u5182"],[12045,1,"\u5196"],[12046,1,"\u51AB"],[12047,1,"\u51E0"],[12048,1,"\u51F5"],[12049,1,"\u5200"],[12050,1,"\u529B"],[12051,1,"\u52F9"],[12052,1,"\u5315"],[12053,1,"\u531A"],[12054,1,"\u5338"],[12055,1,"\u5341"],[12056,1,"\u535C"],[12057,1,"\u5369"],[12058,1,"\u5382"],[12059,1,"\u53B6"],[12060,1,"\u53C8"],[12061,1,"\u53E3"],[12062,1,"\u56D7"],[12063,1,"\u571F"],[12064,1,"\u58EB"],[12065,1,"\u5902"],[12066,1,"\u590A"],[12067,1,"\u5915"],[12068,1,"\u5927"],[12069,1,"\u5973"],[12070,1,"\u5B50"],[12071,1,"\u5B80"],[12072,1,"\u5BF8"],[12073,1,"\u5C0F"],[12074,1,"\u5C22"],[12075,1,"\u5C38"],[12076,1,"\u5C6E"],[12077,1,"\u5C71"],[12078,1,"\u5DDB"],[12079,1,"\u5DE5"],[12080,1,"\u5DF1"],[12081,1,"\u5DFE"],[12082,1,"\u5E72"],[12083,1,"\u5E7A"],[12084,1,"\u5E7F"],[12085,1,"\u5EF4"],[12086,1,"\u5EFE"],[12087,1,"\u5F0B"],[12088,1,"\u5F13"],[12089,1,"\u5F50"],[12090,1,"\u5F61"],[12091,1,"\u5F73"],[12092,1,"\u5FC3"],[12093,1,"\u6208"],[12094,1,"\u6236"],[12095,1,"\u624B"],[12096,1,"\u652F"],[12097,1,"\u6534"],[12098,1,"\u6587"],[12099,1,"\u6597"],[12100,1,"\u65A4"],[12101,1,"\u65B9"],[12102,1,"\u65E0"],[12103,1,"\u65E5"],[12104,1,"\u66F0"],[12105,1,"\u6708"],[12106,1,"\u6728"],[12107,1,"\u6B20"],[12108,1,"\u6B62"],[12109,1,"\u6B79"],[12110,1,"\u6BB3"],[12111,1,"\u6BCB"],[12112,1,"\u6BD4"],[12113,1,"\u6BDB"],[12114,1,"\u6C0F"],[12115,1,"\u6C14"],[12116,1,"\u6C34"],[12117,1,"\u706B"],[12118,1,"\u722A"],[12119,1,"\u7236"],[12120,1,"\u723B"],[12121,1,"\u723F"],[12122,1,"\u7247"],[12123,1,"\u7259"],[12124,1,"\u725B"],[12125,1,"\u72AC"],[12126,1,"\u7384"],[12127,1,"\u7389"],[12128,1,"\u74DC"],[12129,1,"\u74E6"],[12130,1,"\u7518"],[12131,1,"\u751F"],[12132,1,"\u7528"],[12133,1,"\u7530"],[12134,1,"\u758B"],[12135,1,"\u7592"],[12136,1,"\u7676"],[12137,1,"\u767D"],[12138,1,"\u76AE"],[12139,1,"\u76BF"],[12140,1,"\u76EE"],[12141,1,"\u77DB"],[12142,1,"\u77E2"],[12143,1,"\u77F3"],[12144,1,"\u793A"],[12145,1,"\u79B8"],[12146,1,"\u79BE"],[12147,1,"\u7A74"],[12148,1,"\u7ACB"],[12149,1,"\u7AF9"],[12150,1,"\u7C73"],[12151,1,"\u7CF8"],[12152,1,"\u7F36"],[12153,1,"\u7F51"],[12154,1,"\u7F8A"],[12155,1,"\u7FBD"],[12156,1,"\u8001"],[12157,1,"\u800C"],[12158,1,"\u8012"],[12159,1,"\u8033"],[12160,1,"\u807F"],[12161,1,"\u8089"],[12162,1,"\u81E3"],[12163,1,"\u81EA"],[12164,1,"\u81F3"],[12165,1,"\u81FC"],[12166,1,"\u820C"],[12167,1,"\u821B"],[12168,1,"\u821F"],[12169,1,"\u826E"],[12170,1,"\u8272"],[12171,1,"\u8278"],[12172,1,"\u864D"],[12173,1,"\u866B"],[12174,1,"\u8840"],[12175,1,"\u884C"],[12176,1,"\u8863"],[12177,1,"\u897E"],[12178,1,"\u898B"],[12179,1,"\u89D2"],[12180,1,"\u8A00"],[12181,1,"\u8C37"],[12182,1,"\u8C46"],[12183,1,"\u8C55"],[12184,1,"\u8C78"],[12185,1,"\u8C9D"],[12186,1,"\u8D64"],[12187,1,"\u8D70"],[12188,1,"\u8DB3"],[12189,1,"\u8EAB"],[12190,1,"\u8ECA"],[12191,1,"\u8F9B"],[12192,1,"\u8FB0"],[12193,1,"\u8FB5"],[12194,1,"\u9091"],[12195,1,"\u9149"],[12196,1,"\u91C6"],[12197,1,"\u91CC"],[12198,1,"\u91D1"],[12199,1,"\u9577"],[12200,1,"\u9580"],[12201,1,"\u961C"],[12202,1,"\u96B6"],[12203,1,"\u96B9"],[12204,1,"\u96E8"],[12205,1,"\u9751"],[12206,1,"\u975E"],[12207,1,"\u9762"],[12208,1,"\u9769"],[12209,1,"\u97CB"],[12210,1,"\u97ED"],[12211,1,"\u97F3"],[12212,1,"\u9801"],[12213,1,"\u98A8"],[12214,1,"\u98DB"],[12215,1,"\u98DF"],[12216,1,"\u9996"],[12217,1,"\u9999"],[12218,1,"\u99AC"],[12219,1,"\u9AA8"],[12220,1,"\u9AD8"],[12221,1,"\u9ADF"],[12222,1,"\u9B25"],[12223,1,"\u9B2F"],[12224,1,"\u9B32"],[12225,1,"\u9B3C"],[12226,1,"\u9B5A"],[12227,1,"\u9CE5"],[12228,1,"\u9E75"],[12229,1,"\u9E7F"],[12230,1,"\u9EA5"],[12231,1,"\u9EBB"],[12232,1,"\u9EC3"],[12233,1,"\u9ECD"],[12234,1,"\u9ED1"],[12235,1,"\u9EF9"],[12236,1,"\u9EFD"],[12237,1,"\u9F0E"],[12238,1,"\u9F13"],[12239,1,"\u9F20"],[12240,1,"\u9F3B"],[12241,1,"\u9F4A"],[12242,1,"\u9F52"],[12243,1,"\u9F8D"],[12244,1,"\u9F9C"],[12245,1,"\u9FA0"],[[12246,12271],3],[[12272,12283],3],[[12284,12287],3],[12288,5," "],[12289,2],[12290,1,"."],[[12291,12292],2],[[12293,12295],2],[[12296,12329],2],[[12330,12333],2],[[12334,12341],2],[12342,1,"\u3012"],[12343,2],[12344,1,"\u5341"],[12345,1,"\u5344"],[12346,1,"\u5345"],[12347,2],[12348,2],[12349,2],[12350,2],[12351,2],[12352,3],[[12353,12436],2],[[12437,12438],2],[[12439,12440],3],[[12441,12442],2],[12443,5," \u3099"],[12444,5," \u309A"],[[12445,12446],2],[12447,1,"\u3088\u308A"],[12448,2],[[12449,12542],2],[12543,1,"\u30B3\u30C8"],[[12544,12548],3],[[12549,12588],2],[12589,2],[12590,2],[12591,2],[12592,3],[12593,1,"\u1100"],[12594,1,"\u1101"],[12595,1,"\u11AA"],[12596,1,"\u1102"],[12597,1,"\u11AC"],[12598,1,"\u11AD"],[12599,1,"\u1103"],[12600,1,"\u1104"],[12601,1,"\u1105"],[12602,1,"\u11B0"],[12603,1,"\u11B1"],[12604,1,"\u11B2"],[12605,1,"\u11B3"],[12606,1,"\u11B4"],[12607,1,"\u11B5"],[12608,1,"\u111A"],[12609,1,"\u1106"],[12610,1,"\u1107"],[12611,1,"\u1108"],[12612,1,"\u1121"],[12613,1,"\u1109"],[12614,1,"\u110A"],[12615,1,"\u110B"],[12616,1,"\u110C"],[12617,1,"\u110D"],[12618,1,"\u110E"],[12619,1,"\u110F"],[12620,1,"\u1110"],[12621,1,"\u1111"],[12622,1,"\u1112"],[12623,1,"\u1161"],[12624,1,"\u1162"],[12625,1,"\u1163"],[12626,1,"\u1164"],[12627,1,"\u1165"],[12628,1,"\u1166"],[12629,1,"\u1167"],[12630,1,"\u1168"],[12631,1,"\u1169"],[12632,1,"\u116A"],[12633,1,"\u116B"],[12634,1,"\u116C"],[12635,1,"\u116D"],[12636,1,"\u116E"],[12637,1,"\u116F"],[12638,1,"\u1170"],[12639,1,"\u1171"],[12640,1,"\u1172"],[12641,1,"\u1173"],[12642,1,"\u1174"],[12643,1,"\u1175"],[12644,3],[12645,1,"\u1114"],[12646,1,"\u1115"],[12647,1,"\u11C7"],[12648,1,"\u11C8"],[12649,1,"\u11CC"],[12650,1,"\u11CE"],[12651,1,"\u11D3"],[12652,1,"\u11D7"],[12653,1,"\u11D9"],[12654,1,"\u111C"],[12655,1,"\u11DD"],[12656,1,"\u11DF"],[12657,1,"\u111D"],[12658,1,"\u111E"],[12659,1,"\u1120"],[12660,1,"\u1122"],[12661,1,"\u1123"],[12662,1,"\u1127"],[12663,1,"\u1129"],[12664,1,"\u112B"],[12665,1,"\u112C"],[12666,1,"\u112D"],[12667,1,"\u112E"],[12668,1,"\u112F"],[12669,1,"\u1132"],[12670,1,"\u1136"],[12671,1,"\u1140"],[12672,1,"\u1147"],[12673,1,"\u114C"],[12674,1,"\u11F1"],[12675,1,"\u11F2"],[12676,1,"\u1157"],[12677,1,"\u1158"],[12678,1,"\u1159"],[12679,1,"\u1184"],[12680,1,"\u1185"],[12681,1,"\u1188"],[12682,1,"\u1191"],[12683,1,"\u1192"],[12684,1,"\u1194"],[12685,1,"\u119E"],[12686,1,"\u11A1"],[12687,3],[[12688,12689],2],[12690,1,"\u4E00"],[12691,1,"\u4E8C"],[12692,1,"\u4E09"],[12693,1,"\u56DB"],[12694,1,"\u4E0A"],[12695,1,"\u4E2D"],[12696,1,"\u4E0B"],[12697,1,"\u7532"],[12698,1,"\u4E59"],[12699,1,"\u4E19"],[12700,1,"\u4E01"],[12701,1,"\u5929"],[12702,1,"\u5730"],[12703,1,"\u4EBA"],[[12704,12727],2],[[12728,12730],2],[[12731,12735],2],[[12736,12751],2],[[12752,12771],2],[[12772,12783],3],[[12784,12799],2],[12800,5,"(\u1100)"],[12801,5,"(\u1102)"],[12802,5,"(\u1103)"],[12803,5,"(\u1105)"],[12804,5,"(\u1106)"],[12805,5,"(\u1107)"],[12806,5,"(\u1109)"],[12807,5,"(\u110B)"],[12808,5,"(\u110C)"],[12809,5,"(\u110E)"],[12810,5,"(\u110F)"],[12811,5,"(\u1110)"],[12812,5,"(\u1111)"],[12813,5,"(\u1112)"],[12814,5,"(\uAC00)"],[12815,5,"(\uB098)"],[12816,5,"(\uB2E4)"],[12817,5,"(\uB77C)"],[12818,5,"(\uB9C8)"],[12819,5,"(\uBC14)"],[12820,5,"(\uC0AC)"],[12821,5,"(\uC544)"],[12822,5,"(\uC790)"],[12823,5,"(\uCC28)"],[12824,5,"(\uCE74)"],[12825,5,"(\uD0C0)"],[12826,5,"(\uD30C)"],[12827,5,"(\uD558)"],[12828,5,"(\uC8FC)"],[12829,5,"(\uC624\uC804)"],[12830,5,"(\uC624\uD6C4)"],[12831,3],[12832,5,"(\u4E00)"],[12833,5,"(\u4E8C)"],[12834,5,"(\u4E09)"],[12835,5,"(\u56DB)"],[12836,5,"(\u4E94)"],[12837,5,"(\u516D)"],[12838,5,"(\u4E03)"],[12839,5,"(\u516B)"],[12840,5,"(\u4E5D)"],[12841,5,"(\u5341)"],[12842,5,"(\u6708)"],[12843,5,"(\u706B)"],[12844,5,"(\u6C34)"],[12845,5,"(\u6728)"],[12846,5,"(\u91D1)"],[12847,5,"(\u571F)"],[12848,5,"(\u65E5)"],[12849,5,"(\u682A)"],[12850,5,"(\u6709)"],[12851,5,"(\u793E)"],[12852,5,"(\u540D)"],[12853,5,"(\u7279)"],[12854,5,"(\u8CA1)"],[12855,5,"(\u795D)"],[12856,5,"(\u52B4)"],[12857,5,"(\u4EE3)"],[12858,5,"(\u547C)"],[12859,5,"(\u5B66)"],[12860,5,"(\u76E3)"],[12861,5,"(\u4F01)"],[12862,5,"(\u8CC7)"],[12863,5,"(\u5354)"],[12864,5,"(\u796D)"],[12865,5,"(\u4F11)"],[12866,5,"(\u81EA)"],[12867,5,"(\u81F3)"],[12868,1,"\u554F"],[12869,1,"\u5E7C"],[12870,1,"\u6587"],[12871,1,"\u7B8F"],[[12872,12879],2],[12880,1,"pte"],[12881,1,"21"],[12882,1,"22"],[12883,1,"23"],[12884,1,"24"],[12885,1,"25"],[12886,1,"26"],[12887,1,"27"],[12888,1,"28"],[12889,1,"29"],[12890,1,"30"],[12891,1,"31"],[12892,1,"32"],[12893,1,"33"],[12894,1,"34"],[12895,1,"35"],[12896,1,"\u1100"],[12897,1,"\u1102"],[12898,1,"\u1103"],[12899,1,"\u1105"],[12900,1,"\u1106"],[12901,1,"\u1107"],[12902,1,"\u1109"],[12903,1,"\u110B"],[12904,1,"\u110C"],[12905,1,"\u110E"],[12906,1,"\u110F"],[12907,1,"\u1110"],[12908,1,"\u1111"],[12909,1,"\u1112"],[12910,1,"\uAC00"],[12911,1,"\uB098"],[12912,1,"\uB2E4"],[12913,1,"\uB77C"],[12914,1,"\uB9C8"],[12915,1,"\uBC14"],[12916,1,"\uC0AC"],[12917,1,"\uC544"],[12918,1,"\uC790"],[12919,1,"\uCC28"],[12920,1,"\uCE74"],[12921,1,"\uD0C0"],[12922,1,"\uD30C"],[12923,1,"\uD558"],[12924,1,"\uCC38\uACE0"],[12925,1,"\uC8FC\uC758"],[12926,1,"\uC6B0"],[12927,2],[12928,1,"\u4E00"],[12929,1,"\u4E8C"],[12930,1,"\u4E09"],[12931,1,"\u56DB"],[12932,1,"\u4E94"],[12933,1,"\u516D"],[12934,1,"\u4E03"],[12935,1,"\u516B"],[12936,1,"\u4E5D"],[12937,1,"\u5341"],[12938,1,"\u6708"],[12939,1,"\u706B"],[12940,1,"\u6C34"],[12941,1,"\u6728"],[12942,1,"\u91D1"],[12943,1,"\u571F"],[12944,1,"\u65E5"],[12945,1,"\u682A"],[12946,1,"\u6709"],[12947,1,"\u793E"],[12948,1,"\u540D"],[12949,1,"\u7279"],[12950,1,"\u8CA1"],[12951,1,"\u795D"],[12952,1,"\u52B4"],[12953,1,"\u79D8"],[12954,1,"\u7537"],[12955,1,"\u5973"],[12956,1,"\u9069"],[12957,1,"\u512A"],[12958,1,"\u5370"],[12959,1,"\u6CE8"],[12960,1,"\u9805"],[12961,1,"\u4F11"],[12962,1,"\u5199"],[12963,1,"\u6B63"],[12964,1,"\u4E0A"],[12965,1,"\u4E2D"],[12966,1,"\u4E0B"],[12967,1,"\u5DE6"],[12968,1,"\u53F3"],[12969,1,"\u533B"],[12970,1,"\u5B97"],[12971,1,"\u5B66"],[12972,1,"\u76E3"],[12973,1,"\u4F01"],[12974,1,"\u8CC7"],[12975,1,"\u5354"],[12976,1,"\u591C"],[12977,1,"36"],[12978,1,"37"],[12979,1,"38"],[12980,1,"39"],[12981,1,"40"],[12982,1,"41"],[12983,1,"42"],[12984,1,"43"],[12985,1,"44"],[12986,1,"45"],[12987,1,"46"],[12988,1,"47"],[12989,1,"48"],[12990,1,"49"],[12991,1,"50"],[12992,1,"1\u6708"],[12993,1,"2\u6708"],[12994,1,"3\u6708"],[12995,1,"4\u6708"],[12996,1,"5\u6708"],[12997,1,"6\u6708"],[12998,1,"7\u6708"],[12999,1,"8\u6708"],[13e3,1,"9\u6708"],[13001,1,"10\u6708"],[13002,1,"11\u6708"],[13003,1,"12\u6708"],[13004,1,"hg"],[13005,1,"erg"],[13006,1,"ev"],[13007,1,"ltd"],[13008,1,"\u30A2"],[13009,1,"\u30A4"],[13010,1,"\u30A6"],[13011,1,"\u30A8"],[13012,1,"\u30AA"],[13013,1,"\u30AB"],[13014,1,"\u30AD"],[13015,1,"\u30AF"],[13016,1,"\u30B1"],[13017,1,"\u30B3"],[13018,1,"\u30B5"],[13019,1,"\u30B7"],[13020,1,"\u30B9"],[13021,1,"\u30BB"],[13022,1,"\u30BD"],[13023,1,"\u30BF"],[13024,1,"\u30C1"],[13025,1,"\u30C4"],[13026,1,"\u30C6"],[13027,1,"\u30C8"],[13028,1,"\u30CA"],[13029,1,"\u30CB"],[13030,1,"\u30CC"],[13031,1,"\u30CD"],[13032,1,"\u30CE"],[13033,1,"\u30CF"],[13034,1,"\u30D2"],[13035,1,"\u30D5"],[13036,1,"\u30D8"],[13037,1,"\u30DB"],[13038,1,"\u30DE"],[13039,1,"\u30DF"],[13040,1,"\u30E0"],[13041,1,"\u30E1"],[13042,1,"\u30E2"],[13043,1,"\u30E4"],[13044,1,"\u30E6"],[13045,1,"\u30E8"],[13046,1,"\u30E9"],[13047,1,"\u30EA"],[13048,1,"\u30EB"],[13049,1,"\u30EC"],[13050,1,"\u30ED"],[13051,1,"\u30EF"],[13052,1,"\u30F0"],[13053,1,"\u30F1"],[13054,1,"\u30F2"],[13055,1,"\u4EE4\u548C"],[13056,1,"\u30A2\u30D1\u30FC\u30C8"],[13057,1,"\u30A2\u30EB\u30D5\u30A1"],[13058,1,"\u30A2\u30F3\u30DA\u30A2"],[13059,1,"\u30A2\u30FC\u30EB"],[13060,1,"\u30A4\u30CB\u30F3\u30B0"],[13061,1,"\u30A4\u30F3\u30C1"],[13062,1,"\u30A6\u30A9\u30F3"],[13063,1,"\u30A8\u30B9\u30AF\u30FC\u30C9"],[13064,1,"\u30A8\u30FC\u30AB\u30FC"],[13065,1,"\u30AA\u30F3\u30B9"],[13066,1,"\u30AA\u30FC\u30E0"],[13067,1,"\u30AB\u30A4\u30EA"],[13068,1,"\u30AB\u30E9\u30C3\u30C8"],[13069,1,"\u30AB\u30ED\u30EA\u30FC"],[13070,1,"\u30AC\u30ED\u30F3"],[13071,1,"\u30AC\u30F3\u30DE"],[13072,1,"\u30AE\u30AC"],[13073,1,"\u30AE\u30CB\u30FC"],[13074,1,"\u30AD\u30E5\u30EA\u30FC"],[13075,1,"\u30AE\u30EB\u30C0\u30FC"],[13076,1,"\u30AD\u30ED"],[13077,1,"\u30AD\u30ED\u30B0\u30E9\u30E0"],[13078,1,"\u30AD\u30ED\u30E1\u30FC\u30C8\u30EB"],[13079,1,"\u30AD\u30ED\u30EF\u30C3\u30C8"],[13080,1,"\u30B0\u30E9\u30E0"],[13081,1,"\u30B0\u30E9\u30E0\u30C8\u30F3"],[13082,1,"\u30AF\u30EB\u30BC\u30A4\u30ED"],[13083,1,"\u30AF\u30ED\u30FC\u30CD"],[13084,1,"\u30B1\u30FC\u30B9"],[13085,1,"\u30B3\u30EB\u30CA"],[13086,1,"\u30B3\u30FC\u30DD"],[13087,1,"\u30B5\u30A4\u30AF\u30EB"],[13088,1,"\u30B5\u30F3\u30C1\u30FC\u30E0"],[13089,1,"\u30B7\u30EA\u30F3\u30B0"],[13090,1,"\u30BB\u30F3\u30C1"],[13091,1,"\u30BB\u30F3\u30C8"],[13092,1,"\u30C0\u30FC\u30B9"],[13093,1,"\u30C7\u30B7"],[13094,1,"\u30C9\u30EB"],[13095,1,"\u30C8\u30F3"],[13096,1,"\u30CA\u30CE"],[13097,1,"\u30CE\u30C3\u30C8"],[13098,1,"\u30CF\u30A4\u30C4"],[13099,1,"\u30D1\u30FC\u30BB\u30F3\u30C8"],[13100,1,"\u30D1\u30FC\u30C4"],[13101,1,"\u30D0\u30FC\u30EC\u30EB"],[13102,1,"\u30D4\u30A2\u30B9\u30C8\u30EB"],[13103,1,"\u30D4\u30AF\u30EB"],[13104,1,"\u30D4\u30B3"],[13105,1,"\u30D3\u30EB"],[13106,1,"\u30D5\u30A1\u30E9\u30C3\u30C9"],[13107,1,"\u30D5\u30A3\u30FC\u30C8"],[13108,1,"\u30D6\u30C3\u30B7\u30A7\u30EB"],[13109,1,"\u30D5\u30E9\u30F3"],[13110,1,"\u30D8\u30AF\u30BF\u30FC\u30EB"],[13111,1,"\u30DA\u30BD"],[13112,1,"\u30DA\u30CB\u30D2"],[13113,1,"\u30D8\u30EB\u30C4"],[13114,1,"\u30DA\u30F3\u30B9"],[13115,1,"\u30DA\u30FC\u30B8"],[13116,1,"\u30D9\u30FC\u30BF"],[13117,1,"\u30DD\u30A4\u30F3\u30C8"],[13118,1,"\u30DC\u30EB\u30C8"],[13119,1,"\u30DB\u30F3"],[13120,1,"\u30DD\u30F3\u30C9"],[13121,1,"\u30DB\u30FC\u30EB"],[13122,1,"\u30DB\u30FC\u30F3"],[13123,1,"\u30DE\u30A4\u30AF\u30ED"],[13124,1,"\u30DE\u30A4\u30EB"],[13125,1,"\u30DE\u30C3\u30CF"],[13126,1,"\u30DE\u30EB\u30AF"],[13127,1,"\u30DE\u30F3\u30B7\u30E7\u30F3"],[13128,1,"\u30DF\u30AF\u30ED\u30F3"],[13129,1,"\u30DF\u30EA"],[13130,1,"\u30DF\u30EA\u30D0\u30FC\u30EB"],[13131,1,"\u30E1\u30AC"],[13132,1,"\u30E1\u30AC\u30C8\u30F3"],[13133,1,"\u30E1\u30FC\u30C8\u30EB"],[13134,1,"\u30E4\u30FC\u30C9"],[13135,1,"\u30E4\u30FC\u30EB"],[13136,1,"\u30E6\u30A2\u30F3"],[13137,1,"\u30EA\u30C3\u30C8\u30EB"],[13138,1,"\u30EA\u30E9"],[13139,1,"\u30EB\u30D4\u30FC"],[13140,1,"\u30EB\u30FC\u30D6\u30EB"],[13141,1,"\u30EC\u30E0"],[13142,1,"\u30EC\u30F3\u30C8\u30B2\u30F3"],[13143,1,"\u30EF\u30C3\u30C8"],[13144,1,"0\u70B9"],[13145,1,"1\u70B9"],[13146,1,"2\u70B9"],[13147,1,"3\u70B9"],[13148,1,"4\u70B9"],[13149,1,"5\u70B9"],[13150,1,"6\u70B9"],[13151,1,"7\u70B9"],[13152,1,"8\u70B9"],[13153,1,"9\u70B9"],[13154,1,"10\u70B9"],[13155,1,"11\u70B9"],[13156,1,"12\u70B9"],[13157,1,"13\u70B9"],[13158,1,"14\u70B9"],[13159,1,"15\u70B9"],[13160,1,"16\u70B9"],[13161,1,"17\u70B9"],[13162,1,"18\u70B9"],[13163,1,"19\u70B9"],[13164,1,"20\u70B9"],[13165,1,"21\u70B9"],[13166,1,"22\u70B9"],[13167,1,"23\u70B9"],[13168,1,"24\u70B9"],[13169,1,"hpa"],[13170,1,"da"],[13171,1,"au"],[13172,1,"bar"],[13173,1,"ov"],[13174,1,"pc"],[13175,1,"dm"],[13176,1,"dm2"],[13177,1,"dm3"],[13178,1,"iu"],[13179,1,"\u5E73\u6210"],[13180,1,"\u662D\u548C"],[13181,1,"\u5927\u6B63"],[13182,1,"\u660E\u6CBB"],[13183,1,"\u682A\u5F0F\u4F1A\u793E"],[13184,1,"pa"],[13185,1,"na"],[13186,1,"\u03BCa"],[13187,1,"ma"],[13188,1,"ka"],[13189,1,"kb"],[13190,1,"mb"],[13191,1,"gb"],[13192,1,"cal"],[13193,1,"kcal"],[13194,1,"pf"],[13195,1,"nf"],[13196,1,"\u03BCf"],[13197,1,"\u03BCg"],[13198,1,"mg"],[13199,1,"kg"],[13200,1,"hz"],[13201,1,"khz"],[13202,1,"mhz"],[13203,1,"ghz"],[13204,1,"thz"],[13205,1,"\u03BCl"],[13206,1,"ml"],[13207,1,"dl"],[13208,1,"kl"],[13209,1,"fm"],[13210,1,"nm"],[13211,1,"\u03BCm"],[13212,1,"mm"],[13213,1,"cm"],[13214,1,"km"],[13215,1,"mm2"],[13216,1,"cm2"],[13217,1,"m2"],[13218,1,"km2"],[13219,1,"mm3"],[13220,1,"cm3"],[13221,1,"m3"],[13222,1,"km3"],[13223,1,"m\u2215s"],[13224,1,"m\u2215s2"],[13225,1,"pa"],[13226,1,"kpa"],[13227,1,"mpa"],[13228,1,"gpa"],[13229,1,"rad"],[13230,1,"rad\u2215s"],[13231,1,"rad\u2215s2"],[13232,1,"ps"],[13233,1,"ns"],[13234,1,"\u03BCs"],[13235,1,"ms"],[13236,1,"pv"],[13237,1,"nv"],[13238,1,"\u03BCv"],[13239,1,"mv"],[13240,1,"kv"],[13241,1,"mv"],[13242,1,"pw"],[13243,1,"nw"],[13244,1,"\u03BCw"],[13245,1,"mw"],[13246,1,"kw"],[13247,1,"mw"],[13248,1,"k\u03C9"],[13249,1,"m\u03C9"],[13250,3],[13251,1,"bq"],[13252,1,"cc"],[13253,1,"cd"],[13254,1,"c\u2215kg"],[13255,3],[13256,1,"db"],[13257,1,"gy"],[13258,1,"ha"],[13259,1,"hp"],[13260,1,"in"],[13261,1,"kk"],[13262,1,"km"],[13263,1,"kt"],[13264,1,"lm"],[13265,1,"ln"],[13266,1,"log"],[13267,1,"lx"],[13268,1,"mb"],[13269,1,"mil"],[13270,1,"mol"],[13271,1,"ph"],[13272,3],[13273,1,"ppm"],[13274,1,"pr"],[13275,1,"sr"],[13276,1,"sv"],[13277,1,"wb"],[13278,1,"v\u2215m"],[13279,1,"a\u2215m"],[13280,1,"1\u65E5"],[13281,1,"2\u65E5"],[13282,1,"3\u65E5"],[13283,1,"4\u65E5"],[13284,1,"5\u65E5"],[13285,1,"6\u65E5"],[13286,1,"7\u65E5"],[13287,1,"8\u65E5"],[13288,1,"9\u65E5"],[13289,1,"10\u65E5"],[13290,1,"11\u65E5"],[13291,1,"12\u65E5"],[13292,1,"13\u65E5"],[13293,1,"14\u65E5"],[13294,1,"15\u65E5"],[13295,1,"16\u65E5"],[13296,1,"17\u65E5"],[13297,1,"18\u65E5"],[13298,1,"19\u65E5"],[13299,1,"20\u65E5"],[13300,1,"21\u65E5"],[13301,1,"22\u65E5"],[13302,1,"23\u65E5"],[13303,1,"24\u65E5"],[13304,1,"25\u65E5"],[13305,1,"26\u65E5"],[13306,1,"27\u65E5"],[13307,1,"28\u65E5"],[13308,1,"29\u65E5"],[13309,1,"30\u65E5"],[13310,1,"31\u65E5"],[13311,1,"gal"],[[13312,19893],2],[[19894,19903],2],[[19904,19967],2],[[19968,40869],2],[[40870,40891],2],[[40892,40899],2],[[40900,40907],2],[40908,2],[[40909,40917],2],[[40918,40938],2],[[40939,40943],2],[[40944,40956],2],[[40957,40959],2],[[40960,42124],2],[[42125,42127],3],[[42128,42145],2],[[42146,42147],2],[[42148,42163],2],[42164,2],[[42165,42176],2],[42177,2],[[42178,42180],2],[42181,2],[42182,2],[[42183,42191],3],[[42192,42237],2],[[42238,42239],2],[[42240,42508],2],[[42509,42511],2],[[42512,42539],2],[[42540,42559],3],[42560,1,"\uA641"],[42561,2],[42562,1,"\uA643"],[42563,2],[42564,1,"\uA645"],[42565,2],[42566,1,"\uA647"],[42567,2],[42568,1,"\uA649"],[42569,2],[42570,1,"\uA64B"],[42571,2],[42572,1,"\uA64D"],[42573,2],[42574,1,"\uA64F"],[42575,2],[42576,1,"\uA651"],[42577,2],[42578,1,"\uA653"],[42579,2],[42580,1,"\uA655"],[42581,2],[42582,1,"\uA657"],[42583,2],[42584,1,"\uA659"],[42585,2],[42586,1,"\uA65B"],[42587,2],[42588,1,"\uA65D"],[42589,2],[42590,1,"\uA65F"],[42591,2],[42592,1,"\uA661"],[42593,2],[42594,1,"\uA663"],[42595,2],[42596,1,"\uA665"],[42597,2],[42598,1,"\uA667"],[42599,2],[42600,1,"\uA669"],[42601,2],[42602,1,"\uA66B"],[42603,2],[42604,1,"\uA66D"],[[42605,42607],2],[[42608,42611],2],[[42612,42619],2],[[42620,42621],2],[42622,2],[42623,2],[42624,1,"\uA681"],[42625,2],[42626,1,"\uA683"],[42627,2],[42628,1,"\uA685"],[42629,2],[42630,1,"\uA687"],[42631,2],[42632,1,"\uA689"],[42633,2],[42634,1,"\uA68B"],[42635,2],[42636,1,"\uA68D"],[42637,2],[42638,1,"\uA68F"],[42639,2],[42640,1,"\uA691"],[42641,2],[42642,1,"\uA693"],[42643,2],[42644,1,"\uA695"],[42645,2],[42646,1,"\uA697"],[42647,2],[42648,1,"\uA699"],[42649,2],[42650,1,"\uA69B"],[42651,2],[42652,1,"\u044A"],[42653,1,"\u044C"],[42654,2],[42655,2],[[42656,42725],2],[[42726,42735],2],[[42736,42737],2],[[42738,42743],2],[[42744,42751],3],[[42752,42774],2],[[42775,42778],2],[[42779,42783],2],[[42784,42785],2],[42786,1,"\uA723"],[42787,2],[42788,1,"\uA725"],[42789,2],[42790,1,"\uA727"],[42791,2],[42792,1,"\uA729"],[42793,2],[42794,1,"\uA72B"],[42795,2],[42796,1,"\uA72D"],[42797,2],[42798,1,"\uA72F"],[[42799,42801],2],[42802,1,"\uA733"],[42803,2],[42804,1,"\uA735"],[42805,2],[42806,1,"\uA737"],[42807,2],[42808,1,"\uA739"],[42809,2],[42810,1,"\uA73B"],[42811,2],[42812,1,"\uA73D"],[42813,2],[42814,1,"\uA73F"],[42815,2],[42816,1,"\uA741"],[42817,2],[42818,1,"\uA743"],[42819,2],[42820,1,"\uA745"],[42821,2],[42822,1,"\uA747"],[42823,2],[42824,1,"\uA749"],[42825,2],[42826,1,"\uA74B"],[42827,2],[42828,1,"\uA74D"],[42829,2],[42830,1,"\uA74F"],[42831,2],[42832,1,"\uA751"],[42833,2],[42834,1,"\uA753"],[42835,2],[42836,1,"\uA755"],[42837,2],[42838,1,"\uA757"],[42839,2],[42840,1,"\uA759"],[42841,2],[42842,1,"\uA75B"],[42843,2],[42844,1,"\uA75D"],[42845,2],[42846,1,"\uA75F"],[42847,2],[42848,1,"\uA761"],[42849,2],[42850,1,"\uA763"],[42851,2],[42852,1,"\uA765"],[42853,2],[42854,1,"\uA767"],[42855,2],[42856,1,"\uA769"],[42857,2],[42858,1,"\uA76B"],[42859,2],[42860,1,"\uA76D"],[42861,2],[42862,1,"\uA76F"],[42863,2],[42864,1,"\uA76F"],[[42865,42872],2],[42873,1,"\uA77A"],[42874,2],[42875,1,"\uA77C"],[42876,2],[42877,1,"\u1D79"],[42878,1,"\uA77F"],[42879,2],[42880,1,"\uA781"],[42881,2],[42882,1,"\uA783"],[42883,2],[42884,1,"\uA785"],[42885,2],[42886,1,"\uA787"],[[42887,42888],2],[[42889,42890],2],[42891,1,"\uA78C"],[42892,2],[42893,1,"\u0265"],[42894,2],[42895,2],[42896,1,"\uA791"],[42897,2],[42898,1,"\uA793"],[42899,2],[[42900,42901],2],[42902,1,"\uA797"],[42903,2],[42904,1,"\uA799"],[42905,2],[42906,1,"\uA79B"],[42907,2],[42908,1,"\uA79D"],[42909,2],[42910,1,"\uA79F"],[42911,2],[42912,1,"\uA7A1"],[42913,2],[42914,1,"\uA7A3"],[42915,2],[42916,1,"\uA7A5"],[42917,2],[42918,1,"\uA7A7"],[42919,2],[42920,1,"\uA7A9"],[42921,2],[42922,1,"\u0266"],[42923,1,"\u025C"],[42924,1,"\u0261"],[42925,1,"\u026C"],[42926,1,"\u026A"],[42927,2],[42928,1,"\u029E"],[42929,1,"\u0287"],[42930,1,"\u029D"],[42931,1,"\uAB53"],[42932,1,"\uA7B5"],[42933,2],[42934,1,"\uA7B7"],[42935,2],[42936,1,"\uA7B9"],[42937,2],[42938,1,"\uA7BB"],[42939,2],[42940,1,"\uA7BD"],[42941,2],[42942,1,"\uA7BF"],[42943,2],[42944,1,"\uA7C1"],[42945,2],[42946,1,"\uA7C3"],[42947,2],[42948,1,"\uA794"],[42949,1,"\u0282"],[42950,1,"\u1D8E"],[42951,1,"\uA7C8"],[42952,2],[42953,1,"\uA7CA"],[42954,2],[[42955,42959],3],[42960,1,"\uA7D1"],[42961,2],[42962,3],[42963,2],[42964,3],[42965,2],[42966,1,"\uA7D7"],[42967,2],[42968,1,"\uA7D9"],[42969,2],[[42970,42993],3],[42994,1,"c"],[42995,1,"f"],[42996,1,"q"],[42997,1,"\uA7F6"],[42998,2],[42999,2],[43e3,1,"\u0127"],[43001,1,"\u0153"],[43002,2],[[43003,43007],2],[[43008,43047],2],[[43048,43051],2],[43052,2],[[43053,43055],3],[[43056,43065],2],[[43066,43071],3],[[43072,43123],2],[[43124,43127],2],[[43128,43135],3],[[43136,43204],2],[43205,2],[[43206,43213],3],[[43214,43215],2],[[43216,43225],2],[[43226,43231],3],[[43232,43255],2],[[43256,43258],2],[43259,2],[43260,2],[43261,2],[[43262,43263],2],[[43264,43309],2],[[43310,43311],2],[[43312,43347],2],[[43348,43358],3],[43359,2],[[43360,43388],2],[[43389,43391],3],[[43392,43456],2],[[43457,43469],2],[43470,3],[[43471,43481],2],[[43482,43485],3],[[43486,43487],2],[[43488,43518],2],[43519,3],[[43520,43574],2],[[43575,43583],3],[[43584,43597],2],[[43598,43599],3],[[43600,43609],2],[[43610,43611],3],[[43612,43615],2],[[43616,43638],2],[[43639,43641],2],[[43642,43643],2],[[43644,43647],2],[[43648,43714],2],[[43715,43738],3],[[43739,43741],2],[[43742,43743],2],[[43744,43759],2],[[43760,43761],2],[[43762,43766],2],[[43767,43776],3],[[43777,43782],2],[[43783,43784],3],[[43785,43790],2],[[43791,43792],3],[[43793,43798],2],[[43799,43807],3],[[43808,43814],2],[43815,3],[[43816,43822],2],[43823,3],[[43824,43866],2],[43867,2],[43868,1,"\uA727"],[43869,1,"\uAB37"],[43870,1,"\u026B"],[43871,1,"\uAB52"],[[43872,43875],2],[[43876,43877],2],[[43878,43879],2],[43880,2],[43881,1,"\u028D"],[[43882,43883],2],[[43884,43887],3],[43888,1,"\u13A0"],[43889,1,"\u13A1"],[43890,1,"\u13A2"],[43891,1,"\u13A3"],[43892,1,"\u13A4"],[43893,1,"\u13A5"],[43894,1,"\u13A6"],[43895,1,"\u13A7"],[43896,1,"\u13A8"],[43897,1,"\u13A9"],[43898,1,"\u13AA"],[43899,1,"\u13AB"],[43900,1,"\u13AC"],[43901,1,"\u13AD"],[43902,1,"\u13AE"],[43903,1,"\u13AF"],[43904,1,"\u13B0"],[43905,1,"\u13B1"],[43906,1,"\u13B2"],[43907,1,"\u13B3"],[43908,1,"\u13B4"],[43909,1,"\u13B5"],[43910,1,"\u13B6"],[43911,1,"\u13B7"],[43912,1,"\u13B8"],[43913,1,"\u13B9"],[43914,1,"\u13BA"],[43915,1,"\u13BB"],[43916,1,"\u13BC"],[43917,1,"\u13BD"],[43918,1,"\u13BE"],[43919,1,"\u13BF"],[43920,1,"\u13C0"],[43921,1,"\u13C1"],[43922,1,"\u13C2"],[43923,1,"\u13C3"],[43924,1,"\u13C4"],[43925,1,"\u13C5"],[43926,1,"\u13C6"],[43927,1,"\u13C7"],[43928,1,"\u13C8"],[43929,1,"\u13C9"],[43930,1,"\u13CA"],[43931,1,"\u13CB"],[43932,1,"\u13CC"],[43933,1,"\u13CD"],[43934,1,"\u13CE"],[43935,1,"\u13CF"],[43936,1,"\u13D0"],[43937,1,"\u13D1"],[43938,1,"\u13D2"],[43939,1,"\u13D3"],[43940,1,"\u13D4"],[43941,1,"\u13D5"],[43942,1,"\u13D6"],[43943,1,"\u13D7"],[43944,1,"\u13D8"],[43945,1,"\u13D9"],[43946,1,"\u13DA"],[43947,1,"\u13DB"],[43948,1,"\u13DC"],[43949,1,"\u13DD"],[43950,1,"\u13DE"],[43951,1,"\u13DF"],[43952,1,"\u13E0"],[43953,1,"\u13E1"],[43954,1,"\u13E2"],[43955,1,"\u13E3"],[43956,1,"\u13E4"],[43957,1,"\u13E5"],[43958,1,"\u13E6"],[43959,1,"\u13E7"],[43960,1,"\u13E8"],[43961,1,"\u13E9"],[43962,1,"\u13EA"],[43963,1,"\u13EB"],[43964,1,"\u13EC"],[43965,1,"\u13ED"],[43966,1,"\u13EE"],[43967,1,"\u13EF"],[[43968,44010],2],[44011,2],[[44012,44013],2],[[44014,44015],3],[[44016,44025],2],[[44026,44031],3],[[44032,55203],2],[[55204,55215],3],[[55216,55238],2],[[55239,55242],3],[[55243,55291],2],[[55292,55295],3],[[55296,57343],3],[[57344,63743],3],[63744,1,"\u8C48"],[63745,1,"\u66F4"],[63746,1,"\u8ECA"],[63747,1,"\u8CC8"],[63748,1,"\u6ED1"],[63749,1,"\u4E32"],[63750,1,"\u53E5"],[[63751,63752],1,"\u9F9C"],[63753,1,"\u5951"],[63754,1,"\u91D1"],[63755,1,"\u5587"],[63756,1,"\u5948"],[63757,1,"\u61F6"],[63758,1,"\u7669"],[63759,1,"\u7F85"],[63760,1,"\u863F"],[63761,1,"\u87BA"],[63762,1,"\u88F8"],[63763,1,"\u908F"],[63764,1,"\u6A02"],[63765,1,"\u6D1B"],[63766,1,"\u70D9"],[63767,1,"\u73DE"],[63768,1,"\u843D"],[63769,1,"\u916A"],[63770,1,"\u99F1"],[63771,1,"\u4E82"],[63772,1,"\u5375"],[63773,1,"\u6B04"],[63774,1,"\u721B"],[63775,1,"\u862D"],[63776,1,"\u9E1E"],[63777,1,"\u5D50"],[63778,1,"\u6FEB"],[63779,1,"\u85CD"],[63780,1,"\u8964"],[63781,1,"\u62C9"],[63782,1,"\u81D8"],[63783,1,"\u881F"],[63784,1,"\u5ECA"],[63785,1,"\u6717"],[63786,1,"\u6D6A"],[63787,1,"\u72FC"],[63788,1,"\u90CE"],[63789,1,"\u4F86"],[63790,1,"\u51B7"],[63791,1,"\u52DE"],[63792,1,"\u64C4"],[63793,1,"\u6AD3"],[63794,1,"\u7210"],[63795,1,"\u76E7"],[63796,1,"\u8001"],[63797,1,"\u8606"],[63798,1,"\u865C"],[63799,1,"\u8DEF"],[63800,1,"\u9732"],[63801,1,"\u9B6F"],[63802,1,"\u9DFA"],[63803,1,"\u788C"],[63804,1,"\u797F"],[63805,1,"\u7DA0"],[63806,1,"\u83C9"],[63807,1,"\u9304"],[63808,1,"\u9E7F"],[63809,1,"\u8AD6"],[63810,1,"\u58DF"],[63811,1,"\u5F04"],[63812,1,"\u7C60"],[63813,1,"\u807E"],[63814,1,"\u7262"],[63815,1,"\u78CA"],[63816,1,"\u8CC2"],[63817,1,"\u96F7"],[63818,1,"\u58D8"],[63819,1,"\u5C62"],[63820,1,"\u6A13"],[63821,1,"\u6DDA"],[63822,1,"\u6F0F"],[63823,1,"\u7D2F"],[63824,1,"\u7E37"],[63825,1,"\u964B"],[63826,1,"\u52D2"],[63827,1,"\u808B"],[63828,1,"\u51DC"],[63829,1,"\u51CC"],[63830,1,"\u7A1C"],[63831,1,"\u7DBE"],[63832,1,"\u83F1"],[63833,1,"\u9675"],[63834,1,"\u8B80"],[63835,1,"\u62CF"],[63836,1,"\u6A02"],[63837,1,"\u8AFE"],[63838,1,"\u4E39"],[63839,1,"\u5BE7"],[63840,1,"\u6012"],[63841,1,"\u7387"],[63842,1,"\u7570"],[63843,1,"\u5317"],[63844,1,"\u78FB"],[63845,1,"\u4FBF"],[63846,1,"\u5FA9"],[63847,1,"\u4E0D"],[63848,1,"\u6CCC"],[63849,1,"\u6578"],[63850,1,"\u7D22"],[63851,1,"\u53C3"],[63852,1,"\u585E"],[63853,1,"\u7701"],[63854,1,"\u8449"],[63855,1,"\u8AAA"],[63856,1,"\u6BBA"],[63857,1,"\u8FB0"],[63858,1,"\u6C88"],[63859,1,"\u62FE"],[63860,1,"\u82E5"],[63861,1,"\u63A0"],[63862,1,"\u7565"],[63863,1,"\u4EAE"],[63864,1,"\u5169"],[63865,1,"\u51C9"],[63866,1,"\u6881"],[63867,1,"\u7CE7"],[63868,1,"\u826F"],[63869,1,"\u8AD2"],[63870,1,"\u91CF"],[63871,1,"\u52F5"],[63872,1,"\u5442"],[63873,1,"\u5973"],[63874,1,"\u5EEC"],[63875,1,"\u65C5"],[63876,1,"\u6FFE"],[63877,1,"\u792A"],[63878,1,"\u95AD"],[63879,1,"\u9A6A"],[63880,1,"\u9E97"],[63881,1,"\u9ECE"],[63882,1,"\u529B"],[63883,1,"\u66C6"],[63884,1,"\u6B77"],[63885,1,"\u8F62"],[63886,1,"\u5E74"],[63887,1,"\u6190"],[63888,1,"\u6200"],[63889,1,"\u649A"],[63890,1,"\u6F23"],[63891,1,"\u7149"],[63892,1,"\u7489"],[63893,1,"\u79CA"],[63894,1,"\u7DF4"],[63895,1,"\u806F"],[63896,1,"\u8F26"],[63897,1,"\u84EE"],[63898,1,"\u9023"],[63899,1,"\u934A"],[63900,1,"\u5217"],[63901,1,"\u52A3"],[63902,1,"\u54BD"],[63903,1,"\u70C8"],[63904,1,"\u88C2"],[63905,1,"\u8AAA"],[63906,1,"\u5EC9"],[63907,1,"\u5FF5"],[63908,1,"\u637B"],[63909,1,"\u6BAE"],[63910,1,"\u7C3E"],[63911,1,"\u7375"],[63912,1,"\u4EE4"],[63913,1,"\u56F9"],[63914,1,"\u5BE7"],[63915,1,"\u5DBA"],[63916,1,"\u601C"],[63917,1,"\u73B2"],[63918,1,"\u7469"],[63919,1,"\u7F9A"],[63920,1,"\u8046"],[63921,1,"\u9234"],[63922,1,"\u96F6"],[63923,1,"\u9748"],[63924,1,"\u9818"],[63925,1,"\u4F8B"],[63926,1,"\u79AE"],[63927,1,"\u91B4"],[63928,1,"\u96B8"],[63929,1,"\u60E1"],[63930,1,"\u4E86"],[63931,1,"\u50DA"],[63932,1,"\u5BEE"],[63933,1,"\u5C3F"],[63934,1,"\u6599"],[63935,1,"\u6A02"],[63936,1,"\u71CE"],[63937,1,"\u7642"],[63938,1,"\u84FC"],[63939,1,"\u907C"],[63940,1,"\u9F8D"],[63941,1,"\u6688"],[63942,1,"\u962E"],[63943,1,"\u5289"],[63944,1,"\u677B"],[63945,1,"\u67F3"],[63946,1,"\u6D41"],[63947,1,"\u6E9C"],[63948,1,"\u7409"],[63949,1,"\u7559"],[63950,1,"\u786B"],[63951,1,"\u7D10"],[63952,1,"\u985E"],[63953,1,"\u516D"],[63954,1,"\u622E"],[63955,1,"\u9678"],[63956,1,"\u502B"],[63957,1,"\u5D19"],[63958,1,"\u6DEA"],[63959,1,"\u8F2A"],[63960,1,"\u5F8B"],[63961,1,"\u6144"],[63962,1,"\u6817"],[63963,1,"\u7387"],[63964,1,"\u9686"],[63965,1,"\u5229"],[63966,1,"\u540F"],[63967,1,"\u5C65"],[63968,1,"\u6613"],[63969,1,"\u674E"],[63970,1,"\u68A8"],[63971,1,"\u6CE5"],[63972,1,"\u7406"],[63973,1,"\u75E2"],[63974,1,"\u7F79"],[63975,1,"\u88CF"],[63976,1,"\u88E1"],[63977,1,"\u91CC"],[63978,1,"\u96E2"],[63979,1,"\u533F"],[63980,1,"\u6EBA"],[63981,1,"\u541D"],[63982,1,"\u71D0"],[63983,1,"\u7498"],[63984,1,"\u85FA"],[63985,1,"\u96A3"],[63986,1,"\u9C57"],[63987,1,"\u9E9F"],[63988,1,"\u6797"],[63989,1,"\u6DCB"],[63990,1,"\u81E8"],[63991,1,"\u7ACB"],[63992,1,"\u7B20"],[63993,1,"\u7C92"],[63994,1,"\u72C0"],[63995,1,"\u7099"],[63996,1,"\u8B58"],[63997,1,"\u4EC0"],[63998,1,"\u8336"],[63999,1,"\u523A"],[64e3,1,"\u5207"],[64001,1,"\u5EA6"],[64002,1,"\u62D3"],[64003,1,"\u7CD6"],[64004,1,"\u5B85"],[64005,1,"\u6D1E"],[64006,1,"\u66B4"],[64007,1,"\u8F3B"],[64008,1,"\u884C"],[64009,1,"\u964D"],[64010,1,"\u898B"],[64011,1,"\u5ED3"],[64012,1,"\u5140"],[64013,1,"\u55C0"],[[64014,64015],2],[64016,1,"\u585A"],[64017,2],[64018,1,"\u6674"],[[64019,64020],2],[64021,1,"\u51DE"],[64022,1,"\u732A"],[64023,1,"\u76CA"],[64024,1,"\u793C"],[64025,1,"\u795E"],[64026,1,"\u7965"],[64027,1,"\u798F"],[64028,1,"\u9756"],[64029,1,"\u7CBE"],[64030,1,"\u7FBD"],[64031,2],[64032,1,"\u8612"],[64033,2],[64034,1,"\u8AF8"],[[64035,64036],2],[64037,1,"\u9038"],[64038,1,"\u90FD"],[[64039,64041],2],[64042,1,"\u98EF"],[64043,1,"\u98FC"],[64044,1,"\u9928"],[64045,1,"\u9DB4"],[64046,1,"\u90DE"],[64047,1,"\u96B7"],[64048,1,"\u4FAE"],[64049,1,"\u50E7"],[64050,1,"\u514D"],[64051,1,"\u52C9"],[64052,1,"\u52E4"],[64053,1,"\u5351"],[64054,1,"\u559D"],[64055,1,"\u5606"],[64056,1,"\u5668"],[64057,1,"\u5840"],[64058,1,"\u58A8"],[64059,1,"\u5C64"],[64060,1,"\u5C6E"],[64061,1,"\u6094"],[64062,1,"\u6168"],[64063,1,"\u618E"],[64064,1,"\u61F2"],[64065,1,"\u654F"],[64066,1,"\u65E2"],[64067,1,"\u6691"],[64068,1,"\u6885"],[64069,1,"\u6D77"],[64070,1,"\u6E1A"],[64071,1,"\u6F22"],[64072,1,"\u716E"],[64073,1,"\u722B"],[64074,1,"\u7422"],[64075,1,"\u7891"],[64076,1,"\u793E"],[64077,1,"\u7949"],[64078,1,"\u7948"],[64079,1,"\u7950"],[64080,1,"\u7956"],[64081,1,"\u795D"],[64082,1,"\u798D"],[64083,1,"\u798E"],[64084,1,"\u7A40"],[64085,1,"\u7A81"],[64086,1,"\u7BC0"],[64087,1,"\u7DF4"],[64088,1,"\u7E09"],[64089,1,"\u7E41"],[64090,1,"\u7F72"],[64091,1,"\u8005"],[64092,1,"\u81ED"],[[64093,64094],1,"\u8279"],[64095,1,"\u8457"],[64096,1,"\u8910"],[64097,1,"\u8996"],[64098,1,"\u8B01"],[64099,1,"\u8B39"],[64100,1,"\u8CD3"],[64101,1,"\u8D08"],[64102,1,"\u8FB6"],[64103,1,"\u9038"],[64104,1,"\u96E3"],[64105,1,"\u97FF"],[64106,1,"\u983B"],[64107,1,"\u6075"],[64108,1,"\u{242EE}"],[64109,1,"\u8218"],[[64110,64111],3],[64112,1,"\u4E26"],[64113,1,"\u51B5"],[64114,1,"\u5168"],[64115,1,"\u4F80"],[64116,1,"\u5145"],[64117,1,"\u5180"],[64118,1,"\u52C7"],[64119,1,"\u52FA"],[64120,1,"\u559D"],[64121,1,"\u5555"],[64122,1,"\u5599"],[64123,1,"\u55E2"],[64124,1,"\u585A"],[64125,1,"\u58B3"],[64126,1,"\u5944"],[64127,1,"\u5954"],[64128,1,"\u5A62"],[64129,1,"\u5B28"],[64130,1,"\u5ED2"],[64131,1,"\u5ED9"],[64132,1,"\u5F69"],[64133,1,"\u5FAD"],[64134,1,"\u60D8"],[64135,1,"\u614E"],[64136,1,"\u6108"],[64137,1,"\u618E"],[64138,1,"\u6160"],[64139,1,"\u61F2"],[64140,1,"\u6234"],[64141,1,"\u63C4"],[64142,1,"\u641C"],[64143,1,"\u6452"],[64144,1,"\u6556"],[64145,1,"\u6674"],[64146,1,"\u6717"],[64147,1,"\u671B"],[64148,1,"\u6756"],[64149,1,"\u6B79"],[64150,1,"\u6BBA"],[64151,1,"\u6D41"],[64152,1,"\u6EDB"],[64153,1,"\u6ECB"],[64154,1,"\u6F22"],[64155,1,"\u701E"],[64156,1,"\u716E"],[64157,1,"\u77A7"],[64158,1,"\u7235"],[64159,1,"\u72AF"],[64160,1,"\u732A"],[64161,1,"\u7471"],[64162,1,"\u7506"],[64163,1,"\u753B"],[64164,1,"\u761D"],[64165,1,"\u761F"],[64166,1,"\u76CA"],[64167,1,"\u76DB"],[64168,1,"\u76F4"],[64169,1,"\u774A"],[64170,1,"\u7740"],[64171,1,"\u78CC"],[64172,1,"\u7AB1"],[64173,1,"\u7BC0"],[64174,1,"\u7C7B"],[64175,1,"\u7D5B"],[64176,1,"\u7DF4"],[64177,1,"\u7F3E"],[64178,1,"\u8005"],[64179,1,"\u8352"],[64180,1,"\u83EF"],[64181,1,"\u8779"],[64182,1,"\u8941"],[64183,1,"\u8986"],[64184,1,"\u8996"],[64185,1,"\u8ABF"],[64186,1,"\u8AF8"],[64187,1,"\u8ACB"],[64188,1,"\u8B01"],[64189,1,"\u8AFE"],[64190,1,"\u8AED"],[64191,1,"\u8B39"],[64192,1,"\u8B8A"],[64193,1,"\u8D08"],[64194,1,"\u8F38"],[64195,1,"\u9072"],[64196,1,"\u9199"],[64197,1,"\u9276"],[64198,1,"\u967C"],[64199,1,"\u96E3"],[64200,1,"\u9756"],[64201,1,"\u97DB"],[64202,1,"\u97FF"],[64203,1,"\u980B"],[64204,1,"\u983B"],[64205,1,"\u9B12"],[64206,1,"\u9F9C"],[64207,1,"\u{2284A}"],[64208,1,"\u{22844}"],[64209,1,"\u{233D5}"],[64210,1,"\u3B9D"],[64211,1,"\u4018"],[64212,1,"\u4039"],[64213,1,"\u{25249}"],[64214,1,"\u{25CD0}"],[64215,1,"\u{27ED3}"],[64216,1,"\u9F43"],[64217,1,"\u9F8E"],[[64218,64255],3],[64256,1,"ff"],[64257,1,"fi"],[64258,1,"fl"],[64259,1,"ffi"],[64260,1,"ffl"],[[64261,64262],1,"st"],[[64263,64274],3],[64275,1,"\u0574\u0576"],[64276,1,"\u0574\u0565"],[64277,1,"\u0574\u056B"],[64278,1,"\u057E\u0576"],[64279,1,"\u0574\u056D"],[[64280,64284],3],[64285,1,"\u05D9\u05B4"],[64286,2],[64287,1,"\u05F2\u05B7"],[64288,1,"\u05E2"],[64289,1,"\u05D0"],[64290,1,"\u05D3"],[64291,1,"\u05D4"],[64292,1,"\u05DB"],[64293,1,"\u05DC"],[64294,1,"\u05DD"],[64295,1,"\u05E8"],[64296,1,"\u05EA"],[64297,5,"+"],[64298,1,"\u05E9\u05C1"],[64299,1,"\u05E9\u05C2"],[64300,1,"\u05E9\u05BC\u05C1"],[64301,1,"\u05E9\u05BC\u05C2"],[64302,1,"\u05D0\u05B7"],[64303,1,"\u05D0\u05B8"],[64304,1,"\u05D0\u05BC"],[64305,1,"\u05D1\u05BC"],[64306,1,"\u05D2\u05BC"],[64307,1,"\u05D3\u05BC"],[64308,1,"\u05D4\u05BC"],[64309,1,"\u05D5\u05BC"],[64310,1,"\u05D6\u05BC"],[64311,3],[64312,1,"\u05D8\u05BC"],[64313,1,"\u05D9\u05BC"],[64314,1,"\u05DA\u05BC"],[64315,1,"\u05DB\u05BC"],[64316,1,"\u05DC\u05BC"],[64317,3],[64318,1,"\u05DE\u05BC"],[64319,3],[64320,1,"\u05E0\u05BC"],[64321,1,"\u05E1\u05BC"],[64322,3],[64323,1,"\u05E3\u05BC"],[64324,1,"\u05E4\u05BC"],[64325,3],[64326,1,"\u05E6\u05BC"],[64327,1,"\u05E7\u05BC"],[64328,1,"\u05E8\u05BC"],[64329,1,"\u05E9\u05BC"],[64330,1,"\u05EA\u05BC"],[64331,1,"\u05D5\u05B9"],[64332,1,"\u05D1\u05BF"],[64333,1,"\u05DB\u05BF"],[64334,1,"\u05E4\u05BF"],[64335,1,"\u05D0\u05DC"],[[64336,64337],1,"\u0671"],[[64338,64341],1,"\u067B"],[[64342,64345],1,"\u067E"],[[64346,64349],1,"\u0680"],[[64350,64353],1,"\u067A"],[[64354,64357],1,"\u067F"],[[64358,64361],1,"\u0679"],[[64362,64365],1,"\u06A4"],[[64366,64369],1,"\u06A6"],[[64370,64373],1,"\u0684"],[[64374,64377],1,"\u0683"],[[64378,64381],1,"\u0686"],[[64382,64385],1,"\u0687"],[[64386,64387],1,"\u068D"],[[64388,64389],1,"\u068C"],[[64390,64391],1,"\u068E"],[[64392,64393],1,"\u0688"],[[64394,64395],1,"\u0698"],[[64396,64397],1,"\u0691"],[[64398,64401],1,"\u06A9"],[[64402,64405],1,"\u06AF"],[[64406,64409],1,"\u06B3"],[[64410,64413],1,"\u06B1"],[[64414,64415],1,"\u06BA"],[[64416,64419],1,"\u06BB"],[[64420,64421],1,"\u06C0"],[[64422,64425],1,"\u06C1"],[[64426,64429],1,"\u06BE"],[[64430,64431],1,"\u06D2"],[[64432,64433],1,"\u06D3"],[[64434,64449],2],[64450,2],[[64451,64466],3],[[64467,64470],1,"\u06AD"],[[64471,64472],1,"\u06C7"],[[64473,64474],1,"\u06C6"],[[64475,64476],1,"\u06C8"],[64477,1,"\u06C7\u0674"],[[64478,64479],1,"\u06CB"],[[64480,64481],1,"\u06C5"],[[64482,64483],1,"\u06C9"],[[64484,64487],1,"\u06D0"],[[64488,64489],1,"\u0649"],[[64490,64491],1,"\u0626\u0627"],[[64492,64493],1,"\u0626\u06D5"],[[64494,64495],1,"\u0626\u0648"],[[64496,64497],1,"\u0626\u06C7"],[[64498,64499],1,"\u0626\u06C6"],[[64500,64501],1,"\u0626\u06C8"],[[64502,64504],1,"\u0626\u06D0"],[[64505,64507],1,"\u0626\u0649"],[[64508,64511],1,"\u06CC"],[64512,1,"\u0626\u062C"],[64513,1,"\u0626\u062D"],[64514,1,"\u0626\u0645"],[64515,1,"\u0626\u0649"],[64516,1,"\u0626\u064A"],[64517,1,"\u0628\u062C"],[64518,1,"\u0628\u062D"],[64519,1,"\u0628\u062E"],[64520,1,"\u0628\u0645"],[64521,1,"\u0628\u0649"],[64522,1,"\u0628\u064A"],[64523,1,"\u062A\u062C"],[64524,1,"\u062A\u062D"],[64525,1,"\u062A\u062E"],[64526,1,"\u062A\u0645"],[64527,1,"\u062A\u0649"],[64528,1,"\u062A\u064A"],[64529,1,"\u062B\u062C"],[64530,1,"\u062B\u0645"],[64531,1,"\u062B\u0649"],[64532,1,"\u062B\u064A"],[64533,1,"\u062C\u062D"],[64534,1,"\u062C\u0645"],[64535,1,"\u062D\u062C"],[64536,1,"\u062D\u0645"],[64537,1,"\u062E\u062C"],[64538,1,"\u062E\u062D"],[64539,1,"\u062E\u0645"],[64540,1,"\u0633\u062C"],[64541,1,"\u0633\u062D"],[64542,1,"\u0633\u062E"],[64543,1,"\u0633\u0645"],[64544,1,"\u0635\u062D"],[64545,1,"\u0635\u0645"],[64546,1,"\u0636\u062C"],[64547,1,"\u0636\u062D"],[64548,1,"\u0636\u062E"],[64549,1,"\u0636\u0645"],[64550,1,"\u0637\u062D"],[64551,1,"\u0637\u0645"],[64552,1,"\u0638\u0645"],[64553,1,"\u0639\u062C"],[64554,1,"\u0639\u0645"],[64555,1,"\u063A\u062C"],[64556,1,"\u063A\u0645"],[64557,1,"\u0641\u062C"],[64558,1,"\u0641\u062D"],[64559,1,"\u0641\u062E"],[64560,1,"\u0641\u0645"],[64561,1,"\u0641\u0649"],[64562,1,"\u0641\u064A"],[64563,1,"\u0642\u062D"],[64564,1,"\u0642\u0645"],[64565,1,"\u0642\u0649"],[64566,1,"\u0642\u064A"],[64567,1,"\u0643\u0627"],[64568,1,"\u0643\u062C"],[64569,1,"\u0643\u062D"],[64570,1,"\u0643\u062E"],[64571,1,"\u0643\u0644"],[64572,1,"\u0643\u0645"],[64573,1,"\u0643\u0649"],[64574,1,"\u0643\u064A"],[64575,1,"\u0644\u062C"],[64576,1,"\u0644\u062D"],[64577,1,"\u0644\u062E"],[64578,1,"\u0644\u0645"],[64579,1,"\u0644\u0649"],[64580,1,"\u0644\u064A"],[64581,1,"\u0645\u062C"],[64582,1,"\u0645\u062D"],[64583,1,"\u0645\u062E"],[64584,1,"\u0645\u0645"],[64585,1,"\u0645\u0649"],[64586,1,"\u0645\u064A"],[64587,1,"\u0646\u062C"],[64588,1,"\u0646\u062D"],[64589,1,"\u0646\u062E"],[64590,1,"\u0646\u0645"],[64591,1,"\u0646\u0649"],[64592,1,"\u0646\u064A"],[64593,1,"\u0647\u062C"],[64594,1,"\u0647\u0645"],[64595,1,"\u0647\u0649"],[64596,1,"\u0647\u064A"],[64597,1,"\u064A\u062C"],[64598,1,"\u064A\u062D"],[64599,1,"\u064A\u062E"],[64600,1,"\u064A\u0645"],[64601,1,"\u064A\u0649"],[64602,1,"\u064A\u064A"],[64603,1,"\u0630\u0670"],[64604,1,"\u0631\u0670"],[64605,1,"\u0649\u0670"],[64606,5," \u064C\u0651"],[64607,5," \u064D\u0651"],[64608,5," \u064E\u0651"],[64609,5," \u064F\u0651"],[64610,5," \u0650\u0651"],[64611,5," \u0651\u0670"],[64612,1,"\u0626\u0631"],[64613,1,"\u0626\u0632"],[64614,1,"\u0626\u0645"],[64615,1,"\u0626\u0646"],[64616,1,"\u0626\u0649"],[64617,1,"\u0626\u064A"],[64618,1,"\u0628\u0631"],[64619,1,"\u0628\u0632"],[64620,1,"\u0628\u0645"],[64621,1,"\u0628\u0646"],[64622,1,"\u0628\u0649"],[64623,1,"\u0628\u064A"],[64624,1,"\u062A\u0631"],[64625,1,"\u062A\u0632"],[64626,1,"\u062A\u0645"],[64627,1,"\u062A\u0646"],[64628,1,"\u062A\u0649"],[64629,1,"\u062A\u064A"],[64630,1,"\u062B\u0631"],[64631,1,"\u062B\u0632"],[64632,1,"\u062B\u0645"],[64633,1,"\u062B\u0646"],[64634,1,"\u062B\u0649"],[64635,1,"\u062B\u064A"],[64636,1,"\u0641\u0649"],[64637,1,"\u0641\u064A"],[64638,1,"\u0642\u0649"],[64639,1,"\u0642\u064A"],[64640,1,"\u0643\u0627"],[64641,1,"\u0643\u0644"],[64642,1,"\u0643\u0645"],[64643,1,"\u0643\u0649"],[64644,1,"\u0643\u064A"],[64645,1,"\u0644\u0645"],[64646,1,"\u0644\u0649"],[64647,1,"\u0644\u064A"],[64648,1,"\u0645\u0627"],[64649,1,"\u0645\u0645"],[64650,1,"\u0646\u0631"],[64651,1,"\u0646\u0632"],[64652,1,"\u0646\u0645"],[64653,1,"\u0646\u0646"],[64654,1,"\u0646\u0649"],[64655,1,"\u0646\u064A"],[64656,1,"\u0649\u0670"],[64657,1,"\u064A\u0631"],[64658,1,"\u064A\u0632"],[64659,1,"\u064A\u0645"],[64660,1,"\u064A\u0646"],[64661,1,"\u064A\u0649"],[64662,1,"\u064A\u064A"],[64663,1,"\u0626\u062C"],[64664,1,"\u0626\u062D"],[64665,1,"\u0626\u062E"],[64666,1,"\u0626\u0645"],[64667,1,"\u0626\u0647"],[64668,1,"\u0628\u062C"],[64669,1,"\u0628\u062D"],[64670,1,"\u0628\u062E"],[64671,1,"\u0628\u0645"],[64672,1,"\u0628\u0647"],[64673,1,"\u062A\u062C"],[64674,1,"\u062A\u062D"],[64675,1,"\u062A\u062E"],[64676,1,"\u062A\u0645"],[64677,1,"\u062A\u0647"],[64678,1,"\u062B\u0645"],[64679,1,"\u062C\u062D"],[64680,1,"\u062C\u0645"],[64681,1,"\u062D\u062C"],[64682,1,"\u062D\u0645"],[64683,1,"\u062E\u062C"],[64684,1,"\u062E\u0645"],[64685,1,"\u0633\u062C"],[64686,1,"\u0633\u062D"],[64687,1,"\u0633\u062E"],[64688,1,"\u0633\u0645"],[64689,1,"\u0635\u062D"],[64690,1,"\u0635\u062E"],[64691,1,"\u0635\u0645"],[64692,1,"\u0636\u062C"],[64693,1,"\u0636\u062D"],[64694,1,"\u0636\u062E"],[64695,1,"\u0636\u0645"],[64696,1,"\u0637\u062D"],[64697,1,"\u0638\u0645"],[64698,1,"\u0639\u062C"],[64699,1,"\u0639\u0645"],[64700,1,"\u063A\u062C"],[64701,1,"\u063A\u0645"],[64702,1,"\u0641\u062C"],[64703,1,"\u0641\u062D"],[64704,1,"\u0641\u062E"],[64705,1,"\u0641\u0645"],[64706,1,"\u0642\u062D"],[64707,1,"\u0642\u0645"],[64708,1,"\u0643\u062C"],[64709,1,"\u0643\u062D"],[64710,1,"\u0643\u062E"],[64711,1,"\u0643\u0644"],[64712,1,"\u0643\u0645"],[64713,1,"\u0644\u062C"],[64714,1,"\u0644\u062D"],[64715,1,"\u0644\u062E"],[64716,1,"\u0644\u0645"],[64717,1,"\u0644\u0647"],[64718,1,"\u0645\u062C"],[64719,1,"\u0645\u062D"],[64720,1,"\u0645\u062E"],[64721,1,"\u0645\u0645"],[64722,1,"\u0646\u062C"],[64723,1,"\u0646\u062D"],[64724,1,"\u0646\u062E"],[64725,1,"\u0646\u0645"],[64726,1,"\u0646\u0647"],[64727,1,"\u0647\u062C"],[64728,1,"\u0647\u0645"],[64729,1,"\u0647\u0670"],[64730,1,"\u064A\u062C"],[64731,1,"\u064A\u062D"],[64732,1,"\u064A\u062E"],[64733,1,"\u064A\u0645"],[64734,1,"\u064A\u0647"],[64735,1,"\u0626\u0645"],[64736,1,"\u0626\u0647"],[64737,1,"\u0628\u0645"],[64738,1,"\u0628\u0647"],[64739,1,"\u062A\u0645"],[64740,1,"\u062A\u0647"],[64741,1,"\u062B\u0645"],[64742,1,"\u062B\u0647"],[64743,1,"\u0633\u0645"],[64744,1,"\u0633\u0647"],[64745,1,"\u0634\u0645"],[64746,1,"\u0634\u0647"],[64747,1,"\u0643\u0644"],[64748,1,"\u0643\u0645"],[64749,1,"\u0644\u0645"],[64750,1,"\u0646\u0645"],[64751,1,"\u0646\u0647"],[64752,1,"\u064A\u0645"],[64753,1,"\u064A\u0647"],[64754,1,"\u0640\u064E\u0651"],[64755,1,"\u0640\u064F\u0651"],[64756,1,"\u0640\u0650\u0651"],[64757,1,"\u0637\u0649"],[64758,1,"\u0637\u064A"],[64759,1,"\u0639\u0649"],[64760,1,"\u0639\u064A"],[64761,1,"\u063A\u0649"],[64762,1,"\u063A\u064A"],[64763,1,"\u0633\u0649"],[64764,1,"\u0633\u064A"],[64765,1,"\u0634\u0649"],[64766,1,"\u0634\u064A"],[64767,1,"\u062D\u0649"],[64768,1,"\u062D\u064A"],[64769,1,"\u062C\u0649"],[64770,1,"\u062C\u064A"],[64771,1,"\u062E\u0649"],[64772,1,"\u062E\u064A"],[64773,1,"\u0635\u0649"],[64774,1,"\u0635\u064A"],[64775,1,"\u0636\u0649"],[64776,1,"\u0636\u064A"],[64777,1,"\u0634\u062C"],[64778,1,"\u0634\u062D"],[64779,1,"\u0634\u062E"],[64780,1,"\u0634\u0645"],[64781,1,"\u0634\u0631"],[64782,1,"\u0633\u0631"],[64783,1,"\u0635\u0631"],[64784,1,"\u0636\u0631"],[64785,1,"\u0637\u0649"],[64786,1,"\u0637\u064A"],[64787,1,"\u0639\u0649"],[64788,1,"\u0639\u064A"],[64789,1,"\u063A\u0649"],[64790,1,"\u063A\u064A"],[64791,1,"\u0633\u0649"],[64792,1,"\u0633\u064A"],[64793,1,"\u0634\u0649"],[64794,1,"\u0634\u064A"],[64795,1,"\u062D\u0649"],[64796,1,"\u062D\u064A"],[64797,1,"\u062C\u0649"],[64798,1,"\u062C\u064A"],[64799,1,"\u062E\u0649"],[64800,1,"\u062E\u064A"],[64801,1,"\u0635\u0649"],[64802,1,"\u0635\u064A"],[64803,1,"\u0636\u0649"],[64804,1,"\u0636\u064A"],[64805,1,"\u0634\u062C"],[64806,1,"\u0634\u062D"],[64807,1,"\u0634\u062E"],[64808,1,"\u0634\u0645"],[64809,1,"\u0634\u0631"],[64810,1,"\u0633\u0631"],[64811,1,"\u0635\u0631"],[64812,1,"\u0636\u0631"],[64813,1,"\u0634\u062C"],[64814,1,"\u0634\u062D"],[64815,1,"\u0634\u062E"],[64816,1,"\u0634\u0645"],[64817,1,"\u0633\u0647"],[64818,1,"\u0634\u0647"],[64819,1,"\u0637\u0645"],[64820,1,"\u0633\u062C"],[64821,1,"\u0633\u062D"],[64822,1,"\u0633\u062E"],[64823,1,"\u0634\u062C"],[64824,1,"\u0634\u062D"],[64825,1,"\u0634\u062E"],[64826,1,"\u0637\u0645"],[64827,1,"\u0638\u0645"],[[64828,64829],1,"\u0627\u064B"],[[64830,64831],2],[[64832,64847],2],[64848,1,"\u062A\u062C\u0645"],[[64849,64850],1,"\u062A\u062D\u062C"],[64851,1,"\u062A\u062D\u0645"],[64852,1,"\u062A\u062E\u0645"],[64853,1,"\u062A\u0645\u062C"],[64854,1,"\u062A\u0645\u062D"],[64855,1,"\u062A\u0645\u062E"],[[64856,64857],1,"\u062C\u0645\u062D"],[64858,1,"\u062D\u0645\u064A"],[64859,1,"\u062D\u0645\u0649"],[64860,1,"\u0633\u062D\u062C"],[64861,1,"\u0633\u062C\u062D"],[64862,1,"\u0633\u062C\u0649"],[[64863,64864],1,"\u0633\u0645\u062D"],[64865,1,"\u0633\u0645\u062C"],[[64866,64867],1,"\u0633\u0645\u0645"],[[64868,64869],1,"\u0635\u062D\u062D"],[64870,1,"\u0635\u0645\u0645"],[[64871,64872],1,"\u0634\u062D\u0645"],[64873,1,"\u0634\u062C\u064A"],[[64874,64875],1,"\u0634\u0645\u062E"],[[64876,64877],1,"\u0634\u0645\u0645"],[64878,1,"\u0636\u062D\u0649"],[[64879,64880],1,"\u0636\u062E\u0645"],[[64881,64882],1,"\u0637\u0645\u062D"],[64883,1,"\u0637\u0645\u0645"],[64884,1,"\u0637\u0645\u064A"],[64885,1,"\u0639\u062C\u0645"],[[64886,64887],1,"\u0639\u0645\u0645"],[64888,1,"\u0639\u0645\u0649"],[64889,1,"\u063A\u0645\u0645"],[64890,1,"\u063A\u0645\u064A"],[64891,1,"\u063A\u0645\u0649"],[[64892,64893],1,"\u0641\u062E\u0645"],[64894,1,"\u0642\u0645\u062D"],[64895,1,"\u0642\u0645\u0645"],[64896,1,"\u0644\u062D\u0645"],[64897,1,"\u0644\u062D\u064A"],[64898,1,"\u0644\u062D\u0649"],[[64899,64900],1,"\u0644\u062C\u062C"],[[64901,64902],1,"\u0644\u062E\u0645"],[[64903,64904],1,"\u0644\u0645\u062D"],[64905,1,"\u0645\u062D\u062C"],[64906,1,"\u0645\u062D\u0645"],[64907,1,"\u0645\u062D\u064A"],[64908,1,"\u0645\u062C\u062D"],[64909,1,"\u0645\u062C\u0645"],[64910,1,"\u0645\u062E\u062C"],[64911,1,"\u0645\u062E\u0645"],[[64912,64913],3],[64914,1,"\u0645\u062C\u062E"],[64915,1,"\u0647\u0645\u062C"],[64916,1,"\u0647\u0645\u0645"],[64917,1,"\u0646\u062D\u0645"],[64918,1,"\u0646\u062D\u0649"],[[64919,64920],1,"\u0646\u062C\u0645"],[64921,1,"\u0646\u062C\u0649"],[64922,1,"\u0646\u0645\u064A"],[64923,1,"\u0646\u0645\u0649"],[[64924,64925],1,"\u064A\u0645\u0645"],[64926,1,"\u0628\u062E\u064A"],[64927,1,"\u062A\u062C\u064A"],[64928,1,"\u062A\u062C\u0649"],[64929,1,"\u062A\u062E\u064A"],[64930,1,"\u062A\u062E\u0649"],[64931,1,"\u062A\u0645\u064A"],[64932,1,"\u062A\u0645\u0649"],[64933,1,"\u062C\u0645\u064A"],[64934,1,"\u062C\u062D\u0649"],[64935,1,"\u062C\u0645\u0649"],[64936,1,"\u0633\u062E\u0649"],[64937,1,"\u0635\u062D\u064A"],[64938,1,"\u0634\u062D\u064A"],[64939,1,"\u0636\u062D\u064A"],[64940,1,"\u0644\u062C\u064A"],[64941,1,"\u0644\u0645\u064A"],[64942,1,"\u064A\u062D\u064A"],[64943,1,"\u064A\u062C\u064A"],[64944,1,"\u064A\u0645\u064A"],[64945,1,"\u0645\u0645\u064A"],[64946,1,"\u0642\u0645\u064A"],[64947,1,"\u0646\u062D\u064A"],[64948,1,"\u0642\u0645\u062D"],[64949,1,"\u0644\u062D\u0645"],[64950,1,"\u0639\u0645\u064A"],[64951,1,"\u0643\u0645\u064A"],[64952,1,"\u0646\u062C\u062D"],[64953,1,"\u0645\u062E\u064A"],[64954,1,"\u0644\u062C\u0645"],[64955,1,"\u0643\u0645\u0645"],[64956,1,"\u0644\u062C\u0645"],[64957,1,"\u0646\u062C\u062D"],[64958,1,"\u062C\u062D\u064A"],[64959,1,"\u062D\u062C\u064A"],[64960,1,"\u0645\u062C\u064A"],[64961,1,"\u0641\u0645\u064A"],[64962,1,"\u0628\u062D\u064A"],[64963,1,"\u0643\u0645\u0645"],[64964,1,"\u0639\u062C\u0645"],[64965,1,"\u0635\u0645\u0645"],[64966,1,"\u0633\u062E\u064A"],[64967,1,"\u0646\u062C\u064A"],[[64968,64974],3],[64975,2],[[64976,65007],3],[65008,1,"\u0635\u0644\u06D2"],[65009,1,"\u0642\u0644\u06D2"],[65010,1,"\u0627\u0644\u0644\u0647"],[65011,1,"\u0627\u0643\u0628\u0631"],[65012,1,"\u0645\u062D\u0645\u062F"],[65013,1,"\u0635\u0644\u0639\u0645"],[65014,1,"\u0631\u0633\u0648\u0644"],[65015,1,"\u0639\u0644\u064A\u0647"],[65016,1,"\u0648\u0633\u0644\u0645"],[65017,1,"\u0635\u0644\u0649"],[65018,5,"\u0635\u0644\u0649 \u0627\u0644\u0644\u0647 \u0639\u0644\u064A\u0647 \u0648\u0633\u0644\u0645"],[65019,5,"\u062C\u0644 \u062C\u0644\u0627\u0644\u0647"],[65020,1,"\u0631\u06CC\u0627\u0644"],[65021,2],[[65022,65023],2],[[65024,65039],7],[65040,5,","],[65041,1,"\u3001"],[65042,3],[65043,5,":"],[65044,5,";"],[65045,5,"!"],[65046,5,"?"],[65047,1,"\u3016"],[65048,1,"\u3017"],[65049,3],[[65050,65055],3],[[65056,65059],2],[[65060,65062],2],[[65063,65069],2],[[65070,65071],2],[65072,3],[65073,1,"\u2014"],[65074,1,"\u2013"],[[65075,65076],5,"_"],[65077,5,"("],[65078,5,")"],[65079,5,"{"],[65080,5,"}"],[65081,1,"\u3014"],[65082,1,"\u3015"],[65083,1,"\u3010"],[65084,1,"\u3011"],[65085,1,"\u300A"],[65086,1,"\u300B"],[65087,1,"\u3008"],[65088,1,"\u3009"],[65089,1,"\u300C"],[65090,1,"\u300D"],[65091,1,"\u300E"],[65092,1,"\u300F"],[[65093,65094],2],[65095,5,"["],[65096,5,"]"],[[65097,65100],5," \u0305"],[[65101,65103],5,"_"],[65104,5,","],[65105,1,"\u3001"],[65106,3],[65107,3],[65108,5,";"],[65109,5,":"],[65110,5,"?"],[65111,5,"!"],[65112,1,"\u2014"],[65113,5,"("],[65114,5,")"],[65115,5,"{"],[65116,5,"}"],[65117,1,"\u3014"],[65118,1,"\u3015"],[65119,5,"#"],[65120,5,"&"],[65121,5,"*"],[65122,5,"+"],[65123,1,"-"],[65124,5,"<"],[65125,5,">"],[65126,5,"="],[65127,3],[65128,5,"\\"],[65129,5,"$"],[65130,5,"%"],[65131,5,"@"],[[65132,65135],3],[65136,5," \u064B"],[65137,1,"\u0640\u064B"],[65138,5," \u064C"],[65139,2],[65140,5," \u064D"],[65141,3],[65142,5," \u064E"],[65143,1,"\u0640\u064E"],[65144,5," \u064F"],[65145,1,"\u0640\u064F"],[65146,5," \u0650"],[65147,1,"\u0640\u0650"],[65148,5," \u0651"],[65149,1,"\u0640\u0651"],[65150,5," \u0652"],[65151,1,"\u0640\u0652"],[65152,1,"\u0621"],[[65153,65154],1,"\u0622"],[[65155,65156],1,"\u0623"],[[65157,65158],1,"\u0624"],[[65159,65160],1,"\u0625"],[[65161,65164],1,"\u0626"],[[65165,65166],1,"\u0627"],[[65167,65170],1,"\u0628"],[[65171,65172],1,"\u0629"],[[65173,65176],1,"\u062A"],[[65177,65180],1,"\u062B"],[[65181,65184],1,"\u062C"],[[65185,65188],1,"\u062D"],[[65189,65192],1,"\u062E"],[[65193,65194],1,"\u062F"],[[65195,65196],1,"\u0630"],[[65197,65198],1,"\u0631"],[[65199,65200],1,"\u0632"],[[65201,65204],1,"\u0633"],[[65205,65208],1,"\u0634"],[[65209,65212],1,"\u0635"],[[65213,65216],1,"\u0636"],[[65217,65220],1,"\u0637"],[[65221,65224],1,"\u0638"],[[65225,65228],1,"\u0639"],[[65229,65232],1,"\u063A"],[[65233,65236],1,"\u0641"],[[65237,65240],1,"\u0642"],[[65241,65244],1,"\u0643"],[[65245,65248],1,"\u0644"],[[65249,65252],1,"\u0645"],[[65253,65256],1,"\u0646"],[[65257,65260],1,"\u0647"],[[65261,65262],1,"\u0648"],[[65263,65264],1,"\u0649"],[[65265,65268],1,"\u064A"],[[65269,65270],1,"\u0644\u0622"],[[65271,65272],1,"\u0644\u0623"],[[65273,65274],1,"\u0644\u0625"],[[65275,65276],1,"\u0644\u0627"],[[65277,65278],3],[65279,7],[65280,3],[65281,5,"!"],[65282,5,'"'],[65283,5,"#"],[65284,5,"$"],[65285,5,"%"],[65286,5,"&"],[65287,5,"'"],[65288,5,"("],[65289,5,")"],[65290,5,"*"],[65291,5,"+"],[65292,5,","],[65293,1,"-"],[65294,1,"."],[65295,5,"/"],[65296,1,"0"],[65297,1,"1"],[65298,1,"2"],[65299,1,"3"],[65300,1,"4"],[65301,1,"5"],[65302,1,"6"],[65303,1,"7"],[65304,1,"8"],[65305,1,"9"],[65306,5,":"],[65307,5,";"],[65308,5,"<"],[65309,5,"="],[65310,5,">"],[65311,5,"?"],[65312,5,"@"],[65313,1,"a"],[65314,1,"b"],[65315,1,"c"],[65316,1,"d"],[65317,1,"e"],[65318,1,"f"],[65319,1,"g"],[65320,1,"h"],[65321,1,"i"],[65322,1,"j"],[65323,1,"k"],[65324,1,"l"],[65325,1,"m"],[65326,1,"n"],[65327,1,"o"],[65328,1,"p"],[65329,1,"q"],[65330,1,"r"],[65331,1,"s"],[65332,1,"t"],[65333,1,"u"],[65334,1,"v"],[65335,1,"w"],[65336,1,"x"],[65337,1,"y"],[65338,1,"z"],[65339,5,"["],[65340,5,"\\"],[65341,5,"]"],[65342,5,"^"],[65343,5,"_"],[65344,5,"`"],[65345,1,"a"],[65346,1,"b"],[65347,1,"c"],[65348,1,"d"],[65349,1,"e"],[65350,1,"f"],[65351,1,"g"],[65352,1,"h"],[65353,1,"i"],[65354,1,"j"],[65355,1,"k"],[65356,1,"l"],[65357,1,"m"],[65358,1,"n"],[65359,1,"o"],[65360,1,"p"],[65361,1,"q"],[65362,1,"r"],[65363,1,"s"],[65364,1,"t"],[65365,1,"u"],[65366,1,"v"],[65367,1,"w"],[65368,1,"x"],[65369,1,"y"],[65370,1,"z"],[65371,5,"{"],[65372,5,"|"],[65373,5,"}"],[65374,5,"~"],[65375,1,"\u2985"],[65376,1,"\u2986"],[65377,1,"."],[65378,1,"\u300C"],[65379,1,"\u300D"],[65380,1,"\u3001"],[65381,1,"\u30FB"],[65382,1,"\u30F2"],[65383,1,"\u30A1"],[65384,1,"\u30A3"],[65385,1,"\u30A5"],[65386,1,"\u30A7"],[65387,1,"\u30A9"],[65388,1,"\u30E3"],[65389,1,"\u30E5"],[65390,1,"\u30E7"],[65391,1,"\u30C3"],[65392,1,"\u30FC"],[65393,1,"\u30A2"],[65394,1,"\u30A4"],[65395,1,"\u30A6"],[65396,1,"\u30A8"],[65397,1,"\u30AA"],[65398,1,"\u30AB"],[65399,1,"\u30AD"],[65400,1,"\u30AF"],[65401,1,"\u30B1"],[65402,1,"\u30B3"],[65403,1,"\u30B5"],[65404,1,"\u30B7"],[65405,1,"\u30B9"],[65406,1,"\u30BB"],[65407,1,"\u30BD"],[65408,1,"\u30BF"],[65409,1,"\u30C1"],[65410,1,"\u30C4"],[65411,1,"\u30C6"],[65412,1,"\u30C8"],[65413,1,"\u30CA"],[65414,1,"\u30CB"],[65415,1,"\u30CC"],[65416,1,"\u30CD"],[65417,1,"\u30CE"],[65418,1,"\u30CF"],[65419,1,"\u30D2"],[65420,1,"\u30D5"],[65421,1,"\u30D8"],[65422,1,"\u30DB"],[65423,1,"\u30DE"],[65424,1,"\u30DF"],[65425,1,"\u30E0"],[65426,1,"\u30E1"],[65427,1,"\u30E2"],[65428,1,"\u30E4"],[65429,1,"\u30E6"],[65430,1,"\u30E8"],[65431,1,"\u30E9"],[65432,1,"\u30EA"],[65433,1,"\u30EB"],[65434,1,"\u30EC"],[65435,1,"\u30ED"],[65436,1,"\u30EF"],[65437,1,"\u30F3"],[65438,1,"\u3099"],[65439,1,"\u309A"],[65440,3],[65441,1,"\u1100"],[65442,1,"\u1101"],[65443,1,"\u11AA"],[65444,1,"\u1102"],[65445,1,"\u11AC"],[65446,1,"\u11AD"],[65447,1,"\u1103"],[65448,1,"\u1104"],[65449,1,"\u1105"],[65450,1,"\u11B0"],[65451,1,"\u11B1"],[65452,1,"\u11B2"],[65453,1,"\u11B3"],[65454,1,"\u11B4"],[65455,1,"\u11B5"],[65456,1,"\u111A"],[65457,1,"\u1106"],[65458,1,"\u1107"],[65459,1,"\u1108"],[65460,1,"\u1121"],[65461,1,"\u1109"],[65462,1,"\u110A"],[65463,1,"\u110B"],[65464,1,"\u110C"],[65465,1,"\u110D"],[65466,1,"\u110E"],[65467,1,"\u110F"],[65468,1,"\u1110"],[65469,1,"\u1111"],[65470,1,"\u1112"],[[65471,65473],3],[65474,1,"\u1161"],[65475,1,"\u1162"],[65476,1,"\u1163"],[65477,1,"\u1164"],[65478,1,"\u1165"],[65479,1,"\u1166"],[[65480,65481],3],[65482,1,"\u1167"],[65483,1,"\u1168"],[65484,1,"\u1169"],[65485,1,"\u116A"],[65486,1,"\u116B"],[65487,1,"\u116C"],[[65488,65489],3],[65490,1,"\u116D"],[65491,1,"\u116E"],[65492,1,"\u116F"],[65493,1,"\u1170"],[65494,1,"\u1171"],[65495,1,"\u1172"],[[65496,65497],3],[65498,1,"\u1173"],[65499,1,"\u1174"],[65500,1,"\u1175"],[[65501,65503],3],[65504,1,"\xA2"],[65505,1,"\xA3"],[65506,1,"\xAC"],[65507,5," \u0304"],[65508,1,"\xA6"],[65509,1,"\xA5"],[65510,1,"\u20A9"],[65511,3],[65512,1,"\u2502"],[65513,1,"\u2190"],[65514,1,"\u2191"],[65515,1,"\u2192"],[65516,1,"\u2193"],[65517,1,"\u25A0"],[65518,1,"\u25CB"],[[65519,65528],3],[[65529,65531],3],[65532,3],[65533,3],[[65534,65535],3],[[65536,65547],2],[65548,3],[[65549,65574],2],[65575,3],[[65576,65594],2],[65595,3],[[65596,65597],2],[65598,3],[[65599,65613],2],[[65614,65615],3],[[65616,65629],2],[[65630,65663],3],[[65664,65786],2],[[65787,65791],3],[[65792,65794],2],[[65795,65798],3],[[65799,65843],2],[[65844,65846],3],[[65847,65855],2],[[65856,65930],2],[[65931,65932],2],[[65933,65934],2],[65935,3],[[65936,65947],2],[65948,2],[[65949,65951],3],[65952,2],[[65953,65999],3],[[66e3,66044],2],[66045,2],[[66046,66175],3],[[66176,66204],2],[[66205,66207],3],[[66208,66256],2],[[66257,66271],3],[66272,2],[[66273,66299],2],[[66300,66303],3],[[66304,66334],2],[66335,2],[[66336,66339],2],[[66340,66348],3],[[66349,66351],2],[[66352,66368],2],[66369,2],[[66370,66377],2],[66378,2],[[66379,66383],3],[[66384,66426],2],[[66427,66431],3],[[66432,66461],2],[66462,3],[66463,2],[[66464,66499],2],[[66500,66503],3],[[66504,66511],2],[[66512,66517],2],[[66518,66559],3],[66560,1,"\u{10428}"],[66561,1,"\u{10429}"],[66562,1,"\u{1042A}"],[66563,1,"\u{1042B}"],[66564,1,"\u{1042C}"],[66565,1,"\u{1042D}"],[66566,1,"\u{1042E}"],[66567,1,"\u{1042F}"],[66568,1,"\u{10430}"],[66569,1,"\u{10431}"],[66570,1,"\u{10432}"],[66571,1,"\u{10433}"],[66572,1,"\u{10434}"],[66573,1,"\u{10435}"],[66574,1,"\u{10436}"],[66575,1,"\u{10437}"],[66576,1,"\u{10438}"],[66577,1,"\u{10439}"],[66578,1,"\u{1043A}"],[66579,1,"\u{1043B}"],[66580,1,"\u{1043C}"],[66581,1,"\u{1043D}"],[66582,1,"\u{1043E}"],[66583,1,"\u{1043F}"],[66584,1,"\u{10440}"],[66585,1,"\u{10441}"],[66586,1,"\u{10442}"],[66587,1,"\u{10443}"],[66588,1,"\u{10444}"],[66589,1,"\u{10445}"],[66590,1,"\u{10446}"],[66591,1,"\u{10447}"],[66592,1,"\u{10448}"],[66593,1,"\u{10449}"],[66594,1,"\u{1044A}"],[66595,1,"\u{1044B}"],[66596,1,"\u{1044C}"],[66597,1,"\u{1044D}"],[66598,1,"\u{1044E}"],[66599,1,"\u{1044F}"],[[66600,66637],2],[[66638,66717],2],[[66718,66719],3],[[66720,66729],2],[[66730,66735],3],[66736,1,"\u{104D8}"],[66737,1,"\u{104D9}"],[66738,1,"\u{104DA}"],[66739,1,"\u{104DB}"],[66740,1,"\u{104DC}"],[66741,1,"\u{104DD}"],[66742,1,"\u{104DE}"],[66743,1,"\u{104DF}"],[66744,1,"\u{104E0}"],[66745,1,"\u{104E1}"],[66746,1,"\u{104E2}"],[66747,1,"\u{104E3}"],[66748,1,"\u{104E4}"],[66749,1,"\u{104E5}"],[66750,1,"\u{104E6}"],[66751,1,"\u{104E7}"],[66752,1,"\u{104E8}"],[66753,1,"\u{104E9}"],[66754,1,"\u{104EA}"],[66755,1,"\u{104EB}"],[66756,1,"\u{104EC}"],[66757,1,"\u{104ED}"],[66758,1,"\u{104EE}"],[66759,1,"\u{104EF}"],[66760,1,"\u{104F0}"],[66761,1,"\u{104F1}"],[66762,1,"\u{104F2}"],[66763,1,"\u{104F3}"],[66764,1,"\u{104F4}"],[66765,1,"\u{104F5}"],[66766,1,"\u{104F6}"],[66767,1,"\u{104F7}"],[66768,1,"\u{104F8}"],[66769,1,"\u{104F9}"],[66770,1,"\u{104FA}"],[66771,1,"\u{104FB}"],[[66772,66775],3],[[66776,66811],2],[[66812,66815],3],[[66816,66855],2],[[66856,66863],3],[[66864,66915],2],[[66916,66926],3],[66927,2],[66928,1,"\u{10597}"],[66929,1,"\u{10598}"],[66930,1,"\u{10599}"],[66931,1,"\u{1059A}"],[66932,1,"\u{1059B}"],[66933,1,"\u{1059C}"],[66934,1,"\u{1059D}"],[66935,1,"\u{1059E}"],[66936,1,"\u{1059F}"],[66937,1,"\u{105A0}"],[66938,1,"\u{105A1}"],[66939,3],[66940,1,"\u{105A3}"],[66941,1,"\u{105A4}"],[66942,1,"\u{105A5}"],[66943,1,"\u{105A6}"],[66944,1,"\u{105A7}"],[66945,1,"\u{105A8}"],[66946,1,"\u{105A9}"],[66947,1,"\u{105AA}"],[66948,1,"\u{105AB}"],[66949,1,"\u{105AC}"],[66950,1,"\u{105AD}"],[66951,1,"\u{105AE}"],[66952,1,"\u{105AF}"],[66953,1,"\u{105B0}"],[66954,1,"\u{105B1}"],[66955,3],[66956,1,"\u{105B3}"],[66957,1,"\u{105B4}"],[66958,1,"\u{105B5}"],[66959,1,"\u{105B6}"],[66960,1,"\u{105B7}"],[66961,1,"\u{105B8}"],[66962,1,"\u{105B9}"],[66963,3],[66964,1,"\u{105BB}"],[66965,1,"\u{105BC}"],[66966,3],[[66967,66977],2],[66978,3],[[66979,66993],2],[66994,3],[[66995,67001],2],[67002,3],[[67003,67004],2],[[67005,67071],3],[[67072,67382],2],[[67383,67391],3],[[67392,67413],2],[[67414,67423],3],[[67424,67431],2],[[67432,67455],3],[67456,2],[67457,1,"\u02D0"],[67458,1,"\u02D1"],[67459,1,"\xE6"],[67460,1,"\u0299"],[67461,1,"\u0253"],[67462,3],[67463,1,"\u02A3"],[67464,1,"\uAB66"],[67465,1,"\u02A5"],[67466,1,"\u02A4"],[67467,1,"\u0256"],[67468,1,"\u0257"],[67469,1,"\u1D91"],[67470,1,"\u0258"],[67471,1,"\u025E"],[67472,1,"\u02A9"],[67473,1,"\u0264"],[67474,1,"\u0262"],[67475,1,"\u0260"],[67476,1,"\u029B"],[67477,1,"\u0127"],[67478,1,"\u029C"],[67479,1,"\u0267"],[67480,1,"\u0284"],[67481,1,"\u02AA"],[67482,1,"\u02AB"],[67483,1,"\u026C"],[67484,1,"\u{1DF04}"],[67485,1,"\uA78E"],[67486,1,"\u026E"],[67487,1,"\u{1DF05}"],[67488,1,"\u028E"],[67489,1,"\u{1DF06}"],[67490,1,"\xF8"],[67491,1,"\u0276"],[67492,1,"\u0277"],[67493,1,"q"],[67494,1,"\u027A"],[67495,1,"\u{1DF08}"],[67496,1,"\u027D"],[67497,1,"\u027E"],[67498,1,"\u0280"],[67499,1,"\u02A8"],[67500,1,"\u02A6"],[67501,1,"\uAB67"],[67502,1,"\u02A7"],[67503,1,"\u0288"],[67504,1,"\u2C71"],[67505,3],[67506,1,"\u028F"],[67507,1,"\u02A1"],[67508,1,"\u02A2"],[67509,1,"\u0298"],[67510,1,"\u01C0"],[67511,1,"\u01C1"],[67512,1,"\u01C2"],[67513,1,"\u{1DF0A}"],[67514,1,"\u{1DF1E}"],[[67515,67583],3],[[67584,67589],2],[[67590,67591],3],[67592,2],[67593,3],[[67594,67637],2],[67638,3],[[67639,67640],2],[[67641,67643],3],[67644,2],[[67645,67646],3],[67647,2],[[67648,67669],2],[67670,3],[[67671,67679],2],[[67680,67702],2],[[67703,67711],2],[[67712,67742],2],[[67743,67750],3],[[67751,67759],2],[[67760,67807],3],[[67808,67826],2],[67827,3],[[67828,67829],2],[[67830,67834],3],[[67835,67839],2],[[67840,67861],2],[[67862,67865],2],[[67866,67867],2],[[67868,67870],3],[67871,2],[[67872,67897],2],[[67898,67902],3],[67903,2],[[67904,67967],3],[[67968,68023],2],[[68024,68027],3],[[68028,68029],2],[[68030,68031],2],[[68032,68047],2],[[68048,68049],3],[[68050,68095],2],[[68096,68099],2],[68100,3],[[68101,68102],2],[[68103,68107],3],[[68108,68115],2],[68116,3],[[68117,68119],2],[68120,3],[[68121,68147],2],[[68148,68149],2],[[68150,68151],3],[[68152,68154],2],[[68155,68158],3],[68159,2],[[68160,68167],2],[68168,2],[[68169,68175],3],[[68176,68184],2],[[68185,68191],3],[[68192,68220],2],[[68221,68223],2],[[68224,68252],2],[[68253,68255],2],[[68256,68287],3],[[68288,68295],2],[68296,2],[[68297,68326],2],[[68327,68330],3],[[68331,68342],2],[[68343,68351],3],[[68352,68405],2],[[68406,68408],3],[[68409,68415],2],[[68416,68437],2],[[68438,68439],3],[[68440,68447],2],[[68448,68466],2],[[68467,68471],3],[[68472,68479],2],[[68480,68497],2],[[68498,68504],3],[[68505,68508],2],[[68509,68520],3],[[68521,68527],2],[[68528,68607],3],[[68608,68680],2],[[68681,68735],3],[68736,1,"\u{10CC0}"],[68737,1,"\u{10CC1}"],[68738,1,"\u{10CC2}"],[68739,1,"\u{10CC3}"],[68740,1,"\u{10CC4}"],[68741,1,"\u{10CC5}"],[68742,1,"\u{10CC6}"],[68743,1,"\u{10CC7}"],[68744,1,"\u{10CC8}"],[68745,1,"\u{10CC9}"],[68746,1,"\u{10CCA}"],[68747,1,"\u{10CCB}"],[68748,1,"\u{10CCC}"],[68749,1,"\u{10CCD}"],[68750,1,"\u{10CCE}"],[68751,1,"\u{10CCF}"],[68752,1,"\u{10CD0}"],[68753,1,"\u{10CD1}"],[68754,1,"\u{10CD2}"],[68755,1,"\u{10CD3}"],[68756,1,"\u{10CD4}"],[68757,1,"\u{10CD5}"],[68758,1,"\u{10CD6}"],[68759,1,"\u{10CD7}"],[68760,1,"\u{10CD8}"],[68761,1,"\u{10CD9}"],[68762,1,"\u{10CDA}"],[68763,1,"\u{10CDB}"],[68764,1,"\u{10CDC}"],[68765,1,"\u{10CDD}"],[68766,1,"\u{10CDE}"],[68767,1,"\u{10CDF}"],[68768,1,"\u{10CE0}"],[68769,1,"\u{10CE1}"],[68770,1,"\u{10CE2}"],[68771,1,"\u{10CE3}"],[68772,1,"\u{10CE4}"],[68773,1,"\u{10CE5}"],[68774,1,"\u{10CE6}"],[68775,1,"\u{10CE7}"],[68776,1,"\u{10CE8}"],[68777,1,"\u{10CE9}"],[68778,1,"\u{10CEA}"],[68779,1,"\u{10CEB}"],[68780,1,"\u{10CEC}"],[68781,1,"\u{10CED}"],[68782,1,"\u{10CEE}"],[68783,1,"\u{10CEF}"],[68784,1,"\u{10CF0}"],[68785,1,"\u{10CF1}"],[68786,1,"\u{10CF2}"],[[68787,68799],3],[[68800,68850],2],[[68851,68857],3],[[68858,68863],2],[[68864,68903],2],[[68904,68911],3],[[68912,68921],2],[[68922,69215],3],[[69216,69246],2],[69247,3],[[69248,69289],2],[69290,3],[[69291,69292],2],[69293,2],[[69294,69295],3],[[69296,69297],2],[[69298,69375],3],[[69376,69404],2],[[69405,69414],2],[69415,2],[[69416,69423],3],[[69424,69456],2],[[69457,69465],2],[[69466,69487],3],[[69488,69509],2],[[69510,69513],2],[[69514,69551],3],[[69552,69572],2],[[69573,69579],2],[[69580,69599],3],[[69600,69622],2],[[69623,69631],3],[[69632,69702],2],[[69703,69709],2],[[69710,69713],3],[[69714,69733],2],[[69734,69743],2],[[69744,69749],2],[[69750,69758],3],[69759,2],[[69760,69818],2],[[69819,69820],2],[69821,3],[[69822,69825],2],[69826,2],[[69827,69836],3],[69837,3],[[69838,69839],3],[[69840,69864],2],[[69865,69871],3],[[69872,69881],2],[[69882,69887],3],[[69888,69940],2],[69941,3],[[69942,69951],2],[[69952,69955],2],[[69956,69958],2],[69959,2],[[69960,69967],3],[[69968,70003],2],[[70004,70005],2],[70006,2],[[70007,70015],3],[[70016,70084],2],[[70085,70088],2],[[70089,70092],2],[70093,2],[[70094,70095],2],[[70096,70105],2],[70106,2],[70107,2],[70108,2],[[70109,70111],2],[70112,3],[[70113,70132],2],[[70133,70143],3],[[70144,70161],2],[70162,3],[[70163,70199],2],[[70200,70205],2],[70206,2],[[70207,70271],3],[[70272,70278],2],[70279,3],[70280,2],[70281,3],[[70282,70285],2],[70286,3],[[70287,70301],2],[70302,3],[[70303,70312],2],[70313,2],[[70314,70319],3],[[70320,70378],2],[[70379,70383],3],[[70384,70393],2],[[70394,70399],3],[70400,2],[[70401,70403],2],[70404,3],[[70405,70412],2],[[70413,70414],3],[[70415,70416],2],[[70417,70418],3],[[70419,70440],2],[70441,3],[[70442,70448],2],[70449,3],[[70450,70451],2],[70452,3],[[70453,70457],2],[70458,3],[70459,2],[[70460,70468],2],[[70469,70470],3],[[70471,70472],2],[[70473,70474],3],[[70475,70477],2],[[70478,70479],3],[70480,2],[[70481,70486],3],[70487,2],[[70488,70492],3],[[70493,70499],2],[[70500,70501],3],[[70502,70508],2],[[70509,70511],3],[[70512,70516],2],[[70517,70655],3],[[70656,70730],2],[[70731,70735],2],[[70736,70745],2],[70746,2],[70747,2],[70748,3],[70749,2],[70750,2],[70751,2],[[70752,70753],2],[[70754,70783],3],[[70784,70853],2],[70854,2],[70855,2],[[70856,70863],3],[[70864,70873],2],[[70874,71039],3],[[71040,71093],2],[[71094,71095],3],[[71096,71104],2],[[71105,71113],2],[[71114,71127],2],[[71128,71133],2],[[71134,71167],3],[[71168,71232],2],[[71233,71235],2],[71236,2],[[71237,71247],3],[[71248,71257],2],[[71258,71263],3],[[71264,71276],2],[[71277,71295],3],[[71296,71351],2],[71352,2],[71353,2],[[71354,71359],3],[[71360,71369],2],[[71370,71423],3],[[71424,71449],2],[71450,2],[[71451,71452],3],[[71453,71467],2],[[71468,71471],3],[[71472,71481],2],[[71482,71487],2],[[71488,71494],2],[[71495,71679],3],[[71680,71738],2],[71739,2],[[71740,71839],3],[71840,1,"\u{118C0}"],[71841,1,"\u{118C1}"],[71842,1,"\u{118C2}"],[71843,1,"\u{118C3}"],[71844,1,"\u{118C4}"],[71845,1,"\u{118C5}"],[71846,1,"\u{118C6}"],[71847,1,"\u{118C7}"],[71848,1,"\u{118C8}"],[71849,1,"\u{118C9}"],[71850,1,"\u{118CA}"],[71851,1,"\u{118CB}"],[71852,1,"\u{118CC}"],[71853,1,"\u{118CD}"],[71854,1,"\u{118CE}"],[71855,1,"\u{118CF}"],[71856,1,"\u{118D0}"],[71857,1,"\u{118D1}"],[71858,1,"\u{118D2}"],[71859,1,"\u{118D3}"],[71860,1,"\u{118D4}"],[71861,1,"\u{118D5}"],[71862,1,"\u{118D6}"],[71863,1,"\u{118D7}"],[71864,1,"\u{118D8}"],[71865,1,"\u{118D9}"],[71866,1,"\u{118DA}"],[71867,1,"\u{118DB}"],[71868,1,"\u{118DC}"],[71869,1,"\u{118DD}"],[71870,1,"\u{118DE}"],[71871,1,"\u{118DF}"],[[71872,71913],2],[[71914,71922],2],[[71923,71934],3],[71935,2],[[71936,71942],2],[[71943,71944],3],[71945,2],[[71946,71947],3],[[71948,71955],2],[71956,3],[[71957,71958],2],[71959,3],[[71960,71989],2],[71990,3],[[71991,71992],2],[[71993,71994],3],[[71995,72003],2],[[72004,72006],2],[[72007,72015],3],[[72016,72025],2],[[72026,72095],3],[[72096,72103],2],[[72104,72105],3],[[72106,72151],2],[[72152,72153],3],[[72154,72161],2],[72162,2],[[72163,72164],2],[[72165,72191],3],[[72192,72254],2],[[72255,72262],2],[72263,2],[[72264,72271],3],[[72272,72323],2],[[72324,72325],2],[[72326,72345],2],[[72346,72348],2],[72349,2],[[72350,72354],2],[[72355,72367],3],[[72368,72383],2],[[72384,72440],2],[[72441,72703],3],[[72704,72712],2],[72713,3],[[72714,72758],2],[72759,3],[[72760,72768],2],[[72769,72773],2],[[72774,72783],3],[[72784,72793],2],[[72794,72812],2],[[72813,72815],3],[[72816,72817],2],[[72818,72847],2],[[72848,72849],3],[[72850,72871],2],[72872,3],[[72873,72886],2],[[72887,72959],3],[[72960,72966],2],[72967,3],[[72968,72969],2],[72970,3],[[72971,73014],2],[[73015,73017],3],[73018,2],[73019,3],[[73020,73021],2],[73022,3],[[73023,73031],2],[[73032,73039],3],[[73040,73049],2],[[73050,73055],3],[[73056,73061],2],[73062,3],[[73063,73064],2],[73065,3],[[73066,73102],2],[73103,3],[[73104,73105],2],[73106,3],[[73107,73112],2],[[73113,73119],3],[[73120,73129],2],[[73130,73439],3],[[73440,73462],2],[[73463,73464],2],[[73465,73647],3],[73648,2],[[73649,73663],3],[[73664,73713],2],[[73714,73726],3],[73727,2],[[73728,74606],2],[[74607,74648],2],[74649,2],[[74650,74751],3],[[74752,74850],2],[[74851,74862],2],[74863,3],[[74864,74867],2],[74868,2],[[74869,74879],3],[[74880,75075],2],[[75076,77711],3],[[77712,77808],2],[[77809,77810],2],[[77811,77823],3],[[77824,78894],2],[78895,3],[[78896,78904],3],[[78905,82943],3],[[82944,83526],2],[[83527,92159],3],[[92160,92728],2],[[92729,92735],3],[[92736,92766],2],[92767,3],[[92768,92777],2],[[92778,92781],3],[[92782,92783],2],[[92784,92862],2],[92863,3],[[92864,92873],2],[[92874,92879],3],[[92880,92909],2],[[92910,92911],3],[[92912,92916],2],[92917,2],[[92918,92927],3],[[92928,92982],2],[[92983,92991],2],[[92992,92995],2],[[92996,92997],2],[[92998,93007],3],[[93008,93017],2],[93018,3],[[93019,93025],2],[93026,3],[[93027,93047],2],[[93048,93052],3],[[93053,93071],2],[[93072,93759],3],[93760,1,"\u{16E60}"],[93761,1,"\u{16E61}"],[93762,1,"\u{16E62}"],[93763,1,"\u{16E63}"],[93764,1,"\u{16E64}"],[93765,1,"\u{16E65}"],[93766,1,"\u{16E66}"],[93767,1,"\u{16E67}"],[93768,1,"\u{16E68}"],[93769,1,"\u{16E69}"],[93770,1,"\u{16E6A}"],[93771,1,"\u{16E6B}"],[93772,1,"\u{16E6C}"],[93773,1,"\u{16E6D}"],[93774,1,"\u{16E6E}"],[93775,1,"\u{16E6F}"],[93776,1,"\u{16E70}"],[93777,1,"\u{16E71}"],[93778,1,"\u{16E72}"],[93779,1,"\u{16E73}"],[93780,1,"\u{16E74}"],[93781,1,"\u{16E75}"],[93782,1,"\u{16E76}"],[93783,1,"\u{16E77}"],[93784,1,"\u{16E78}"],[93785,1,"\u{16E79}"],[93786,1,"\u{16E7A}"],[93787,1,"\u{16E7B}"],[93788,1,"\u{16E7C}"],[93789,1,"\u{16E7D}"],[93790,1,"\u{16E7E}"],[93791,1,"\u{16E7F}"],[[93792,93823],2],[[93824,93850],2],[[93851,93951],3],[[93952,94020],2],[[94021,94026],2],[[94027,94030],3],[94031,2],[[94032,94078],2],[[94079,94087],2],[[94088,94094],3],[[94095,94111],2],[[94112,94175],3],[94176,2],[94177,2],[94178,2],[94179,2],[94180,2],[[94181,94191],3],[[94192,94193],2],[[94194,94207],3],[[94208,100332],2],[[100333,100337],2],[[100338,100343],2],[[100344,100351],3],[[100352,101106],2],[[101107,101589],2],[[101590,101631],3],[[101632,101640],2],[[101641,110575],3],[[110576,110579],2],[110580,3],[[110581,110587],2],[110588,3],[[110589,110590],2],[110591,3],[[110592,110593],2],[[110594,110878],2],[[110879,110882],2],[[110883,110927],3],[[110928,110930],2],[[110931,110947],3],[[110948,110951],2],[[110952,110959],3],[[110960,111355],2],[[111356,113663],3],[[113664,113770],2],[[113771,113775],3],[[113776,113788],2],[[113789,113791],3],[[113792,113800],2],[[113801,113807],3],[[113808,113817],2],[[113818,113819],3],[113820,2],[[113821,113822],2],[113823,2],[[113824,113827],7],[[113828,118527],3],[[118528,118573],2],[[118574,118575],3],[[118576,118598],2],[[118599,118607],3],[[118608,118723],2],[[118724,118783],3],[[118784,119029],2],[[119030,119039],3],[[119040,119078],2],[[119079,119080],3],[119081,2],[[119082,119133],2],[119134,1,"\u{1D157}\u{1D165}"],[119135,1,"\u{1D158}\u{1D165}"],[119136,1,"\u{1D158}\u{1D165}\u{1D16E}"],[119137,1,"\u{1D158}\u{1D165}\u{1D16F}"],[119138,1,"\u{1D158}\u{1D165}\u{1D170}"],[119139,1,"\u{1D158}\u{1D165}\u{1D171}"],[119140,1,"\u{1D158}\u{1D165}\u{1D172}"],[[119141,119154],2],[[119155,119162],3],[[119163,119226],2],[119227,1,"\u{1D1B9}\u{1D165}"],[119228,1,"\u{1D1BA}\u{1D165}"],[119229,1,"\u{1D1B9}\u{1D165}\u{1D16E}"],[119230,1,"\u{1D1BA}\u{1D165}\u{1D16E}"],[119231,1,"\u{1D1B9}\u{1D165}\u{1D16F}"],[119232,1,"\u{1D1BA}\u{1D165}\u{1D16F}"],[[119233,119261],2],[[119262,119272],2],[[119273,119274],2],[[119275,119295],3],[[119296,119365],2],[[119366,119519],3],[[119520,119539],2],[[119540,119551],3],[[119552,119638],2],[[119639,119647],3],[[119648,119665],2],[[119666,119672],2],[[119673,119807],3],[119808,1,"a"],[119809,1,"b"],[119810,1,"c"],[119811,1,"d"],[119812,1,"e"],[119813,1,"f"],[119814,1,"g"],[119815,1,"h"],[119816,1,"i"],[119817,1,"j"],[119818,1,"k"],[119819,1,"l"],[119820,1,"m"],[119821,1,"n"],[119822,1,"o"],[119823,1,"p"],[119824,1,"q"],[119825,1,"r"],[119826,1,"s"],[119827,1,"t"],[119828,1,"u"],[119829,1,"v"],[119830,1,"w"],[119831,1,"x"],[119832,1,"y"],[119833,1,"z"],[119834,1,"a"],[119835,1,"b"],[119836,1,"c"],[119837,1,"d"],[119838,1,"e"],[119839,1,"f"],[119840,1,"g"],[119841,1,"h"],[119842,1,"i"],[119843,1,"j"],[119844,1,"k"],[119845,1,"l"],[119846,1,"m"],[119847,1,"n"],[119848,1,"o"],[119849,1,"p"],[119850,1,"q"],[119851,1,"r"],[119852,1,"s"],[119853,1,"t"],[119854,1,"u"],[119855,1,"v"],[119856,1,"w"],[119857,1,"x"],[119858,1,"y"],[119859,1,"z"],[119860,1,"a"],[119861,1,"b"],[119862,1,"c"],[119863,1,"d"],[119864,1,"e"],[119865,1,"f"],[119866,1,"g"],[119867,1,"h"],[119868,1,"i"],[119869,1,"j"],[119870,1,"k"],[119871,1,"l"],[119872,1,"m"],[119873,1,"n"],[119874,1,"o"],[119875,1,"p"],[119876,1,"q"],[119877,1,"r"],[119878,1,"s"],[119879,1,"t"],[119880,1,"u"],[119881,1,"v"],[119882,1,"w"],[119883,1,"x"],[119884,1,"y"],[119885,1,"z"],[119886,1,"a"],[119887,1,"b"],[119888,1,"c"],[119889,1,"d"],[119890,1,"e"],[119891,1,"f"],[119892,1,"g"],[119893,3],[119894,1,"i"],[119895,1,"j"],[119896,1,"k"],[119897,1,"l"],[119898,1,"m"],[119899,1,"n"],[119900,1,"o"],[119901,1,"p"],[119902,1,"q"],[119903,1,"r"],[119904,1,"s"],[119905,1,"t"],[119906,1,"u"],[119907,1,"v"],[119908,1,"w"],[119909,1,"x"],[119910,1,"y"],[119911,1,"z"],[119912,1,"a"],[119913,1,"b"],[119914,1,"c"],[119915,1,"d"],[119916,1,"e"],[119917,1,"f"],[119918,1,"g"],[119919,1,"h"],[119920,1,"i"],[119921,1,"j"],[119922,1,"k"],[119923,1,"l"],[119924,1,"m"],[119925,1,"n"],[119926,1,"o"],[119927,1,"p"],[119928,1,"q"],[119929,1,"r"],[119930,1,"s"],[119931,1,"t"],[119932,1,"u"],[119933,1,"v"],[119934,1,"w"],[119935,1,"x"],[119936,1,"y"],[119937,1,"z"],[119938,1,"a"],[119939,1,"b"],[119940,1,"c"],[119941,1,"d"],[119942,1,"e"],[119943,1,"f"],[119944,1,"g"],[119945,1,"h"],[119946,1,"i"],[119947,1,"j"],[119948,1,"k"],[119949,1,"l"],[119950,1,"m"],[119951,1,"n"],[119952,1,"o"],[119953,1,"p"],[119954,1,"q"],[119955,1,"r"],[119956,1,"s"],[119957,1,"t"],[119958,1,"u"],[119959,1,"v"],[119960,1,"w"],[119961,1,"x"],[119962,1,"y"],[119963,1,"z"],[119964,1,"a"],[119965,3],[119966,1,"c"],[119967,1,"d"],[[119968,119969],3],[119970,1,"g"],[[119971,119972],3],[119973,1,"j"],[119974,1,"k"],[[119975,119976],3],[119977,1,"n"],[119978,1,"o"],[119979,1,"p"],[119980,1,"q"],[119981,3],[119982,1,"s"],[119983,1,"t"],[119984,1,"u"],[119985,1,"v"],[119986,1,"w"],[119987,1,"x"],[119988,1,"y"],[119989,1,"z"],[119990,1,"a"],[119991,1,"b"],[119992,1,"c"],[119993,1,"d"],[119994,3],[119995,1,"f"],[119996,3],[119997,1,"h"],[119998,1,"i"],[119999,1,"j"],[12e4,1,"k"],[120001,1,"l"],[120002,1,"m"],[120003,1,"n"],[120004,3],[120005,1,"p"],[120006,1,"q"],[120007,1,"r"],[120008,1,"s"],[120009,1,"t"],[120010,1,"u"],[120011,1,"v"],[120012,1,"w"],[120013,1,"x"],[120014,1,"y"],[120015,1,"z"],[120016,1,"a"],[120017,1,"b"],[120018,1,"c"],[120019,1,"d"],[120020,1,"e"],[120021,1,"f"],[120022,1,"g"],[120023,1,"h"],[120024,1,"i"],[120025,1,"j"],[120026,1,"k"],[120027,1,"l"],[120028,1,"m"],[120029,1,"n"],[120030,1,"o"],[120031,1,"p"],[120032,1,"q"],[120033,1,"r"],[120034,1,"s"],[120035,1,"t"],[120036,1,"u"],[120037,1,"v"],[120038,1,"w"],[120039,1,"x"],[120040,1,"y"],[120041,1,"z"],[120042,1,"a"],[120043,1,"b"],[120044,1,"c"],[120045,1,"d"],[120046,1,"e"],[120047,1,"f"],[120048,1,"g"],[120049,1,"h"],[120050,1,"i"],[120051,1,"j"],[120052,1,"k"],[120053,1,"l"],[120054,1,"m"],[120055,1,"n"],[120056,1,"o"],[120057,1,"p"],[120058,1,"q"],[120059,1,"r"],[120060,1,"s"],[120061,1,"t"],[120062,1,"u"],[120063,1,"v"],[120064,1,"w"],[120065,1,"x"],[120066,1,"y"],[120067,1,"z"],[120068,1,"a"],[120069,1,"b"],[120070,3],[120071,1,"d"],[120072,1,"e"],[120073,1,"f"],[120074,1,"g"],[[120075,120076],3],[120077,1,"j"],[120078,1,"k"],[120079,1,"l"],[120080,1,"m"],[120081,1,"n"],[120082,1,"o"],[120083,1,"p"],[120084,1,"q"],[120085,3],[120086,1,"s"],[120087,1,"t"],[120088,1,"u"],[120089,1,"v"],[120090,1,"w"],[120091,1,"x"],[120092,1,"y"],[120093,3],[120094,1,"a"],[120095,1,"b"],[120096,1,"c"],[120097,1,"d"],[120098,1,"e"],[120099,1,"f"],[120100,1,"g"],[120101,1,"h"],[120102,1,"i"],[120103,1,"j"],[120104,1,"k"],[120105,1,"l"],[120106,1,"m"],[120107,1,"n"],[120108,1,"o"],[120109,1,"p"],[120110,1,"q"],[120111,1,"r"],[120112,1,"s"],[120113,1,"t"],[120114,1,"u"],[120115,1,"v"],[120116,1,"w"],[120117,1,"x"],[120118,1,"y"],[120119,1,"z"],[120120,1,"a"],[120121,1,"b"],[120122,3],[120123,1,"d"],[120124,1,"e"],[120125,1,"f"],[120126,1,"g"],[120127,3],[120128,1,"i"],[120129,1,"j"],[120130,1,"k"],[120131,1,"l"],[120132,1,"m"],[120133,3],[120134,1,"o"],[[120135,120137],3],[120138,1,"s"],[120139,1,"t"],[120140,1,"u"],[120141,1,"v"],[120142,1,"w"],[120143,1,"x"],[120144,1,"y"],[120145,3],[120146,1,"a"],[120147,1,"b"],[120148,1,"c"],[120149,1,"d"],[120150,1,"e"],[120151,1,"f"],[120152,1,"g"],[120153,1,"h"],[120154,1,"i"],[120155,1,"j"],[120156,1,"k"],[120157,1,"l"],[120158,1,"m"],[120159,1,"n"],[120160,1,"o"],[120161,1,"p"],[120162,1,"q"],[120163,1,"r"],[120164,1,"s"],[120165,1,"t"],[120166,1,"u"],[120167,1,"v"],[120168,1,"w"],[120169,1,"x"],[120170,1,"y"],[120171,1,"z"],[120172,1,"a"],[120173,1,"b"],[120174,1,"c"],[120175,1,"d"],[120176,1,"e"],[120177,1,"f"],[120178,1,"g"],[120179,1,"h"],[120180,1,"i"],[120181,1,"j"],[120182,1,"k"],[120183,1,"l"],[120184,1,"m"],[120185,1,"n"],[120186,1,"o"],[120187,1,"p"],[120188,1,"q"],[120189,1,"r"],[120190,1,"s"],[120191,1,"t"],[120192,1,"u"],[120193,1,"v"],[120194,1,"w"],[120195,1,"x"],[120196,1,"y"],[120197,1,"z"],[120198,1,"a"],[120199,1,"b"],[120200,1,"c"],[120201,1,"d"],[120202,1,"e"],[120203,1,"f"],[120204,1,"g"],[120205,1,"h"],[120206,1,"i"],[120207,1,"j"],[120208,1,"k"],[120209,1,"l"],[120210,1,"m"],[120211,1,"n"],[120212,1,"o"],[120213,1,"p"],[120214,1,"q"],[120215,1,"r"],[120216,1,"s"],[120217,1,"t"],[120218,1,"u"],[120219,1,"v"],[120220,1,"w"],[120221,1,"x"],[120222,1,"y"],[120223,1,"z"],[120224,1,"a"],[120225,1,"b"],[120226,1,"c"],[120227,1,"d"],[120228,1,"e"],[120229,1,"f"],[120230,1,"g"],[120231,1,"h"],[120232,1,"i"],[120233,1,"j"],[120234,1,"k"],[120235,1,"l"],[120236,1,"m"],[120237,1,"n"],[120238,1,"o"],[120239,1,"p"],[120240,1,"q"],[120241,1,"r"],[120242,1,"s"],[120243,1,"t"],[120244,1,"u"],[120245,1,"v"],[120246,1,"w"],[120247,1,"x"],[120248,1,"y"],[120249,1,"z"],[120250,1,"a"],[120251,1,"b"],[120252,1,"c"],[120253,1,"d"],[120254,1,"e"],[120255,1,"f"],[120256,1,"g"],[120257,1,"h"],[120258,1,"i"],[120259,1,"j"],[120260,1,"k"],[120261,1,"l"],[120262,1,"m"],[120263,1,"n"],[120264,1,"o"],[120265,1,"p"],[120266,1,"q"],[120267,1,"r"],[120268,1,"s"],[120269,1,"t"],[120270,1,"u"],[120271,1,"v"],[120272,1,"w"],[120273,1,"x"],[120274,1,"y"],[120275,1,"z"],[120276,1,"a"],[120277,1,"b"],[120278,1,"c"],[120279,1,"d"],[120280,1,"e"],[120281,1,"f"],[120282,1,"g"],[120283,1,"h"],[120284,1,"i"],[120285,1,"j"],[120286,1,"k"],[120287,1,"l"],[120288,1,"m"],[120289,1,"n"],[120290,1,"o"],[120291,1,"p"],[120292,1,"q"],[120293,1,"r"],[120294,1,"s"],[120295,1,"t"],[120296,1,"u"],[120297,1,"v"],[120298,1,"w"],[120299,1,"x"],[120300,1,"y"],[120301,1,"z"],[120302,1,"a"],[120303,1,"b"],[120304,1,"c"],[120305,1,"d"],[120306,1,"e"],[120307,1,"f"],[120308,1,"g"],[120309,1,"h"],[120310,1,"i"],[120311,1,"j"],[120312,1,"k"],[120313,1,"l"],[120314,1,"m"],[120315,1,"n"],[120316,1,"o"],[120317,1,"p"],[120318,1,"q"],[120319,1,"r"],[120320,1,"s"],[120321,1,"t"],[120322,1,"u"],[120323,1,"v"],[120324,1,"w"],[120325,1,"x"],[120326,1,"y"],[120327,1,"z"],[120328,1,"a"],[120329,1,"b"],[120330,1,"c"],[120331,1,"d"],[120332,1,"e"],[120333,1,"f"],[120334,1,"g"],[120335,1,"h"],[120336,1,"i"],[120337,1,"j"],[120338,1,"k"],[120339,1,"l"],[120340,1,"m"],[120341,1,"n"],[120342,1,"o"],[120343,1,"p"],[120344,1,"q"],[120345,1,"r"],[120346,1,"s"],[120347,1,"t"],[120348,1,"u"],[120349,1,"v"],[120350,1,"w"],[120351,1,"x"],[120352,1,"y"],[120353,1,"z"],[120354,1,"a"],[120355,1,"b"],[120356,1,"c"],[120357,1,"d"],[120358,1,"e"],[120359,1,"f"],[120360,1,"g"],[120361,1,"h"],[120362,1,"i"],[120363,1,"j"],[120364,1,"k"],[120365,1,"l"],[120366,1,"m"],[120367,1,"n"],[120368,1,"o"],[120369,1,"p"],[120370,1,"q"],[120371,1,"r"],[120372,1,"s"],[120373,1,"t"],[120374,1,"u"],[120375,1,"v"],[120376,1,"w"],[120377,1,"x"],[120378,1,"y"],[120379,1,"z"],[120380,1,"a"],[120381,1,"b"],[120382,1,"c"],[120383,1,"d"],[120384,1,"e"],[120385,1,"f"],[120386,1,"g"],[120387,1,"h"],[120388,1,"i"],[120389,1,"j"],[120390,1,"k"],[120391,1,"l"],[120392,1,"m"],[120393,1,"n"],[120394,1,"o"],[120395,1,"p"],[120396,1,"q"],[120397,1,"r"],[120398,1,"s"],[120399,1,"t"],[120400,1,"u"],[120401,1,"v"],[120402,1,"w"],[120403,1,"x"],[120404,1,"y"],[120405,1,"z"],[120406,1,"a"],[120407,1,"b"],[120408,1,"c"],[120409,1,"d"],[120410,1,"e"],[120411,1,"f"],[120412,1,"g"],[120413,1,"h"],[120414,1,"i"],[120415,1,"j"],[120416,1,"k"],[120417,1,"l"],[120418,1,"m"],[120419,1,"n"],[120420,1,"o"],[120421,1,"p"],[120422,1,"q"],[120423,1,"r"],[120424,1,"s"],[120425,1,"t"],[120426,1,"u"],[120427,1,"v"],[120428,1,"w"],[120429,1,"x"],[120430,1,"y"],[120431,1,"z"],[120432,1,"a"],[120433,1,"b"],[120434,1,"c"],[120435,1,"d"],[120436,1,"e"],[120437,1,"f"],[120438,1,"g"],[120439,1,"h"],[120440,1,"i"],[120441,1,"j"],[120442,1,"k"],[120443,1,"l"],[120444,1,"m"],[120445,1,"n"],[120446,1,"o"],[120447,1,"p"],[120448,1,"q"],[120449,1,"r"],[120450,1,"s"],[120451,1,"t"],[120452,1,"u"],[120453,1,"v"],[120454,1,"w"],[120455,1,"x"],[120456,1,"y"],[120457,1,"z"],[120458,1,"a"],[120459,1,"b"],[120460,1,"c"],[120461,1,"d"],[120462,1,"e"],[120463,1,"f"],[120464,1,"g"],[120465,1,"h"],[120466,1,"i"],[120467,1,"j"],[120468,1,"k"],[120469,1,"l"],[120470,1,"m"],[120471,1,"n"],[120472,1,"o"],[120473,1,"p"],[120474,1,"q"],[120475,1,"r"],[120476,1,"s"],[120477,1,"t"],[120478,1,"u"],[120479,1,"v"],[120480,1,"w"],[120481,1,"x"],[120482,1,"y"],[120483,1,"z"],[120484,1,"\u0131"],[120485,1,"\u0237"],[[120486,120487],3],[120488,1,"\u03B1"],[120489,1,"\u03B2"],[120490,1,"\u03B3"],[120491,1,"\u03B4"],[120492,1,"\u03B5"],[120493,1,"\u03B6"],[120494,1,"\u03B7"],[120495,1,"\u03B8"],[120496,1,"\u03B9"],[120497,1,"\u03BA"],[120498,1,"\u03BB"],[120499,1,"\u03BC"],[120500,1,"\u03BD"],[120501,1,"\u03BE"],[120502,1,"\u03BF"],[120503,1,"\u03C0"],[120504,1,"\u03C1"],[120505,1,"\u03B8"],[120506,1,"\u03C3"],[120507,1,"\u03C4"],[120508,1,"\u03C5"],[120509,1,"\u03C6"],[120510,1,"\u03C7"],[120511,1,"\u03C8"],[120512,1,"\u03C9"],[120513,1,"\u2207"],[120514,1,"\u03B1"],[120515,1,"\u03B2"],[120516,1,"\u03B3"],[120517,1,"\u03B4"],[120518,1,"\u03B5"],[120519,1,"\u03B6"],[120520,1,"\u03B7"],[120521,1,"\u03B8"],[120522,1,"\u03B9"],[120523,1,"\u03BA"],[120524,1,"\u03BB"],[120525,1,"\u03BC"],[120526,1,"\u03BD"],[120527,1,"\u03BE"],[120528,1,"\u03BF"],[120529,1,"\u03C0"],[120530,1,"\u03C1"],[[120531,120532],1,"\u03C3"],[120533,1,"\u03C4"],[120534,1,"\u03C5"],[120535,1,"\u03C6"],[120536,1,"\u03C7"],[120537,1,"\u03C8"],[120538,1,"\u03C9"],[120539,1,"\u2202"],[120540,1,"\u03B5"],[120541,1,"\u03B8"],[120542,1,"\u03BA"],[120543,1,"\u03C6"],[120544,1,"\u03C1"],[120545,1,"\u03C0"],[120546,1,"\u03B1"],[120547,1,"\u03B2"],[120548,1,"\u03B3"],[120549,1,"\u03B4"],[120550,1,"\u03B5"],[120551,1,"\u03B6"],[120552,1,"\u03B7"],[120553,1,"\u03B8"],[120554,1,"\u03B9"],[120555,1,"\u03BA"],[120556,1,"\u03BB"],[120557,1,"\u03BC"],[120558,1,"\u03BD"],[120559,1,"\u03BE"],[120560,1,"\u03BF"],[120561,1,"\u03C0"],[120562,1,"\u03C1"],[120563,1,"\u03B8"],[120564,1,"\u03C3"],[120565,1,"\u03C4"],[120566,1,"\u03C5"],[120567,1,"\u03C6"],[120568,1,"\u03C7"],[120569,1,"\u03C8"],[120570,1,"\u03C9"],[120571,1,"\u2207"],[120572,1,"\u03B1"],[120573,1,"\u03B2"],[120574,1,"\u03B3"],[120575,1,"\u03B4"],[120576,1,"\u03B5"],[120577,1,"\u03B6"],[120578,1,"\u03B7"],[120579,1,"\u03B8"],[120580,1,"\u03B9"],[120581,1,"\u03BA"],[120582,1,"\u03BB"],[120583,1,"\u03BC"],[120584,1,"\u03BD"],[120585,1,"\u03BE"],[120586,1,"\u03BF"],[120587,1,"\u03C0"],[120588,1,"\u03C1"],[[120589,120590],1,"\u03C3"],[120591,1,"\u03C4"],[120592,1,"\u03C5"],[120593,1,"\u03C6"],[120594,1,"\u03C7"],[120595,1,"\u03C8"],[120596,1,"\u03C9"],[120597,1,"\u2202"],[120598,1,"\u03B5"],[120599,1,"\u03B8"],[120600,1,"\u03BA"],[120601,1,"\u03C6"],[120602,1,"\u03C1"],[120603,1,"\u03C0"],[120604,1,"\u03B1"],[120605,1,"\u03B2"],[120606,1,"\u03B3"],[120607,1,"\u03B4"],[120608,1,"\u03B5"],[120609,1,"\u03B6"],[120610,1,"\u03B7"],[120611,1,"\u03B8"],[120612,1,"\u03B9"],[120613,1,"\u03BA"],[120614,1,"\u03BB"],[120615,1,"\u03BC"],[120616,1,"\u03BD"],[120617,1,"\u03BE"],[120618,1,"\u03BF"],[120619,1,"\u03C0"],[120620,1,"\u03C1"],[120621,1,"\u03B8"],[120622,1,"\u03C3"],[120623,1,"\u03C4"],[120624,1,"\u03C5"],[120625,1,"\u03C6"],[120626,1,"\u03C7"],[120627,1,"\u03C8"],[120628,1,"\u03C9"],[120629,1,"\u2207"],[120630,1,"\u03B1"],[120631,1,"\u03B2"],[120632,1,"\u03B3"],[120633,1,"\u03B4"],[120634,1,"\u03B5"],[120635,1,"\u03B6"],[120636,1,"\u03B7"],[120637,1,"\u03B8"],[120638,1,"\u03B9"],[120639,1,"\u03BA"],[120640,1,"\u03BB"],[120641,1,"\u03BC"],[120642,1,"\u03BD"],[120643,1,"\u03BE"],[120644,1,"\u03BF"],[120645,1,"\u03C0"],[120646,1,"\u03C1"],[[120647,120648],1,"\u03C3"],[120649,1,"\u03C4"],[120650,1,"\u03C5"],[120651,1,"\u03C6"],[120652,1,"\u03C7"],[120653,1,"\u03C8"],[120654,1,"\u03C9"],[120655,1,"\u2202"],[120656,1,"\u03B5"],[120657,1,"\u03B8"],[120658,1,"\u03BA"],[120659,1,"\u03C6"],[120660,1,"\u03C1"],[120661,1,"\u03C0"],[120662,1,"\u03B1"],[120663,1,"\u03B2"],[120664,1,"\u03B3"],[120665,1,"\u03B4"],[120666,1,"\u03B5"],[120667,1,"\u03B6"],[120668,1,"\u03B7"],[120669,1,"\u03B8"],[120670,1,"\u03B9"],[120671,1,"\u03BA"],[120672,1,"\u03BB"],[120673,1,"\u03BC"],[120674,1,"\u03BD"],[120675,1,"\u03BE"],[120676,1,"\u03BF"],[120677,1,"\u03C0"],[120678,1,"\u03C1"],[120679,1,"\u03B8"],[120680,1,"\u03C3"],[120681,1,"\u03C4"],[120682,1,"\u03C5"],[120683,1,"\u03C6"],[120684,1,"\u03C7"],[120685,1,"\u03C8"],[120686,1,"\u03C9"],[120687,1,"\u2207"],[120688,1,"\u03B1"],[120689,1,"\u03B2"],[120690,1,"\u03B3"],[120691,1,"\u03B4"],[120692,1,"\u03B5"],[120693,1,"\u03B6"],[120694,1,"\u03B7"],[120695,1,"\u03B8"],[120696,1,"\u03B9"],[120697,1,"\u03BA"],[120698,1,"\u03BB"],[120699,1,"\u03BC"],[120700,1,"\u03BD"],[120701,1,"\u03BE"],[120702,1,"\u03BF"],[120703,1,"\u03C0"],[120704,1,"\u03C1"],[[120705,120706],1,"\u03C3"],[120707,1,"\u03C4"],[120708,1,"\u03C5"],[120709,1,"\u03C6"],[120710,1,"\u03C7"],[120711,1,"\u03C8"],[120712,1,"\u03C9"],[120713,1,"\u2202"],[120714,1,"\u03B5"],[120715,1,"\u03B8"],[120716,1,"\u03BA"],[120717,1,"\u03C6"],[120718,1,"\u03C1"],[120719,1,"\u03C0"],[120720,1,"\u03B1"],[120721,1,"\u03B2"],[120722,1,"\u03B3"],[120723,1,"\u03B4"],[120724,1,"\u03B5"],[120725,1,"\u03B6"],[120726,1,"\u03B7"],[120727,1,"\u03B8"],[120728,1,"\u03B9"],[120729,1,"\u03BA"],[120730,1,"\u03BB"],[120731,1,"\u03BC"],[120732,1,"\u03BD"],[120733,1,"\u03BE"],[120734,1,"\u03BF"],[120735,1,"\u03C0"],[120736,1,"\u03C1"],[120737,1,"\u03B8"],[120738,1,"\u03C3"],[120739,1,"\u03C4"],[120740,1,"\u03C5"],[120741,1,"\u03C6"],[120742,1,"\u03C7"],[120743,1,"\u03C8"],[120744,1,"\u03C9"],[120745,1,"\u2207"],[120746,1,"\u03B1"],[120747,1,"\u03B2"],[120748,1,"\u03B3"],[120749,1,"\u03B4"],[120750,1,"\u03B5"],[120751,1,"\u03B6"],[120752,1,"\u03B7"],[120753,1,"\u03B8"],[120754,1,"\u03B9"],[120755,1,"\u03BA"],[120756,1,"\u03BB"],[120757,1,"\u03BC"],[120758,1,"\u03BD"],[120759,1,"\u03BE"],[120760,1,"\u03BF"],[120761,1,"\u03C0"],[120762,1,"\u03C1"],[[120763,120764],1,"\u03C3"],[120765,1,"\u03C4"],[120766,1,"\u03C5"],[120767,1,"\u03C6"],[120768,1,"\u03C7"],[120769,1,"\u03C8"],[120770,1,"\u03C9"],[120771,1,"\u2202"],[120772,1,"\u03B5"],[120773,1,"\u03B8"],[120774,1,"\u03BA"],[120775,1,"\u03C6"],[120776,1,"\u03C1"],[120777,1,"\u03C0"],[[120778,120779],1,"\u03DD"],[[120780,120781],3],[120782,1,"0"],[120783,1,"1"],[120784,1,"2"],[120785,1,"3"],[120786,1,"4"],[120787,1,"5"],[120788,1,"6"],[120789,1,"7"],[120790,1,"8"],[120791,1,"9"],[120792,1,"0"],[120793,1,"1"],[120794,1,"2"],[120795,1,"3"],[120796,1,"4"],[120797,1,"5"],[120798,1,"6"],[120799,1,"7"],[120800,1,"8"],[120801,1,"9"],[120802,1,"0"],[120803,1,"1"],[120804,1,"2"],[120805,1,"3"],[120806,1,"4"],[120807,1,"5"],[120808,1,"6"],[120809,1,"7"],[120810,1,"8"],[120811,1,"9"],[120812,1,"0"],[120813,1,"1"],[120814,1,"2"],[120815,1,"3"],[120816,1,"4"],[120817,1,"5"],[120818,1,"6"],[120819,1,"7"],[120820,1,"8"],[120821,1,"9"],[120822,1,"0"],[120823,1,"1"],[120824,1,"2"],[120825,1,"3"],[120826,1,"4"],[120827,1,"5"],[120828,1,"6"],[120829,1,"7"],[120830,1,"8"],[120831,1,"9"],[[120832,121343],2],[[121344,121398],2],[[121399,121402],2],[[121403,121452],2],[[121453,121460],2],[121461,2],[[121462,121475],2],[121476,2],[[121477,121483],2],[[121484,121498],3],[[121499,121503],2],[121504,3],[[121505,121519],2],[[121520,122623],3],[[122624,122654],2],[[122655,122879],3],[[122880,122886],2],[122887,3],[[122888,122904],2],[[122905,122906],3],[[122907,122913],2],[122914,3],[[122915,122916],2],[122917,3],[[122918,122922],2],[[122923,123135],3],[[123136,123180],2],[[123181,123183],3],[[123184,123197],2],[[123198,123199],3],[[123200,123209],2],[[123210,123213],3],[123214,2],[123215,2],[[123216,123535],3],[[123536,123566],2],[[123567,123583],3],[[123584,123641],2],[[123642,123646],3],[123647,2],[[123648,124895],3],[[124896,124902],2],[124903,3],[[124904,124907],2],[124908,3],[[124909,124910],2],[124911,3],[[124912,124926],2],[124927,3],[[124928,125124],2],[[125125,125126],3],[[125127,125135],2],[[125136,125142],2],[[125143,125183],3],[125184,1,"\u{1E922}"],[125185,1,"\u{1E923}"],[125186,1,"\u{1E924}"],[125187,1,"\u{1E925}"],[125188,1,"\u{1E926}"],[125189,1,"\u{1E927}"],[125190,1,"\u{1E928}"],[125191,1,"\u{1E929}"],[125192,1,"\u{1E92A}"],[125193,1,"\u{1E92B}"],[125194,1,"\u{1E92C}"],[125195,1,"\u{1E92D}"],[125196,1,"\u{1E92E}"],[125197,1,"\u{1E92F}"],[125198,1,"\u{1E930}"],[125199,1,"\u{1E931}"],[125200,1,"\u{1E932}"],[125201,1,"\u{1E933}"],[125202,1,"\u{1E934}"],[125203,1,"\u{1E935}"],[125204,1,"\u{1E936}"],[125205,1,"\u{1E937}"],[125206,1,"\u{1E938}"],[125207,1,"\u{1E939}"],[125208,1,"\u{1E93A}"],[125209,1,"\u{1E93B}"],[125210,1,"\u{1E93C}"],[125211,1,"\u{1E93D}"],[125212,1,"\u{1E93E}"],[125213,1,"\u{1E93F}"],[125214,1,"\u{1E940}"],[125215,1,"\u{1E941}"],[125216,1,"\u{1E942}"],[125217,1,"\u{1E943}"],[[125218,125258],2],[125259,2],[[125260,125263],3],[[125264,125273],2],[[125274,125277],3],[[125278,125279],2],[[125280,126064],3],[[126065,126132],2],[[126133,126208],3],[[126209,126269],2],[[126270,126463],3],[126464,1,"\u0627"],[126465,1,"\u0628"],[126466,1,"\u062C"],[126467,1,"\u062F"],[126468,3],[126469,1,"\u0648"],[126470,1,"\u0632"],[126471,1,"\u062D"],[126472,1,"\u0637"],[126473,1,"\u064A"],[126474,1,"\u0643"],[126475,1,"\u0644"],[126476,1,"\u0645"],[126477,1,"\u0646"],[126478,1,"\u0633"],[126479,1,"\u0639"],[126480,1,"\u0641"],[126481,1,"\u0635"],[126482,1,"\u0642"],[126483,1,"\u0631"],[126484,1,"\u0634"],[126485,1,"\u062A"],[126486,1,"\u062B"],[126487,1,"\u062E"],[126488,1,"\u0630"],[126489,1,"\u0636"],[126490,1,"\u0638"],[126491,1,"\u063A"],[126492,1,"\u066E"],[126493,1,"\u06BA"],[126494,1,"\u06A1"],[126495,1,"\u066F"],[126496,3],[126497,1,"\u0628"],[126498,1,"\u062C"],[126499,3],[126500,1,"\u0647"],[[126501,126502],3],[126503,1,"\u062D"],[126504,3],[126505,1,"\u064A"],[126506,1,"\u0643"],[126507,1,"\u0644"],[126508,1,"\u0645"],[126509,1,"\u0646"],[126510,1,"\u0633"],[126511,1,"\u0639"],[126512,1,"\u0641"],[126513,1,"\u0635"],[126514,1,"\u0642"],[126515,3],[126516,1,"\u0634"],[126517,1,"\u062A"],[126518,1,"\u062B"],[126519,1,"\u062E"],[126520,3],[126521,1,"\u0636"],[126522,3],[126523,1,"\u063A"],[[126524,126529],3],[126530,1,"\u062C"],[[126531,126534],3],[126535,1,"\u062D"],[126536,3],[126537,1,"\u064A"],[126538,3],[126539,1,"\u0644"],[126540,3],[126541,1,"\u0646"],[126542,1,"\u0633"],[126543,1,"\u0639"],[126544,3],[126545,1,"\u0635"],[126546,1,"\u0642"],[126547,3],[126548,1,"\u0634"],[[126549,126550],3],[126551,1,"\u062E"],[126552,3],[126553,1,"\u0636"],[126554,3],[126555,1,"\u063A"],[126556,3],[126557,1,"\u06BA"],[126558,3],[126559,1,"\u066F"],[126560,3],[126561,1,"\u0628"],[126562,1,"\u062C"],[126563,3],[126564,1,"\u0647"],[[126565,126566],3],[126567,1,"\u062D"],[126568,1,"\u0637"],[126569,1,"\u064A"],[126570,1,"\u0643"],[126571,3],[126572,1,"\u0645"],[126573,1,"\u0646"],[126574,1,"\u0633"],[126575,1,"\u0639"],[126576,1,"\u0641"],[126577,1,"\u0635"],[126578,1,"\u0642"],[126579,3],[126580,1,"\u0634"],[126581,1,"\u062A"],[126582,1,"\u062B"],[126583,1,"\u062E"],[126584,3],[126585,1,"\u0636"],[126586,1,"\u0638"],[126587,1,"\u063A"],[126588,1,"\u066E"],[126589,3],[126590,1,"\u06A1"],[126591,3],[126592,1,"\u0627"],[126593,1,"\u0628"],[126594,1,"\u062C"],[126595,1,"\u062F"],[126596,1,"\u0647"],[126597,1,"\u0648"],[126598,1,"\u0632"],[126599,1,"\u062D"],[126600,1,"\u0637"],[126601,1,"\u064A"],[126602,3],[126603,1,"\u0644"],[126604,1,"\u0645"],[126605,1,"\u0646"],[126606,1,"\u0633"],[126607,1,"\u0639"],[126608,1,"\u0641"],[126609,1,"\u0635"],[126610,1,"\u0642"],[126611,1,"\u0631"],[126612,1,"\u0634"],[126613,1,"\u062A"],[126614,1,"\u062B"],[126615,1,"\u062E"],[126616,1,"\u0630"],[126617,1,"\u0636"],[126618,1,"\u0638"],[126619,1,"\u063A"],[[126620,126624],3],[126625,1,"\u0628"],[126626,1,"\u062C"],[126627,1,"\u062F"],[126628,3],[126629,1,"\u0648"],[126630,1,"\u0632"],[126631,1,"\u062D"],[126632,1,"\u0637"],[126633,1,"\u064A"],[126634,3],[126635,1,"\u0644"],[126636,1,"\u0645"],[126637,1,"\u0646"],[126638,1,"\u0633"],[126639,1,"\u0639"],[126640,1,"\u0641"],[126641,1,"\u0635"],[126642,1,"\u0642"],[126643,1,"\u0631"],[126644,1,"\u0634"],[126645,1,"\u062A"],[126646,1,"\u062B"],[126647,1,"\u062E"],[126648,1,"\u0630"],[126649,1,"\u0636"],[126650,1,"\u0638"],[126651,1,"\u063A"],[[126652,126703],3],[[126704,126705],2],[[126706,126975],3],[[126976,127019],2],[[127020,127023],3],[[127024,127123],2],[[127124,127135],3],[[127136,127150],2],[[127151,127152],3],[[127153,127166],2],[127167,2],[127168,3],[[127169,127183],2],[127184,3],[[127185,127199],2],[[127200,127221],2],[[127222,127231],3],[127232,3],[127233,5,"0,"],[127234,5,"1,"],[127235,5,"2,"],[127236,5,"3,"],[127237,5,"4,"],[127238,5,"5,"],[127239,5,"6,"],[127240,5,"7,"],[127241,5,"8,"],[127242,5,"9,"],[[127243,127244],2],[[127245,127247],2],[127248,5,"(a)"],[127249,5,"(b)"],[127250,5,"(c)"],[127251,5,"(d)"],[127252,5,"(e)"],[127253,5,"(f)"],[127254,5,"(g)"],[127255,5,"(h)"],[127256,5,"(i)"],[127257,5,"(j)"],[127258,5,"(k)"],[127259,5,"(l)"],[127260,5,"(m)"],[127261,5,"(n)"],[127262,5,"(o)"],[127263,5,"(p)"],[127264,5,"(q)"],[127265,5,"(r)"],[127266,5,"(s)"],[127267,5,"(t)"],[127268,5,"(u)"],[127269,5,"(v)"],[127270,5,"(w)"],[127271,5,"(x)"],[127272,5,"(y)"],[127273,5,"(z)"],[127274,1,"\u3014s\u3015"],[127275,1,"c"],[127276,1,"r"],[127277,1,"cd"],[127278,1,"wz"],[127279,2],[127280,1,"a"],[127281,1,"b"],[127282,1,"c"],[127283,1,"d"],[127284,1,"e"],[127285,1,"f"],[127286,1,"g"],[127287,1,"h"],[127288,1,"i"],[127289,1,"j"],[127290,1,"k"],[127291,1,"l"],[127292,1,"m"],[127293,1,"n"],[127294,1,"o"],[127295,1,"p"],[127296,1,"q"],[127297,1,"r"],[127298,1,"s"],[127299,1,"t"],[127300,1,"u"],[127301,1,"v"],[127302,1,"w"],[127303,1,"x"],[127304,1,"y"],[127305,1,"z"],[127306,1,"hv"],[127307,1,"mv"],[127308,1,"sd"],[127309,1,"ss"],[127310,1,"ppv"],[127311,1,"wc"],[[127312,127318],2],[127319,2],[[127320,127326],2],[127327,2],[[127328,127337],2],[127338,1,"mc"],[127339,1,"md"],[127340,1,"mr"],[[127341,127343],2],[[127344,127352],2],[127353,2],[127354,2],[[127355,127356],2],[[127357,127358],2],[127359,2],[[127360,127369],2],[[127370,127373],2],[[127374,127375],2],[127376,1,"dj"],[[127377,127386],2],[[127387,127404],2],[127405,2],[[127406,127461],3],[[127462,127487],2],[127488,1,"\u307B\u304B"],[127489,1,"\u30B3\u30B3"],[127490,1,"\u30B5"],[[127491,127503],3],[127504,1,"\u624B"],[127505,1,"\u5B57"],[127506,1,"\u53CC"],[127507,1,"\u30C7"],[127508,1,"\u4E8C"],[127509,1,"\u591A"],[127510,1,"\u89E3"],[127511,1,"\u5929"],[127512,1,"\u4EA4"],[127513,1,"\u6620"],[127514,1,"\u7121"],[127515,1,"\u6599"],[127516,1,"\u524D"],[127517,1,"\u5F8C"],[127518,1,"\u518D"],[127519,1,"\u65B0"],[127520,1,"\u521D"],[127521,1,"\u7D42"],[127522,1,"\u751F"],[127523,1,"\u8CA9"],[127524,1,"\u58F0"],[127525,1,"\u5439"],[127526,1,"\u6F14"],[127527,1,"\u6295"],[127528,1,"\u6355"],[127529,1,"\u4E00"],[127530,1,"\u4E09"],[127531,1,"\u904A"],[127532,1,"\u5DE6"],[127533,1,"\u4E2D"],[127534,1,"\u53F3"],[127535,1,"\u6307"],[127536,1,"\u8D70"],[127537,1,"\u6253"],[127538,1,"\u7981"],[127539,1,"\u7A7A"],[127540,1,"\u5408"],[127541,1,"\u6E80"],[127542,1,"\u6709"],[127543,1,"\u6708"],[127544,1,"\u7533"],[127545,1,"\u5272"],[127546,1,"\u55B6"],[127547,1,"\u914D"],[[127548,127551],3],[127552,1,"\u3014\u672C\u3015"],[127553,1,"\u3014\u4E09\u3015"],[127554,1,"\u3014\u4E8C\u3015"],[127555,1,"\u3014\u5B89\u3015"],[127556,1,"\u3014\u70B9\u3015"],[127557,1,"\u3014\u6253\u3015"],[127558,1,"\u3014\u76D7\u3015"],[127559,1,"\u3014\u52DD\u3015"],[127560,1,"\u3014\u6557\u3015"],[[127561,127567],3],[127568,1,"\u5F97"],[127569,1,"\u53EF"],[[127570,127583],3],[[127584,127589],2],[[127590,127743],3],[[127744,127776],2],[[127777,127788],2],[[127789,127791],2],[[127792,127797],2],[127798,2],[[127799,127868],2],[127869,2],[[127870,127871],2],[[127872,127891],2],[[127892,127903],2],[[127904,127940],2],[127941,2],[[127942,127946],2],[[127947,127950],2],[[127951,127955],2],[[127956,127967],2],[[127968,127984],2],[[127985,127991],2],[[127992,127999],2],[[128e3,128062],2],[128063,2],[128064,2],[128065,2],[[128066,128247],2],[128248,2],[[128249,128252],2],[[128253,128254],2],[128255,2],[[128256,128317],2],[[128318,128319],2],[[128320,128323],2],[[128324,128330],2],[[128331,128335],2],[[128336,128359],2],[[128360,128377],2],[128378,2],[[128379,128419],2],[128420,2],[[128421,128506],2],[[128507,128511],2],[128512,2],[[128513,128528],2],[128529,2],[[128530,128532],2],[128533,2],[128534,2],[128535,2],[128536,2],[128537,2],[128538,2],[128539,2],[[128540,128542],2],[128543,2],[[128544,128549],2],[[128550,128551],2],[[128552,128555],2],[128556,2],[128557,2],[[128558,128559],2],[[128560,128563],2],[128564,2],[[128565,128576],2],[[128577,128578],2],[[128579,128580],2],[[128581,128591],2],[[128592,128639],2],[[128640,128709],2],[[128710,128719],2],[128720,2],[[128721,128722],2],[[128723,128724],2],[128725,2],[[128726,128727],2],[[128728,128732],3],[[128733,128735],2],[[128736,128748],2],[[128749,128751],3],[[128752,128755],2],[[128756,128758],2],[[128759,128760],2],[128761,2],[128762,2],[[128763,128764],2],[[128765,128767],3],[[128768,128883],2],[[128884,128895],3],[[128896,128980],2],[[128981,128984],2],[[128985,128991],3],[[128992,129003],2],[[129004,129007],3],[129008,2],[[129009,129023],3],[[129024,129035],2],[[129036,129039],3],[[129040,129095],2],[[129096,129103],3],[[129104,129113],2],[[129114,129119],3],[[129120,129159],2],[[129160,129167],3],[[129168,129197],2],[[129198,129199],3],[[129200,129201],2],[[129202,129279],3],[[129280,129291],2],[129292,2],[[129293,129295],2],[[129296,129304],2],[[129305,129310],2],[129311,2],[[129312,129319],2],[[129320,129327],2],[129328,2],[[129329,129330],2],[[129331,129342],2],[129343,2],[[129344,129355],2],[129356,2],[[129357,129359],2],[[129360,129374],2],[[129375,129387],2],[[129388,129392],2],[129393,2],[129394,2],[[129395,129398],2],[[129399,129400],2],[129401,2],[129402,2],[129403,2],[[129404,129407],2],[[129408,129412],2],[[129413,129425],2],[[129426,129431],2],[[129432,129442],2],[[129443,129444],2],[[129445,129450],2],[[129451,129453],2],[[129454,129455],2],[[129456,129465],2],[[129466,129471],2],[129472,2],[[129473,129474],2],[[129475,129482],2],[129483,2],[129484,2],[[129485,129487],2],[[129488,129510],2],[[129511,129535],2],[[129536,129619],2],[[129620,129631],3],[[129632,129645],2],[[129646,129647],3],[[129648,129651],2],[129652,2],[[129653,129655],3],[[129656,129658],2],[[129659,129660],2],[[129661,129663],3],[[129664,129666],2],[[129667,129670],2],[[129671,129679],3],[[129680,129685],2],[[129686,129704],2],[[129705,129708],2],[[129709,129711],3],[[129712,129718],2],[[129719,129722],2],[[129723,129727],3],[[129728,129730],2],[[129731,129733],2],[[129734,129743],3],[[129744,129750],2],[[129751,129753],2],[[129754,129759],3],[[129760,129767],2],[[129768,129775],3],[[129776,129782],2],[[129783,129791],3],[[129792,129938],2],[129939,3],[[129940,129994],2],[[129995,130031],3],[130032,1,"0"],[130033,1,"1"],[130034,1,"2"],[130035,1,"3"],[130036,1,"4"],[130037,1,"5"],[130038,1,"6"],[130039,1,"7"],[130040,1,"8"],[130041,1,"9"],[[130042,131069],3],[[131070,131071],3],[[131072,173782],2],[[173783,173789],2],[[173790,173791],2],[[173792,173823],3],[[173824,177972],2],[[177973,177976],2],[[177977,177983],3],[[177984,178205],2],[[178206,178207],3],[[178208,183969],2],[[183970,183983],3],[[183984,191456],2],[[191457,194559],3],[194560,1,"\u4E3D"],[194561,1,"\u4E38"],[194562,1,"\u4E41"],[194563,1,"\u{20122}"],[194564,1,"\u4F60"],[194565,1,"\u4FAE"],[194566,1,"\u4FBB"],[194567,1,"\u5002"],[194568,1,"\u507A"],[194569,1,"\u5099"],[194570,1,"\u50E7"],[194571,1,"\u50CF"],[194572,1,"\u349E"],[194573,1,"\u{2063A}"],[194574,1,"\u514D"],[194575,1,"\u5154"],[194576,1,"\u5164"],[194577,1,"\u5177"],[194578,1,"\u{2051C}"],[194579,1,"\u34B9"],[194580,1,"\u5167"],[194581,1,"\u518D"],[194582,1,"\u{2054B}"],[194583,1,"\u5197"],[194584,1,"\u51A4"],[194585,1,"\u4ECC"],[194586,1,"\u51AC"],[194587,1,"\u51B5"],[194588,1,"\u{291DF}"],[194589,1,"\u51F5"],[194590,1,"\u5203"],[194591,1,"\u34DF"],[194592,1,"\u523B"],[194593,1,"\u5246"],[194594,1,"\u5272"],[194595,1,"\u5277"],[194596,1,"\u3515"],[194597,1,"\u52C7"],[194598,1,"\u52C9"],[194599,1,"\u52E4"],[194600,1,"\u52FA"],[194601,1,"\u5305"],[194602,1,"\u5306"],[194603,1,"\u5317"],[194604,1,"\u5349"],[194605,1,"\u5351"],[194606,1,"\u535A"],[194607,1,"\u5373"],[194608,1,"\u537D"],[[194609,194611],1,"\u537F"],[194612,1,"\u{20A2C}"],[194613,1,"\u7070"],[194614,1,"\u53CA"],[194615,1,"\u53DF"],[194616,1,"\u{20B63}"],[194617,1,"\u53EB"],[194618,1,"\u53F1"],[194619,1,"\u5406"],[194620,1,"\u549E"],[194621,1,"\u5438"],[194622,1,"\u5448"],[194623,1,"\u5468"],[194624,1,"\u54A2"],[194625,1,"\u54F6"],[194626,1,"\u5510"],[194627,1,"\u5553"],[194628,1,"\u5563"],[[194629,194630],1,"\u5584"],[194631,1,"\u5599"],[194632,1,"\u55AB"],[194633,1,"\u55B3"],[194634,1,"\u55C2"],[194635,1,"\u5716"],[194636,1,"\u5606"],[194637,1,"\u5717"],[194638,1,"\u5651"],[194639,1,"\u5674"],[194640,1,"\u5207"],[194641,1,"\u58EE"],[194642,1,"\u57CE"],[194643,1,"\u57F4"],[194644,1,"\u580D"],[194645,1,"\u578B"],[194646,1,"\u5832"],[194647,1,"\u5831"],[194648,1,"\u58AC"],[194649,1,"\u{214E4}"],[194650,1,"\u58F2"],[194651,1,"\u58F7"],[194652,1,"\u5906"],[194653,1,"\u591A"],[194654,1,"\u5922"],[194655,1,"\u5962"],[194656,1,"\u{216A8}"],[194657,1,"\u{216EA}"],[194658,1,"\u59EC"],[194659,1,"\u5A1B"],[194660,1,"\u5A27"],[194661,1,"\u59D8"],[194662,1,"\u5A66"],[194663,1,"\u36EE"],[194664,3],[194665,1,"\u5B08"],[[194666,194667],1,"\u5B3E"],[194668,1,"\u{219C8}"],[194669,1,"\u5BC3"],[194670,1,"\u5BD8"],[194671,1,"\u5BE7"],[194672,1,"\u5BF3"],[194673,1,"\u{21B18}"],[194674,1,"\u5BFF"],[194675,1,"\u5C06"],[194676,3],[194677,1,"\u5C22"],[194678,1,"\u3781"],[194679,1,"\u5C60"],[194680,1,"\u5C6E"],[194681,1,"\u5CC0"],[194682,1,"\u5C8D"],[194683,1,"\u{21DE4}"],[194684,1,"\u5D43"],[194685,1,"\u{21DE6}"],[194686,1,"\u5D6E"],[194687,1,"\u5D6B"],[194688,1,"\u5D7C"],[194689,1,"\u5DE1"],[194690,1,"\u5DE2"],[194691,1,"\u382F"],[194692,1,"\u5DFD"],[194693,1,"\u5E28"],[194694,1,"\u5E3D"],[194695,1,"\u5E69"],[194696,1,"\u3862"],[194697,1,"\u{22183}"],[194698,1,"\u387C"],[194699,1,"\u5EB0"],[194700,1,"\u5EB3"],[194701,1,"\u5EB6"],[194702,1,"\u5ECA"],[194703,1,"\u{2A392}"],[194704,1,"\u5EFE"],[[194705,194706],1,"\u{22331}"],[194707,1,"\u8201"],[[194708,194709],1,"\u5F22"],[194710,1,"\u38C7"],[194711,1,"\u{232B8}"],[194712,1,"\u{261DA}"],[194713,1,"\u5F62"],[194714,1,"\u5F6B"],[194715,1,"\u38E3"],[194716,1,"\u5F9A"],[194717,1,"\u5FCD"],[194718,1,"\u5FD7"],[194719,1,"\u5FF9"],[194720,1,"\u6081"],[194721,1,"\u393A"],[194722,1,"\u391C"],[194723,1,"\u6094"],[194724,1,"\u{226D4}"],[194725,1,"\u60C7"],[194726,1,"\u6148"],[194727,1,"\u614C"],[194728,1,"\u614E"],[194729,1,"\u614C"],[194730,1,"\u617A"],[194731,1,"\u618E"],[194732,1,"\u61B2"],[194733,1,"\u61A4"],[194734,1,"\u61AF"],[194735,1,"\u61DE"],[194736,1,"\u61F2"],[194737,1,"\u61F6"],[194738,1,"\u6210"],[194739,1,"\u621B"],[194740,1,"\u625D"],[194741,1,"\u62B1"],[194742,1,"\u62D4"],[194743,1,"\u6350"],[194744,1,"\u{22B0C}"],[194745,1,"\u633D"],[194746,1,"\u62FC"],[194747,1,"\u6368"],[194748,1,"\u6383"],[194749,1,"\u63E4"],[194750,1,"\u{22BF1}"],[194751,1,"\u6422"],[194752,1,"\u63C5"],[194753,1,"\u63A9"],[194754,1,"\u3A2E"],[194755,1,"\u6469"],[194756,1,"\u647E"],[194757,1,"\u649D"],[194758,1,"\u6477"],[194759,1,"\u3A6C"],[194760,1,"\u654F"],[194761,1,"\u656C"],[194762,1,"\u{2300A}"],[194763,1,"\u65E3"],[194764,1,"\u66F8"],[194765,1,"\u6649"],[194766,1,"\u3B19"],[194767,1,"\u6691"],[194768,1,"\u3B08"],[194769,1,"\u3AE4"],[194770,1,"\u5192"],[194771,1,"\u5195"],[194772,1,"\u6700"],[194773,1,"\u669C"],[194774,1,"\u80AD"],[194775,1,"\u43D9"],[194776,1,"\u6717"],[194777,1,"\u671B"],[194778,1,"\u6721"],[194779,1,"\u675E"],[194780,1,"\u6753"],[194781,1,"\u{233C3}"],[194782,1,"\u3B49"],[194783,1,"\u67FA"],[194784,1,"\u6785"],[194785,1,"\u6852"],[194786,1,"\u6885"],[194787,1,"\u{2346D}"],[194788,1,"\u688E"],[194789,1,"\u681F"],[194790,1,"\u6914"],[194791,1,"\u3B9D"],[194792,1,"\u6942"],[194793,1,"\u69A3"],[194794,1,"\u69EA"],[194795,1,"\u6AA8"],[194796,1,"\u{236A3}"],[194797,1,"\u6ADB"],[194798,1,"\u3C18"],[194799,1,"\u6B21"],[194800,1,"\u{238A7}"],[194801,1,"\u6B54"],[194802,1,"\u3C4E"],[194803,1,"\u6B72"],[194804,1,"\u6B9F"],[194805,1,"\u6BBA"],[194806,1,"\u6BBB"],[194807,1,"\u{23A8D}"],[194808,1,"\u{21D0B}"],[194809,1,"\u{23AFA}"],[194810,1,"\u6C4E"],[194811,1,"\u{23CBC}"],[194812,1,"\u6CBF"],[194813,1,"\u6CCD"],[194814,1,"\u6C67"],[194815,1,"\u6D16"],[194816,1,"\u6D3E"],[194817,1,"\u6D77"],[194818,1,"\u6D41"],[194819,1,"\u6D69"],[194820,1,"\u6D78"],[194821,1,"\u6D85"],[194822,1,"\u{23D1E}"],[194823,1,"\u6D34"],[194824,1,"\u6E2F"],[194825,1,"\u6E6E"],[194826,1,"\u3D33"],[194827,1,"\u6ECB"],[194828,1,"\u6EC7"],[194829,1,"\u{23ED1}"],[194830,1,"\u6DF9"],[194831,1,"\u6F6E"],[194832,1,"\u{23F5E}"],[194833,1,"\u{23F8E}"],[194834,1,"\u6FC6"],[194835,1,"\u7039"],[194836,1,"\u701E"],[194837,1,"\u701B"],[194838,1,"\u3D96"],[194839,1,"\u704A"],[194840,1,"\u707D"],[194841,1,"\u7077"],[194842,1,"\u70AD"],[194843,1,"\u{20525}"],[194844,1,"\u7145"],[194845,1,"\u{24263}"],[194846,1,"\u719C"],[194847,3],[194848,1,"\u7228"],[194849,1,"\u7235"],[194850,1,"\u7250"],[194851,1,"\u{24608}"],[194852,1,"\u7280"],[194853,1,"\u7295"],[194854,1,"\u{24735}"],[194855,1,"\u{24814}"],[194856,1,"\u737A"],[194857,1,"\u738B"],[194858,1,"\u3EAC"],[194859,1,"\u73A5"],[[194860,194861],1,"\u3EB8"],[194862,1,"\u7447"],[194863,1,"\u745C"],[194864,1,"\u7471"],[194865,1,"\u7485"],[194866,1,"\u74CA"],[194867,1,"\u3F1B"],[194868,1,"\u7524"],[194869,1,"\u{24C36}"],[194870,1,"\u753E"],[194871,1,"\u{24C92}"],[194872,1,"\u7570"],[194873,1,"\u{2219F}"],[194874,1,"\u7610"],[194875,1,"\u{24FA1}"],[194876,1,"\u{24FB8}"],[194877,1,"\u{25044}"],[194878,1,"\u3FFC"],[194879,1,"\u4008"],[194880,1,"\u76F4"],[194881,1,"\u{250F3}"],[194882,1,"\u{250F2}"],[194883,1,"\u{25119}"],[194884,1,"\u{25133}"],[194885,1,"\u771E"],[[194886,194887],1,"\u771F"],[194888,1,"\u774A"],[194889,1,"\u4039"],[194890,1,"\u778B"],[194891,1,"\u4046"],[194892,1,"\u4096"],[194893,1,"\u{2541D}"],[194894,1,"\u784E"],[194895,1,"\u788C"],[194896,1,"\u78CC"],[194897,1,"\u40E3"],[194898,1,"\u{25626}"],[194899,1,"\u7956"],[194900,1,"\u{2569A}"],[194901,1,"\u{256C5}"],[194902,1,"\u798F"],[194903,1,"\u79EB"],[194904,1,"\u412F"],[194905,1,"\u7A40"],[194906,1,"\u7A4A"],[194907,1,"\u7A4F"],[194908,1,"\u{2597C}"],[[194909,194910],1,"\u{25AA7}"],[194911,3],[194912,1,"\u4202"],[194913,1,"\u{25BAB}"],[194914,1,"\u7BC6"],[194915,1,"\u7BC9"],[194916,1,"\u4227"],[194917,1,"\u{25C80}"],[194918,1,"\u7CD2"],[194919,1,"\u42A0"],[194920,1,"\u7CE8"],[194921,1,"\u7CE3"],[194922,1,"\u7D00"],[194923,1,"\u{25F86}"],[194924,1,"\u7D63"],[194925,1,"\u4301"],[194926,1,"\u7DC7"],[194927,1,"\u7E02"],[194928,1,"\u7E45"],[194929,1,"\u4334"],[194930,1,"\u{26228}"],[194931,1,"\u{26247}"],[194932,1,"\u4359"],[194933,1,"\u{262D9}"],[194934,1,"\u7F7A"],[194935,1,"\u{2633E}"],[194936,1,"\u7F95"],[194937,1,"\u7FFA"],[194938,1,"\u8005"],[194939,1,"\u{264DA}"],[194940,1,"\u{26523}"],[194941,1,"\u8060"],[194942,1,"\u{265A8}"],[194943,1,"\u8070"],[194944,1,"\u{2335F}"],[194945,1,"\u43D5"],[194946,1,"\u80B2"],[194947,1,"\u8103"],[194948,1,"\u440B"],[194949,1,"\u813E"],[194950,1,"\u5AB5"],[194951,1,"\u{267A7}"],[194952,1,"\u{267B5}"],[194953,1,"\u{23393}"],[194954,1,"\u{2339C}"],[194955,1,"\u8201"],[194956,1,"\u8204"],[194957,1,"\u8F9E"],[194958,1,"\u446B"],[194959,1,"\u8291"],[194960,1,"\u828B"],[194961,1,"\u829D"],[194962,1,"\u52B3"],[194963,1,"\u82B1"],[194964,1,"\u82B3"],[194965,1,"\u82BD"],[194966,1,"\u82E6"],[194967,1,"\u{26B3C}"],[194968,1,"\u82E5"],[194969,1,"\u831D"],[194970,1,"\u8363"],[194971,1,"\u83AD"],[194972,1,"\u8323"],[194973,1,"\u83BD"],[194974,1,"\u83E7"],[194975,1,"\u8457"],[194976,1,"\u8353"],[194977,1,"\u83CA"],[194978,1,"\u83CC"],[194979,1,"\u83DC"],[194980,1,"\u{26C36}"],[194981,1,"\u{26D6B}"],[194982,1,"\u{26CD5}"],[194983,1,"\u452B"],[194984,1,"\u84F1"],[194985,1,"\u84F3"],[194986,1,"\u8516"],[194987,1,"\u{273CA}"],[194988,1,"\u8564"],[194989,1,"\u{26F2C}"],[194990,1,"\u455D"],[194991,1,"\u4561"],[194992,1,"\u{26FB1}"],[194993,1,"\u{270D2}"],[194994,1,"\u456B"],[194995,1,"\u8650"],[194996,1,"\u865C"],[194997,1,"\u8667"],[194998,1,"\u8669"],[194999,1,"\u86A9"],[195e3,1,"\u8688"],[195001,1,"\u870E"],[195002,1,"\u86E2"],[195003,1,"\u8779"],[195004,1,"\u8728"],[195005,1,"\u876B"],[195006,1,"\u8786"],[195007,3],[195008,1,"\u87E1"],[195009,1,"\u8801"],[195010,1,"\u45F9"],[195011,1,"\u8860"],[195012,1,"\u8863"],[195013,1,"\u{27667}"],[195014,1,"\u88D7"],[195015,1,"\u88DE"],[195016,1,"\u4635"],[195017,1,"\u88FA"],[195018,1,"\u34BB"],[195019,1,"\u{278AE}"],[195020,1,"\u{27966}"],[195021,1,"\u46BE"],[195022,1,"\u46C7"],[195023,1,"\u8AA0"],[195024,1,"\u8AED"],[195025,1,"\u8B8A"],[195026,1,"\u8C55"],[195027,1,"\u{27CA8}"],[195028,1,"\u8CAB"],[195029,1,"\u8CC1"],[195030,1,"\u8D1B"],[195031,1,"\u8D77"],[195032,1,"\u{27F2F}"],[195033,1,"\u{20804}"],[195034,1,"\u8DCB"],[195035,1,"\u8DBC"],[195036,1,"\u8DF0"],[195037,1,"\u{208DE}"],[195038,1,"\u8ED4"],[195039,1,"\u8F38"],[195040,1,"\u{285D2}"],[195041,1,"\u{285ED}"],[195042,1,"\u9094"],[195043,1,"\u90F1"],[195044,1,"\u9111"],[195045,1,"\u{2872E}"],[195046,1,"\u911B"],[195047,1,"\u9238"],[195048,1,"\u92D7"],[195049,1,"\u92D8"],[195050,1,"\u927C"],[195051,1,"\u93F9"],[195052,1,"\u9415"],[195053,1,"\u{28BFA}"],[195054,1,"\u958B"],[195055,1,"\u4995"],[195056,1,"\u95B7"],[195057,1,"\u{28D77}"],[195058,1,"\u49E6"],[195059,1,"\u96C3"],[195060,1,"\u5DB2"],[195061,1,"\u9723"],[195062,1,"\u{29145}"],[195063,1,"\u{2921A}"],[195064,1,"\u4A6E"],[195065,1,"\u4A76"],[195066,1,"\u97E0"],[195067,1,"\u{2940A}"],[195068,1,"\u4AB2"],[195069,1,"\u{29496}"],[[195070,195071],1,"\u980B"],[195072,1,"\u9829"],[195073,1,"\u{295B6}"],[195074,1,"\u98E2"],[195075,1,"\u4B33"],[195076,1,"\u9929"],[195077,1,"\u99A7"],[195078,1,"\u99C2"],[195079,1,"\u99FE"],[195080,1,"\u4BCE"],[195081,1,"\u{29B30}"],[195082,1,"\u9B12"],[195083,1,"\u9C40"],[195084,1,"\u9CFD"],[195085,1,"\u4CCE"],[195086,1,"\u4CED"],[195087,1,"\u9D67"],[195088,1,"\u{2A0CE}"],[195089,1,"\u4CF8"],[195090,1,"\u{2A105}"],[195091,1,"\u{2A20E}"],[195092,1,"\u{2A291}"],[195093,1,"\u9EBB"],[195094,1,"\u4D56"],[195095,1,"\u9EF9"],[195096,1,"\u9EFE"],[195097,1,"\u9F05"],[195098,1,"\u9F0F"],[195099,1,"\u9F16"],[195100,1,"\u9F3B"],[195101,1,"\u{2A600}"],[[195102,196605],3],[[196606,196607],3],[[196608,201546],2],[[201547,262141],3],[[262142,262143],3],[[262144,327677],3],[[327678,327679],3],[[327680,393213],3],[[393214,393215],3],[[393216,458749],3],[[458750,458751],3],[[458752,524285],3],[[524286,524287],3],[[524288,589821],3],[[589822,589823],3],[[589824,655357],3],[[655358,655359],3],[[655360,720893],3],[[720894,720895],3],[[720896,786429],3],[[786430,786431],3],[[786432,851965],3],[[851966,851967],3],[[851968,917501],3],[[917502,917503],3],[917504,3],[917505,3],[[917506,917535],3],[[917536,917631],3],[[917632,917759],3],[[917760,917999],7],[[918e3,983037],3],[[983038,983039],3],[[983040,1048573],3],[[1048574,1048575],3],[[1048576,1114109],3],[[1114110,1114111],3]]});var Y$=h((Oet,K$)=>{"use strict";K$.exports.STATUS_MAPPING={mapped:1,valid:2,disallowed:3,disallowed_STD3_valid:4,disallowed_STD3_mapped:5,deviation:6,ignored:7}});var ek=h((Cet,Z$)=>{"use strict";var H8=require("punycode"),Zi=H$(),J$=G$(),{STATUS_MAPPING:Mn}=Y$();function kge(t){return/[^\x00-\x7F]/u.test(t)}function Q$(t,{useSTD3ASCIIRules:e}){let r=0,n=J$.length-1;for(;r<=n;){let i=Math.floor((r+n)/2),s=J$[i],o=Array.isArray(s[0])?s[0][0]:s[0],u=Array.isArray(s[0])?s[0][1]:s[0];if(o<=t&&u>=t)return e&&(s[1]===Mn.disallowed_STD3_valid||s[1]===Mn.disallowed_STD3_mapped)?[Mn.disallowed,...s.slice(2)]:s[1]===Mn.disallowed_STD3_valid?[Mn.valid,...s.slice(2)]:s[1]===Mn.disallowed_STD3_mapped?[Mn.mapped,...s.slice(2)]:s.slice(1);o>t?n=i-1:r=i+1}return null}function jge(t,{useSTD3ASCIIRules:e,processingOption:r}){let n=!1,i="";for(let s of t){let[o,u]=Q$(s.codePointAt(0),{useSTD3ASCIIRules:e});switch(o){case Mn.disallowed:n=!0,i+=s;break;case Mn.ignored:break;case Mn.mapped:i+=u;break;case Mn.deviation:r==="transitional"?i+=u:i+=s;break;case Mn.valid:i+=s;break}}return{string:i,error:n}}function Lge(t,{checkHyphens:e,checkBidi:r,checkJoiners:n,processingOption:i,useSTD3ASCIIRules:s}){if(t.normalize("NFC")!==t)return!1;let o=Array.from(t);if(e&&(o[2]==="-"&&o[3]==="-"||t.startsWith("-")||t.endsWith("-"))||t.includes(".")||o.length>0&&Zi.combiningMarks.test(o[0]))return!1;for(let u of o){let[a]=Q$(u.codePointAt(0),{useSTD3ASCIIRules:s});if(i==="transitional"&&a!==Mn.valid||i==="nontransitional"&&a!==Mn.valid&&a!==Mn.deviation)return!1}if(n){let u=0;for(let[a,c]of o.entries())if(c==="\u200C"||c==="\u200D"){if(a>0){if(Zi.combiningClassVirama.test(o[a-1]))continue;if(c==="\u200C"){let l=o.indexOf("\u200C",a+1),d=l<0?o.slice(u):o.slice(u,l);if(Zi.validZWNJ.test(d.join(""))){u=a+1;continue}}}return!1}}if(r){let u;if(Zi.bidiS1LTR.test(o[0]))u=!1;else if(Zi.bidiS1RTL.test(o[0]))u=!0;else return!1;if(u){if(!Zi.bidiS2.test(t)||!Zi.bidiS3.test(t)||Zi.bidiS4EN.test(t)&&Zi.bidiS4AN.test(t))return!1}else if(!Zi.bidiS5.test(t)||!Zi.bidiS6.test(t))return!1}return!0}function Uge(t){let e=t.map(r=>{if(r.startsWith("xn--"))try{return H8.decode(r.substring(4))}catch{return""}return r}).join(".");return Zi.bidiDomain.test(e)}function X$(t,e){let{processingOption:r}=e,{string:n,error:i}=jge(t,e);n=n.normalize("NFC");let s=n.split("."),o=Uge(s);for(let[u,a]of s.entries()){let c=a,l=r;if(c.startsWith("xn--")){try{c=H8.decode(c.substring(4)),s[u]=c}catch{i=!0;continue}l="nontransitional"}if(i)continue;Lge(c,{...e,processingOption:l,checkBidi:e.checkBidi&&o})||(i=!0)}return{string:s.join("."),error:i}}function zge(t,{checkHyphens:e=!1,checkBidi:r=!1,checkJoiners:n=!1,useSTD3ASCIIRules:i=!1,processingOption:s="nontransitional",verifyDNSLength:o=!1}={}){if(s!=="transitional"&&s!=="nontransitional")throw new RangeError("processingOption must be either transitional or nontransitional");let u=X$(t,{processingOption:s,checkHyphens:e,checkBidi:r,checkJoiners:n,useSTD3ASCIIRules:i}),a=u.string.split(".");if(a=a.map(c=>{if(kge(c))try{return`xn--${H8.encode(c)}`}catch{u.error=!0}return c}),o){let c=a.join(".").length;(c>253||c===0)&&(u.error=!0);for(let l=0;l<a.length;++l)if(a[l].length>63||a[l].length===0){u.error=!0;break}}return u.error?null:a.join(".")}function Vge(t,{checkHyphens:e=!1,checkBidi:r=!1,checkJoiners:n=!1,useSTD3ASCIIRules:i=!1,processingOption:s="nontransitional"}={}){let o=X$(t,{processingOption:s,checkHyphens:e,checkBidi:r,checkJoiners:n,useSTD3ASCIIRules:i});return{domain:o.string,error:o.error}}Z$.exports={toASCII:zge,toUnicode:Vge}});var K8=h((vet,rk)=>{"use strict";function G8(t){return t>=48&&t<=57}function tk(t){return t>=65&&t<=90||t>=97&&t<=122}function Wge(t){return tk(t)||G8(t)}function Hge(t){return G8(t)||t>=65&&t<=70||t>=97&&t<=102}rk.exports={isASCIIDigit:G8,isASCIIAlpha:tk,isASCIIAlphanumeric:Wge,isASCIIHex:Hge}});var TE=h((bet,nk)=>{"use strict";var Gge=new TextEncoder,Kge=new TextDecoder("utf-8",{ignoreBOM:!0});function Yge(t){return Gge.encode(t)}function Jge(t){return Kge.decode(t)}nk.exports={utf8Encode:Yge,utf8DecodeWithoutBOM:Jge}});var DE=h((Iet,lk)=>{"use strict";var{isASCIIHex:ik}=K8(),{utf8Encode:sk}=TE();function Je(t){return t.codePointAt(0)}function Qge(t){let e=t.toString(16).toUpperCase();return e.length===1&&(e=`0${e}`),`%${e}`}function ok(t){let e=new Uint8Array(t.byteLength),r=0;for(let n=0;n<t.byteLength;++n){let i=t[n];if(i!==37)e[r++]=i;else if(i===37&&(!ik(t[n+1])||!ik(t[n+2])))e[r++]=i;else{let s=parseInt(String.fromCodePoint(t[n+1],t[n+2]),16);e[r++]=s,n+=2}}return e.slice(0,r)}function Xge(t){let e=sk(t);return ok(e)}function Y8(t){return t<=31||t>126}var Zge=new Set([Je(" "),Je('"'),Je("<"),Je(">"),Je("`")]);function e_e(t){return Y8(t)||Zge.has(t)}var t_e=new Set([Je(" "),Je('"'),Je("#"),Je("<"),Je(">")]);function J8(t){return Y8(t)||t_e.has(t)}function r_e(t){return J8(t)||t===Je("'")}var n_e=new Set([Je("?"),Je("`"),Je("{"),Je("}")]);function uk(t){return J8(t)||n_e.has(t)}var i_e=new Set([Je("/"),Je(":"),Je(";"),Je("="),Je("@"),Je("["),Je("\\"),Je("]"),Je("^"),Je("|")]);function ak(t){return uk(t)||i_e.has(t)}var s_e=new Set([Je("$"),Je("%"),Je("&"),Je("+"),Je(",")]);function o_e(t){return ak(t)||s_e.has(t)}var u_e=new Set([Je("!"),Je("'"),Je("("),Je(")"),Je("~")]);function a_e(t){return o_e(t)||u_e.has(t)}function ck(t,e){let r=sk(t),n="";for(let i of r)e(i)?n+=Qge(i):n+=String.fromCharCode(i);return n}function c_e(t,e){return ck(String.fromCodePoint(t),e)}function l_e(t,e,r=!1){let n="";for(let i of t)r&&i===" "?n+="+":n+=ck(i,e);return n}lk.exports={isC0ControlPercentEncode:Y8,isFragmentPercentEncode:e_e,isQueryPercentEncode:J8,isSpecialQueryPercentEncode:r_e,isPathPercentEncode:uk,isUserinfoPercentEncode:ak,isURLEncodedPercentEncode:a_e,percentDecodeString:Xge,percentDecodeBytes:ok,utf8PercentEncodeString:l_e,utf8PercentEncodeCodePoint:c_e}});var r7=h((Pet,Fn)=>{"use strict";var d_e=ek(),Xr=K8(),{utf8DecodeWithoutBOM:f_e}=TE(),{percentDecodeString:h_e,utf8PercentEncodeCodePoint:NE,utf8PercentEncodeString:xE,isC0ControlPercentEncode:pk,isFragmentPercentEncode:p_e,isQueryPercentEncode:m_e,isSpecialQueryPercentEncode:y_e,isPathPercentEncode:g_e,isUserinfoPercentEncode:Z8}=DE();function W(t){return t.codePointAt(0)}var mk={ftp:21,file:null,http:80,https:443,ws:80,wss:443},De=Symbol("failure");function dk(t){return[...t].length}function fk(t,e){let r=t[e];return isNaN(r)?void 0:String.fromCodePoint(r)}function hk(t){return t==="."||t.toLowerCase()==="%2e"}function __e(t){return t=t.toLowerCase(),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"}function E_e(t,e){return Xr.isASCIIAlpha(t)&&(e===W(":")||e===W("|"))}function yk(t){return t.length===2&&Xr.isASCIIAlpha(t.codePointAt(0))&&(t[1]===":"||t[1]==="|")}function A_e(t){return t.length===2&&Xr.isASCIIAlpha(t.codePointAt(0))&&t[1]===":"}function S_e(t){return t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1}function w_e(t){return t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)!==-1}function RE(t){return mk[t]!==void 0}function Qr(t){return RE(t.scheme)}function Q8(t){return!RE(t.scheme)}function gk(t){return mk[t]}function _k(t){if(t==="")return De;let e=10;if(t.length>=2&&t.charAt(0)==="0"&&t.charAt(1).toLowerCase()==="x"?(t=t.substring(2),e=16):t.length>=2&&t.charAt(0)==="0"&&(t=t.substring(1),e=8),t==="")return 0;let r=/[^0-7]/u;return e===10&&(r=/[^0-9]/u),e===16&&(r=/[^0-9A-Fa-f]/u),r.test(t)?De:parseInt(t,e)}function O_e(t){let e=t.split(".");if(e[e.length-1]===""&&e.length>1&&e.pop(),e.length>4)return De;let r=[];for(let s of e){let o=_k(s);if(o===De)return De;r.push(o)}for(let s=0;s<r.length-1;++s)if(r[s]>255)return De;if(r[r.length-1]>=256**(5-r.length))return De;let n=r.pop(),i=0;for(let s of r)n+=s*256**(3-i),++i;return n}function C_e(t){let e="",r=t;for(let n=1;n<=4;++n)e=String(r%256)+e,n!==4&&(e=`.${e}`),r=Math.floor(r/256);return e}function v_e(t){let e=[0,0,0,0,0,0,0,0],r=0,n=null,i=0;if(t=Array.from(t,s=>s.codePointAt(0)),t[i]===W(":")){if(t[i+1]!==W(":"))return De;i+=2,++r,n=r}for(;i<t.length;){if(r===8)return De;if(t[i]===W(":")){if(n!==null)return De;++i,++r,n=r;continue}let s=0,o=0;for(;o<4&&Xr.isASCIIHex(t[i]);)s=s*16+parseInt(fk(t,i),16),++i,++o;if(t[i]===W(".")){if(o===0||(i-=o,r>6))return De;let u=0;for(;t[i]!==void 0;){let a=null;if(u>0)if(t[i]===W(".")&&u<4)++i;else return De;if(!Xr.isASCIIDigit(t[i]))return De;for(;Xr.isASCIIDigit(t[i]);){let c=parseInt(fk(t,i));if(a===null)a=c;else{if(a===0)return De;a=a*10+c}if(a>255)return De;++i}e[r]=e[r]*256+a,++u,(u===2||u===4)&&++r}if(u!==4)return De;break}else if(t[i]===W(":")){if(++i,t[i]===void 0)return De}else if(t[i]!==void 0)return De;e[r]=s,++r}if(n!==null){let s=r-n;for(r=7;r!==0&&s>0;){let o=e[n+s-1];e[n+s-1]=e[r],e[r]=o,--r,--s}}else if(n===null&&r!==8)return De;return e}function b_e(t){let e="",r=T_e(t),n=!1;for(let i=0;i<=7;++i)if(!(n&&t[i]===0)){if(n&&(n=!1),r===i){e+=i===0?"::":":",n=!0;continue}e+=t[i].toString(16),i!==7&&(e+=":")}return e}function X8(t,e=!1){if(t[0]==="[")return t[t.length-1]!=="]"?De:v_e(t.substring(1,t.length-1));if(e)return P_e(t);let r=f_e(h_e(t)),n=D_e(r);return n===De||S_e(n)?De:I_e(n)?O_e(n):n}function I_e(t){let e=t.split(".");if(e[e.length-1]===""){if(e.length===1)return!1;e.pop()}let r=e[e.length-1];return!!(_k(r)!==De||/^[0-9]+$/u.test(r))}function P_e(t){return w_e(t)?De:xE(t,pk)}function T_e(t){let e=null,r=1,n=null,i=0;for(let s=0;s<t.length;++s)t[s]!==0?(i>r&&(e=n,r=i),n=null,i=0):(n===null&&(n=s),++i);return i>r?n:e}function e7(t){return typeof t=="number"?C_e(t):t instanceof Array?`[${b_e(t)}]`:t}function D_e(t,e=!1){let r=d_e.toASCII(t,{checkBidi:!0,checkHyphens:!1,checkJoiners:!0,useSTD3ASCIIRules:e,verifyDNSLength:e});return r===null||r===""?De:r}function R_e(t){return t.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/ug,"")}function N_e(t){return t.replace(/\u0009|\u000A|\u000D/ug,"")}function Ek(t){let{path:e}=t;e.length!==0&&(t.scheme==="file"&&e.length===1&&M_e(e[0])||e.pop())}function Ak(t){return t.username!==""||t.password!==""}function x_e(t){return t.host===null||t.host===""||i1(t)||t.scheme==="file"}function i1(t){return typeof t.path=="string"}function M_e(t){return/^[A-Za-z]:$/u.test(t)}function dr(t,e,r,n,i){if(this.pointer=0,this.input=t,this.base=e||null,this.encodingOverride=r||"utf-8",this.stateOverride=i,this.url=n,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null};let o=R_e(this.input);o!==this.input&&(this.parseError=!0),this.input=o}let s=N_e(this.input);for(s!==this.input&&(this.parseError=!0),this.input=s,this.state=i||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=Array.from(this.input,o=>o.codePointAt(0));this.pointer<=this.input.length;++this.pointer){let o=this.input[this.pointer],u=isNaN(o)?void 0:String.fromCodePoint(o),a=this[`parse ${this.state}`](o,u);if(a){if(a===De){this.failure=!0;break}}else break}}dr.prototype["parse scheme start"]=function(e,r){if(Xr.isASCIIAlpha(e))this.buffer+=r.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,De;return!0};dr.prototype["parse scheme"]=function(e,r){if(Xr.isASCIIAlphanumeric(e)||e===W("+")||e===W("-")||e===W("."))this.buffer+=r.toLowerCase();else if(e===W(":")){if(this.stateOverride&&(Qr(this.url)&&!RE(this.buffer)||!Qr(this.url)&&RE(this.buffer)||(Ak(this.url)||this.url.port!==null)&&this.buffer==="file"||this.url.scheme==="file"&&this.url.host===""))return!1;if(this.url.scheme=this.buffer,this.stateOverride)return this.url.port===gk(this.url.scheme)&&(this.url.port=null),!1;this.buffer="",this.url.scheme==="file"?((this.input[this.pointer+1]!==W("/")||this.input[this.pointer+2]!==W("/"))&&(this.parseError=!0),this.state="file"):Qr(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme?this.state="special relative or authority":Qr(this.url)?this.state="special authority slashes":this.input[this.pointer+1]===W("/")?(this.state="path or authority",++this.pointer):(this.url.path="",this.state="opaque path")}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,De;return!0};dr.prototype["parse no scheme"]=function(e){return this.base===null||i1(this.base)&&e!==W("#")?De:(i1(this.base)&&e===W("#")?(this.url.scheme=this.base.scheme,this.url.path=this.base.path,this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):this.base.scheme==="file"?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)};dr.prototype["parse special relative or authority"]=function(e){return e===W("/")&&this.input[this.pointer+1]===W("/")?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0};dr.prototype["parse path or authority"]=function(e){return e===W("/")?this.state="authority":(this.state="path",--this.pointer),!0};dr.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,e===W("/")?this.state="relative slash":Qr(this.url)&&e===W("\\")?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,e===W("?")?(this.url.query="",this.state="query"):e===W("#")?(this.url.fragment="",this.state="fragment"):isNaN(e)||(this.url.query=null,this.url.path.pop(),this.state="path",--this.pointer)),!0};dr.prototype["parse relative slash"]=function(e){return Qr(this.url)&&(e===W("/")||e===W("\\"))?(e===W("\\")&&(this.parseError=!0),this.state="special authority ignore slashes"):e===W("/")?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0};dr.prototype["parse special authority slashes"]=function(e){return e===W("/")&&this.input[this.pointer+1]===W("/")?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0};dr.prototype["parse special authority ignore slashes"]=function(e){return e!==W("/")&&e!==W("\\")?(this.state="authority",--this.pointer):this.parseError=!0,!0};dr.prototype["parse authority"]=function(e,r){if(e===W("@")){this.parseError=!0,this.atFlag&&(this.buffer=`%40${this.buffer}`),this.atFlag=!0;let n=dk(this.buffer);for(let i=0;i<n;++i){let s=this.buffer.codePointAt(i);if(s===W(":")&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let o=NE(s,Z8);this.passwordTokenSeenFlag?this.url.password+=o:this.url.username+=o}this.buffer=""}else if(isNaN(e)||e===W("/")||e===W("?")||e===W("#")||Qr(this.url)&&e===W("\\")){if(this.atFlag&&this.buffer==="")return this.parseError=!0,De;this.pointer-=dk(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=r;return!0};dr.prototype["parse hostname"]=dr.prototype["parse host"]=function(e,r){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(e===W(":")&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,De;if(this.stateOverride==="hostname")return!1;let n=X8(this.buffer,Q8(this.url));if(n===De)return De;this.url.host=n,this.buffer="",this.state="port"}else if(isNaN(e)||e===W("/")||e===W("?")||e===W("#")||Qr(this.url)&&e===W("\\")){if(--this.pointer,Qr(this.url)&&this.buffer==="")return this.parseError=!0,De;if(this.stateOverride&&this.buffer===""&&(Ak(this.url)||this.url.port!==null))return this.parseError=!0,!1;let n=X8(this.buffer,Q8(this.url));if(n===De)return De;if(this.url.host=n,this.buffer="",this.state="path start",this.stateOverride)return!1}else e===W("[")?this.arrFlag=!0:e===W("]")&&(this.arrFlag=!1),this.buffer+=r;return!0};dr.prototype["parse port"]=function(e,r){if(Xr.isASCIIDigit(e))this.buffer+=r;else if(isNaN(e)||e===W("/")||e===W("?")||e===W("#")||Qr(this.url)&&e===W("\\")||this.stateOverride){if(this.buffer!==""){let n=parseInt(this.buffer);if(n>2**16-1)return this.parseError=!0,De;this.url.port=n===gk(this.url.scheme)?null:n,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,De;return!0};var F_e=new Set([W("/"),W("\\"),W("?"),W("#")]);function Sk(t,e){let r=t.length-e;return r>=2&&E_e(t[e],t[e+1])&&(r===2||F_e.has(t[e+2]))}dr.prototype["parse file"]=function(e){return this.url.scheme="file",this.url.host="",e===W("/")||e===W("\\")?(e===W("\\")&&(this.parseError=!0),this.state="file slash"):this.base!==null&&this.base.scheme==="file"?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,e===W("?")?(this.url.query="",this.state="query"):e===W("#")?(this.url.fragment="",this.state="fragment"):isNaN(e)||(this.url.query=null,Sk(this.input,this.pointer)?(this.parseError=!0,this.url.path=[]):Ek(this.url),this.state="path",--this.pointer)):(this.state="path",--this.pointer),!0};dr.prototype["parse file slash"]=function(e){return e===W("/")||e===W("\\")?(e===W("\\")&&(this.parseError=!0),this.state="file host"):(this.base!==null&&this.base.scheme==="file"&&(!Sk(this.input,this.pointer)&&A_e(this.base.path[0])&&this.url.path.push(this.base.path[0]),this.url.host=this.base.host),this.state="path",--this.pointer),!0};dr.prototype["parse file host"]=function(e,r){if(isNaN(e)||e===W("/")||e===W("\\")||e===W("?")||e===W("#"))if(--this.pointer,!this.stateOverride&&yk(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let n=X8(this.buffer,Q8(this.url));if(n===De)return De;if(n==="localhost"&&(n=""),this.url.host=n,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=r;return!0};dr.prototype["parse path start"]=function(e){return Qr(this.url)?(e===W("\\")&&(this.parseError=!0),this.state="path",e!==W("/")&&e!==W("\\")&&--this.pointer):!this.stateOverride&&e===W("?")?(this.url.query="",this.state="query"):!this.stateOverride&&e===W("#")?(this.url.fragment="",this.state="fragment"):e!==void 0?(this.state="path",e!==W("/")&&--this.pointer):this.stateOverride&&this.url.host===null&&this.url.path.push(""),!0};dr.prototype["parse path"]=function(e){return isNaN(e)||e===W("/")||Qr(this.url)&&e===W("\\")||!this.stateOverride&&(e===W("?")||e===W("#"))?(Qr(this.url)&&e===W("\\")&&(this.parseError=!0),__e(this.buffer)?(Ek(this.url),e!==W("/")&&!(Qr(this.url)&&e===W("\\"))&&this.url.path.push("")):hk(this.buffer)&&e!==W("/")&&!(Qr(this.url)&&e===W("\\"))?this.url.path.push(""):hk(this.buffer)||(this.url.scheme==="file"&&this.url.path.length===0&&yk(this.buffer)&&(this.buffer=`${this.buffer[0]}:`),this.url.path.push(this.buffer)),this.buffer="",e===W("?")&&(this.url.query="",this.state="query"),e===W("#")&&(this.url.fragment="",this.state="fragment")):(e===W("%")&&(!Xr.isASCIIHex(this.input[this.pointer+1])||!Xr.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=NE(e,g_e)),!0};dr.prototype["parse opaque path"]=function(e){return e===W("?")?(this.url.query="",this.state="query"):e===W("#")?(this.url.fragment="",this.state="fragment"):(!isNaN(e)&&e!==W("%")&&(this.parseError=!0),e===W("%")&&(!Xr.isASCIIHex(this.input[this.pointer+1])||!Xr.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),isNaN(e)||(this.url.path+=NE(e,pk))),!0};dr.prototype["parse query"]=function(e,r){if((!Qr(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")&&(this.encodingOverride="utf-8"),!this.stateOverride&&e===W("#")||isNaN(e)){let n=Qr(this.url)?y_e:m_e;this.url.query+=xE(this.buffer,n),this.buffer="",e===W("#")&&(this.url.fragment="",this.state="fragment")}else isNaN(e)||(e===W("%")&&(!Xr.isASCIIHex(this.input[this.pointer+1])||!Xr.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=r);return!0};dr.prototype["parse fragment"]=function(e){return isNaN(e)||(e===W("%")&&(!Xr.isASCIIHex(this.input[this.pointer+1])||!Xr.isASCIIHex(this.input[this.pointer+2]))&&(this.parseError=!0),this.url.fragment+=NE(e,p_e)),!0};function B_e(t,e){let r=`${t.scheme}:`;return t.host!==null&&(r+="//",(t.username!==""||t.password!=="")&&(r+=t.username,t.password!==""&&(r+=`:${t.password}`),r+="@"),r+=e7(t.host),t.port!==null&&(r+=`:${t.port}`)),t.host===null&&!i1(t)&&t.path.length>1&&t.path[0]===""&&(r+="/."),r+=t7(t),t.query!==null&&(r+=`?${t.query}`),!e&&t.fragment!==null&&(r+=`#${t.fragment}`),r}function q_e(t){let e=`${t.scheme}://`;return e+=e7(t.host),t.port!==null&&(e+=`:${t.port}`),e}function t7(t){if(i1(t))return t.path;let e="";for(let r of t.path)e+=`/${r}`;return e}Fn.exports.serializeURL=B_e;Fn.exports.serializePath=t7;Fn.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return Fn.exports.serializeURLOrigin(Fn.exports.parseURL(t7(t)))}catch{return"null"}case"ftp":case"http":case"https":case"ws":case"wss":return q_e({scheme:t.scheme,host:t.host,port:t.port});case"file":return"null";default:return"null"}};Fn.exports.basicURLParse=function(t,e){e===void 0&&(e={});let r=new dr(t,e.baseURL,e.encodingOverride,e.url,e.stateOverride);return r.failure?null:r.url};Fn.exports.setTheUsername=function(t,e){t.username=xE(e,Z8)};Fn.exports.setThePassword=function(t,e){t.password=xE(e,Z8)};Fn.exports.serializeHost=e7;Fn.exports.cannotHaveAUsernamePasswordPort=x_e;Fn.exports.hasAnOpaquePath=i1;Fn.exports.serializeInteger=function(t){return String(t)};Fn.exports.parseURL=function(t,e){return e===void 0&&(e={}),Fn.exports.basicURLParse(t,{baseURL:e.baseURL,encodingOverride:e.encodingOverride})}});var n7=h((Tet,Pk)=>{"use strict";var{utf8Encode:$_e,utf8DecodeWithoutBOM:wk}=TE(),{percentDecodeBytes:Ok,utf8PercentEncodeString:Ck,isURLEncodedPercentEncode:vk}=DE();function bk(t){return t.codePointAt(0)}function k_e(t){let e=U_e(t,bk("&")),r=[];for(let n of e){if(n.length===0)continue;let i,s,o=n.indexOf(bk("="));o>=0?(i=n.slice(0,o),s=n.slice(o+1)):(i=n,s=new Uint8Array(0)),i=Ik(i,43,32),s=Ik(s,43,32);let u=wk(Ok(i)),a=wk(Ok(s));r.push([u,a])}return r}function j_e(t){return k_e($_e(t))}function L_e(t,e=void 0){let r="utf-8";e!==void 0&&(r=e);let n="";for(let[i,s]of t.entries()){let o=Ck(s[0],vk,!0),u=s[1];s.length>2&&s[2]!==void 0&&(s[2]==="hidden"&&o==="_charset_"?u=r:s[2]==="file"&&(u=u.name)),u=Ck(u,vk,!0),i!==0&&(n+="&"),n+=`${o}=${u}`}return n}function U_e(t,e){let r=[],n=0,i=t.indexOf(e);for(;i>=0;)r.push(t.slice(n,i)),n=i+1,i=t.indexOf(e,n);return n!==t.length&&r.push(t.slice(n)),r}function Ik(t,e,r){let n=t.indexOf(e);for(;n>=0;)t[n]=r,n=t.indexOf(e,n+1);return t}Pk.exports={parseUrlencodedString:j_e,serializeUrlencoded:L_e}});var Rk=h(Dk=>{"use strict";var Tk=bE(),ME=PE();Dk.convert=(t,e,{context:r="The provided value"}={})=>{if(typeof e!="function")throw new t.TypeError(r+" is not a function");function n(...i){let s=ME.tryWrapperForImpl(this),o;for(let u=0;u<i.length;u++)i[u]=ME.tryWrapperForImpl(i[u]);return o=Reflect.apply(e,s,i),o=Tk.any(o,{context:r,globals:t}),o}return n.construct=(...i)=>{for(let o=0;o<i.length;o++)i[o]=ME.tryWrapperForImpl(i[o]);let s=Reflect.construct(e,i);return s=Tk.any(s,{context:r,globals:t}),s},n[ME.wrapperSymbol]=e,n.objectReference=e,n}});var xk=h(Nk=>{"use strict";var i7=n7();Nk.implementation=class{constructor(e,r,{doNotStripQMark:n=!1}){let i=r[0];if(this._list=[],this._url=null,!n&&typeof i=="string"&&i[0]==="?"&&(i=i.slice(1)),Array.isArray(i))for(let s of i){if(s.length!==2)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([s[0],s[1]])}else if(typeof i=="object"&&Object.getPrototypeOf(i)===null)for(let s of Object.keys(i)){let o=i[s];this._list.push([s,o])}else this._list=i7.parseUrlencodedString(i)}_updateSteps(){if(this._url!==null){let e=i7.serializeUrlencoded(this._list);e===""&&(e=null),this._url._url.query=e}}append(e,r){this._list.push([e,r]),this._updateSteps()}delete(e){let r=0;for(;r<this._list.length;)this._list[r][0]===e?this._list.splice(r,1):r++;this._updateSteps()}get(e){for(let r of this._list)if(r[0]===e)return r[1];return null}getAll(e){let r=[];for(let n of this._list)n[0]===e&&r.push(n[1]);return r}has(e){for(let r of this._list)if(r[0]===e)return!0;return!1}set(e,r){let n=!1,i=0;for(;i<this._list.length;)this._list[i][0]===e?n?this._list.splice(i,1):(n=!0,this._list[i][1]=r,i++):i++;n||this._list.push([e,r]),this._updateSteps()}sort(){this._list.sort((e,r)=>e[0]<r[0]?-1:e[0]>r[0]?1:0),this._updateSteps()}[Symbol.iterator](){return this._list[Symbol.iterator]()}toString(){return i7.serializeUrlencoded(this._list)}}});var s7=h(st=>{"use strict";var es=bE(),Pt=PE(),z_e=Rk(),Mk=Pt.newObjectInRealm,vr=Pt.implSymbol,Bk=Pt.ctorRegistrySymbol,Fk="URLSearchParams";st.is=t=>Pt.isObject(t)&&Pt.hasOwn(t,vr)&&t[vr]instanceof Da.implementation;st.isImpl=t=>Pt.isObject(t)&&t instanceof Da.implementation;st.convert=(t,e,{context:r="The provided value"}={})=>{if(st.is(e))return Pt.implForWrapper(e);throw new t.TypeError(`${r} is not of type 'URLSearchParams'.`)};st.createDefaultIterator=(t,e,r)=>{let i=t[Bk]["URLSearchParams Iterator"],s=Object.create(i);return Object.defineProperty(s,Pt.iterInternalSymbol,{value:{target:e,kind:r,index:0},configurable:!0}),s};function qk(t,e){let r;return e!==void 0&&(r=e.prototype),Pt.isObject(r)||(r=t[Bk].URLSearchParams.prototype),Object.create(r)}st.create=(t,e,r)=>{let n=qk(t);return st.setup(n,t,e,r)};st.createImpl=(t,e,r)=>{let n=st.create(t,e,r);return Pt.implForWrapper(n)};st._internalSetup=(t,e)=>{};st.setup=(t,e,r=[],n={})=>(n.wrapper=t,st._internalSetup(t,e),Object.defineProperty(t,vr,{value:new Da.implementation(e,r,n),configurable:!0}),t[vr][Pt.wrapperSymbol]=t,Da.init&&Da.init(t[vr]),t);st.new=(t,e)=>{let r=qk(t,e);return st._internalSetup(r,t),Object.defineProperty(r,vr,{value:Object.create(Da.implementation.prototype),configurable:!0}),r[vr][Pt.wrapperSymbol]=r,Da.init&&Da.init(r[vr]),r[vr]};var V_e=new Set(["Window","Worker"]);st.install=(t,e)=>{if(!e.some(i=>V_e.has(i)))return;let r=Pt.initCtorRegistry(t);class n{constructor(){let s=[];{let o=arguments[0];if(o!==void 0)if(Pt.isObject(o))if(o[Symbol.iterator]!==void 0)if(Pt.isObject(o)){let u=[],a=o;for(let c of a){if(Pt.isObject(c)){let l=[],d=c;for(let f of d)f=es.USVString(f,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element",globals:t}),l.push(f);c=l}else throw new t.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");u.push(c)}o=u}else throw new t.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");else if(Pt.isObject(o)){let u=Object.create(null);for(let a of Reflect.ownKeys(o)){let c=Object.getOwnPropertyDescriptor(o,a);if(c&&c.enumerable){let l=a;l=es.USVString(l,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key",globals:t});let d=o[a];d=es.USVString(d,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value",globals:t}),u[l]=d}}o=u}else throw new t.TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");else o=es.USVString(o,{context:"Failed to construct 'URLSearchParams': parameter 1",globals:t});else o="";s.push(o)}return st.setup(Object.create(new.target.prototype),t,s)}append(s,o){let u=this!==null&&this!==void 0?this:t;if(!st.is(u))throw new t.TypeError("'append' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new t.TypeError(`Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);let a=[];{let c=arguments[0];c=es.USVString(c,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1",globals:t}),a.push(c)}{let c=arguments[1];c=es.USVString(c,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2",globals:t}),a.push(c)}return Pt.tryWrapperForImpl(u[vr].append(...a))}delete(s){let o=this!==null&&this!==void 0?this:t;if(!st.is(o))throw new t.TypeError("'delete' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError(`Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);let u=[];{let a=arguments[0];a=es.USVString(a,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1",globals:t}),u.push(a)}return Pt.tryWrapperForImpl(o[vr].delete(...u))}get(s){let o=this!==null&&this!==void 0?this:t;if(!st.is(o))throw new t.TypeError("'get' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError(`Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);let u=[];{let a=arguments[0];a=es.USVString(a,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1",globals:t}),u.push(a)}return o[vr].get(...u)}getAll(s){let o=this!==null&&this!==void 0?this:t;if(!st.is(o))throw new t.TypeError("'getAll' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError(`Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);let u=[];{let a=arguments[0];a=es.USVString(a,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1",globals:t}),u.push(a)}return Pt.tryWrapperForImpl(o[vr].getAll(...u))}has(s){let o=this!==null&&this!==void 0?this:t;if(!st.is(o))throw new t.TypeError("'has' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError(`Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);let u=[];{let a=arguments[0];a=es.USVString(a,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1",globals:t}),u.push(a)}return o[vr].has(...u)}set(s,o){let u=this!==null&&this!==void 0?this:t;if(!st.is(u))throw new t.TypeError("'set' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new t.TypeError(`Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);let a=[];{let c=arguments[0];c=es.USVString(c,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1",globals:t}),a.push(c)}{let c=arguments[1];c=es.USVString(c,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2",globals:t}),a.push(c)}return Pt.tryWrapperForImpl(u[vr].set(...a))}sort(){let s=this!==null&&this!==void 0?this:t;if(!st.is(s))throw new t.TypeError("'sort' called on an object that is not a valid instance of URLSearchParams.");return Pt.tryWrapperForImpl(s[vr].sort())}toString(){let s=this!==null&&this!==void 0?this:t;if(!st.is(s))throw new t.TypeError("'toString' called on an object that is not a valid instance of URLSearchParams.");return s[vr].toString()}keys(){if(!st.is(this))throw new t.TypeError("'keys' called on an object that is not a valid instance of URLSearchParams.");return st.createDefaultIterator(t,this,"key")}values(){if(!st.is(this))throw new t.TypeError("'values' called on an object that is not a valid instance of URLSearchParams.");return st.createDefaultIterator(t,this,"value")}entries(){if(!st.is(this))throw new t.TypeError("'entries' called on an object that is not a valid instance of URLSearchParams.");return st.createDefaultIterator(t,this,"key+value")}forEach(s){if(!st.is(this))throw new t.TypeError("'forEach' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new t.TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");s=z_e.convert(t,s,{context:"Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1"});let o=arguments[1],u=Array.from(this[vr]),a=0;for(;a<u.length;){let[c,l]=u[a].map(Pt.tryWrapperForImpl);s.call(o,l,c,this),u=Array.from(this[vr]),a++}}}Object.defineProperties(n.prototype,{append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0},[Symbol.toStringTag]:{value:"URLSearchParams",configurable:!0},[Symbol.iterator]:{value:n.prototype.entries,configurable:!0,writable:!0}}),r[Fk]=n,r["URLSearchParams Iterator"]=Object.create(r["%IteratorPrototype%"],{[Symbol.toStringTag]:{configurable:!0,value:"URLSearchParams Iterator"}}),Pt.define(r["URLSearchParams Iterator"],{next(){let i=this&&this[Pt.iterInternalSymbol];if(!i)throw new t.TypeError("next() called on a value that is not a URLSearchParams iterator object");let{target:s,kind:o,index:u}=i,a=Array.from(s[vr]),c=a.length;if(u>=c)return Mk(t,{value:void 0,done:!0});let l=a[u];return i.index=u+1,Mk(t,Pt.iteratorResult(l.map(Pt.tryWrapperForImpl),o))}}),Object.defineProperty(t,Fk,{configurable:!0,writable:!0,value:n})};var Da=xk()});var jk=h(kk=>{"use strict";var Ft=r7(),$k=n7(),W_e=s7();kk.implementation=class{constructor(e,r){let n=r[0],i=r[1],s=null;if(i!==void 0&&(s=Ft.basicURLParse(i),s===null))throw new TypeError(`Invalid base URL: ${i}`);let o=Ft.basicURLParse(n,{baseURL:s});if(o===null)throw new TypeError(`Invalid URL: ${n}`);let u=o.query!==null?o.query:"";this._url=o,this._query=W_e.createImpl(e,[u],{doNotStripQMark:!0}),this._query._url=this}get href(){return Ft.serializeURL(this._url)}set href(e){let r=Ft.basicURLParse(e);if(r===null)throw new TypeError(`Invalid URL: ${e}`);this._url=r,this._query._list.splice(0);let{query:n}=r;n!==null&&(this._query._list=$k.parseUrlencodedString(n))}get origin(){return Ft.serializeURLOrigin(this._url)}get protocol(){return`${this._url.scheme}:`}set protocol(e){Ft.basicURLParse(`${e}:`,{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){Ft.cannotHaveAUsernamePasswordPort(this._url)||Ft.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){Ft.cannotHaveAUsernamePasswordPort(this._url)||Ft.setThePassword(this._url,e)}get host(){let e=this._url;return e.host===null?"":e.port===null?Ft.serializeHost(e.host):`${Ft.serializeHost(e.host)}:${Ft.serializeInteger(e.port)}`}set host(e){Ft.hasAnOpaquePath(this._url)||Ft.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return this._url.host===null?"":Ft.serializeHost(this._url.host)}set hostname(e){Ft.hasAnOpaquePath(this._url)||Ft.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return this._url.port===null?"":Ft.serializeInteger(this._url.port)}set port(e){Ft.cannotHaveAUsernamePasswordPort(this._url)||(e===""?this._url.port=null:Ft.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return Ft.serializePath(this._url)}set pathname(e){Ft.hasAnOpaquePath(this._url)||(this._url.path=[],Ft.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return this._url.query===null||this._url.query===""?"":`?${this._url.query}`}set search(e){let r=this._url;if(e===""){r.query=null,this._query._list=[];return}let n=e[0]==="?"?e.substring(1):e;r.query="",Ft.basicURLParse(n,{url:r,stateOverride:"query"}),this._query._list=$k.parseUrlencodedString(n)}get searchParams(){return this._query}get hash(){return this._url.fragment===null||this._url.fragment===""?"":`#${this._url.fragment}`}set hash(e){if(e===""){this._url.fragment=null;return}let r=e[0]==="#"?e.substring(1):e;this._url.fragment="",Ft.basicURLParse(r,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}});var zk=h(je=>{"use strict";var ts=bE(),vi=PE(),nt=vi.implSymbol,H_e=vi.ctorRegistrySymbol,Lk="URL";je.is=t=>vi.isObject(t)&&vi.hasOwn(t,nt)&&t[nt]instanceof Ra.implementation;je.isImpl=t=>vi.isObject(t)&&t instanceof Ra.implementation;je.convert=(t,e,{context:r="The provided value"}={})=>{if(je.is(e))return vi.implForWrapper(e);throw new t.TypeError(`${r} is not of type 'URL'.`)};function Uk(t,e){let r;return e!==void 0&&(r=e.prototype),vi.isObject(r)||(r=t[H_e].URL.prototype),Object.create(r)}je.create=(t,e,r)=>{let n=Uk(t);return je.setup(n,t,e,r)};je.createImpl=(t,e,r)=>{let n=je.create(t,e,r);return vi.implForWrapper(n)};je._internalSetup=(t,e)=>{};je.setup=(t,e,r=[],n={})=>(n.wrapper=t,je._internalSetup(t,e),Object.defineProperty(t,nt,{value:new Ra.implementation(e,r,n),configurable:!0}),t[nt][vi.wrapperSymbol]=t,Ra.init&&Ra.init(t[nt]),t);je.new=(t,e)=>{let r=Uk(t,e);return je._internalSetup(r,t),Object.defineProperty(r,nt,{value:Object.create(Ra.implementation.prototype),configurable:!0}),r[nt][vi.wrapperSymbol]=r,Ra.init&&Ra.init(r[nt]),r[nt]};var G_e=new Set(["Window","Worker"]);je.install=(t,e)=>{if(!e.some(i=>G_e.has(i)))return;let r=vi.initCtorRegistry(t);class n{constructor(s){if(arguments.length<1)throw new t.TypeError(`Failed to construct 'URL': 1 argument required, but only ${arguments.length} present.`);let o=[];{let u=arguments[0];u=ts.USVString(u,{context:"Failed to construct 'URL': parameter 1",globals:t}),o.push(u)}{let u=arguments[1];u!==void 0&&(u=ts.USVString(u,{context:"Failed to construct 'URL': parameter 2",globals:t})),o.push(u)}return je.setup(Object.create(new.target.prototype),t,o)}toJSON(){let s=this!==null&&this!==void 0?this:t;if(!je.is(s))throw new t.TypeError("'toJSON' called on an object that is not a valid instance of URL.");return s[nt].toJSON()}get href(){let s=this!==null&&this!==void 0?this:t;if(!je.is(s))throw new t.TypeError("'get href' called on an object that is not a valid instance of URL.");return s[nt].href}set href(s){let o=this!==null&&this!==void 0?this:t;if(!je.is(o))throw new t.TypeError("'set href' called on an object that is not a valid instance of URL.");s=ts.USVString(s,{context:"Failed to set the 'href' property on 'URL': The provided value",globals:t}),o[nt].href=s}toString(){let s=this;if(!je.is(s))throw new t.TypeError("'toString' called on an object that is not a valid instance of URL.");return s[nt].href}get origin(){let s=this!==null&&this!==void 0?this:t;if(!je.is(s))throw new t.TypeError("'get origin' called on an object that is not a valid instance of URL.");return s[nt].origin}get protocol(){let s=this!==null&&this!==void 0?this:t;if(!je.is(s))throw new t.TypeError("'get protocol' called on an object that is not a valid instance of URL.");return s[nt].protocol}set protocol(s){let o=this!==null&&this!==void 0?this:t;if(!je.is(o))throw new t.TypeError("'set protocol' called on an object that is not a valid instance of URL.");s=ts.USVString(s,{context:"Failed to set the 'protocol' property on 'URL': The provided value",globals:t}),o[nt].protocol=s}get username(){let s=this!==null&&this!==void 0?this:t;if(!je.is(s))throw new t.TypeError("'get username' called on an object that is not a valid instance of URL.");return s[nt].username}set username(s){let o=this!==null&&this!==void 0?this:t;if(!je.is(o))throw new t.TypeError("'set username' called on an object that is not a valid instance of URL.");s=ts.USVString(s,{context:"Failed to set the 'username' property on 'URL': The provided value",globals:t}),o[nt].username=s}get password(){let s=this!==null&&this!==void 0?this:t;if(!je.is(s))throw new t.TypeError("'get password' called on an object that is not a valid instance of URL.");return s[nt].password}set password(s){let o=this!==null&&this!==void 0?this:t;if(!je.is(o))throw new t.TypeError("'set password' called on an object that is not a valid instance of URL.");s=ts.USVString(s,{context:"Failed to set the 'password' property on 'URL': The provided value",globals:t}),o[nt].password=s}get host(){let s=this!==null&&this!==void 0?this:t;if(!je.is(s))throw new t.TypeError("'get host' called on an object that is not a valid instance of URL.");return s[nt].host}set host(s){let o=this!==null&&this!==void 0?this:t;if(!je.is(o))throw new t.TypeError("'set host' called on an object that is not a valid instance of URL.");s=ts.USVString(s,{context:"Failed to set the 'host' property on 'URL': The provided value",globals:t}),o[nt].host=s}get hostname(){let s=this!==null&&this!==void 0?this:t;if(!je.is(s))throw new t.TypeError("'get hostname' called on an object that is not a valid instance of URL.");return s[nt].hostname}set hostname(s){let o=this!==null&&this!==void 0?this:t;if(!je.is(o))throw new t.TypeError("'set hostname' called on an object that is not a valid instance of URL.");s=ts.USVString(s,{context:"Failed to set the 'hostname' property on 'URL': The provided value",globals:t}),o[nt].hostname=s}get port(){let s=this!==null&&this!==void 0?this:t;if(!je.is(s))throw new t.TypeError("'get port' called on an object that is not a valid instance of URL.");return s[nt].port}set port(s){let o=this!==null&&this!==void 0?this:t;if(!je.is(o))throw new t.TypeError("'set port' called on an object that is not a valid instance of URL.");s=ts.USVString(s,{context:"Failed to set the 'port' property on 'URL': The provided value",globals:t}),o[nt].port=s}get pathname(){let s=this!==null&&this!==void 0?this:t;if(!je.is(s))throw new t.TypeError("'get pathname' called on an object that is not a valid instance of URL.");return s[nt].pathname}set pathname(s){let o=this!==null&&this!==void 0?this:t;if(!je.is(o))throw new t.TypeError("'set pathname' called on an object that is not a valid instance of URL.");s=ts.USVString(s,{context:"Failed to set the 'pathname' property on 'URL': The provided value",globals:t}),o[nt].pathname=s}get search(){let s=this!==null&&this!==void 0?this:t;if(!je.is(s))throw new t.TypeError("'get search' called on an object that is not a valid instance of URL.");return s[nt].search}set search(s){let o=this!==null&&this!==void 0?this:t;if(!je.is(o))throw new t.TypeError("'set search' called on an object that is not a valid instance of URL.");s=ts.USVString(s,{context:"Failed to set the 'search' property on 'URL': The provided value",globals:t}),o[nt].search=s}get searchParams(){let s=this!==null&&this!==void 0?this:t;if(!je.is(s))throw new t.TypeError("'get searchParams' called on an object that is not a valid instance of URL.");return vi.getSameObject(this,"searchParams",()=>vi.tryWrapperForImpl(s[nt].searchParams))}get hash(){let s=this!==null&&this!==void 0?this:t;if(!je.is(s))throw new t.TypeError("'get hash' called on an object that is not a valid instance of URL.");return s[nt].hash}set hash(s){let o=this!==null&&this!==void 0?this:t;if(!je.is(o))throw new t.TypeError("'set hash' called on an object that is not a valid instance of URL.");s=ts.USVString(s,{context:"Failed to set the 'hash' property on 'URL': The provided value",globals:t}),o[nt].hash=s}}Object.defineProperties(n.prototype,{toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0},[Symbol.toStringTag]:{value:"URL",configurable:!0}}),r[Lk]=n,Object.defineProperty(t,Lk,{configurable:!0,writable:!0,value:n}),e.includes("Window")&&Object.defineProperty(t,"webkitURL",{configurable:!0,writable:!0,value:n})};var Ra=jk()});var Vk=h(o7=>{"use strict";var K_e=zk(),Y_e=s7();o7.URL=K_e;o7.URLSearchParams=Y_e});var Hk=h(wn=>{"use strict";var{URL:J_e,URLSearchParams:Q_e}=Vk(),ks=r7(),Wk=DE(),FE={Array,Object,Promise,String,TypeError};J_e.install(FE,["Window"]);Q_e.install(FE,["Window"]);wn.URL=FE.URL;wn.URLSearchParams=FE.URLSearchParams;wn.parseURL=ks.parseURL;wn.basicURLParse=ks.basicURLParse;wn.serializeURL=ks.serializeURL;wn.serializePath=ks.serializePath;wn.serializeHost=ks.serializeHost;wn.serializeInteger=ks.serializeInteger;wn.serializeURLOrigin=ks.serializeURLOrigin;wn.setTheUsername=ks.setTheUsername;wn.setThePassword=ks.setThePassword;wn.cannotHaveAUsernamePasswordPort=ks.cannotHaveAUsernamePasswordPort;wn.hasAnOpaquePath=ks.hasAnOpaquePath;wn.percentDecodeString=Wk.percentDecodeString;wn.percentDecodeBytes=Wk.percentDecodeBytes});var Kk=h(ns=>{"use strict";var X_e=ns&&ns.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Z_e=ns&&ns.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),e2e=ns&&ns.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&X_e(e,t,r);return Z_e(e,t),e};Object.defineProperty(ns,"__esModule",{value:!0});ns.redactConnectionString=ns.redactValidConnectionString=void 0;var Gk=e2e(u7());function t2e(t,e){var r,n;let i=t.clone(),s=(r=e?.replacementString)!==null&&r!==void 0?r:"_credentials_",o=(n=e?.redactUsernames)!==null&&n!==void 0?n:!0;if((i.username||i.password)&&o?(i.username=s,i.password=""):i.password&&(i.password=s),i.searchParams.has("authMechanismProperties")){let u=new Gk.CommaAndColonSeparatedRecord(i.searchParams.get("authMechanismProperties"));u.get("AWS_SESSION_TOKEN")&&(u.set("AWS_SESSION_TOKEN",s),i.searchParams.set("authMechanismProperties",u.toString()))}return i.searchParams.has("tlsCertificateKeyFilePassword")&&i.searchParams.set("tlsCertificateKeyFilePassword",s),i.searchParams.has("proxyUsername")&&o&&i.searchParams.set("proxyUsername",s),i.searchParams.has("proxyPassword")&&i.searchParams.set("proxyPassword",s),i}ns.redactValidConnectionString=t2e;function r2e(t,e){var r,n;let i=(r=e?.replacementString)!==null&&r!==void 0?r:"<credentials>",s=(n=e?.redactUsernames)!==null&&n!==void 0?n:!0,o;try{o=new Gk.default(t)}catch{}if(o)return e={...e,replacementString:"___credentials___"},o.redact(e).toString().replace(/___credentials___/g,i);let u=i,a=[c=>c.replace(s?/(\/\/)(.*)(@)/g:/(\/\/[^@]*:)(.*)(@)/g,`$1${u}$3`),c=>c.replace(/(AWS_SESSION_TOKEN(:|%3A))([^,&]+)/gi,`$1${u}`),c=>c.replace(/(tlsCertificateKeyFilePassword=)([^&]+)/gi,`$1${u}`),c=>s?c.replace(/(proxyUsername=)([^&]+)/gi,`$1${u}`):c,c=>c.replace(/(proxyPassword=)([^&]+)/gi,`$1${u}`)];for(let c of a)t=c(t);return t}ns.redactConnectionString=r2e});var u7=h(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.CommaAndColonSeparatedRecord=gu.ConnectionString=gu.redactConnectionString=void 0;var n2e=Hk(),Yk=Kk();Object.defineProperty(gu,"redactConnectionString",{enumerable:!0,get:function(){return Yk.redactConnectionString}});var ap="__this_is_a_placeholder__";function i2e(t){return t.startsWith("mongodb://")||t.startsWith("mongodb+srv://")}var s2e=/^(?<protocol>[^/]+):\/\/(?:(?<username>[^:@]*)(?::(?<password>[^@]*))?@)?(?<hosts>(?!:)[^/?@]*)(?<rest>.*)/,BE=class extends Map{delete(e){return super.delete(this._normalizeKey(e))}get(e){return super.get(this._normalizeKey(e))}has(e){return super.has(this._normalizeKey(e))}set(e,r){return super.set(this._normalizeKey(e),r)}_normalizeKey(e){e=`${e}`;for(let r of this.keys())if(r.toLowerCase()===e.toLowerCase()){e=r;break}return e}};function o2e(t){return class extends t{append(r,n){return super.append(this._normalizeKey(r),n)}delete(r){return super.delete(this._normalizeKey(r))}get(r){return super.get(this._normalizeKey(r))}getAll(r){return super.getAll(this._normalizeKey(r))}has(r){return super.has(this._normalizeKey(r))}set(r,n){return super.set(this._normalizeKey(r),n)}keys(){return super.keys()}values(){return super.values()}entries(){return super.entries()}[Symbol.iterator](){return super[Symbol.iterator]()}_normalizeKey(r){return BE.prototype._normalizeKey.call(this,r)}}}var a7=class extends n2e.URL{},js=class extends Error{get name(){return"MongoParseError"}},nl=class extends a7{constructor(e,r={}){var n;let{looseValidation:i}=r;if(!i&&!i2e(e))throw new js('Invalid scheme, expected connection string to start with "mongodb://" or "mongodb+srv://"');let s=e.match(s2e);if(!s)throw new js(`Invalid connection string "${e}"`);let{protocol:o,username:u,password:a,hosts:c,rest:l}=(n=s.groups)!==null&&n!==void 0?n:{};if(!i){if(!o||!c)throw new js(`Protocol and host list are required in "${e}"`);try{decodeURIComponent(u??""),decodeURIComponent(a??"")}catch(p){throw new js(p.message)}let f=/[:/?#[\]@]/gi;if(u?.match(f))throw new js(`Username contains unescaped characters ${u}`);if(!u||!a){let p=e.replace(`${o}://`,"");if(p.startsWith("@")||p.startsWith(":"))throw new js("URI contained empty userinfo section")}if(a?.match(f))throw new js("Password contains unescaped characters")}let d="";typeof u=="string"&&(d+=u),typeof a=="string"&&(d+=`:${a}`),d&&(d+="@");try{super(`${o.toLowerCase()}://${d}${ap}${l}`)}catch(f){throw i&&new nl(e,{...r,looseValidation:!1}),typeof f.message=="string"&&(f.message=f.message.replace(ap,c)),f}if(this._hosts=c.split(","),!i){if(this.isSRV&&this.hosts.length!==1)throw new js("mongodb+srv URI cannot have multiple service names");if(this.isSRV&&this.hosts.some(f=>f.includes(":")))throw new js("mongodb+srv URI cannot have port number")}this.pathname||(this.pathname="/"),Object.setPrototypeOf(this.searchParams,o2e(this.searchParams.constructor).prototype)}get host(){return ap}set host(e){throw new Error("No single host for connection string")}get hostname(){return ap}set hostname(e){throw new Error("No single host for connection string")}get port(){return""}set port(e){throw new Error("No single host for connection string")}get href(){return this.toString()}set href(e){throw new Error("Cannot set href for connection strings")}get isSRV(){return this.protocol.includes("srv")}get hosts(){return this._hosts}set hosts(e){this._hosts=e}toString(){return super.toString().replace(ap,this.hosts.join(","))}clone(){return new nl(this.toString(),{looseValidation:!0})}redact(e){return(0,Yk.redactValidConnectionString)(this,e)}typedSearchParams(){return this.searchParams}[Symbol.for("nodejs.util.inspect.custom")](){let{href:e,origin:r,protocol:n,username:i,password:s,hosts:o,pathname:u,search:a,searchParams:c,hash:l}=this;return{href:e,origin:r,protocol:n,username:i,password:s,hosts:o,pathname:u,search:a,searchParams:c,hash:l}}};gu.ConnectionString=nl;var c7=class extends BE{constructor(e){super();for(let r of(e??"").split(",")){if(!r)continue;let n=r.indexOf(":");n===-1?this.set(r,""):this.set(r.slice(0,n),r.slice(n+1))}}toString(){return[...this].map(e=>e.join(":")).join(",")}};gu.CommaAndColonSeparatedRecord=c7;gu.default=nl});var ie={};rF(ie,{__assign:()=>d7,__asyncDelegator:()=>O2e,__asyncGenerator:()=>w2e,__asyncValues:()=>C2e,__await:()=>cp,__awaiter:()=>y2e,__classPrivateFieldGet:()=>T2e,__classPrivateFieldIn:()=>R2e,__classPrivateFieldSet:()=>D2e,__createBinding:()=>h7,__decorate:()=>c2e,__esDecorate:()=>d2e,__exportStar:()=>_2e,__extends:()=>u2e,__generator:()=>g2e,__importDefault:()=>P2e,__importStar:()=>I2e,__makeTemplateObject:()=>v2e,__metadata:()=>m2e,__param:()=>l2e,__propKey:()=>h2e,__read:()=>Jk,__rest:()=>a2e,__runInitializers:()=>f2e,__setFunctionName:()=>p2e,__spread:()=>E2e,__spreadArray:()=>S2e,__spreadArrays:()=>A2e,__values:()=>f7});function u2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");l7(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function a2e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function c2e(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function l2e(t,e){return function(r,n){e(r,n,t)}}function d2e(t,e,r,n,i,s){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var u=n.kind,a=u==="getter"?"get":u==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,l=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,f=!1,p=r.length-1;p>=0;p--){var m={};for(var y in n)m[y]=y==="access"?{}:n[y];for(var y in n.access)m.access[y]=n.access[y];m.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(g||null))};var _=(0,r[p])(u==="accessor"?{get:l.get,set:l.set}:l[a],m);if(u==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(d=o(_.get))&&(l.get=d),(d=o(_.set))&&(l.set=d),(d=o(_.init))&&i.push(d)}else(d=o(_))&&(u==="field"?i.push(d):l[a]=d)}c&&Object.defineProperty(c,n.name,l),f=!0}function f2e(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function h2e(t){return typeof t=="symbol"?t:"".concat(t)}function p2e(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function m2e(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function y2e(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(l){try{c(n.next(l))}catch(d){o(d)}}function a(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(u,a)}c((n=n.apply(t,e||[])).next())})}function g2e(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(l){return a([c,l])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function _2e(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&h7(e,t,r)}function f7(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jk(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function E2e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Jk(arguments[e]));return t}function A2e(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,u=s.length;o<u;o++,i++)n[i]=s[o];return n}function S2e(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function cp(t){return this instanceof cp?(this.v=t,this):new cp(t)}function w2e(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(m,y){s.push([f,p,m,y])>1||u(f,p)})})}function u(f,p){try{a(n[f](p))}catch(m){d(s[0][3],m)}}function a(f){f.value instanceof cp?Promise.resolve(f.value.v).then(c,l):d(s[0][2],f)}function c(f){u("next",f)}function l(f){u("throw",f)}function d(f,p){f(p),s.shift(),s.length&&u(s[0][0],s[0][1])}}function O2e(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:cp(t[i](o)),done:!1}:s?s(o):o}:s}}function C2e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof f7=="function"?f7(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(u,a){o=t[s](o),i(u,a,o.done,o.value)})}}function i(s,o,u,a){Promise.resolve(a).then(function(c){s({value:c,done:u})},o)}}function v2e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I2e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&h7(e,t,r);return b2e(e,t),e}function P2e(t){return t&&t.__esModule?t:{default:t}}function T2e(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function D2e(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function R2e(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}var l7,d7,h7,b2e,se=pn(()=>{l7=function(t,e){return l7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},l7(t,e)};d7=function(){return d7=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},d7.apply(this,arguments)};h7=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};b2e=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}});var Qk=h(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.booleanSelector=il.SelectorType=void 0;var N2e;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(N2e=il.SelectorType||(il.SelectorType={}));var x2e=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}};il.booleanSelector=x2e});var m7=h(p7=>{"use strict";Object.defineProperty(p7,"__esModule",{value:!0});var M2e=(se(),ne(ie));M2e.__exportStar(Qk(),p7)});var Xk=h(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=is.DEFAULT_USE_DUALSTACK_ENDPOINT=is.CONFIG_USE_DUALSTACK_ENDPOINT=is.ENV_USE_DUALSTACK_ENDPOINT=void 0;var qE=m7();is.ENV_USE_DUALSTACK_ENDPOINT="AWS_USE_DUALSTACK_ENDPOINT";is.CONFIG_USE_DUALSTACK_ENDPOINT="use_dualstack_endpoint";is.DEFAULT_USE_DUALSTACK_ENDPOINT=!1;is.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:t=>(0,qE.booleanSelector)(t,is.ENV_USE_DUALSTACK_ENDPOINT,qE.SelectorType.ENV),configFileSelector:t=>(0,qE.booleanSelector)(t,is.CONFIG_USE_DUALSTACK_ENDPOINT,qE.SelectorType.CONFIG),default:!1}});var Zk=h(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=ss.DEFAULT_USE_FIPS_ENDPOINT=ss.CONFIG_USE_FIPS_ENDPOINT=ss.ENV_USE_FIPS_ENDPOINT=void 0;var $E=m7();ss.ENV_USE_FIPS_ENDPOINT="AWS_USE_FIPS_ENDPOINT";ss.CONFIG_USE_FIPS_ENDPOINT="use_fips_endpoint";ss.DEFAULT_USE_FIPS_ENDPOINT=!1;ss.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:t=>(0,$E.booleanSelector)(t,ss.ENV_USE_FIPS_ENDPOINT,$E.SelectorType.ENV),configFileSelector:t=>(0,$E.booleanSelector)(t,ss.CONFIG_USE_FIPS_ENDPOINT,$E.SelectorType.CONFIG),default:!1}});var ej=h(kE=>{"use strict";Object.defineProperty(kE,"__esModule",{value:!0});kE.normalizeProvider=void 0;var F2e=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};kE.normalizeProvider=F2e});var sl=h(y7=>{"use strict";Object.defineProperty(y7,"__esModule",{value:!0});var B2e=(se(),ne(ie));B2e.__exportStar(ej(),y7)});var rj=h(jE=>{"use strict";Object.defineProperty(jE,"__esModule",{value:!0});jE.resolveCustomEndpointsConfig=void 0;var tj=sl(),q2e=t=>{var e,r;let{endpoint:n,urlParser:i}=t;return{...t,tls:(e=t.tls)!==null&&e!==void 0?e:!0,endpoint:(0,tj.normalizeProvider)(typeof n=="string"?i(n):n),isCustomEndpoint:!0,useDualstackEndpoint:(0,tj.normalizeProvider)((r=t.useDualstackEndpoint)!==null&&r!==void 0?r:!1)}};jE.resolveCustomEndpointsConfig=q2e});var nj=h(LE=>{"use strict";Object.defineProperty(LE,"__esModule",{value:!0});LE.getEndpointFromRegion=void 0;var $2e=async t=>{var e;let{tls:r=!0}=t,n=await t.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(n))throw new Error("Invalid region in client config");let s=await t.useDualstackEndpoint(),o=await t.useFipsEndpoint(),{hostname:u}=(e=await t.regionInfoProvider(n,{useDualstackEndpoint:s,useFipsEndpoint:o}))!==null&&e!==void 0?e:{};if(!u)throw new Error("Cannot resolve hostname from client config");return t.urlParser(`${r?"https:":"http:"}//${u}`)};LE.getEndpointFromRegion=$2e});var sj=h(UE=>{"use strict";Object.defineProperty(UE,"__esModule",{value:!0});UE.resolveEndpointsConfig=void 0;var ij=sl(),k2e=nj(),j2e=t=>{var e,r;let n=(0,ij.normalizeProvider)((e=t.useDualstackEndpoint)!==null&&e!==void 0?e:!1),{endpoint:i,useFipsEndpoint:s,urlParser:o}=t;return{...t,tls:(r=t.tls)!==null&&r!==void 0?r:!0,endpoint:i?(0,ij.normalizeProvider)(typeof i=="string"?o(i):i):()=>(0,k2e.getEndpointFromRegion)({...t,useDualstackEndpoint:n,useFipsEndpoint:s}),isCustomEndpoint:!!i,useDualstackEndpoint:n}};UE.resolveEndpointsConfig=j2e});var oj=h(s1=>{"use strict";Object.defineProperty(s1,"__esModule",{value:!0});var zE=(se(),ne(ie));zE.__exportStar(Xk(),s1);zE.__exportStar(Zk(),s1);zE.__exportStar(rj(),s1);zE.__exportStar(sj(),s1)});var uj=h(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.NODE_REGION_CONFIG_FILE_OPTIONS=os.NODE_REGION_CONFIG_OPTIONS=os.REGION_INI_NAME=os.REGION_ENV_NAME=void 0;os.REGION_ENV_NAME="AWS_REGION";os.REGION_INI_NAME="region";os.NODE_REGION_CONFIG_OPTIONS={environmentVariableSelector:t=>t[os.REGION_ENV_NAME],configFileSelector:t=>t[os.REGION_INI_NAME],default:()=>{throw new Error("Region is missing")}};os.NODE_REGION_CONFIG_FILE_OPTIONS={preferredFile:"credentials"}});var g7=h(VE=>{"use strict";Object.defineProperty(VE,"__esModule",{value:!0});VE.isFipsRegion=void 0;var L2e=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));VE.isFipsRegion=L2e});var aj=h(WE=>{"use strict";Object.defineProperty(WE,"__esModule",{value:!0});WE.getRealRegion=void 0;var U2e=g7(),z2e=t=>(0,U2e.isFipsRegion)(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;WE.getRealRegion=z2e});var lj=h(HE=>{"use strict";Object.defineProperty(HE,"__esModule",{value:!0});HE.resolveRegionConfig=void 0;var cj=aj(),V2e=g7(),W2e=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return(0,cj.getRealRegion)(e);let n=await e();return(0,cj.getRealRegion)(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return(0,V2e.isFipsRegion)(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};HE.resolveRegionConfig=W2e});var fj=h(GE=>{"use strict";Object.defineProperty(GE,"__esModule",{value:!0});var dj=(se(),ne(ie));dj.__exportStar(uj(),GE);dj.__exportStar(lj(),GE)});var pj=h(hj=>{"use strict";Object.defineProperty(hj,"__esModule",{value:!0})});var yj=h(mj=>{"use strict";Object.defineProperty(mj,"__esModule",{value:!0})});var gj=h(KE=>{"use strict";Object.defineProperty(KE,"__esModule",{value:!0});KE.getHostnameFromVariants=void 0;var H2e=(t=[],{useFipsEndpoint:e,useDualstackEndpoint:r})=>{var n;return(n=t.find(({tags:i})=>e===i.includes("fips")&&r===i.includes("dualstack")))===null||n===void 0?void 0:n.hostname};KE.getHostnameFromVariants=H2e});var _j=h(YE=>{"use strict";Object.defineProperty(YE,"__esModule",{value:!0});YE.getResolvedHostname=void 0;var G2e=(t,{regionHostname:e,partitionHostname:r})=>e||(r?r.replace("{region}",t):void 0);YE.getResolvedHostname=G2e});var Ej=h(JE=>{"use strict";Object.defineProperty(JE,"__esModule",{value:!0});JE.getResolvedPartition=void 0;var K2e=(t,{partitionHash:e})=>{var r;return(r=Object.keys(e||{}).find(n=>e[n].regions.includes(t)))!==null&&r!==void 0?r:"aws"};JE.getResolvedPartition=K2e});var Aj=h(QE=>{"use strict";Object.defineProperty(QE,"__esModule",{value:!0});QE.getResolvedSigningRegion=void 0;var Y2e=(t,{signingRegion:e,regionRegex:r,useFipsEndpoint:n})=>{if(e)return e;if(n){let i=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=t.match(i);if(s)return s[0].slice(1,-1)}};QE.getResolvedSigningRegion=Y2e});var wj=h(XE=>{"use strict";Object.defineProperty(XE,"__esModule",{value:!0});XE.getRegionInfo=void 0;var Sj=gj(),J2e=_j(),Q2e=Ej(),X2e=Aj(),Z2e=(t,{useFipsEndpoint:e=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:i,partitionHash:s})=>{var o,u,a,c,l,d;let f=(0,Q2e.getResolvedPartition)(t,{partitionHash:s}),p=t in i?t:(u=(o=s[f])===null||o===void 0?void 0:o.endpoint)!==null&&u!==void 0?u:t,m={useFipsEndpoint:e,useDualstackEndpoint:r},y=(0,Sj.getHostnameFromVariants)((a=i[p])===null||a===void 0?void 0:a.variants,m),_=(0,Sj.getHostnameFromVariants)((c=s[f])===null||c===void 0?void 0:c.variants,m),g=(0,J2e.getResolvedHostname)(p,{regionHostname:y,partitionHostname:_});if(g===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:p,useFipsEndpoint:e,useDualstackEndpoint:r}}`);let E=(0,X2e.getResolvedSigningRegion)(g,{signingRegion:(l=i[p])===null||l===void 0?void 0:l.signingRegion,regionRegex:s[f].regionRegex,useFipsEndpoint:e});return{partition:f,signingService:n,hostname:g,...E&&{signingRegion:E},...((d=i[p])===null||d===void 0?void 0:d.signingService)&&{signingService:i[p].signingService}}};XE.getRegionInfo=Z2e});var Oj=h(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});var _7=(se(),ne(ie));_7.__exportStar(pj(),lp);_7.__exportStar(yj(),lp);_7.__exportStar(wj(),lp)});var mo=h(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});var E7=(se(),ne(ie));E7.__exportStar(oj(),dp);E7.__exportStar(fj(),dp);E7.__exportStar(Oj(),dp)});var A7=h(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.FieldPosition=void 0;var eEe;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(eEe=fp.FieldPosition||(fp.FieldPosition={}))});var Cj=h(ZE=>{"use strict";Object.defineProperty(ZE,"__esModule",{value:!0});ZE.Field=void 0;var tEe=A7(),S7=class{constructor({name:e,kind:r=tEe.FieldPosition.HEADER,values:n=[]}){this.name=e,this.kind=r,this.values=n}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(r=>r!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}};ZE.Field=S7});var vj=h(eA=>{"use strict";Object.defineProperty(eA,"__esModule",{value:!0});eA.Fields=void 0;var w7=class{constructor({fields:e=[],encoding:r="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=r}setField(e){this.entries[e.name]=e}getField(e){return this.entries[e]}removeField(e){delete this.entries[e]}getByType(e){return Object.values(this.entries).filter(r=>r.kind===e)}};eA.Fields=w7});var Ij=h(bj=>{"use strict";Object.defineProperty(bj,"__esModule",{value:!0})});var Pj=h(tA=>{"use strict";Object.defineProperty(tA,"__esModule",{value:!0});tA.HttpRequest=void 0;var hp=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/"}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let e=new hp({...this,headers:{...this.headers}});return e.query&&(e.query=rEe(e.query)),e}};tA.HttpRequest=hp;function rEe(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}});var Tj=h(rA=>{"use strict";Object.defineProperty(rA,"__esModule",{value:!0});rA.HttpResponse=void 0;var O7=class{constructor(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};rA.HttpResponse=O7});var Dj=h(nA=>{"use strict";Object.defineProperty(nA,"__esModule",{value:!0});nA.isValidHostname=void 0;function nEe(t){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(t)}nA.isValidHostname=nEe});var Bn=h(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});var ol=(se(),ne(ie));ol.__exportStar(Cj(),_u);ol.__exportStar(A7(),_u);ol.__exportStar(vj(),_u);ol.__exportStar(Ij(),_u);ol.__exportStar(Pj(),_u);ol.__exportStar(Tj(),_u);ol.__exportStar(Dj(),_u)});var pp=h(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.getContentLengthPlugin=Eu.contentLengthMiddlewareOptions=Eu.contentLengthMiddleware=void 0;var iEe=Bn(),Rj="content-length";function Nj(t){return e=>async r=>{let n=r.request;if(iEe.HttpRequest.isInstance(n)){let{body:i,headers:s}=n;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(Rj)===-1)try{let o=t(i);n.headers={...n.headers,[Rj]:String(o)}}catch{}}return e({...r,request:n})}}Eu.contentLengthMiddleware=Nj;Eu.contentLengthMiddlewareOptions={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0};var sEe=t=>({applyToStack:e=>{e.add(Nj(t.bodyLengthChecker),Eu.contentLengthMiddlewareOptions)}});Eu.getContentLengthPlugin=sEe});var xj=h(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.isArnBucketName=ri.isDnsCompatibleBucketName=ri.S3_HOSTNAME_PATTERN=ri.DOT_PATTERN=ri.resolveParamsForS3=void 0;var oEe=async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(0,ri.isArnBucketName)(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!(0,ri.isDnsCompatibleBucketName)(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t};ri.resolveParamsForS3=oEe;var uEe=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,aEe=/(\d+\.){3}\d+/,cEe=/\.\./;ri.DOT_PATTERN=/\./;ri.S3_HOSTNAME_PATTERN=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./;var lEe=t=>uEe.test(t)&&!aEe.test(t)&&!cEe.test(t);ri.isDnsCompatibleBucketName=lEe;var dEe=t=>{let[e,r,n,i,s,o]=t.split(":"),u=e==="arn"&&t.split(":").length>=6,a=[e,r,n,s,o].filter(Boolean).length===5;if(u&&!a)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return e==="arn"&&!!r&&!!n&&!!s&&!!o};ri.isArnBucketName=dEe});var Mj=h(C7=>{"use strict";Object.defineProperty(C7,"__esModule",{value:!0});var fEe=(se(),ne(ie));fEe.__exportStar(xj(),C7)});var Fj=h(iA=>{"use strict";Object.defineProperty(iA,"__esModule",{value:!0});iA.createConfigValueProvider=void 0;var hEe=(t,e,r)=>{let n=async()=>{var i;let s=(i=r[t])!==null&&i!==void 0?i:r[e];return typeof s=="function"?s():s};return t==="endpoint"||e==="endpoint"?async()=>{let i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:s,hostname:o,port:u,path:a}=i;return`${s}//${o}${u?":"+u:""}${a}`}}return i}:n};iA.createConfigValueProvider=hEe});var v7=h(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.resolveParams=ul.getEndpointFromInstructions=void 0;var pEe=Mj(),mEe=Fj(),yEe=async(t,e,r,n)=>{let i=await(0,ul.resolveParams)(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)};ul.getEndpointFromInstructions=yEe;var gEe=async(t,e,r)=>{var n;let i={},s=((n=e?.getEndpointParameterInstructions)===null||n===void 0?void 0:n.call(e))||{};for(let[o,u]of Object.entries(s))switch(u.type){case"staticContextParams":i[o]=u.value;break;case"contextParams":i[o]=t[u.name];break;case"clientContextParams":case"builtInParams":i[o]=await(0,mEe.createConfigValueProvider)(u.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(u))}return Object.keys(s).length===0&&Object.assign(i,r),String(r.serviceId).toLowerCase()==="s3"&&await(0,pEe.resolveParamsForS3)(i),i};ul.resolveParams=gEe});var Bj=h(sA=>{"use strict";Object.defineProperty(sA,"__esModule",{value:!0});sA.parseQueryString=void 0;function _Ee(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in e?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}return e}sA.parseQueryString=_Ee});var al=h(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.parseUrl=void 0;var EEe=Bj(),AEe=t=>{if(typeof t=="string")return(0,mp.parseUrl)(new URL(t));let{hostname:e,pathname:r,port:n,protocol:i,search:s}=t,o;return s&&(o=(0,EEe.parseQueryString)(s)),{hostname:e,port:n?parseInt(n):void 0,protocol:i,path:r,query:o}};mp.parseUrl=AEe});var b7=h(oA=>{"use strict";Object.defineProperty(oA,"__esModule",{value:!0});oA.toEndpointV1=void 0;var qj=al(),SEe=t=>typeof t=="object"?"url"in t?(0,qj.parseUrl)(t.url):t:(0,qj.parseUrl)(t);oA.toEndpointV1=SEe});var kj=h(uA=>{"use strict";Object.defineProperty(uA,"__esModule",{value:!0});var $j=(se(),ne(ie));$j.__exportStar(v7(),uA);$j.__exportStar(b7(),uA)});var I7=h(aA=>{"use strict";Object.defineProperty(aA,"__esModule",{value:!0});aA.endpointMiddleware=void 0;var wEe=v7(),OEe=({config:t,instructions:e})=>(r,n)=>async i=>{var s,o;let u=await(0,wEe.getEndpointFromInstructions)(i.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=u,n.authSchemes=(s=u.properties)===null||s===void 0?void 0:s.authSchemes;let a=(o=n.authSchemes)===null||o===void 0?void 0:o[0];return a&&(n.signing_region=a.signingRegion,n.signing_service=a.signingName),r({...i})};aA.endpointMiddleware=OEe});var P7=h(cA=>{"use strict";Object.defineProperty(cA,"__esModule",{value:!0});cA.deserializerMiddleware=void 0;var CEe=(t,e)=>(r,n)=>async i=>{let{response:s}=await r(i);try{let o=await e(s,t);return{response:s,output:o}}catch(o){throw Object.defineProperty(o,"$response",{value:s}),o}};cA.deserializerMiddleware=CEe});var T7=h(lA=>{"use strict";Object.defineProperty(lA,"__esModule",{value:!0});lA.serializerMiddleware=void 0;var vEe=(t,e)=>(r,n)=>async i=>{var s;let o=!((s=n.endpointV2)===null||s===void 0)&&s.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let u=await e(i.input,{...t,endpoint:o});return r({...i,request:u})};lA.serializerMiddleware=vEe});var jj=h(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.getSerdePlugin=yo.serializerMiddlewareOption=yo.deserializerMiddlewareOption=void 0;var bEe=P7(),IEe=T7();yo.deserializerMiddlewareOption={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0};yo.serializerMiddlewareOption={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function PEe(t,e,r){return{applyToStack:n=>{n.add((0,bEe.deserializerMiddleware)(t,r),yo.deserializerMiddlewareOption),n.add((0,IEe.serializerMiddleware)(t,e),yo.serializerMiddlewareOption)}}}yo.getSerdePlugin=PEe});var Le=h(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});var D7=(se(),ne(ie));D7.__exportStar(P7(),yp);D7.__exportStar(jj(),yp);D7.__exportStar(T7(),yp)});var Lj=h(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.getEndpointPlugin=cl.endpointMiddlewareOptions=void 0;var TEe=Le(),DEe=I7();cl.endpointMiddlewareOptions={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:TEe.serializerMiddlewareOption.name};var REe=(t,e)=>({applyToStack:r=>{r.addRelativeTo((0,DEe.endpointMiddleware)({config:t,instructions:e}),cl.endpointMiddlewareOptions)}});cl.getEndpointPlugin=REe});var Uj=h(dA=>{"use strict";Object.defineProperty(dA,"__esModule",{value:!0});dA.resolveEndpointConfig=void 0;var R7=sl(),NEe=b7(),xEe=t=>{var e,r,n;let i=(e=t.tls)!==null&&e!==void 0?e:!0,{endpoint:s}=t,o=s!=null?async()=>(0,NEe.toEndpointV1)(await(0,R7.normalizeProvider)(s)()):void 0;return{...t,endpoint:o,tls:i,isCustomEndpoint:!!s,useDualstackEndpoint:(0,R7.normalizeProvider)((r=t.useDualstackEndpoint)!==null&&r!==void 0?r:!1),useFipsEndpoint:(0,R7.normalizeProvider)((n=t.useFipsEndpoint)!==null&&n!==void 0?n:!1)}};dA.resolveEndpointConfig=xEe});var Vj=h(zj=>{"use strict";Object.defineProperty(zj,"__esModule",{value:!0})});var be=h(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});var gp=(se(),ne(ie));gp.__exportStar(kj(),ll);gp.__exportStar(I7(),ll);gp.__exportStar(Lj(),ll);gp.__exportStar(Uj(),ll);gp.__exportStar(Vj(),ll)});var _p=h(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.getHostHeaderPlugin=us.hostHeaderMiddlewareOptions=us.hostHeaderMiddleware=us.resolveHostHeaderConfig=void 0;var MEe=Bn();function FEe(t){return t}us.resolveHostHeaderConfig=FEe;var BEe=t=>e=>async r=>{if(!MEe.HttpRequest.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:i=""}=t.requestHandler.metadata||{};return i.indexOf("h2")>=0&&!n.headers[":authority"]?(delete n.headers.host,n.headers[":authority"]=""):n.headers.host||(n.headers.host=n.hostname),e(r)};us.hostHeaderMiddleware=BEe;us.hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0};var qEe=t=>({applyToStack:e=>{e.add((0,us.hostHeaderMiddleware)(t),us.hostHeaderMiddlewareOptions)}});us.getHostHeaderPlugin=qEe});var Wj=h(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.getLoggerPlugin=go.loggerMiddlewareOptions=go.loggerMiddleware=void 0;var $Ee=()=>(t,e)=>async r=>{let n=await t(r),{clientName:i,commandName:s,logger:o,inputFilterSensitiveLog:u,outputFilterSensitiveLog:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:d}=c;if(!o)return n;if(typeof o.info=="function"){let{$metadata:f,...p}=n.output;o.info({clientName:i,commandName:s,input:(l??u)(r.input),output:(d??a)(p),metadata:f})}return n};go.loggerMiddleware=$Ee;go.loggerMiddlewareOptions={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};var kEe=t=>({applyToStack:e=>{e.add((0,go.loggerMiddleware)(),go.loggerMiddlewareOptions)}});go.getLoggerPlugin=kEe});var Ep=h(N7=>{"use strict";Object.defineProperty(N7,"__esModule",{value:!0});var jEe=(se(),ne(ie));jEe.__exportStar(Wj(),N7)});var Ap=h(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.getRecursionDetectionPlugin=_o.addRecursionDetectionMiddlewareOptions=_o.recursionDetectionMiddleware=void 0;var LEe=Bn(),Hj="X-Amzn-Trace-Id",UEe="AWS_LAMBDA_FUNCTION_NAME",zEe="_X_AMZN_TRACE_ID",VEe=t=>e=>async r=>{let{request:n}=r;if(!LEe.HttpRequest.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(Hj))return e(r);let i=process.env[UEe],s=process.env[zEe],o=u=>typeof u=="string"&&u.length>0;return o(i)&&o(s)&&(n.headers[Hj]=s),e({...r,request:n})};_o.recursionDetectionMiddleware=VEe;_o.addRecursionDetectionMiddlewareOptions={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var WEe=t=>({applyToStack:e=>{e.add((0,_o.recursionDetectionMiddleware)(t),_o.addRecursionDetectionMiddlewareOptions)}});_o.getRecursionDetectionPlugin=WEe});var fA=h(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.DEFAULT_RETRY_MODE=Au.DEFAULT_MAX_ATTEMPTS=Au.RETRY_MODES=void 0;var HEe;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(HEe=Au.RETRY_MODES||(Au.RETRY_MODES={}));Au.DEFAULT_MAX_ATTEMPTS=3;Au.DEFAULT_RETRY_MODE="STANDARD"});var Gj=h(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.NODEJS_TIMEOUT_ERROR_CODES=as.TRANSIENT_ERROR_STATUS_CODES=as.TRANSIENT_ERROR_CODES=as.THROTTLING_ERROR_CODES=as.CLOCK_SKEW_ERROR_CODES=void 0;as.CLOCK_SKEW_ERROR_CODES=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"];as.THROTTLING_ERROR_CODES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"];as.TRANSIENT_ERROR_CODES=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"];as.TRANSIENT_ERROR_STATUS_CODES=[500,502,503,504];as.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","EPIPE","ETIMEDOUT"]});var wp=h(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.isServerError=bi.isTransientError=bi.isThrottlingError=bi.isClockSkewError=bi.isRetryableByTrait=void 0;var Sp=Gj(),GEe=t=>t.$retryable!==void 0;bi.isRetryableByTrait=GEe;var KEe=t=>Sp.CLOCK_SKEW_ERROR_CODES.includes(t.name);bi.isClockSkewError=KEe;var YEe=t=>{var e,r;return((e=t.$metadata)===null||e===void 0?void 0:e.httpStatusCode)===429||Sp.THROTTLING_ERROR_CODES.includes(t.name)||((r=t.$retryable)===null||r===void 0?void 0:r.throttling)==!0};bi.isThrottlingError=YEe;var JEe=t=>{var e;return Sp.TRANSIENT_ERROR_CODES.includes(t.name)||Sp.NODEJS_TIMEOUT_ERROR_CODES.includes(t?.code||"")||Sp.TRANSIENT_ERROR_STATUS_CODES.includes(((e=t.$metadata)===null||e===void 0?void 0:e.httpStatusCode)||0)};bi.isTransientError=JEe;var QEe=t=>{var e;if(((e=t.$metadata)===null||e===void 0?void 0:e.httpStatusCode)!==void 0){let r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!(0,bi.isTransientError)(t)}return!1};bi.isServerError=QEe});var M7=h(hA=>{"use strict";Object.defineProperty(hA,"__esModule",{value:!0});hA.DefaultRateLimiter=void 0;var XEe=wp(),x7=class{constructor(e){var r,n,i,s,o;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(r=e?.beta)!==null&&r!==void 0?r:.7,this.minCapacity=(n=e?.minCapacity)!==null&&n!==void 0?n:1,this.minFillRate=(i=e?.minFillRate)!==null&&i!==void 0?i:.5,this.scaleConstant=(s=e?.scaleConstant)!==null&&s!==void 0?s:.4,this.smooth=(o=e?.smooth)!==null&&o!==void 0?o:.8;let u=this.getCurrentTimeInSeconds();this.lastThrottleTime=u,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),(0,XEe.isThrottlingError)(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}};hA.DefaultRateLimiter=x7});var Op=h(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.REQUEST_HEADER=br.INVOCATION_ID_HEADER=br.NO_RETRY_INCREMENT=br.TIMEOUT_RETRY_COST=br.RETRY_COST=br.INITIAL_RETRY_TOKENS=br.THROTTLING_RETRY_DELAY_BASE=br.MAXIMUM_RETRY_DELAY=br.DEFAULT_RETRY_DELAY_BASE=void 0;br.DEFAULT_RETRY_DELAY_BASE=100;br.MAXIMUM_RETRY_DELAY=20*1e3;br.THROTTLING_RETRY_DELAY_BASE=500;br.INITIAL_RETRY_TOKENS=500;br.RETRY_COST=5;br.TIMEOUT_RETRY_COST=10;br.NO_RETRY_INCREMENT=1;br.INVOCATION_ID_HEADER="amz-sdk-invocation-id";br.REQUEST_HEADER="amz-sdk-request"});var Yj=h(pA=>{"use strict";Object.defineProperty(pA,"__esModule",{value:!0});pA.getDefaultRetryBackoffStrategy=void 0;var Kj=Op(),ZEe=()=>{let t=Kj.DEFAULT_RETRY_DELAY_BASE;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Kj.MAXIMUM_RETRY_DELAY,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}};pA.getDefaultRetryBackoffStrategy=ZEe});var Jj=h(mA=>{"use strict";Object.defineProperty(mA,"__esModule",{value:!0});mA.getDefaultRetryToken=void 0;var o1=Op(),eAe=Yj(),tAe=(t,e,r,n)=>{var i,s,o;let u=t,a=(i=n?.retryCost)!==null&&i!==void 0?i:o1.RETRY_COST,c=(s=n?.timeoutRetryCost)!==null&&s!==void 0?s:o1.TIMEOUT_RETRY_COST,l=(o=n?.retryBackoffStrategy)!==null&&o!==void 0?o:(0,eAe.getDefaultRetryBackoffStrategy)(),d=t,f=Math.min(o1.MAXIMUM_RETRY_DELAY,e),p,m=r??0,y=M=>M==="TRANSIENT"?c:a,_=()=>m,g=()=>f,E=()=>p,O=M=>y(M)<=d;return{getRetryCount:_,getRetryDelay:g,getLastRetryCost:E,hasRetryTokens:O,getRetryTokenCount:M=>{let T=M.errorType;if(!O(T))throw new Error("No retry token available");let G=y(T),ee=T==="THROTTLING"?o1.THROTTLING_RETRY_DELAY_BASE:o1.DEFAULT_RETRY_DELAY_BASE;l.setDelayBase(ee);let J=l.computeNextBackoffDelay(m);if(M.retryAfterHint){let k=M.retryAfterHint.getTime()-Date.now();f=Math.max(k||0,J)}else f=J;return m++,p=G,d-=G,G},releaseRetryTokens:M=>{d+=M??o1.NO_RETRY_INCREMENT,d=Math.min(d,u)}}};mA.getDefaultRetryToken=tAe});var q7=h(yA=>{"use strict";Object.defineProperty(yA,"__esModule",{value:!0});yA.StandardRetryStrategy=void 0;var F7=fA(),Qj=Op(),rAe=Jj(),B7=class{constructor(e){this.maxAttemptsProvider=e,this.mode=F7.RETRY_MODES.STANDARD,this.retryToken=(0,rAe.getDefaultRetryToken)(Qj.INITIAL_RETRY_TOKENS,Qj.DEFAULT_RETRY_DELAY_BASE),this.maxAttemptsProvider=e}async acquireInitialRetryToken(e){return this.retryToken}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n))return e.getRetryTokenCount(r),e;throw new Error("No retry token available")}recordSuccess(e){this.retryToken.releaseRetryTokens(e.getLastRetryCost())}async getMaxAttempts(){let e;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${F7.DEFAULT_MAX_ATTEMPTS}`),F7.DEFAULT_MAX_ATTEMPTS}}shouldRetry(e,r,n){return e.getRetryCount()<n&&e.hasRetryTokens(r.errorType)&&this.isRetryableError(r.errorType)}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};yA.StandardRetryStrategy=B7});var Xj=h(gA=>{"use strict";Object.defineProperty(gA,"__esModule",{value:!0});gA.AdaptiveRetryStrategy=void 0;var nAe=fA(),iAe=M7(),sAe=q7(),$7=class{constructor(e,r){this.maxAttemptsProvider=e,this.mode=nAe.RETRY_MODES.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new iAe.DefaultRateLimiter,this.standardRetryStrategy=new sAe.StandardRetryStrategy(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};gA.AdaptiveRetryStrategy=$7});var eL=h(Zj=>{"use strict";Object.defineProperty(Zj,"__esModule",{value:!0})});var cs=h(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});var u1=(se(),ne(ie));u1.__exportStar(Xj(),Na);u1.__exportStar(M7(),Na);u1.__exportStar(q7(),Na);u1.__exportStar(fA(),Na);u1.__exportStar(Op(),Na);u1.__exportStar(eL(),Na)});function Cp(){return _A>EA.length-16&&(tL.default.randomFillSync(EA),_A=0),EA.slice(_A,_A+=16)}var tL,EA,_A,k7=pn(()=>{tL=da(require("crypto")),EA=new Uint8Array(256),_A=EA.length});var rL,nL=pn(()=>{rL=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function oAe(t){return typeof t=="string"&&rL.test(t)}var xa,vp=pn(()=>{nL();xa=oAe});function uAe(t,e=0){let r=(Zr[t[e+0]]+Zr[t[e+1]]+Zr[t[e+2]]+Zr[t[e+3]]+"-"+Zr[t[e+4]]+Zr[t[e+5]]+"-"+Zr[t[e+6]]+Zr[t[e+7]]+"-"+Zr[t[e+8]]+Zr[t[e+9]]+"-"+Zr[t[e+10]]+Zr[t[e+11]]+Zr[t[e+12]]+Zr[t[e+13]]+Zr[t[e+14]]+Zr[t[e+15]]).toLowerCase();if(!xa(r))throw TypeError("Stringified UUID is invalid");return r}var Zr,Ma,bp=pn(()=>{vp();Zr=[];for(let t=0;t<256;++t)Zr.push((t+256).toString(16).substr(1));Ma=uAe});function aAe(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let s=t.node||iL,o=t.clockseq!==void 0?t.clockseq:j7;if(s==null||o==null){let f=t.random||(t.rng||Cp)();s==null&&(s=iL=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),o==null&&(o=j7=(f[6]<<8|f[7])&16383)}let u=t.msecs!==void 0?t.msecs:Date.now(),a=t.nsecs!==void 0?t.nsecs:U7+1,c=u-L7+(a-U7)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||u>L7)&&t.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");L7=u,U7=a,j7=o,u+=122192928e5;let l=((u&268435455)*1e4+a)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;let d=u/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let f=0;f<6;++f)i[n+f]=s[f];return e||Ma(i)}var iL,j7,L7,U7,sL,oL=pn(()=>{k7();bp();L7=0,U7=0;sL=aAe});function cAe(t){if(!xa(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var AA,z7=pn(()=>{vp();AA=cAe});function lAe(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function SA(t,e,r){function n(i,s,o,u){if(typeof i=="string"&&(i=lAe(i)),typeof s=="string"&&(s=AA(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+i.length);if(a.set(s),a.set(i,s.length),a=r(a),a[6]=a[6]&15|e,a[8]=a[8]&63|128,o){u=u||0;for(let c=0;c<16;++c)o[u+c]=a[c];return o}return Ma(a)}try{n.name=t}catch{}return n.DNS=dAe,n.URL=fAe,n}var dAe,fAe,V7=pn(()=>{bp();z7();dAe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",fAe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function hAe(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),uL.default.createHash("md5").update(t).digest()}var uL,aL,cL=pn(()=>{uL=da(require("crypto"));aL=hAe});var pAe,lL,dL=pn(()=>{V7();cL();pAe=SA("v3",48,aL),lL=pAe});function mAe(t,e,r){t=t||{};let n=t.random||(t.rng||Cp)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return Ma(n)}var fL,hL=pn(()=>{k7();bp();fL=mAe});function yAe(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),pL.default.createHash("sha1").update(t).digest()}var pL,mL,yL=pn(()=>{pL=da(require("crypto"));mL=yAe});var gAe,gL,_L=pn(()=>{V7();yL();gAe=SA("v5",80,mL),gL=gAe});var EL,AL=pn(()=>{EL="00000000-0000-0000-0000-000000000000"});function _Ae(t){if(!xa(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var SL,wL=pn(()=>{vp();SL=_Ae});var W7={};rF(W7,{NIL:()=>EL,parse:()=>AA,stringify:()=>Ma,v1:()=>sL,v3:()=>lL,v4:()=>fL,v5:()=>gL,validate:()=>xa,version:()=>SL});var H7=pn(()=>{oL();dL();hL();_L();AL();wL();vp();bp();z7()});var OL=h(wA=>{"use strict";Object.defineProperty(wA,"__esModule",{value:!0});wA.getDefaultRetryQuota=void 0;var G7=cs(),EAe=(t,e)=>{var r,n,i;let s=t,o=(r=e?.noRetryIncrement)!==null&&r!==void 0?r:G7.NO_RETRY_INCREMENT,u=(n=e?.retryCost)!==null&&n!==void 0?n:G7.RETRY_COST,a=(i=e?.timeoutRetryCost)!==null&&i!==void 0?i:G7.TIMEOUT_RETRY_COST,c=t,l=m=>m.name==="TimeoutError"?a:u,d=m=>l(m)<=c;return Object.freeze({hasRetryTokens:d,retrieveRetryTokens:m=>{if(!d(m))throw new Error("No retry token available");let y=l(m);return c-=y,y},releaseRetryTokens:m=>{c+=m??o,c=Math.min(c,s)}})};wA.getDefaultRetryQuota=EAe});var K7=h(OA=>{"use strict";Object.defineProperty(OA,"__esModule",{value:!0});OA.defaultDelayDecider=void 0;var AAe=cs(),SAe=(t,e)=>Math.floor(Math.min(AAe.MAXIMUM_RETRY_DELAY,Math.random()*2**e*t));OA.defaultDelayDecider=SAe});var Y7=h(vA=>{"use strict";Object.defineProperty(vA,"__esModule",{value:!0});vA.defaultRetryDecider=void 0;var CA=wp(),wAe=t=>t?(0,CA.isRetryableByTrait)(t)||(0,CA.isClockSkewError)(t)||(0,CA.isThrottlingError)(t)||(0,CA.isTransientError)(t):!1;vA.defaultRetryDecider=wAe});var J7=h(bA=>{"use strict";Object.defineProperty(bA,"__esModule",{value:!0});bA.asSdkError=void 0;var OAe=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`);bA.asSdkError=OAe});var Z7=h(IA=>{"use strict";Object.defineProperty(IA,"__esModule",{value:!0});IA.StandardRetryStrategy=void 0;var Q7=Bn(),CAe=wp(),dl=cs(),vAe=(H7(),ne(W7)),bAe=OL(),IAe=K7(),PAe=Y7(),TAe=J7(),X7=class{constructor(e,r){var n,i,s;this.maxAttemptsProvider=e,this.mode=dl.RETRY_MODES.STANDARD,this.retryDecider=(n=r?.retryDecider)!==null&&n!==void 0?n:PAe.defaultRetryDecider,this.delayDecider=(i=r?.delayDecider)!==null&&i!==void 0?i:IAe.defaultDelayDecider,this.retryQuota=(s=r?.retryQuota)!==null&&s!==void 0?s:(0,bAe.getDefaultRetryQuota)(dl.INITIAL_RETRY_TOKENS)}shouldRetry(e,r,n){return r<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=dl.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,r,n){let i,s=0,o=0,u=await this.getMaxAttempts(),{request:a}=r;for(Q7.HttpRequest.isInstance(a)&&(a.headers[dl.INVOCATION_ID_HEADER]=(0,vAe.v4)());;)try{Q7.HttpRequest.isInstance(a)&&(a.headers[dl.REQUEST_HEADER]=`attempt=${s+1}; max=${u}`),n?.beforeRequest&&await n.beforeRequest();let{response:c,output:l}=await e(r);return n?.afterRequest&&n.afterRequest(c),this.retryQuota.releaseRetryTokens(i),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=o,{response:c,output:l}}catch(c){let l=(0,TAe.asSdkError)(c);if(s++,this.shouldRetry(l,s,u)){i=this.retryQuota.retrieveRetryTokens(l);let d=this.delayDecider((0,CAe.isThrottlingError)(l)?dl.THROTTLING_RETRY_DELAY_BASE:dl.DEFAULT_RETRY_DELAY_BASE,s),f=DAe(l.$response),p=Math.max(f||0,d);o+=p,await new Promise(m=>setTimeout(m,p));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=o,l}}};IA.StandardRetryStrategy=X7;var DAe=t=>{if(!Q7.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3}});var vL=h(PA=>{"use strict";Object.defineProperty(PA,"__esModule",{value:!0});PA.AdaptiveRetryStrategy=void 0;var CL=cs(),RAe=Z7(),eI=class extends RAe.StandardRetryStrategy{constructor(e,r){let{rateLimiter:n,...i}=r??{};super(e,i),this.rateLimiter=n??new CL.DefaultRateLimiter,this.mode=CL.RETRY_MODES.ADAPTIVE}async retry(e,r){return super.retry(e,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};PA.AdaptiveRetryStrategy=eI});var IL=h(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.NODE_RETRY_MODE_CONFIG_OPTIONS=fr.CONFIG_RETRY_MODE=fr.ENV_RETRY_MODE=fr.resolveRetryConfig=fr.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=fr.CONFIG_MAX_ATTEMPTS=fr.ENV_MAX_ATTEMPTS=void 0;var bL=sl(),a1=cs();fr.ENV_MAX_ATTEMPTS="AWS_MAX_ATTEMPTS";fr.CONFIG_MAX_ATTEMPTS="max_attempts";fr.NODE_MAX_ATTEMPT_CONFIG_OPTIONS={environmentVariableSelector:t=>{let e=t[fr.ENV_MAX_ATTEMPTS];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${fr.ENV_MAX_ATTEMPTS} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[fr.CONFIG_MAX_ATTEMPTS];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${fr.CONFIG_MAX_ATTEMPTS} mast be a number, got "${e}"`);return r},default:a1.DEFAULT_MAX_ATTEMPTS};var NAe=t=>{var e;let{retryStrategy:r}=t,n=(0,bL.normalizeProvider)((e=t.maxAttempts)!==null&&e!==void 0?e:a1.DEFAULT_MAX_ATTEMPTS);return{...t,maxAttempts:n,retryStrategy:async()=>r||(await(0,bL.normalizeProvider)(t.retryMode)()===a1.RETRY_MODES.ADAPTIVE?new a1.AdaptiveRetryStrategy(n):new a1.StandardRetryStrategy(n))}};fr.resolveRetryConfig=NAe;fr.ENV_RETRY_MODE="AWS_RETRY_MODE";fr.CONFIG_RETRY_MODE="retry_mode";fr.NODE_RETRY_MODE_CONFIG_OPTIONS={environmentVariableSelector:t=>t[fr.ENV_RETRY_MODE],configFileSelector:t=>t[fr.CONFIG_RETRY_MODE],default:a1.DEFAULT_RETRY_MODE}});var TL=h(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.getOmitRetryHeadersPlugin=Eo.omitRetryHeadersMiddlewareOptions=Eo.omitRetryHeadersMiddleware=void 0;var xAe=Bn(),PL=cs(),MAe=()=>t=>async e=>{let{request:r}=e;return xAe.HttpRequest.isInstance(r)&&(delete r.headers[PL.INVOCATION_ID_HEADER],delete r.headers[PL.REQUEST_HEADER]),t(e)};Eo.omitRetryHeadersMiddleware=MAe;Eo.omitRetryHeadersMiddlewareOptions={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0};var FAe=t=>({applyToStack:e=>{e.addRelativeTo((0,Eo.omitRetryHeadersMiddleware)(),Eo.omitRetryHeadersMiddlewareOptions)}});Eo.getOmitRetryHeadersPlugin=FAe});var RL=h(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.getRetryAfterHint=Ii.getRetryPlugin=Ii.retryMiddlewareOptions=Ii.retryMiddleware=void 0;var rI=Bn(),tI=wp(),DL=cs(),BAe=(H7(),ne(W7)),qAe=J7(),$Ae=t=>(e,r)=>async n=>{let i=await t.retryStrategy(),s=await t.maxAttempts();if(kAe(i)){i=i;let o=await i.acquireInitialRetryToken(r.partition_id),u=new Error,a=0,c=0,{request:l}=n;for(rI.HttpRequest.isInstance(l)&&(l.headers[DL.INVOCATION_ID_HEADER]=(0,BAe.v4)());;)try{rI.HttpRequest.isInstance(l)&&(l.headers[DL.REQUEST_HEADER]=`attempt=${a+1}; max=${s}`);let{response:d,output:f}=await e(n);return i.recordSuccess(o),f.$metadata.attempts=a+1,f.$metadata.totalRetryDelay=c,{response:d,output:f}}catch(d){let f=jAe(d);u=(0,qAe.asSdkError)(d);try{o=await i.refreshRetryTokenForRetry(o,f)}catch{throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=a+1,u.$metadata.totalRetryDelay=c,u}a=o.getRetryCount();let p=o.getRetryDelay();c+=p,await new Promise(m=>setTimeout(m,p))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,n)};Ii.retryMiddleware=$Ae;var kAe=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",jAe=t=>{let e={errorType:LAe(t)},r=(0,Ii.getRetryAfterHint)(t.$response);return r&&(e.retryAfterHint=r),e},LAe=t=>(0,tI.isThrottlingError)(t)?"THROTTLING":(0,tI.isTransientError)(t)?"TRANSIENT":(0,tI.isServerError)(t)?"SERVER_ERROR":"CLIENT_ERROR";Ii.retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0};var UAe=t=>({applyToStack:e=>{e.add((0,Ii.retryMiddleware)(t),Ii.retryMiddlewareOptions)}});Ii.getRetryPlugin=UAe;var zAe=t=>{if(!rI.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Ii.getRetryAfterHint=zAe});var wu=h(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});var fl=(se(),ne(ie));fl.__exportStar(vL(),Su);fl.__exportStar(Z7(),Su);fl.__exportStar(IL(),Su);fl.__exportStar(K7(),Su);fl.__exportStar(TL(),Su);fl.__exportStar(Y7(),Su);fl.__exportStar(RL(),Su)});var Pp=h(TA=>{"use strict";Object.defineProperty(TA,"__esModule",{value:!0});TA.ProviderError=void 0;var Ip=class extends Error{constructor(e,r=!0){super(e),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,Ip.prototype)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}};TA.ProviderError=Ip});var NL=h(DA=>{"use strict";Object.defineProperty(DA,"__esModule",{value:!0});DA.CredentialsProviderError=void 0;var VAe=Pp(),Tp=class extends VAe.ProviderError{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,Tp.prototype)}};DA.CredentialsProviderError=Tp});var xL=h(RA=>{"use strict";Object.defineProperty(RA,"__esModule",{value:!0});RA.TokenProviderError=void 0;var WAe=Pp(),Dp=class extends WAe.ProviderError{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,Dp.prototype)}};RA.TokenProviderError=Dp});var ML=h(NA=>{"use strict";Object.defineProperty(NA,"__esModule",{value:!0});NA.chain=void 0;var HAe=Pp();function GAe(...t){return()=>{let e=Promise.reject(new HAe.ProviderError("No providers in chain"));for(let r of t)e=e.catch(n=>{if(n?.tryNextLink)return r();throw n});return e}}NA.chain=GAe});var FL=h(xA=>{"use strict";Object.defineProperty(xA,"__esModule",{value:!0});xA.fromStatic=void 0;var KAe=t=>()=>Promise.resolve(t);xA.fromStatic=KAe});var BL=h(MA=>{"use strict";Object.defineProperty(MA,"__esModule",{value:!0});MA.memoize=void 0;var YAe=(t,e,r)=>{let n,i,s,o=!1,u=async()=>{i||(i=t());try{n=await i,s=!0,o=!1}finally{i=void 0}return n};return e===void 0?async a=>((!s||a?.forceRefresh)&&(n=await u()),n):async a=>((!s||a?.forceRefresh)&&(n=await u()),o?n:r&&!r(n)?(o=!0,n):(e(n)&&await u(),n))};MA.memoize=YAe});var pt=h(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});var c1=(se(),ne(ie));c1.__exportStar(NL(),Fa);c1.__exportStar(Pp(),Fa);c1.__exportStar(xL(),Fa);c1.__exportStar(ML(),Fa);c1.__exportStar(FL(),Fa);c1.__exportStar(BL(),Fa)});var FA=h(l1=>{"use strict";Object.defineProperty(l1,"__esModule",{value:!0});l1.toHex=l1.fromHex=void 0;var qL={},nI={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),qL[t]=e,nI[e]=t}function JAe(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in nI)e[r/2]=nI[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}l1.fromHex=JAe;function QAe(t){let e="";for(let r=0;r<t.byteLength;r++)e+=qL[t[r]];return e}l1.toHex=QAe});var iI=h(BA=>{"use strict";Object.defineProperty(BA,"__esModule",{value:!0});BA.isArrayBuffer=void 0;var XAe=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";BA.isArrayBuffer=XAe});var f1=h(d1=>{"use strict";Object.defineProperty(d1,"__esModule",{value:!0});d1.fromString=d1.fromArrayBuffer=void 0;var ZAe=iI(),sI=require("buffer"),eSe=(t,e=0,r=t.byteLength-e)=>{if(!(0,ZAe.isArrayBuffer)(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return sI.Buffer.from(t,e,r)};d1.fromArrayBuffer=eSe;var tSe=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?sI.Buffer.from(t,e):sI.Buffer.from(t)};d1.fromString=tSe});var oI=h(qA=>{"use strict";Object.defineProperty(qA,"__esModule",{value:!0});qA.fromUtf8=void 0;var rSe=f1(),nSe=t=>{let e=(0,rSe.fromString)(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)};qA.fromUtf8=nSe});var $L=h($A=>{"use strict";Object.defineProperty($A,"__esModule",{value:!0});$A.toUint8Array=void 0;var iSe=oI(),sSe=t=>typeof t=="string"?(0,iSe.fromUtf8)(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);$A.toUint8Array=sSe});var kL=h(kA=>{"use strict";Object.defineProperty(kA,"__esModule",{value:!0});kA.toUtf8=void 0;var oSe=f1(),uSe=t=>(0,oSe.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("utf8");kA.toUtf8=uSe});var Ou=h(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});var uI=(se(),ne(ie));uI.__exportStar(oI(),Rp);uI.__exportStar($L(),Rp);uI.__exportStar(kL(),Rp)});var hl=h(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.MAX_PRESIGNED_TTL=le.KEY_TYPE_IDENTIFIER=le.MAX_CACHE_SIZE=le.UNSIGNED_PAYLOAD=le.EVENT_ALGORITHM_IDENTIFIER=le.ALGORITHM_IDENTIFIER_V4A=le.ALGORITHM_IDENTIFIER=le.UNSIGNABLE_PATTERNS=le.SEC_HEADER_PATTERN=le.PROXY_HEADER_PATTERN=le.ALWAYS_UNSIGNABLE_HEADERS=le.HOST_HEADER=le.TOKEN_HEADER=le.SHA256_HEADER=le.SIGNATURE_HEADER=le.GENERATED_HEADERS=le.DATE_HEADER=le.AMZ_DATE_HEADER=le.AUTH_HEADER=le.REGION_SET_PARAM=le.TOKEN_QUERY_PARAM=le.SIGNATURE_QUERY_PARAM=le.EXPIRES_QUERY_PARAM=le.SIGNED_HEADERS_QUERY_PARAM=le.AMZ_DATE_QUERY_PARAM=le.CREDENTIAL_QUERY_PARAM=le.ALGORITHM_QUERY_PARAM=void 0;le.ALGORITHM_QUERY_PARAM="X-Amz-Algorithm";le.CREDENTIAL_QUERY_PARAM="X-Amz-Credential";le.AMZ_DATE_QUERY_PARAM="X-Amz-Date";le.SIGNED_HEADERS_QUERY_PARAM="X-Amz-SignedHeaders";le.EXPIRES_QUERY_PARAM="X-Amz-Expires";le.SIGNATURE_QUERY_PARAM="X-Amz-Signature";le.TOKEN_QUERY_PARAM="X-Amz-Security-Token";le.REGION_SET_PARAM="X-Amz-Region-Set";le.AUTH_HEADER="authorization";le.AMZ_DATE_HEADER=le.AMZ_DATE_QUERY_PARAM.toLowerCase();le.DATE_HEADER="date";le.GENERATED_HEADERS=[le.AUTH_HEADER,le.AMZ_DATE_HEADER,le.DATE_HEADER];le.SIGNATURE_HEADER=le.SIGNATURE_QUERY_PARAM.toLowerCase();le.SHA256_HEADER="x-amz-content-sha256";le.TOKEN_HEADER=le.TOKEN_QUERY_PARAM.toLowerCase();le.HOST_HEADER="host";le.ALWAYS_UNSIGNABLE_HEADERS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0};le.PROXY_HEADER_PATTERN=/^proxy-/;le.SEC_HEADER_PATTERN=/^sec-/;le.UNSIGNABLE_PATTERNS=[/^proxy-/i,/^sec-/i];le.ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256";le.ALGORITHM_IDENTIFIER_V4A="AWS4-ECDSA-P256-SHA256";le.EVENT_ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256-PAYLOAD";le.UNSIGNED_PAYLOAD="UNSIGNED-PAYLOAD";le.MAX_CACHE_SIZE=50;le.KEY_TYPE_IDENTIFIER="aws4_request";le.MAX_PRESIGNED_TTL=60*60*24*7});var cI=h(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.clearCredentialCache=Ba.getSigningKey=Ba.createScope=void 0;var aSe=FA(),cSe=Ou(),aI=hl(),h1={},jA=[],lSe=(t,e,r)=>`${t}/${e}/${r}/${aI.KEY_TYPE_IDENTIFIER}`;Ba.createScope=lSe;var dSe=async(t,e,r,n,i)=>{let s=await jL(t,e.secretAccessKey,e.accessKeyId),o=`${r}:${n}:${i}:${(0,aSe.toHex)(s)}:${e.sessionToken}`;if(o in h1)return h1[o];for(jA.push(o);jA.length>aI.MAX_CACHE_SIZE;)delete h1[jA.shift()];let u=`AWS4${e.secretAccessKey}`;for(let a of[r,n,i,aI.KEY_TYPE_IDENTIFIER])u=await jL(t,u,a);return h1[o]=u};Ba.getSigningKey=dSe;var fSe=()=>{jA.length=0,Object.keys(h1).forEach(t=>{delete h1[t]})};Ba.clearCredentialCache=fSe;var jL=(t,e,r)=>{let n=new t(e);return n.update((0,cSe.toUint8Array)(r)),n.digest()}});var dI=h(LA=>{"use strict";Object.defineProperty(LA,"__esModule",{value:!0});LA.getCanonicalHeaders=void 0;var lI=hl(),hSe=({headers:t},e,r)=>{let n={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let s=i.toLowerCase();(s in lI.ALWAYS_UNSIGNABLE_HEADERS||e?.has(s)||lI.PROXY_HEADER_PATTERN.test(s)||lI.SEC_HEADER_PATTERN.test(s))&&(!r||r&&!r.has(s))||(n[s]=t[i].trim().replace(/\s+/g," "))}return n};LA.getCanonicalHeaders=hSe});var fI=h(UA=>{"use strict";Object.defineProperty(UA,"__esModule",{value:!0});UA.escapeUri=void 0;var pSe=t=>encodeURIComponent(t).replace(/[!'()*]/g,mSe);UA.escapeUri=pSe;var mSe=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`});var LL=h(zA=>{"use strict";Object.defineProperty(zA,"__esModule",{value:!0});zA.escapeUriPath=void 0;var ySe=fI(),gSe=t=>t.split("/").map(ySe.escapeUri).join("/");zA.escapeUriPath=gSe});var hI=h(VA=>{"use strict";Object.defineProperty(VA,"__esModule",{value:!0});var UL=(se(),ne(ie));UL.__exportStar(fI(),VA);UL.__exportStar(LL(),VA)});var pI=h(HA=>{"use strict";Object.defineProperty(HA,"__esModule",{value:!0});HA.getCanonicalQuery=void 0;var WA=hI(),_Se=hl(),ESe=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t).sort()){if(n.toLowerCase()===_Se.SIGNATURE_HEADER)continue;e.push(n);let i=t[n];typeof i=="string"?r[n]=`${(0,WA.escapeUri)(n)}=${(0,WA.escapeUri)(i)}`:Array.isArray(i)&&(r[n]=i.slice(0).sort().reduce((s,o)=>s.concat([`${(0,WA.escapeUri)(n)}=${(0,WA.escapeUri)(o)}`]),[]).join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")};HA.getCanonicalQuery=ESe});var mI=h(GA=>{"use strict";Object.defineProperty(GA,"__esModule",{value:!0});GA.getPayloadHash=void 0;var ASe=iI(),SSe=FA(),wSe=Ou(),zL=hl(),OSe=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===zL.SHA256_HEADER)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||(0,ASe.isArrayBuffer)(e)){let n=new r;return n.update((0,wSe.toUint8Array)(e)),(0,SSe.toHex)(await n.digest())}return zL.UNSIGNED_PAYLOAD};GA.getPayloadHash=OSe});var VL=h(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.deleteHeader=qa.getHeaderValue=qa.hasHeader=void 0;var CSe=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1};qa.hasHeader=CSe;var vSe=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return e[r]};qa.getHeaderValue=vSe;var bSe=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))t===r.toLowerCase()&&delete e[r]};qa.deleteHeader=bSe});var yI=h(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.cloneQuery=pl.cloneRequest=void 0;var ISe=({headers:t,query:e,...r})=>({...r,headers:{...t},query:e?(0,pl.cloneQuery)(e):void 0});pl.cloneRequest=ISe;var PSe=t=>Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{});pl.cloneQuery=PSe});var gI=h(KA=>{"use strict";Object.defineProperty(KA,"__esModule",{value:!0});KA.moveHeadersToQuery=void 0;var TSe=yI(),DSe=(t,e={})=>{var r;let{headers:n,query:i={}}=typeof t.clone=="function"?t.clone():(0,TSe.cloneRequest)(t);for(let s of Object.keys(n)){let o=s.toLowerCase();o.slice(0,6)==="x-amz-"&&!(!((r=e.unhoistableHeaders)===null||r===void 0)&&r.has(o))&&(i[s]=n[s],delete n[s])}return{...t,headers:n,query:i}};KA.moveHeadersToQuery=DSe});var _I=h(YA=>{"use strict";Object.defineProperty(YA,"__esModule",{value:!0});YA.prepareRequest=void 0;var RSe=yI(),NSe=hl(),xSe=t=>{t=typeof t.clone=="function"?t.clone():(0,RSe.cloneRequest)(t);for(let e of Object.keys(t.headers))NSe.GENERATED_HEADERS.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t};YA.prepareRequest=xSe});var WL=h(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.toDate=ml.iso8601=void 0;var MSe=t=>(0,ml.toDate)(t).toISOString().replace(/\.\d{3}Z$/,"Z");ml.iso8601=MSe;var FSe=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;ml.toDate=FSe});var JL=h(ZA=>{"use strict";Object.defineProperty(ZA,"__esModule",{value:!0});ZA.SignatureV4=void 0;var JA=FA(),HL=sl(),EI=Ou(),en=hl(),QA=cI(),GL=dI(),BSe=pI(),AI=mI(),qSe=VL(),$Se=gI(),KL=_I(),kSe=WL(),SI=class{constructor({applyChecksum:e,credentials:r,region:n,service:i,sha256:s,uriEscapePath:o=!0}){this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,HL.normalizeProvider)(n),this.credentialProvider=(0,HL.normalizeProvider)(r)}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:u,signingRegion:a,signingService:c}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);let d=a??await this.regionProvider(),{longDate:f,shortDate:p}=XA(n);if(i>en.MAX_PRESIGNED_TTL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let m=(0,QA.createScope)(p,d,c??this.service),y=(0,$Se.moveHeadersToQuery)((0,KL.prepareRequest)(e),{unhoistableHeaders:o});l.sessionToken&&(y.query[en.TOKEN_QUERY_PARAM]=l.sessionToken),y.query[en.ALGORITHM_QUERY_PARAM]=en.ALGORITHM_IDENTIFIER,y.query[en.CREDENTIAL_QUERY_PARAM]=`${l.accessKeyId}/${m}`,y.query[en.AMZ_DATE_QUERY_PARAM]=f,y.query[en.EXPIRES_QUERY_PARAM]=i.toString(10);let _=(0,GL.getCanonicalHeaders)(y,s,u);return y.query[en.SIGNED_HEADERS_QUERY_PARAM]=YL(_),y.query[en.SIGNATURE_QUERY_PARAM]=await this.getSignature(f,m,this.getSigningKey(l,d,p,c),this.createCanonicalRequest(y,_,await(0,AI.getPayloadHash)(e,this.sha256))),y}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:s,signingService:o}){let u=s??await this.regionProvider(),{shortDate:a,longDate:c}=XA(n),l=(0,QA.createScope)(a,u,o??this.service),d=await(0,AI.getPayloadHash)({headers:{},body:r},this.sha256),f=new this.sha256;f.update(e);let p=(0,JA.toHex)(await f.digest()),m=[en.EVENT_ALGORITHM_IDENTIFIER,c,l,i,p,d].join(`
`);return this.signString(m,{signingDate:n,signingRegion:u,signingService:o})}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let o=n??await this.regionProvider(),{shortDate:u}=XA(r),a=new this.sha256(await this.getSigningKey(s,o,u,i));return a.update((0,EI.toUint8Array)(e)),(0,JA.toHex)(await a.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:s,signingService:o}={}){let u=await this.credentialProvider();this.validateResolvedCredentials(u);let a=s??await this.regionProvider(),c=(0,KL.prepareRequest)(e),{longDate:l,shortDate:d}=XA(r),f=(0,QA.createScope)(d,a,o??this.service);c.headers[en.AMZ_DATE_HEADER]=l,u.sessionToken&&(c.headers[en.TOKEN_HEADER]=u.sessionToken);let p=await(0,AI.getPayloadHash)(c,this.sha256);!(0,qSe.hasHeader)(en.SHA256_HEADER,c.headers)&&this.applyChecksum&&(c.headers[en.SHA256_HEADER]=p);let m=(0,GL.getCanonicalHeaders)(c,i,n),y=await this.getSignature(l,f,this.getSigningKey(u,a,d,o),this.createCanonicalRequest(c,m,p));return c.headers[en.AUTH_HEADER]=`${en.ALGORITHM_IDENTIFIER} Credential=${u.accessKeyId}/${f}, SignedHeaders=${YL(m)}, Signature=${y}`,c}createCanonicalRequest(e,r,n){let i=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${(0,BSe.getCanonicalQuery)(e)}
${i.map(s=>`${s}:${r[s]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(e,r,n){let i=new this.sha256;i.update((0,EI.toUint8Array)(n));let s=await i.digest();return`${en.ALGORITHM_IDENTIFIER}
${e}
${r}
${(0,JA.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let s of e.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,i){let s=await this.createStringToSign(e,r,i),o=new this.sha256(await n);return o.update((0,EI.toUint8Array)(s)),(0,JA.toHex)(await o.digest())}getSigningKey(e,r,n,i){return(0,QA.getSigningKey)(this.sha256,e,n,r,i||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};ZA.SignatureV4=SI;var XA=t=>{let e=(0,kSe.iso8601)(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},YL=t=>Object.keys(t).sort().join(";")});var XL=h(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.prepareRequest=ni.moveHeadersToQuery=ni.getPayloadHash=ni.getCanonicalQuery=ni.getCanonicalHeaders=void 0;var QL=(se(),ne(ie));QL.__exportStar(JL(),ni);var jSe=dI();Object.defineProperty(ni,"getCanonicalHeaders",{enumerable:!0,get:function(){return jSe.getCanonicalHeaders}});var LSe=pI();Object.defineProperty(ni,"getCanonicalQuery",{enumerable:!0,get:function(){return LSe.getCanonicalQuery}});var USe=mI();Object.defineProperty(ni,"getPayloadHash",{enumerable:!0,get:function(){return USe.getPayloadHash}});var zSe=gI();Object.defineProperty(ni,"moveHeadersToQuery",{enumerable:!0,get:function(){return zSe.moveHeadersToQuery}});var VSe=_I();Object.defineProperty(ni,"prepareRequest",{enumerable:!0,get:function(){return VSe.prepareRequest}});QL.__exportStar(cI(),ni)});var eU=h(m1=>{"use strict";Object.defineProperty(m1,"__esModule",{value:!0});m1.resolveSigV4AuthConfig=m1.resolveAwsAuthConfig=void 0;var WSe=pt(),wI=XL(),p1=sl(),HSe=3e5,GSe=t=>{let e=t.credentials?ZL(t.credentials):t.credentialDefaultProvider(t),{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:i}=t,s;return t.signer?s=(0,p1.normalizeProvider)(t.signer):t.regionInfoProvider?s=()=>(0,p1.normalizeProvider)(t.region)().then(async o=>[await t.regionInfoProvider(o,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},o]).then(([o,u])=>{let{signingRegion:a,signingService:c}=o;t.signingRegion=t.signingRegion||a||u,t.signingName=t.signingName||c||t.serviceId;let l={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:r},d=t.signerConstructor||wI.SignatureV4;return new d(l)}):s=async o=>{o=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await(0,p1.normalizeProvider)(t.region)(),properties:{}},o);let u=o.signingRegion,a=o.signingName;t.signingRegion=t.signingRegion||u,t.signingName=t.signingName||a||t.serviceId;let c={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:r},l=t.signerConstructor||wI.SignatureV4;return new l(c)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:s}};m1.resolveAwsAuthConfig=GSe;var KSe=t=>{let e=t.credentials?ZL(t.credentials):t.credentialDefaultProvider(t),{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:i}=t,s;return t.signer?s=(0,p1.normalizeProvider)(t.signer):s=(0,p1.normalizeProvider)(new wI.SignatureV4({credentials:e,region:t.region,service:t.signingName,sha256:i,uriEscapePath:r})),{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:s}};m1.resolveSigV4AuthConfig=KSe;var ZL=t=>typeof t=="function"?(0,WSe.memoize)(t,e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<HSe,e=>e.expiration!==void 0):(0,p1.normalizeProvider)(t)});var OI=h(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.getSkewCorrectedDate=void 0;var YSe=t=>new Date(Date.now()+t);eS.getSkewCorrectedDate=YSe});var tU=h(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});tS.isClockSkewed=void 0;var JSe=OI(),QSe=(t,e)=>Math.abs((0,JSe.getSkewCorrectedDate)(e).getTime()-t)>=3e5;tS.isClockSkewed=QSe});var rU=h(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});rS.getUpdatedSystemClockOffset=void 0;var XSe=tU(),ZSe=(t,e)=>{let r=Date.parse(t);return(0,XSe.isClockSkewed)(r,e)?r-Date.now():e};rS.getUpdatedSystemClockOffset=ZSe});var oU=h(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.getSigV4AuthPlugin=Pi.getAwsAuthPlugin=Pi.awsAuthMiddlewareOptions=Pi.awsAuthMiddleware=void 0;var sU=Bn(),ewe=OI(),nU=rU(),twe=t=>(e,r)=>async function(n){var i,s,o,u;if(!sU.HttpRequest.isInstance(n.request))return e(n);let a=(o=(s=(i=r.endpointV2)===null||i===void 0?void 0:i.properties)===null||s===void 0?void 0:s.authSchemes)===null||o===void 0?void 0:o[0],c=a?.name==="sigv4a"?(u=a?.signingRegionSet)===null||u===void 0?void 0:u.join(","):void 0,l=await t.signer(a),d=await e({...n,request:await l.sign(n.request,{signingDate:(0,ewe.getSkewCorrectedDate)(t.systemClockOffset),signingRegion:c||r.signing_region,signingService:r.signing_service})}).catch(p=>{var m;let y=(m=p.ServerTime)!==null&&m!==void 0?m:iU(p.$response);throw y&&(t.systemClockOffset=(0,nU.getUpdatedSystemClockOffset)(y,t.systemClockOffset)),p}),f=iU(d.response);return f&&(t.systemClockOffset=(0,nU.getUpdatedSystemClockOffset)(f,t.systemClockOffset)),d};Pi.awsAuthMiddleware=twe;var iU=t=>{var e,r,n;return sU.HttpResponse.isInstance(t)?(r=(e=t.headers)===null||e===void 0?void 0:e.date)!==null&&r!==void 0?r:(n=t.headers)===null||n===void 0?void 0:n.Date:void 0};Pi.awsAuthMiddlewareOptions={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};var rwe=t=>({applyToStack:e=>{e.addRelativeTo((0,Pi.awsAuthMiddleware)(t),Pi.awsAuthMiddlewareOptions)}});Pi.getAwsAuthPlugin=rwe;Pi.getSigV4AuthPlugin=Pi.getAwsAuthPlugin});var Ct=h(nS=>{"use strict";Object.defineProperty(nS,"__esModule",{value:!0});var uU=(se(),ne(ie));uU.__exportStar(eU(),nS);uU.__exportStar(oU(),nS)});var aU=h(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0});iS.resolveUserAgentConfig=void 0;function nwe(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}iS.resolveUserAgentConfig=nwe});var cU=h(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.UA_ESCAPE_REGEX=Ao.SPACE=Ao.X_AMZ_USER_AGENT=Ao.USER_AGENT=void 0;Ao.USER_AGENT="user-agent";Ao.X_AMZ_USER_AGENT="x-amz-user-agent";Ao.SPACE=" ";Ao.UA_ESCAPE_REGEX=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g});var lU=h(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.getUserAgentPlugin=So.getUserAgentMiddlewareOptions=So.userAgentMiddleware=void 0;var iwe=Bn(),$a=cU(),swe=t=>(e,r)=>async n=>{var i,s;let{request:o}=n;if(!iwe.HttpRequest.isInstance(o))return e(n);let{headers:u}=o,a=((i=r?.userAgent)===null||i===void 0?void 0:i.map(CI))||[],c=(await t.defaultUserAgentProvider()).map(CI),l=((s=t?.customUserAgent)===null||s===void 0?void 0:s.map(CI))||[],d=[...c,...a,...l].join($a.SPACE),f=[...c.filter(p=>p.startsWith("aws-sdk-")),...l].join($a.SPACE);return t.runtime!=="browser"?(f&&(u[$a.X_AMZ_USER_AGENT]=u[$a.X_AMZ_USER_AGENT]?`${u[$a.USER_AGENT]} ${f}`:f),u[$a.USER_AGENT]=d):u[$a.X_AMZ_USER_AGENT]=d,e({...n,request:o})};So.userAgentMiddleware=swe;var CI=([t,e])=>{let r=t.indexOf("/"),n=t.substring(0,r),i=t.substring(r+1);return n==="api"&&(i=i.toLowerCase()),[n,i,e].filter(s=>s&&s.length>0).map(s=>s?.replace($a.UA_ESCAPE_REGEX,"_")).join("/")};So.getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var owe=t=>({applyToStack:e=>{e.add((0,So.userAgentMiddleware)(t),So.getUserAgentMiddlewareOptions)}});So.getUserAgentPlugin=owe});var Np=h(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0});var dU=(se(),ne(ie));dU.__exportStar(aU(),sS);dU.__exportStar(lU(),sS)});var fU=h(oS=>{"use strict";Object.defineProperty(oS,"__esModule",{value:!0});oS.NoOpLogger=void 0;var vI=class{trace(){}debug(){}info(){}warn(){}error(){}};oS.NoOpLogger=vI});var mU=h(y1=>{"use strict";Object.defineProperty(y1,"__esModule",{value:!0});y1.constructStack=void 0;var uwe=()=>{let t=[],e=[],r=new Set,n=l=>l.sort((d,f)=>hU[f.step]-hU[d.step]||pU[f.priority||"normal"]-pU[d.priority||"normal"]),i=l=>{let d=!1,f=p=>p.name&&p.name===l?(d=!0,r.delete(l),!1):!0;return t=t.filter(f),e=e.filter(f),d},s=l=>{let d=!1,f=p=>p.middleware===l?(d=!0,p.name&&r.delete(p.name),!1):!0;return t=t.filter(f),e=e.filter(f),d},o=l=>(t.forEach(d=>{l.add(d.middleware,{...d})}),e.forEach(d=>{l.addRelativeTo(d.middleware,{...d})}),l),u=l=>{let d=[];return l.before.forEach(f=>{f.before.length===0&&f.after.length===0?d.push(f):d.push(...u(f))}),d.push(l),l.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?d.push(f):d.push(...u(f))}),d},a=(l=!1)=>{let d=[],f=[],p={};return t.forEach(y=>{let _={...y,before:[],after:[]};_.name&&(p[_.name]=_),d.push(_)}),e.forEach(y=>{let _={...y,before:[],after:[]};_.name&&(p[_.name]=_),f.push(_)}),f.forEach(y=>{if(y.toMiddleware){let _=p[y.toMiddleware];if(_===void 0){if(l)return;throw new Error(`${y.toMiddleware} is not found when adding ${y.name||"anonymous"} middleware ${y.relation} ${y.toMiddleware}`)}y.relation==="after"&&_.after.push(y),y.relation==="before"&&_.before.push(y)}}),n(d).map(u).reduce((y,_)=>(y.push(..._),y),[])},c={add:(l,d={})=>{let{name:f,override:p}=d,m={step:"initialize",priority:"normal",middleware:l,...d};if(f){if(r.has(f)){if(!p)throw new Error(`Duplicate middleware name '${f}'`);let y=t.findIndex(g=>g.name===f),_=t[y];if(_.step!==m.step||_.priority!==m.priority)throw new Error(`"${f}" middleware with ${_.priority} priority in ${_.step} step cannot be overridden by same-name middleware with ${m.priority} priority in ${m.step} step.`);t.splice(y,1)}r.add(f)}t.push(m)},addRelativeTo:(l,d)=>{let{name:f,override:p}=d,m={middleware:l,...d};if(f){if(r.has(f)){if(!p)throw new Error(`Duplicate middleware name '${f}'`);let y=e.findIndex(g=>g.name===f),_=e[y];if(_.toMiddleware!==m.toMiddleware||_.relation!==m.relation)throw new Error(`"${f}" middleware ${_.relation} "${_.toMiddleware}" middleware cannot be overridden by same-name middleware ${m.relation} "${m.toMiddleware}" middleware.`);e.splice(y,1)}r.add(f)}e.push(m)},clone:()=>o((0,y1.constructStack)()),use:l=>{l.applyToStack(c)},remove:l=>typeof l=="string"?i(l):s(l),removeByTag:l=>{let d=!1,f=p=>{let{tags:m,name:y}=p;return m&&m.includes(l)?(y&&r.delete(y),d=!0,!1):!0};return t=t.filter(f),e=e.filter(f),d},concat:l=>{let d=o((0,y1.constructStack)());return d.use(l),d},applyToStack:o,identify:()=>a(!0).map(l=>l.name+": "+(l.tags||[]).join(",")),resolve:(l,d)=>{for(let f of a().map(p=>p.middleware).reverse())l=f(l,d);return l}};return c};y1.constructStack=uwe;var hU={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},pU={high:3,normal:2,low:1}});var II=h(bI=>{"use strict";Object.defineProperty(bI,"__esModule",{value:!0});var awe=(se(),ne(ie));awe.__exportStar(mU(),bI)});var yU=h(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});uS.Client=void 0;var cwe=II(),PI=class{constructor(e){this.middlewareStack=(0,cwe.constructStack)(),this.config=e}send(e,r,n){let i=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,o=e.resolveMiddleware(this.middlewareStack,this.config,i);if(s)o(e).then(u=>s(null,u.output),u=>s(u)).catch(()=>{});else return o(e).then(u=>u.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};uS.Client=PI});var gU=h(aS=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0});aS.Command=void 0;var lwe=II(),TI=class{constructor(){this.middlewareStack=(0,lwe.constructStack)()}};aS.Command=TI});var _U=h(cS=>{"use strict";Object.defineProperty(cS,"__esModule",{value:!0});cS.SENSITIVE_STRING=void 0;cS.SENSITIVE_STRING="***SensitiveInformation***"});var RI=h(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.logger=K.strictParseByte=K.strictParseShort=K.strictParseInt32=K.strictParseInt=K.strictParseLong=K.limitedParseFloat32=K.limitedParseFloat=K.handleFloat=K.limitedParseDouble=K.strictParseFloat32=K.strictParseFloat=K.strictParseDouble=K.expectUnion=K.expectString=K.expectObject=K.expectNonNull=K.expectByte=K.expectShort=K.expectInt32=K.expectInt=K.expectLong=K.expectFloat32=K.expectNumber=K.expectBoolean=K.parseBoolean=void 0;var dwe=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}};K.parseBoolean=dwe;var fwe=t=>{if(t!=null){if(typeof t=="number"){if((t===0||t===1)&&K.logger.warn(lS(`Expected boolean, got ${typeof t}: ${t}`)),t===0)return!1;if(t===1)return!0}if(typeof t=="string"){let e=t.toLowerCase();if((e==="false"||e==="true")&&K.logger.warn(lS(`Expected boolean, got ${typeof t}: ${t}`)),e==="false")return!1;if(e==="true")return!0}if(typeof t=="boolean")return t;throw new TypeError(`Expected boolean, got ${typeof t}: ${t}`)}};K.expectBoolean=fwe;var hwe=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&K.logger.warn(lS(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}};K.expectNumber=hwe;var pwe=Math.ceil(2**127*(2-2**-23)),mwe=t=>{let e=(0,K.expectNumber)(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>pwe)throw new TypeError(`Expected 32-bit float, got ${t}`);return e};K.expectFloat32=mwe;var ywe=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}};K.expectLong=ywe;K.expectInt=K.expectLong;var gwe=t=>DI(t,32);K.expectInt32=gwe;var _we=t=>DI(t,16);K.expectShort=_we;var Ewe=t=>DI(t,8);K.expectByte=Ewe;var DI=(t,e)=>{let r=(0,K.expectLong)(t);if(r!==void 0&&Awe(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},Awe=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},Swe=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t};K.expectNonNull=Swe;var wwe=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)};K.expectObject=wwe;var Owe=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return K.logger.warn(lS(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}};K.expectString=Owe;var Cwe=t=>{if(t==null)return;let e=(0,K.expectObject)(t),r=Object.entries(e).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return e};K.expectUnion=Cwe;var vwe=t=>typeof t=="string"?(0,K.expectNumber)(g1(t)):(0,K.expectNumber)(t);K.strictParseDouble=vwe;K.strictParseFloat=K.strictParseDouble;var bwe=t=>typeof t=="string"?(0,K.expectFloat32)(g1(t)):(0,K.expectFloat32)(t);K.strictParseFloat32=bwe;var Iwe=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,g1=t=>{let e=t.match(Iwe);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},Pwe=t=>typeof t=="string"?EU(t):(0,K.expectNumber)(t);K.limitedParseDouble=Pwe;K.handleFloat=K.limitedParseDouble;K.limitedParseFloat=K.limitedParseDouble;var Twe=t=>typeof t=="string"?EU(t):(0,K.expectFloat32)(t);K.limitedParseFloat32=Twe;var EU=t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},Dwe=t=>typeof t=="string"?(0,K.expectLong)(g1(t)):(0,K.expectLong)(t);K.strictParseLong=Dwe;K.strictParseInt=K.strictParseLong;var Rwe=t=>typeof t=="string"?(0,K.expectInt32)(g1(t)):(0,K.expectInt32)(t);K.strictParseInt32=Rwe;var Nwe=t=>typeof t=="string"?(0,K.expectShort)(g1(t)):(0,K.expectShort)(t);K.strictParseShort=Nwe;var xwe=t=>typeof t=="string"?(0,K.expectByte)(g1(t)):(0,K.expectByte)(t);K.strictParseByte=xwe;var lS=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`);K.logger={warn:console.warn}});var AU=h(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.parseEpochTimestamp=ls.parseRfc7231DateTime=ls.parseRfc3339DateTimeWithOffset=ls.parseRfc3339DateTime=ls.dateToUtcString=void 0;var ka=RI(),Mwe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],xI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Fwe(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),i=t.getUTCDate(),s=t.getUTCHours(),o=t.getUTCMinutes(),u=t.getUTCSeconds(),a=i<10?`0${i}`:`${i}`,c=s<10?`0${s}`:`${s}`,l=o<10?`0${o}`:`${o}`,d=u<10?`0${u}`:`${u}`;return`${Mwe[n]}, ${a} ${xI[r]} ${e} ${c}:${l}:${d} GMT`}ls.dateToUtcString=Fwe;var Bwe=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),qwe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=Bwe.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,s,o,u,a,c]=e,l=(0,ka.strictParseShort)(_1(n)),d=wo(i,"month",1,12),f=wo(s,"day",1,31);return xp(l,d,f,{hours:o,minutes:u,seconds:a,fractionalMilliseconds:c})};ls.parseRfc3339DateTime=qwe;var $we=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),kwe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=$we.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,s,o,u,a,c,l]=e,d=(0,ka.strictParseShort)(_1(n)),f=wo(i,"month",1,12),p=wo(s,"day",1,31),m=xp(d,f,p,{hours:o,minutes:u,seconds:a,fractionalMilliseconds:c});return l.toUpperCase()!="Z"&&m.setTime(m.getTime()-Xwe(l)),m};ls.parseRfc3339DateTimeWithOffset=kwe;var jwe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Lwe=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Uwe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),zwe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=jwe.exec(t);if(e){let[r,n,i,s,o,u,a,c]=e;return xp((0,ka.strictParseShort)(_1(s)),NI(i),wo(n,"day",1,31),{hours:o,minutes:u,seconds:a,fractionalMilliseconds:c})}if(e=Lwe.exec(t),e){let[r,n,i,s,o,u,a,c]=e;return Gwe(xp(Wwe(s),NI(i),wo(n,"day",1,31),{hours:o,minutes:u,seconds:a,fractionalMilliseconds:c}))}if(e=Uwe.exec(t),e){let[r,n,i,s,o,u,a,c]=e;return xp((0,ka.strictParseShort)(_1(c)),NI(n),wo(i.trimLeft(),"day",1,31),{hours:s,minutes:o,seconds:u,fractionalMilliseconds:a})}throw new TypeError("Invalid RFC-7231 date-time value")};ls.parseRfc7231DateTime=zwe;var Vwe=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=(0,ka.strictParseDouble)(t);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))};ls.parseEpochTimestamp=Vwe;var xp=(t,e,r,n)=>{let i=e-1;return Ywe(t,i,r),new Date(Date.UTC(t,i,r,wo(n.hours,"hour",0,23),wo(n.minutes,"minute",0,59),wo(n.seconds,"seconds",0,60),Qwe(n.fractionalMilliseconds)))},Wwe=t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+(0,ka.strictParseShort)(_1(t));return r<e?r+100:r},Hwe=50*365*24*60*60*1e3,Gwe=t=>t.getTime()-new Date().getTime()>Hwe?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,NI=t=>{let e=xI.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},Kwe=[31,28,31,30,31,30,31,31,30,31,30,31],Ywe=(t,e,r)=>{let n=Kwe[e];if(e===1&&Jwe(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${xI[e]} in ${t}: ${r}`)},Jwe=t=>t%4===0&&(t%100!==0||t%400===0),wo=(t,e,r,n)=>{let i=(0,ka.strictParseByte)(_1(t));if(i<r||i>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return i},Qwe=t=>t==null?0:(0,ka.strictParseFloat32)("0."+t)*1e3,Xwe=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),i=Number(t.substring(4,6));return r*(n*60+i)*60*1e3},_1=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)}});var MI=h(E1=>{"use strict";Object.defineProperty(E1,"__esModule",{value:!0});E1.decorateServiceException=E1.ServiceException=void 0;var Mp=class extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Mp.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}};E1.ServiceException=Mp;var Zwe=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(t[n]==null||t[n]==="")&&(t[n]=i)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t};E1.decorateServiceException=Zwe});var SU=h(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0});dS.throwDefaultError=void 0;var e3e=MI(),t3e=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{let i=r3e(t),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new r({name:e.code||e.Code||n||s||"UnknownError",$fault:"client",$metadata:i});throw(0,e3e.decorateServiceException)(o,e)};dS.throwDefaultError=t3e;var r3e=t=>{var e,r;return{httpStatusCode:t.statusCode,requestId:(r=(e=t.headers["x-amzn-requestid"])!==null&&e!==void 0?e:t.headers["x-amzn-request-id"])!==null&&r!==void 0?r:t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}});var wU=h(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0});fS.loadConfigsForDefaultMode=void 0;var n3e=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};fS.loadConfigsForDefaultMode=n3e});var CU=h(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0});hS.emitWarningIfUnsupportedVersion=void 0;var OU=!1,i3e=t=>{t&&!OU&&parseInt(t.substring(1,t.indexOf(".")))<14&&(OU=!0)};hS.emitWarningIfUnsupportedVersion=i3e});var FI=h(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});pS.extendedEncodeURIComponent=void 0;function s3e(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}pS.extendedEncodeURIComponent=s3e});var vU=h(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});mS.getArrayIfSingleItem=void 0;var o3e=t=>Array.isArray(t)?t:[t];mS.getArrayIfSingleItem=o3e});var bU=h(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.getValueFromTextNode=void 0;var u3e=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=(0,Fp.getValueFromTextNode)(t[r]));return t};Fp.getValueFromTextNode=u3e});var IU=h(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.LazyJsonString=Oo.StringWrapper=void 0;var a3e=function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r};Oo.StringWrapper=a3e;Oo.StringWrapper.prototype=Object.create(String.prototype,{constructor:{value:Oo.StringWrapper,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Oo.StringWrapper,String);var yl=class extends Oo.StringWrapper{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(e){return e instanceof yl?e:e instanceof String||typeof e=="string"?new yl(e):new yl(JSON.stringify(e))}};Oo.LazyJsonString=yl});var TU=h(A1=>{"use strict";Object.defineProperty(A1,"__esModule",{value:!0});A1.convertMap=A1.map=void 0;function PU(t,e,r){let n,i,s;if(typeof e>"u"&&typeof r>"u")n={},s=t;else{if(n=t,typeof e=="function")return i=e,s=r,l3e(n,i,s);s=e}for(let o of Object.keys(s)){if(!Array.isArray(s[o])){n[o]=s[o];continue}let[u,a]=s[o];if(typeof a=="function"){let c,l=u===void 0&&(c=a())!=null,d=typeof u=="function"&&!!u(void 0)||typeof u!="function"&&!!u;l?n[o]=c:d&&(n[o]=a())}else{let c=u===void 0&&a!=null,l=typeof u=="function"&&!!u(a)||typeof u!="function"&&!!u;(c||l)&&(n[o]=a)}}return n}A1.map=PU;var c3e=t=>{let e={};for(let[r,n]of Object.entries(t||{}))e[r]=[,n];return e};A1.convertMap=c3e;var l3e=(t,e,r)=>PU(t,Object.entries(r).reduce((n,[i,s])=>(Array.isArray(s)?n[i]=s:typeof s=="function"?n[i]=[e,s()]:n[i]=[e,s],n),{}))});var RU=h(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});yS.resolvedPath=void 0;var DU=FI(),d3e=(t,e,r,n,i,s)=>{if(e!=null&&e[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(i,s?o.split("/").map(u=>(0,DU.extendedEncodeURIComponent)(u)).join("/"):(0,DU.extendedEncodeURIComponent)(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return t};yS.resolvedPath=d3e});var NU=h(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});gS.serializeFloat=void 0;var f3e=t=>{if(t!==t)return"NaN";switch(t){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return t}};gS.serializeFloat=f3e});var xU=h(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0});_S.splitEvery=void 0;function h3e(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=t.split(e);if(r===1)return n;let i=[],s="";for(let o=0;o<n.length;o++)s===""?s=n[o]:s+=e+n[o],(o+1)%r===0&&(i.push(s),s="");return s!==""&&i.push(s),i}_S.splitEvery=h3e});var ae=h(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});var jr=(se(),ne(ie));jr.__exportStar(fU(),Ir);jr.__exportStar(yU(),Ir);jr.__exportStar(gU(),Ir);jr.__exportStar(_U(),Ir);jr.__exportStar(AU(),Ir);jr.__exportStar(SU(),Ir);jr.__exportStar(wU(),Ir);jr.__exportStar(CU(),Ir);jr.__exportStar(MI(),Ir);jr.__exportStar(FI(),Ir);jr.__exportStar(vU(),Ir);jr.__exportStar(bU(),Ir);jr.__exportStar(IU(),Ir);jr.__exportStar(TU(),Ir);jr.__exportStar(RI(),Ir);jr.__exportStar(RU(),Ir);jr.__exportStar(NU(),Ir);jr.__exportStar(xU(),Ir)});var MU=h(ES=>{"use strict";Object.defineProperty(ES,"__esModule",{value:!0});ES.resolveClientEndpointParameters=void 0;var p3e=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"});ES.resolveClientEndpointParameters=p3e});var FU=h((Znt,m3e)=>{m3e.exports={name:"@aws-sdk/client-cognito-identity",description:"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",version:"3.272.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.272.0","@aws-sdk/config-resolver":"3.272.0","@aws-sdk/credential-provider-node":"3.272.0","@aws-sdk/fetch-http-handler":"3.272.0","@aws-sdk/hash-node":"3.272.0","@aws-sdk/invalid-dependency":"3.272.0","@aws-sdk/middleware-content-length":"3.272.0","@aws-sdk/middleware-endpoint":"3.272.0","@aws-sdk/middleware-host-header":"3.272.0","@aws-sdk/middleware-logger":"3.272.0","@aws-sdk/middleware-recursion-detection":"3.272.0","@aws-sdk/middleware-retry":"3.272.0","@aws-sdk/middleware-serde":"3.272.0","@aws-sdk/middleware-signing":"3.272.0","@aws-sdk/middleware-stack":"3.272.0","@aws-sdk/middleware-user-agent":"3.272.0","@aws-sdk/node-config-provider":"3.272.0","@aws-sdk/node-http-handler":"3.272.0","@aws-sdk/protocol-http":"3.272.0","@aws-sdk/smithy-client":"3.272.0","@aws-sdk/types":"3.272.0","@aws-sdk/url-parser":"3.272.0","@aws-sdk/util-base64":"3.208.0","@aws-sdk/util-body-length-browser":"3.188.0","@aws-sdk/util-body-length-node":"3.208.0","@aws-sdk/util-defaults-mode-browser":"3.272.0","@aws-sdk/util-defaults-mode-node":"3.272.0","@aws-sdk/util-endpoints":"3.272.0","@aws-sdk/util-retry":"3.272.0","@aws-sdk/util-user-agent-browser":"3.272.0","@aws-sdk/util-user-agent-node":"3.272.0","@aws-sdk/util-utf8":"3.254.0",tslib:"^2.3.1"},devDependencies:{"@aws-sdk/client-iam":"3.272.0","@aws-sdk/service-client-documentation-generator":"3.208.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.19.2",typescript:"~4.6.2"},overrides:{typedoc:{typescript:"~4.6.2"}},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"}}});var SS=h(AS=>{"use strict";Object.defineProperty(AS,"__esModule",{value:!0});AS.STSServiceException=void 0;var y3e=ae(),Bp=class extends y3e.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,Bp.prototype)}};AS.STSServiceException=Bp});var Ls=h(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.GetSessionTokenResponseFilterSensitiveLog=de.GetSessionTokenRequestFilterSensitiveLog=de.GetFederationTokenResponseFilterSensitiveLog=de.FederatedUserFilterSensitiveLog=de.GetFederationTokenRequestFilterSensitiveLog=de.GetCallerIdentityResponseFilterSensitiveLog=de.GetCallerIdentityRequestFilterSensitiveLog=de.GetAccessKeyInfoResponseFilterSensitiveLog=de.GetAccessKeyInfoRequestFilterSensitiveLog=de.DecodeAuthorizationMessageResponseFilterSensitiveLog=de.DecodeAuthorizationMessageRequestFilterSensitiveLog=de.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=de.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=de.AssumeRoleWithSAMLResponseFilterSensitiveLog=de.AssumeRoleWithSAMLRequestFilterSensitiveLog=de.AssumeRoleResponseFilterSensitiveLog=de.CredentialsFilterSensitiveLog=de.AssumeRoleRequestFilterSensitiveLog=de.TagFilterSensitiveLog=de.PolicyDescriptorTypeFilterSensitiveLog=de.AssumedRoleUserFilterSensitiveLog=de.InvalidAuthorizationMessageException=de.IDPCommunicationErrorException=de.InvalidIdentityTokenException=de.IDPRejectedClaimException=de.RegionDisabledException=de.PackedPolicyTooLargeException=de.MalformedPolicyDocumentException=de.ExpiredTokenException=void 0;var ja=SS(),qp=class extends ja.STSServiceException{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,qp.prototype)}};de.ExpiredTokenException=qp;var $p=class extends ja.STSServiceException{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,$p.prototype)}};de.MalformedPolicyDocumentException=$p;var kp=class extends ja.STSServiceException{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,kp.prototype)}};de.PackedPolicyTooLargeException=kp;var jp=class extends ja.STSServiceException{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,jp.prototype)}};de.RegionDisabledException=jp;var Lp=class extends ja.STSServiceException{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,Lp.prototype)}};de.IDPRejectedClaimException=Lp;var Up=class extends ja.STSServiceException{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,Up.prototype)}};de.InvalidIdentityTokenException=Up;var zp=class extends ja.STSServiceException{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,zp.prototype)}};de.IDPCommunicationErrorException=zp;var Vp=class extends ja.STSServiceException{constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,Vp.prototype)}};de.InvalidAuthorizationMessageException=Vp;var g3e=t=>({...t});de.AssumedRoleUserFilterSensitiveLog=g3e;var _3e=t=>({...t});de.PolicyDescriptorTypeFilterSensitiveLog=_3e;var E3e=t=>({...t});de.TagFilterSensitiveLog=E3e;var A3e=t=>({...t});de.AssumeRoleRequestFilterSensitiveLog=A3e;var S3e=t=>({...t});de.CredentialsFilterSensitiveLog=S3e;var w3e=t=>({...t});de.AssumeRoleResponseFilterSensitiveLog=w3e;var O3e=t=>({...t});de.AssumeRoleWithSAMLRequestFilterSensitiveLog=O3e;var C3e=t=>({...t});de.AssumeRoleWithSAMLResponseFilterSensitiveLog=C3e;var v3e=t=>({...t});de.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=v3e;var b3e=t=>({...t});de.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=b3e;var I3e=t=>({...t});de.DecodeAuthorizationMessageRequestFilterSensitiveLog=I3e;var P3e=t=>({...t});de.DecodeAuthorizationMessageResponseFilterSensitiveLog=P3e;var T3e=t=>({...t});de.GetAccessKeyInfoRequestFilterSensitiveLog=T3e;var D3e=t=>({...t});de.GetAccessKeyInfoResponseFilterSensitiveLog=D3e;var R3e=t=>({...t});de.GetCallerIdentityRequestFilterSensitiveLog=R3e;var N3e=t=>({...t});de.GetCallerIdentityResponseFilterSensitiveLog=N3e;var x3e=t=>({...t});de.GetFederationTokenRequestFilterSensitiveLog=x3e;var M3e=t=>({...t});de.FederatedUserFilterSensitiveLog=M3e;var F3e=t=>({...t});de.GetFederationTokenResponseFilterSensitiveLog=F3e;var B3e=t=>({...t});de.GetSessionTokenRequestFilterSensitiveLog=B3e;var q3e=t=>({...t});de.GetSessionTokenResponseFilterSensitiveLog=q3e});var BI=h(Cu=>{"use strict";var BU=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",$3e=BU+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",qU="["+BU+"]["+$3e+"]*",k3e=new RegExp("^"+qU+"$"),j3e=function(t,e){let r=[],n=e.exec(t);for(;n;){let i=[];i.startIndex=e.lastIndex-n[0].length;let s=n.length;for(let o=0;o<s;o++)i.push(n[o]);r.push(i),n=e.exec(t)}return r},L3e=function(t){let e=k3e.exec(t);return!(e===null||typeof e>"u")};Cu.isExist=function(t){return typeof t<"u"};Cu.isEmptyObject=function(t){return Object.keys(t).length===0};Cu.merge=function(t,e,r){if(e){let n=Object.keys(e),i=n.length;for(let s=0;s<i;s++)r==="strict"?t[n[s]]=[e[n[s]]]:t[n[s]]=e[n[s]]}};Cu.getValue=function(t){return Cu.isExist(t)?t:""};Cu.isName=L3e;Cu.getAllMatches=j3e;Cu.nameRegexp=qU});var $I=h(UU=>{"use strict";var qI=BI(),U3e={allowBooleanAttributes:!1,unpairedTags:[]};UU.validate=function(t,e){e=Object.assign({},U3e,e);let r=[],n=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=kU(t,s),s.err)return s}else if(t[s]==="<"){let o=s;if(s++,t[s]==="!"){s=jU(t,s);continue}else{let u=!1;t[s]==="/"&&(u=!0,s++);let a="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!==`
`&&t[s]!=="\r";s++)a+=t[s];if(a=a.trim(),a[a.length-1]==="/"&&(a=a.substring(0,a.length-1),s--),!J3e(a)){let d;return a.trim().length===0?d="Invalid space after '<'.":d="Tag '"+a+"' is an invalid name.",Pr("InvalidTag",d,ii(t,s))}let c=W3e(t,s);if(c===!1)return Pr("InvalidAttr","Attributes for '"+a+"' have open quote.",ii(t,s));let l=c.value;if(s=c.index,l[l.length-1]==="/"){let d=s-l.length;l=l.substring(0,l.length-1);let f=LU(l,e);if(f===!0)n=!0;else return Pr(f.err.code,f.err.msg,ii(t,d+f.err.line))}else if(u)if(c.tagClosed){if(l.trim().length>0)return Pr("InvalidTag","Closing tag '"+a+"' can't have attributes or invalid starting.",ii(t,o));{let d=r.pop();if(a!==d.tagName){let f=ii(t,d.tagStartPos);return Pr("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+a+"'.",ii(t,o))}r.length==0&&(i=!0)}}else return Pr("InvalidTag","Closing tag '"+a+"' doesn't have proper closing.",ii(t,s));else{let d=LU(l,e);if(d!==!0)return Pr(d.err.code,d.err.msg,ii(t,s-l.length+d.err.line));if(i===!0)return Pr("InvalidXml","Multiple possible root nodes found.",ii(t,s));e.unpairedTags.indexOf(a)!==-1||r.push({tagName:a,tagStartPos:o}),n=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=jU(t,s);continue}else if(t[s+1]==="?"){if(s=kU(t,++s),s.err)return s}else break;else if(t[s]==="&"){let d=K3e(t,s);if(d==-1)return Pr("InvalidChar","char '&' is not expected.",ii(t,s));s=d}else if(i===!0&&!$U(t[s]))return Pr("InvalidXml","Extra text at the end",ii(t,s));t[s]==="<"&&s--}}else{if($U(t[s]))continue;return Pr("InvalidChar","char '"+t[s]+"' is not expected.",ii(t,s))}if(n){if(r.length==1)return Pr("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",ii(t,r[0].tagStartPos));if(r.length>0)return Pr("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Pr("InvalidXml","Start tag expected.",1);return!0};function $U(t){return t===" "||t==="	"||t===`
`||t==="\r"}function kU(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let n=t.substr(r,e-r);if(e>5&&n==="xml")return Pr("InvalidXml","XML declaration allowed only at the start of the document.",ii(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function jU(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var z3e='"',V3e="'";function W3e(t,e){let r="",n="",i=!1;for(;e<t.length;e++){if(t[e]===z3e||t[e]===V3e)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){i=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:i}}var H3e=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function LU(t,e){let r=qI.getAllMatches(t,H3e),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return Pr("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",Wp(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return Pr("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",Wp(r[i]));if(r[i][3]===void 0&&!e.allowBooleanAttributes)return Pr("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",Wp(r[i]));let s=r[i][2];if(!Y3e(s))return Pr("InvalidAttr","Attribute '"+s+"' is an invalid name.",Wp(r[i]));if(!n.hasOwnProperty(s))n[s]=1;else return Pr("InvalidAttr","Attribute '"+s+"' is repeated.",Wp(r[i]))}return!0}function G3e(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function K3e(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,G3e(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function Pr(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function Y3e(t){return qI.isName(t)}function J3e(t){return qI.isName(t)}function ii(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Wp(t){return t.startIndex+t[1].length}});var VU=h(kI=>{var zU={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1},Q3e=function(t){return Object.assign({},zU,t)};kI.buildOptions=Q3e;kI.defaultOptions=zU});var HU=h((sit,WU)=>{"use strict";var jI=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){this.child.push({[e]:r})}addChild(e){e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,[":@"]:e[":@"]}):this.child.push({[e.tagname]:e.child})}};WU.exports=jI});var KU=h((oit,GU)=>{function X3e(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,i=!1,s=!1,o=!1,u="";for(;e<t.length;e++)if(t[e]==="<"){if(i&&t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y")e+=7,s=!0;else if(i&&t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T")e+=8;else if(i&&t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T")e+=8;else if(i&&t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N")e+=9;else if(t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-")o=!0;else throw new Error("Invalid DOCTYPE");n++,u=""}else if(t[e]===">"){if(o)if(t[e-1]==="-"&&t[e-2]==="-")o=!1;else throw new Error("Invalid XML comment in DOCTYPE");else s&&(eOe(u,r),s=!1);if(n--,n===0)break}else t[e]==="["?i=!0:u+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}var Z3e=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function eOe(t,e){let r=Z3e.exec(t);r&&(e[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}GU.exports=X3e});var JU=h((uit,YU)=>{var tOe=/^[-+]?0x[a-fA-F0-9]+$/,rOe=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var nOe={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function iOe(t,e={}){if(e=Object.assign({},nOe,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&tOe.test(r))return Number.parseInt(r,16);{let n=rOe.exec(r);if(n){let i=n[1],s=n[2],o=sOe(n[3]),u=n[4]||n[6];if(!e.leadingZeros&&s.length>0&&i&&r[2]!==".")return t;if(!e.leadingZeros&&s.length>0&&!i&&r[1]!==".")return t;{let a=Number(r),c=""+a;return c.search(/[eE]/)!==-1||u?e.eNotation?a:t:r.indexOf(".")!==-1?c==="0"&&o===""||c===o||i&&c==="-"+o?a:t:s?o===c||i+o===c?a:t:r===c||r===i+c?a:t}}else return t}}function sOe(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}YU.exports=iOe});var XU=h((cit,QU)=>{"use strict";var VI=BI(),Hp=HU(),oOe=KU(),uOe=JU(),ait="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,VI.nameRegexp),LI=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=aOe,this.parseXml=hOe,this.parseTextData=cOe,this.resolveNameSpace=lOe,this.buildAttributesMap=fOe,this.isItStopNode=yOe,this.replaceEntitiesValue=pOe,this.readStopNodeData=_Oe,this.saveTextToParentTag=mOe}};function aOe(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function cOe(t,e,r,n,i,s,o){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));let u=this.options.tagValueProcessor(e,t,r,i,s);return u==null?t:typeof u!=typeof t||u!==t?u:this.options.trimValues?zI(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?zI(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function lOe(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}var dOe=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function fOe(t,e){if(!this.options.ignoreAttributes&&typeof t=="string"){let r=VI.getAllMatches(t,dOe),n=r.length,i={};for(let s=0;s<n;s++){let o=this.resolveNameSpace(r[s][1]),u=r[s][4],a=this.options.attributeNamePrefix+o;if(o.length)if(u!==void 0){this.options.trimValues&&(u=u.trim()),u=this.replaceEntitiesValue(u);let c=this.options.attributeValueProcessor(o,u,e);c==null?i[a]=u:typeof c!=typeof u||c!==u?i[a]=c:i[a]=zI(u,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[a]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=i,s}return i}}var hOe=function(t){t=t.replace(/\r\n?/g,`
`);let e=new Hp("!xml"),r=e,n="",i="";for(let s=0;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="/"){let u=gl(t,">",s,"Closing Tag is not closed."),a=t.substring(s+2,u).trim();if(this.options.removeNSPrefix){let c=a.indexOf(":");c!==-1&&(a=a.substr(c+1))}this.options.transformTagName&&(a=this.options.transformTagName(a)),r&&(n=this.saveTextToParentTag(n,r,i)),i=i.substr(0,i.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",s=u}else if(t[s+1]==="?"){let u=UI(t,s,!1,"?>");if(!u)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&u.tagName==="?xml"||this.options.ignorePiTags)){let a=new Hp(u.tagName);a.add(this.options.textNodeName,""),u.tagName!==u.tagExp&&u.attrExpPresent&&(a[":@"]=this.buildAttributesMap(u.tagExp,i)),r.addChild(a)}s=u.closeIndex+1}else if(t.substr(s+1,3)==="!--"){let u=gl(t,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let a=t.substring(s+4,u-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:a}])}s=u}else if(t.substr(s+1,2)==="!D"){let u=oOe(t,s);this.docTypeEntities=u.entities,s=u.i}else if(t.substr(s+1,2)==="!["){let u=gl(t,"]]>",s,"CDATA is not closed.")-2,a=t.substring(s+9,u);if(n=this.saveTextToParentTag(n,r,i),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:a}]);else{let c=this.parseTextData(a,r.tagname,i,!0,!1,!0);c==null&&(c=""),r.add(this.options.textNodeName,c)}s=u+2}else{let u=UI(t,s,this.options.removeNSPrefix),a=u.tagName,c=u.tagExp,l=u.attrExpPresent,d=u.closeIndex;this.options.transformTagName&&(a=this.options.transformTagName(a)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1)),a!==e.tagname&&(i+=i?"."+a:a);let f=r;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,i,a)){let p="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)s=u.closeIndex;else if(this.options.unpairedTags.indexOf(a)!==-1)s=u.closeIndex;else{let y=this.readStopNodeData(t,a,d+1);if(!y)throw new Error(`Unexpected end of ${a}`);s=y.i,p=y.tagContent}let m=new Hp(a);a!==c&&l&&(m[":@"]=this.buildAttributesMap(c,i)),p&&(p=this.parseTextData(p,a,i,!0,l,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),m.add(this.options.textNodeName,p),r.addChild(m)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){a[a.length-1]==="/"?(a=a.substr(0,a.length-1),c=a):c=c.substr(0,c.length-1),this.options.transformTagName&&(a=this.options.transformTagName(a));let p=new Hp(a);a!==c&&l&&(p[":@"]=this.buildAttributesMap(c,i)),i=i.substr(0,i.lastIndexOf(".")),r.addChild(p)}else{let p=new Hp(a);this.tagsNodeStack.push(r),a!==c&&l&&(p[":@"]=this.buildAttributesMap(c,i)),r.addChild(p),r=p}n="",s=d}}else n+=t[s];return e.child},pOe=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function mOe(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function yOe(t,e,r){let n="*."+r;for(let i in t){let s=t[i];if(n===s||e===s)return!0}return!1}function gOe(t,e,r=">"){let n,i="";for(let s=e;s<t.length;s++){let o=t[s];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(t[s+1]===r[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function gl(t,e,r,n){let i=t.indexOf(e,r);if(i===-1)throw new Error(n);return i+e.length-1}function UI(t,e,r,n=">"){let i=gOe(t,e+1,n);if(!i)return;let s=i.data,o=i.index,u=s.search(/\s/),a=s,c=!0;if(u!==-1&&(a=s.substr(0,u).replace(/\s\s*$/,""),s=s.substr(u+1)),r){let l=a.indexOf(":");l!==-1&&(a=a.substr(l+1),c=a!==i.data.substr(l+1))}return{tagName:a,tagExp:s,closeIndex:o,attrExpPresent:c}}function _Oe(t,e,r){let n=r,i=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let s=gl(t,">",r,`${e} is not closed`);if(t.substring(r+2,s).trim()===e&&(i--,i===0))return{tagContent:t.substring(n,r),i:s};r=s}else if(t[r+1]==="?")r=gl(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=gl(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=gl(t,"]]>",r,"StopNode is not closed.")-2;else{let s=UI(t,r,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,r=s.closeIndex)}}function zI(t,e,r){if(e&&typeof t=="string"){let n=t.trim();return n==="true"?!0:n==="false"?!1:uOe(t,r)}else return VI.isExist(t)?t:""}QU.exports=LI});var tz=h(ez=>{"use strict";function EOe(t,e){return ZU(t,e)}function ZU(t,e,r){let n,i={};for(let s=0;s<t.length;s++){let o=t[s],u=AOe(o),a="";if(r===void 0?a=u:a=r+"."+u,u===e.textNodeName)n===void 0?n=o[u]:n+=""+o[u];else{if(u===void 0)continue;if(o[u]){let c=ZU(o[u],e,a),l=wOe(c,e);o[":@"]?SOe(c,o[":@"],a,e):Object.keys(c).length===1&&c[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?c=c[e.textNodeName]:Object.keys(c).length===0&&(e.alwaysCreateTextNode?c[e.textNodeName]="":c=""),i[u]!==void 0&&i.hasOwnProperty(u)?(Array.isArray(i[u])||(i[u]=[i[u]]),i[u].push(c)):e.isArray(u,a,l)?i[u]=[c]:i[u]=c}}}return typeof n=="string"?n.length>0&&(i[e.textNodeName]=n):n!==void 0&&(i[e.textNodeName]=n),i}function AOe(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function SOe(t,e,r,n){if(e){let i=Object.keys(e),s=i.length;for(let o=0;o<s;o++){let u=i[o];n.isArray(u,r+"."+u,!0,!0)?t[u]=[e[u]]:t[u]=e[u]}}}function wOe(t,e){let r=Object.keys(t).length;return!!(r===0||r===1&&t[e.textNodeName])}ez.prettify=EOe});var nz=h((dit,rz)=>{var{buildOptions:OOe}=VU(),COe=XU(),{prettify:vOe}=tz(),bOe=$I(),WI=class{constructor(e){this.externalEntities={},this.options=OOe(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=bOe.validate(e,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new COe(this.options);n.addExternalEntities(this.externalEntities);let i=n.parseXml(e);return this.options.preserveOrder||i===void 0?i:vOe(i,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};rz.exports=WI});var az=h((fit,uz)=>{var IOe=`
`;function POe(t,e){return sz(t,e,"",0)}function sz(t,e,r,n){let i="",s="";e.format&&e.indentBy.length>0&&(s=IOe+""+e.indentBy.repeat(n));for(let o=0;o<t.length;o++){let u=t[o],a=TOe(u),c="";if(r.length===0?c=a:c=`${r}.${a}`,a===e.textNodeName){let p=u[a];DOe(c,e)||(p=e.tagValueProcessor(a,p),p=oz(p,e)),i+=s+p;continue}else if(a===e.cdataPropName){i+=s+`<![CDATA[${u[a][0][e.textNodeName]}]]>`;continue}else if(a===e.commentPropName){i+=s+`<!--${u[a][0][e.textNodeName]}-->`;continue}else if(a[0]==="?"){let p=iz(u[":@"],e),m=a==="?xml"?"":s,y=u[a][0][e.textNodeName];y=y.length!==0?" "+y:"",i+=m+`<${a}${y}${p}?>`;continue}let l=iz(u[":@"],e),d=s+`<${a}${l}`,f=sz(u[a],e,c,n+1);e.unpairedTags.indexOf(a)!==-1?e.suppressUnpairedNode?i+=d+">":i+=d+"/>":(!f||f.length===0)&&e.suppressEmptyNode?i+=d+"/>":i+=d+`>${f}${s}</${a}>`}return i}function TOe(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function iz(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){let i=e.attributeValueProcessor(n,t[n]);i=oz(i,e),i===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${i}"`}return r}function DOe(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function oz(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){let n=e.entities[r];t=t.replace(n.regex,n.val)}return t}uz.exports=POe});var fz=h((hit,dz)=>{"use strict";var ROe=az(),NOe={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],transformTagName:!1};function HI(t){this.options=Object.assign({},NOe,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=kOe),this.processTextOrObjNode=MOe,this.options.format?(this.indentate=$Oe,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.suppressEmptyNode?(this.buildTextNode=qOe,this.buildObjNode=FOe):(this.buildTextNode=lz,this.buildObjNode=cz),this.buildTextValNode=lz,this.buildObjectNode=cz,this.replaceEntitiesValue=BOe,this.buildAttrPairStr=xOe}HI.prototype.build=function(t){return this.options.preserveOrder?ROe(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};HI.prototype.j2x=function(t,e){let r="",n="";for(let i in t)if(!(typeof t[i]>"u"))if(t[i]===null)i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)n+=this.buildTextNode(t[i],i,"",e);else if(typeof t[i]!="object"){let s=this.isAttribute(i);if(s)r+=this.buildAttrPairStr(s,""+t[i]);else if(i===this.options.textNodeName){let o=this.options.tagValueProcessor(i,""+t[i]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextNode(t[i],i,"",e)}else if(Array.isArray(t[i])){let s=t[i].length;for(let o=0;o<s;o++){let u=t[i][o];typeof u>"u"||(u===null?i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar:typeof u=="object"?n+=this.processTextOrObjNode(u,i,e):n+=this.buildTextNode(u,i,"",e))}}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let s=Object.keys(t[i]),o=s.length;for(let u=0;u<o;u++)r+=this.buildAttrPairStr(s[u],""+t[i][s[u]])}else n+=this.processTextOrObjNode(t[i],i,e);return{attrStr:r,val:n}};function xOe(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'}function MOe(t,e,r){let n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjNode(n.val,e,n.attrStr,r)}function cz(t,e,r,n){let i="</"+e+this.tagEndChar,s="";return e[0]==="?"&&(s="?",i=""),r&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+s+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+s+this.tagEndChar+t+this.indentate(n)+i}function FOe(t,e,r,n){return t!==""?this.buildObjectNode(t,e,r,n):e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+"/"+this.tagEndChar}function lz(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""&&this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode?this.indentate(n)+"<"+e+this.tagEndChar:this.indentate(n)+"<"+e+"/"+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+i+"</"+e+this.tagEndChar}}function BOe(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t}function qOe(t,e,r,n){return t===""&&this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode?this.indentate(n)+"<"+e+this.tagEndChar:this.indentate(n)+"<"+e+"/"+this.tagEndChar:t!==""?this.buildTextValNode(t,e,r,n):e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+"/"+this.tagEndChar}function $Oe(t){return this.options.indentBy.repeat(t)}function kOe(t){return t.startsWith(this.options.attributeNamePrefix)?t.substr(this.attrPrefixLen):!1}dz.exports=HI});var pz=h((pit,hz)=>{"use strict";var jOe=$I(),LOe=nz(),UOe=fz();hz.exports={XMLParser:LOe,XMLValidator:jOe,XMLBuilder:UOe}});var bu=h(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.deserializeAws_queryGetSessionTokenCommand=et.deserializeAws_queryGetFederationTokenCommand=et.deserializeAws_queryGetCallerIdentityCommand=et.deserializeAws_queryGetAccessKeyInfoCommand=et.deserializeAws_queryDecodeAuthorizationMessageCommand=et.deserializeAws_queryAssumeRoleWithWebIdentityCommand=et.deserializeAws_queryAssumeRoleWithSAMLCommand=et.deserializeAws_queryAssumeRoleCommand=et.serializeAws_queryGetSessionTokenCommand=et.serializeAws_queryGetFederationTokenCommand=et.serializeAws_queryGetCallerIdentityCommand=et.serializeAws_queryGetAccessKeyInfoCommand=et.serializeAws_queryDecodeAuthorizationMessageCommand=et.serializeAws_queryAssumeRoleWithWebIdentityCommand=et.serializeAws_queryAssumeRoleWithSAMLCommand=et.serializeAws_queryAssumeRoleCommand=void 0;var zOe=Bn(),fe=ae(),VOe=pz(),La=Ls(),Ua=SS(),WOe=async(t,e)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Wa({...g6e(t,e),Action:"AssumeRole",Version:"2011-06-15"}),za(e,r,"/",void 0,n)};et.serializeAws_queryAssumeRoleCommand=WOe;var HOe=async(t,e)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Wa({..._6e(t,e),Action:"AssumeRoleWithSAML",Version:"2011-06-15"}),za(e,r,"/",void 0,n)};et.serializeAws_queryAssumeRoleWithSAMLCommand=HOe;var GOe=async(t,e)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Wa({...E6e(t,e),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),za(e,r,"/",void 0,n)};et.serializeAws_queryAssumeRoleWithWebIdentityCommand=GOe;var KOe=async(t,e)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Wa({...A6e(t,e),Action:"DecodeAuthorizationMessage",Version:"2011-06-15"}),za(e,r,"/",void 0,n)};et.serializeAws_queryDecodeAuthorizationMessageCommand=KOe;var YOe=async(t,e)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Wa({...S6e(t,e),Action:"GetAccessKeyInfo",Version:"2011-06-15"}),za(e,r,"/",void 0,n)};et.serializeAws_queryGetAccessKeyInfoCommand=YOe;var JOe=async(t,e)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Wa({...w6e(t,e),Action:"GetCallerIdentity",Version:"2011-06-15"}),za(e,r,"/",void 0,n)};et.serializeAws_queryGetCallerIdentityCommand=JOe;var QOe=async(t,e)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Wa({...O6e(t,e),Action:"GetFederationToken",Version:"2011-06-15"}),za(e,r,"/",void 0,n)};et.serializeAws_queryGetFederationTokenCommand=QOe;var XOe=async(t,e)=>{let r={"content-type":"application/x-www-form-urlencoded"},n;return n=Wa({...C6e(t,e),Action:"GetSessionToken",Version:"2011-06-15"}),za(e,r,"/",void 0,n)};et.serializeAws_queryGetSessionTokenCommand=XOe;var ZOe=async(t,e)=>{if(t.statusCode>=300)return e6e(t,e);let r=await vu(t.body,e),n={};n=P6e(r.AssumeRoleResult,e);let i={$metadata:On(t),...n};return Promise.resolve(i)};et.deserializeAws_queryAssumeRoleCommand=ZOe;var e6e=async(t,e)=>{let r={...t,body:await Va(t.body,e)},n=Ha(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await GI(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await wS(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await OS(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Gp(r,e);default:let i=r.body;(0,fe.throwDefaultError)({output:t,parsedBody:i.Error,exceptionCtor:Ua.STSServiceException,errorCode:n})}},t6e=async(t,e)=>{if(t.statusCode>=300)return r6e(t,e);let r=await vu(t.body,e),n={};n=T6e(r.AssumeRoleWithSAMLResult,e);let i={$metadata:On(t),...n};return Promise.resolve(i)};et.deserializeAws_queryAssumeRoleWithSAMLCommand=t6e;var r6e=async(t,e)=>{let r={...t,body:await Va(t.body,e)},n=Ha(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await GI(r,e);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await mz(r,e);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await yz(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await wS(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await OS(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Gp(r,e);default:let i=r.body;(0,fe.throwDefaultError)({output:t,parsedBody:i.Error,exceptionCtor:Ua.STSServiceException,errorCode:n})}},n6e=async(t,e)=>{if(t.statusCode>=300)return i6e(t,e);let r=await vu(t.body,e),n={};n=D6e(r.AssumeRoleWithWebIdentityResult,e);let i={$metadata:On(t),...n};return Promise.resolve(i)};et.deserializeAws_queryAssumeRoleWithWebIdentityCommand=n6e;var i6e=async(t,e)=>{let r={...t,body:await Va(t.body,e)},n=Ha(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await GI(r,e);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await m6e(r,e);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await mz(r,e);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await yz(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await wS(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await OS(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Gp(r,e);default:let i=r.body;(0,fe.throwDefaultError)({output:t,parsedBody:i.Error,exceptionCtor:Ua.STSServiceException,errorCode:n})}},s6e=async(t,e)=>{if(t.statusCode>=300)return o6e(t,e);let r=await vu(t.body,e),n={};n=R6e(r.DecodeAuthorizationMessageResult,e);let i={$metadata:On(t),...n};return Promise.resolve(i)};et.deserializeAws_queryDecodeAuthorizationMessageCommand=s6e;var o6e=async(t,e)=>{let r={...t,body:await Va(t.body,e)},n=Ha(t,r.body);switch(n){case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await y6e(r,e);default:let i=r.body;(0,fe.throwDefaultError)({output:t,parsedBody:i.Error,exceptionCtor:Ua.STSServiceException,errorCode:n})}},u6e=async(t,e)=>{if(t.statusCode>=300)return a6e(t,e);let r=await vu(t.body,e),n={};n=M6e(r.GetAccessKeyInfoResult,e);let i={$metadata:On(t),...n};return Promise.resolve(i)};et.deserializeAws_queryGetAccessKeyInfoCommand=u6e;var a6e=async(t,e)=>{let r={...t,body:await Va(t.body,e)},n=Ha(t,r.body),i=r.body;(0,fe.throwDefaultError)({output:t,parsedBody:i.Error,exceptionCtor:Ua.STSServiceException,errorCode:n})},c6e=async(t,e)=>{if(t.statusCode>=300)return l6e(t,e);let r=await vu(t.body,e),n={};n=F6e(r.GetCallerIdentityResult,e);let i={$metadata:On(t),...n};return Promise.resolve(i)};et.deserializeAws_queryGetCallerIdentityCommand=c6e;var l6e=async(t,e)=>{let r={...t,body:await Va(t.body,e)},n=Ha(t,r.body),i=r.body;(0,fe.throwDefaultError)({output:t,parsedBody:i.Error,exceptionCtor:Ua.STSServiceException,errorCode:n})},d6e=async(t,e)=>{if(t.statusCode>=300)return f6e(t,e);let r=await vu(t.body,e),n={};n=B6e(r.GetFederationTokenResult,e);let i={$metadata:On(t),...n};return Promise.resolve(i)};et.deserializeAws_queryGetFederationTokenCommand=d6e;var f6e=async(t,e)=>{let r={...t,body:await Va(t.body,e)},n=Ha(t,r.body);switch(n){case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await wS(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await OS(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Gp(r,e);default:let i=r.body;(0,fe.throwDefaultError)({output:t,parsedBody:i.Error,exceptionCtor:Ua.STSServiceException,errorCode:n})}},h6e=async(t,e)=>{if(t.statusCode>=300)return p6e(t,e);let r=await vu(t.body,e),n={};n=q6e(r.GetSessionTokenResult,e);let i={$metadata:On(t),...n};return Promise.resolve(i)};et.deserializeAws_queryGetSessionTokenCommand=h6e;var p6e=async(t,e)=>{let r={...t,body:await Va(t.body,e)},n=Ha(t,r.body);switch(n){case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Gp(r,e);default:let i=r.body;(0,fe.throwDefaultError)({output:t,parsedBody:i.Error,exceptionCtor:Ua.STSServiceException,errorCode:n})}},GI=async(t,e)=>{let r=t.body,n=N6e(r.Error,e),i=new La.ExpiredTokenException({$metadata:On(t),...n});return(0,fe.decorateServiceException)(i,r)},m6e=async(t,e)=>{let r=t.body,n=$6e(r.Error,e),i=new La.IDPCommunicationErrorException({$metadata:On(t),...n});return(0,fe.decorateServiceException)(i,r)},mz=async(t,e)=>{let r=t.body,n=k6e(r.Error,e),i=new La.IDPRejectedClaimException({$metadata:On(t),...n});return(0,fe.decorateServiceException)(i,r)},y6e=async(t,e)=>{let r=t.body,n=j6e(r.Error,e),i=new La.InvalidAuthorizationMessageException({$metadata:On(t),...n});return(0,fe.decorateServiceException)(i,r)},yz=async(t,e)=>{let r=t.body,n=L6e(r.Error,e),i=new La.InvalidIdentityTokenException({$metadata:On(t),...n});return(0,fe.decorateServiceException)(i,r)},wS=async(t,e)=>{let r=t.body,n=U6e(r.Error,e),i=new La.MalformedPolicyDocumentException({$metadata:On(t),...n});return(0,fe.decorateServiceException)(i,r)},OS=async(t,e)=>{let r=t.body,n=z6e(r.Error,e),i=new La.PackedPolicyTooLargeException({$metadata:On(t),...n});return(0,fe.decorateServiceException)(i,r)},Gp=async(t,e)=>{let r=t.body,n=V6e(r.Error,e),i=new La.RegionDisabledException({$metadata:On(t),...n});return(0,fe.decorateServiceException)(i,r)},g6e=(t,e)=>{let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.RoleSessionName!=null&&(r.RoleSessionName=t.RoleSessionName),t.PolicyArns!=null){let n=CS(t.PolicyArns,e);t.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,s])=>{let o=`PolicyArns.${i}`;r[o]=s})}if(t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),t.Tags!=null){let n=gz(t.Tags,e);t.Tags?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([i,s])=>{let o=`Tags.${i}`;r[o]=s})}if(t.TransitiveTagKeys!=null){let n=I6e(t.TransitiveTagKeys,e);t.TransitiveTagKeys?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([i,s])=>{let o=`TransitiveTagKeys.${i}`;r[o]=s})}return t.ExternalId!=null&&(r.ExternalId=t.ExternalId),t.SerialNumber!=null&&(r.SerialNumber=t.SerialNumber),t.TokenCode!=null&&(r.TokenCode=t.TokenCode),t.SourceIdentity!=null&&(r.SourceIdentity=t.SourceIdentity),r},_6e=(t,e)=>{let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.PrincipalArn!=null&&(r.PrincipalArn=t.PrincipalArn),t.SAMLAssertion!=null&&(r.SAMLAssertion=t.SAMLAssertion),t.PolicyArns!=null){let n=CS(t.PolicyArns,e);t.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,s])=>{let o=`PolicyArns.${i}`;r[o]=s})}return t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),r},E6e=(t,e)=>{let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.RoleSessionName!=null&&(r.RoleSessionName=t.RoleSessionName),t.WebIdentityToken!=null&&(r.WebIdentityToken=t.WebIdentityToken),t.ProviderId!=null&&(r.ProviderId=t.ProviderId),t.PolicyArns!=null){let n=CS(t.PolicyArns,e);t.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,s])=>{let o=`PolicyArns.${i}`;r[o]=s})}return t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),r},A6e=(t,e)=>{let r={};return t.EncodedMessage!=null&&(r.EncodedMessage=t.EncodedMessage),r},S6e=(t,e)=>{let r={};return t.AccessKeyId!=null&&(r.AccessKeyId=t.AccessKeyId),r},w6e=(t,e)=>({}),O6e=(t,e)=>{let r={};if(t.Name!=null&&(r.Name=t.Name),t.Policy!=null&&(r.Policy=t.Policy),t.PolicyArns!=null){let n=CS(t.PolicyArns,e);t.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,s])=>{let o=`PolicyArns.${i}`;r[o]=s})}if(t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),t.Tags!=null){let n=gz(t.Tags,e);t.Tags?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([i,s])=>{let o=`Tags.${i}`;r[o]=s})}return r},C6e=(t,e)=>{let r={};return t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),t.SerialNumber!=null&&(r.SerialNumber=t.SerialNumber),t.TokenCode!=null&&(r.TokenCode=t.TokenCode),r},CS=(t,e)=>{let r={},n=1;for(let i of t){if(i===null)continue;let s=v6e(i,e);Object.entries(s).forEach(([o,u])=>{r[`member.${n}.${o}`]=u}),n++}return r},v6e=(t,e)=>{let r={};return t.arn!=null&&(r.arn=t.arn),r},b6e=(t,e)=>{let r={};return t.Key!=null&&(r.Key=t.Key),t.Value!=null&&(r.Value=t.Value),r},I6e=(t,e)=>{let r={},n=1;for(let i of t)i!==null&&(r[`member.${n}`]=i,n++);return r},gz=(t,e)=>{let r={},n=1;for(let i of t){if(i===null)continue;let s=b6e(i,e);Object.entries(s).forEach(([o,u])=>{r[`member.${n}.${o}`]=u}),n++}return r},KI=(t,e)=>{let r={AssumedRoleId:void 0,Arn:void 0};return t.AssumedRoleId!==void 0&&(r.AssumedRoleId=(0,fe.expectString)(t.AssumedRoleId)),t.Arn!==void 0&&(r.Arn=(0,fe.expectString)(t.Arn)),r},P6e=(t,e)=>{let r={Credentials:void 0,AssumedRoleUser:void 0,PackedPolicySize:void 0,SourceIdentity:void 0};return t.Credentials!==void 0&&(r.Credentials=Kp(t.Credentials,e)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=KI(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,fe.strictParseInt32)(t.PackedPolicySize)),t.SourceIdentity!==void 0&&(r.SourceIdentity=(0,fe.expectString)(t.SourceIdentity)),r},T6e=(t,e)=>{let r={Credentials:void 0,AssumedRoleUser:void 0,PackedPolicySize:void 0,Subject:void 0,SubjectType:void 0,Issuer:void 0,Audience:void 0,NameQualifier:void 0,SourceIdentity:void 0};return t.Credentials!==void 0&&(r.Credentials=Kp(t.Credentials,e)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=KI(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,fe.strictParseInt32)(t.PackedPolicySize)),t.Subject!==void 0&&(r.Subject=(0,fe.expectString)(t.Subject)),t.SubjectType!==void 0&&(r.SubjectType=(0,fe.expectString)(t.SubjectType)),t.Issuer!==void 0&&(r.Issuer=(0,fe.expectString)(t.Issuer)),t.Audience!==void 0&&(r.Audience=(0,fe.expectString)(t.Audience)),t.NameQualifier!==void 0&&(r.NameQualifier=(0,fe.expectString)(t.NameQualifier)),t.SourceIdentity!==void 0&&(r.SourceIdentity=(0,fe.expectString)(t.SourceIdentity)),r},D6e=(t,e)=>{let r={Credentials:void 0,SubjectFromWebIdentityToken:void 0,AssumedRoleUser:void 0,PackedPolicySize:void 0,Provider:void 0,Audience:void 0,SourceIdentity:void 0};return t.Credentials!==void 0&&(r.Credentials=Kp(t.Credentials,e)),t.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=(0,fe.expectString)(t.SubjectFromWebIdentityToken)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=KI(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,fe.strictParseInt32)(t.PackedPolicySize)),t.Provider!==void 0&&(r.Provider=(0,fe.expectString)(t.Provider)),t.Audience!==void 0&&(r.Audience=(0,fe.expectString)(t.Audience)),t.SourceIdentity!==void 0&&(r.SourceIdentity=(0,fe.expectString)(t.SourceIdentity)),r},Kp=(t,e)=>{let r={AccessKeyId:void 0,SecretAccessKey:void 0,SessionToken:void 0,Expiration:void 0};return t.AccessKeyId!==void 0&&(r.AccessKeyId=(0,fe.expectString)(t.AccessKeyId)),t.SecretAccessKey!==void 0&&(r.SecretAccessKey=(0,fe.expectString)(t.SecretAccessKey)),t.SessionToken!==void 0&&(r.SessionToken=(0,fe.expectString)(t.SessionToken)),t.Expiration!==void 0&&(r.Expiration=(0,fe.expectNonNull)((0,fe.parseRfc3339DateTimeWithOffset)(t.Expiration))),r},R6e=(t,e)=>{let r={DecodedMessage:void 0};return t.DecodedMessage!==void 0&&(r.DecodedMessage=(0,fe.expectString)(t.DecodedMessage)),r},N6e=(t,e)=>{let r={message:void 0};return t.message!==void 0&&(r.message=(0,fe.expectString)(t.message)),r},x6e=(t,e)=>{let r={FederatedUserId:void 0,Arn:void 0};return t.FederatedUserId!==void 0&&(r.FederatedUserId=(0,fe.expectString)(t.FederatedUserId)),t.Arn!==void 0&&(r.Arn=(0,fe.expectString)(t.Arn)),r},M6e=(t,e)=>{let r={Account:void 0};return t.Account!==void 0&&(r.Account=(0,fe.expectString)(t.Account)),r},F6e=(t,e)=>{let r={UserId:void 0,Account:void 0,Arn:void 0};return t.UserId!==void 0&&(r.UserId=(0,fe.expectString)(t.UserId)),t.Account!==void 0&&(r.Account=(0,fe.expectString)(t.Account)),t.Arn!==void 0&&(r.Arn=(0,fe.expectString)(t.Arn)),r},B6e=(t,e)=>{let r={Credentials:void 0,FederatedUser:void 0,PackedPolicySize:void 0};return t.Credentials!==void 0&&(r.Credentials=Kp(t.Credentials,e)),t.FederatedUser!==void 0&&(r.FederatedUser=x6e(t.FederatedUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,fe.strictParseInt32)(t.PackedPolicySize)),r},q6e=(t,e)=>{let r={Credentials:void 0};return t.Credentials!==void 0&&(r.Credentials=Kp(t.Credentials,e)),r},$6e=(t,e)=>{let r={message:void 0};return t.message!==void 0&&(r.message=(0,fe.expectString)(t.message)),r},k6e=(t,e)=>{let r={message:void 0};return t.message!==void 0&&(r.message=(0,fe.expectString)(t.message)),r},j6e=(t,e)=>{let r={message:void 0};return t.message!==void 0&&(r.message=(0,fe.expectString)(t.message)),r},L6e=(t,e)=>{let r={message:void 0};return t.message!==void 0&&(r.message=(0,fe.expectString)(t.message)),r},U6e=(t,e)=>{let r={message:void 0};return t.message!==void 0&&(r.message=(0,fe.expectString)(t.message)),r},z6e=(t,e)=>{let r={message:void 0};return t.message!==void 0&&(r.message=(0,fe.expectString)(t.message)),r},V6e=(t,e)=>{let r={message:void 0};return t.message!==void 0&&(r.message=(0,fe.expectString)(t.message)),r},On=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),W6e=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),H6e=(t,e)=>W6e(t,e).then(r=>e.utf8Encoder(r)),za=async(t,e,r,n,i)=>{let{hostname:s,protocol:o="https",port:u,path:a}=await t.endpoint(),c={protocol:o,hostname:s,port:u,method:"POST",path:a.endsWith("/")?a.slice(0,-1)+r:a+r,headers:e};return n!==void 0&&(c.hostname=n),i!==void 0&&(c.body=i),new zOe.HttpRequest(c)},vu=(t,e)=>H6e(t,e).then(r=>{if(r.length){let n=new VOe.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let i=n.parse(r),s="#text",o=Object.keys(i)[0],u=i[o];return u[s]&&(u[o]=u[s],delete u[s]),(0,fe.getValueFromTextNode)(u)}return{}}),Va=async(t,e)=>{let r=await vu(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Wa=t=>Object.entries(t).map(([e,r])=>(0,fe.extendedEncodeURIComponent)(e)+"="+(0,fe.extendedEncodeURIComponent)(r)).join("&"),Ha=(t,e)=>{if(e.Error?.Code!==void 0)return e.Error.Code;if(t.statusCode==404)return"NotFound"}});var bS=h(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});vS.AssumeRoleCommand=void 0;var G6e=be(),K6e=Le(),Y6e=Ct(),J6e=ae(),_z=Ls(),Ez=bu(),Yp=class extends J6e.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,K6e.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,G6e.getEndpointPlugin)(r,Yp.getEndpointParameterInstructions())),this.middlewareStack.use((0,Y6e.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:_z.AssumeRoleRequestFilterSensitiveLog,outputFilterSensitiveLog:_z.AssumeRoleResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,Ez.serializeAws_queryAssumeRoleCommand)(e,r)}deserialize(e,r){return(0,Ez.deserializeAws_queryAssumeRoleCommand)(e,r)}};vS.AssumeRoleCommand=Yp});var YI=h(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});IS.AssumeRoleWithSAMLCommand=void 0;var Q6e=be(),X6e=Le(),Z6e=ae(),Az=Ls(),Sz=bu(),Jp=class extends Z6e.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,X6e.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Q6e.getEndpointPlugin)(r,Jp.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithSAMLCommand",inputFilterSensitiveLog:Az.AssumeRoleWithSAMLRequestFilterSensitiveLog,outputFilterSensitiveLog:Az.AssumeRoleWithSAMLResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,Sz.serializeAws_queryAssumeRoleWithSAMLCommand)(e,r)}deserialize(e,r){return(0,Sz.deserializeAws_queryAssumeRoleWithSAMLCommand)(e,r)}};IS.AssumeRoleWithSAMLCommand=Jp});var TS=h(PS=>{"use strict";Object.defineProperty(PS,"__esModule",{value:!0});PS.AssumeRoleWithWebIdentityCommand=void 0;var eCe=be(),tCe=Le(),rCe=ae(),wz=Ls(),Oz=bu(),Qp=class extends rCe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,tCe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,eCe.getEndpointPlugin)(r,Qp.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:wz.AssumeRoleWithWebIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:wz.AssumeRoleWithWebIdentityResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,Oz.serializeAws_queryAssumeRoleWithWebIdentityCommand)(e,r)}deserialize(e,r){return(0,Oz.deserializeAws_queryAssumeRoleWithWebIdentityCommand)(e,r)}};PS.AssumeRoleWithWebIdentityCommand=Qp});var JI=h(DS=>{"use strict";Object.defineProperty(DS,"__esModule",{value:!0});DS.DecodeAuthorizationMessageCommand=void 0;var nCe=be(),iCe=Le(),sCe=Ct(),oCe=ae(),Cz=Ls(),vz=bu(),Xp=class extends oCe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,iCe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,nCe.getEndpointPlugin)(r,Xp.getEndpointParameterInstructions())),this.middlewareStack.use((0,sCe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"STSClient",commandName:"DecodeAuthorizationMessageCommand",inputFilterSensitiveLog:Cz.DecodeAuthorizationMessageRequestFilterSensitiveLog,outputFilterSensitiveLog:Cz.DecodeAuthorizationMessageResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,vz.serializeAws_queryDecodeAuthorizationMessageCommand)(e,r)}deserialize(e,r){return(0,vz.deserializeAws_queryDecodeAuthorizationMessageCommand)(e,r)}};DS.DecodeAuthorizationMessageCommand=Xp});var QI=h(RS=>{"use strict";Object.defineProperty(RS,"__esModule",{value:!0});RS.GetAccessKeyInfoCommand=void 0;var uCe=be(),aCe=Le(),cCe=Ct(),lCe=ae(),bz=Ls(),Iz=bu(),Zp=class extends lCe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,aCe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,uCe.getEndpointPlugin)(r,Zp.getEndpointParameterInstructions())),this.middlewareStack.use((0,cCe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"STSClient",commandName:"GetAccessKeyInfoCommand",inputFilterSensitiveLog:bz.GetAccessKeyInfoRequestFilterSensitiveLog,outputFilterSensitiveLog:bz.GetAccessKeyInfoResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,Iz.serializeAws_queryGetAccessKeyInfoCommand)(e,r)}deserialize(e,r){return(0,Iz.deserializeAws_queryGetAccessKeyInfoCommand)(e,r)}};RS.GetAccessKeyInfoCommand=Zp});var XI=h(NS=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0});NS.GetCallerIdentityCommand=void 0;var dCe=be(),fCe=Le(),hCe=Ct(),pCe=ae(),Pz=Ls(),Tz=bu(),e0=class extends pCe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,fCe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,dCe.getEndpointPlugin)(r,e0.getEndpointParameterInstructions())),this.middlewareStack.use((0,hCe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"STSClient",commandName:"GetCallerIdentityCommand",inputFilterSensitiveLog:Pz.GetCallerIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:Pz.GetCallerIdentityResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,Tz.serializeAws_queryGetCallerIdentityCommand)(e,r)}deserialize(e,r){return(0,Tz.deserializeAws_queryGetCallerIdentityCommand)(e,r)}};NS.GetCallerIdentityCommand=e0});var ZI=h(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});xS.GetFederationTokenCommand=void 0;var mCe=be(),yCe=Le(),gCe=Ct(),_Ce=ae(),Dz=Ls(),Rz=bu(),t0=class extends _Ce.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,yCe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,mCe.getEndpointPlugin)(r,t0.getEndpointParameterInstructions())),this.middlewareStack.use((0,gCe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"STSClient",commandName:"GetFederationTokenCommand",inputFilterSensitiveLog:Dz.GetFederationTokenRequestFilterSensitiveLog,outputFilterSensitiveLog:Dz.GetFederationTokenResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,Rz.serializeAws_queryGetFederationTokenCommand)(e,r)}deserialize(e,r){return(0,Rz.deserializeAws_queryGetFederationTokenCommand)(e,r)}};xS.GetFederationTokenCommand=t0});var e5=h(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});MS.GetSessionTokenCommand=void 0;var ECe=be(),ACe=Le(),SCe=Ct(),wCe=ae(),Nz=Ls(),xz=bu(),r0=class extends wCe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,ACe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,ECe.getEndpointPlugin)(r,r0.getEndpointParameterInstructions())),this.middlewareStack.use((0,SCe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"STSClient",commandName:"GetSessionTokenCommand",inputFilterSensitiveLog:Nz.GetSessionTokenRequestFilterSensitiveLog,outputFilterSensitiveLog:Nz.GetSessionTokenResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,xz.serializeAws_queryGetSessionTokenCommand)(e,r)}deserialize(e,r){return(0,xz.deserializeAws_queryGetSessionTokenCommand)(e,r)}};MS.GetSessionTokenCommand=r0});var Mz=h(FS=>{"use strict";Object.defineProperty(FS,"__esModule",{value:!0});FS.resolveStsAuthConfig=void 0;var OCe=Ct(),CCe=(t,{stsClientCtor:e})=>(0,OCe.resolveAwsAuthConfig)({...t,stsClientCtor:e});FS.resolveStsAuthConfig=CCe});var Fz=h(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});BS.resolveClientEndpointParameters=void 0;var vCe=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"});BS.resolveClientEndpointParameters=vCe});var Bz=h((bit,bCe)=>{bCe.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.272.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.272.0","@aws-sdk/credential-provider-node":"3.272.0","@aws-sdk/fetch-http-handler":"3.272.0","@aws-sdk/hash-node":"3.272.0","@aws-sdk/invalid-dependency":"3.272.0","@aws-sdk/middleware-content-length":"3.272.0","@aws-sdk/middleware-endpoint":"3.272.0","@aws-sdk/middleware-host-header":"3.272.0","@aws-sdk/middleware-logger":"3.272.0","@aws-sdk/middleware-recursion-detection":"3.272.0","@aws-sdk/middleware-retry":"3.272.0","@aws-sdk/middleware-sdk-sts":"3.272.0","@aws-sdk/middleware-serde":"3.272.0","@aws-sdk/middleware-signing":"3.272.0","@aws-sdk/middleware-stack":"3.272.0","@aws-sdk/middleware-user-agent":"3.272.0","@aws-sdk/node-config-provider":"3.272.0","@aws-sdk/node-http-handler":"3.272.0","@aws-sdk/protocol-http":"3.272.0","@aws-sdk/smithy-client":"3.272.0","@aws-sdk/types":"3.272.0","@aws-sdk/url-parser":"3.272.0","@aws-sdk/util-base64":"3.208.0","@aws-sdk/util-body-length-browser":"3.188.0","@aws-sdk/util-body-length-node":"3.208.0","@aws-sdk/util-defaults-mode-browser":"3.272.0","@aws-sdk/util-defaults-mode-node":"3.272.0","@aws-sdk/util-endpoints":"3.272.0","@aws-sdk/util-retry":"3.272.0","@aws-sdk/util-user-agent-browser":"3.272.0","@aws-sdk/util-user-agent-node":"3.272.0","@aws-sdk/util-utf8":"3.254.0","fast-xml-parser":"4.0.11",tslib:"^2.3.1"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.208.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.19.2",typescript:"~4.6.2"},overrides:{typedoc:{typescript:"~4.6.2"}},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var t5=h(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.decorateDefaultCredentialProvider=Co.getDefaultRoleAssumerWithWebIdentity=Co.getDefaultRoleAssumer=void 0;var ICe=bS(),PCe=TS(),qz="us-east-1",$z=t=>typeof t!="function"?t===void 0?qz:t:async()=>{try{return await t()}catch{return qz}},TCe=(t,e)=>{let r,n;return async(i,s)=>{if(n=i,!r){let{logger:u,region:a,requestHandler:c}=t;r=new e({logger:u,credentialDefaultProvider:()=>async()=>n,region:$z(a||t.region),...c?{requestHandler:c}:{}})}let{Credentials:o}=await r.send(new ICe.AssumeRoleCommand(s));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration}}};Co.getDefaultRoleAssumer=TCe;var DCe=(t,e)=>{let r;return async n=>{if(!r){let{logger:s,region:o,requestHandler:u}=t;r=new e({logger:s,region:$z(o||t.region),...u?{requestHandler:u}:{}})}let{Credentials:i}=await r.send(new PCe.AssumeRoleWithWebIdentityCommand(n));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}};Co.getDefaultRoleAssumerWithWebIdentity=DCe;var RCe=t=>e=>t({roleAssumer:(0,Co.getDefaultRoleAssumer)(e,e.stsClientCtor),roleAssumerWithWebIdentity:(0,Co.getDefaultRoleAssumerWithWebIdentity)(e,e.stsClientCtor),...e});Co.decorateDefaultCredentialProvider=RCe});var kz=h(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.fromEnv=Cn.ENV_EXPIRATION=Cn.ENV_SESSION=Cn.ENV_SECRET=Cn.ENV_KEY=void 0;var NCe=pt();Cn.ENV_KEY="AWS_ACCESS_KEY_ID";Cn.ENV_SECRET="AWS_SECRET_ACCESS_KEY";Cn.ENV_SESSION="AWS_SESSION_TOKEN";Cn.ENV_EXPIRATION="AWS_CREDENTIAL_EXPIRATION";var xCe=()=>async()=>{let t=process.env[Cn.ENV_KEY],e=process.env[Cn.ENV_SECRET],r=process.env[Cn.ENV_SESSION],n=process.env[Cn.ENV_EXPIRATION];if(t&&e)return{accessKeyId:t,secretAccessKey:e,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new NCe.CredentialsProviderError("Unable to find environment variable credentials.")};Cn.fromEnv=xCe});var qS=h(r5=>{"use strict";Object.defineProperty(r5,"__esModule",{value:!0});var MCe=(se(),ne(ie));MCe.__exportStar(kz(),r5)});var n0=h($S=>{"use strict";Object.defineProperty($S,"__esModule",{value:!0});$S.getHomeDir=void 0;var FCe=require("os"),BCe=require("path"),qCe=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${BCe.sep}`}=process.env;return t||e||(r?`${n}${r}`:(0,FCe.homedir)())};$S.getHomeDir=qCe});var jz=h(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.getProfileName=vo.DEFAULT_PROFILE=vo.ENV_PROFILE=void 0;vo.ENV_PROFILE="AWS_PROFILE";vo.DEFAULT_PROFILE="default";var $Ce=t=>t.profile||process.env[vo.ENV_PROFILE]||vo.DEFAULT_PROFILE;vo.getProfileName=$Ce});var n5=h(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});kS.getSSOTokenFilepath=void 0;var kCe=require("crypto"),jCe=require("path"),LCe=n0(),UCe=t=>{let r=(0,kCe.createHash)("sha1").update(t).digest("hex");return(0,jCe.join)((0,LCe.getHomeDir)(),".aws","sso","cache",`${r}.json`)};kS.getSSOTokenFilepath=UCe});var Lz=h(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0});jS.getSSOTokenFromFile=void 0;var zCe=require("fs"),VCe=n5(),{readFile:WCe}=zCe.promises,HCe=async t=>{let e=(0,VCe.getSSOTokenFilepath)(t),r=await WCe(e,"utf8");return JSON.parse(r)};jS.getSSOTokenFromFile=HCe});var i5=h(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.getConfigFilepath=_l.ENV_CONFIG_PATH=void 0;var GCe=require("path"),KCe=n0();_l.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var YCe=()=>process.env[_l.ENV_CONFIG_PATH]||(0,GCe.join)((0,KCe.getHomeDir)(),".aws","config");_l.getConfigFilepath=YCe});var Uz=h(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.getCredentialsFilepath=El.ENV_CREDENTIALS_PATH=void 0;var JCe=require("path"),QCe=n0();El.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var XCe=()=>process.env[El.ENV_CREDENTIALS_PATH]||(0,JCe.join)((0,QCe.getHomeDir)(),".aws","credentials");El.getCredentialsFilepath=XCe});var Vz=h(LS=>{"use strict";Object.defineProperty(LS,"__esModule",{value:!0});LS.getProfileData=void 0;var zz=/^profile\s(["'])?([^\1]+)\1$/,ZCe=t=>Object.entries(t).filter(([e])=>zz.test(e)).reduce((e,[r,n])=>({...e,[zz.exec(r)[2]]:n}),{...t.default&&{default:t.default}});LS.getProfileData=ZCe});var s5=h(US=>{"use strict";Object.defineProperty(US,"__esModule",{value:!0});US.parseIni=void 0;var e4e=["__proto__","profile __proto__"],t4e=t=>{let e={},r;for(let n of t.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),e4e.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let s=n.indexOf("="),o=0,u=n.length-1;if(s!==-1&&s!==o&&s!==u){let[c,l]=[n.substring(0,s).trim(),n.substring(s+1).trim()];e[r]=e[r]||{},e[r][c]=l}}return e};US.parseIni=t4e});var u5=h(zS=>{"use strict";Object.defineProperty(zS,"__esModule",{value:!0});zS.slurpFile=void 0;var r4e=require("fs"),{readFile:n4e}=r4e.promises,o5={},i4e=t=>(o5[t]||(o5[t]=n4e(t,"utf8")),o5[t]);zS.slurpFile=i4e});var a5=h(VS=>{"use strict";Object.defineProperty(VS,"__esModule",{value:!0});VS.loadSharedConfigFiles=void 0;var s4e=i5(),o4e=Uz(),u4e=Vz(),Wz=s5(),Hz=u5(),Gz=()=>({}),a4e=async(t={})=>{let{filepath:e=(0,o4e.getCredentialsFilepath)(),configFilepath:r=(0,s4e.getConfigFilepath)()}=t,n=await Promise.all([(0,Hz.slurpFile)(r).then(Wz.parseIni).then(u4e.getProfileData).catch(Gz),(0,Hz.slurpFile)(e).then(Wz.parseIni).catch(Gz)]);return{configFile:n[0],credentialsFile:n[1]}};VS.loadSharedConfigFiles=a4e});var Yz=h(WS=>{"use strict";Object.defineProperty(WS,"__esModule",{value:!0});WS.getSsoSessionData=void 0;var Kz=/^sso-session\s(["'])?([^\1]+)\1$/,c4e=t=>Object.entries(t).filter(([e])=>Kz.test(e)).reduce((e,[r,n])=>({...e,[Kz.exec(r)[2]]:n}),{});WS.getSsoSessionData=c4e});var Jz=h(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});HS.loadSsoSessionData=void 0;var l4e=i5(),d4e=Yz(),f4e=s5(),h4e=u5(),p4e=()=>({}),m4e=async(t={})=>{var e;return(0,h4e.slurpFile)((e=t.configFilepath)!==null&&e!==void 0?e:(0,l4e.getConfigFilepath)()).then(f4e.parseIni).then(d4e.getSsoSessionData).catch(p4e)};HS.loadSsoSessionData=m4e});var Qz=h(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.parseKnownFiles=void 0;var y4e=a5(),g4e=async t=>{let e=await(0,y4e.loadSharedConfigFiles)(t);return{...e.configFile,...e.credentialsFile}};GS.parseKnownFiles=g4e});var Zz=h(Xz=>{"use strict";Object.defineProperty(Xz,"__esModule",{value:!0})});var Io=h(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});var Ga=(se(),ne(ie));Ga.__exportStar(n0(),bo);Ga.__exportStar(jz(),bo);Ga.__exportStar(n5(),bo);Ga.__exportStar(Lz(),bo);Ga.__exportStar(a5(),bo);Ga.__exportStar(Jz(),bo);Ga.__exportStar(Qz(),bo);Ga.__exportStar(Zz(),bo)});var YS=h(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});KS.httpRequest=void 0;var c5=pt(),_4e=require("buffer"),E4e=require("http");function A4e(t){return new Promise((e,r)=>{var n;let i=(0,E4e.request)({method:"GET",...t,hostname:(n=t.hostname)===null||n===void 0?void 0:n.replace(/^\[(.+)\]$/,"$1")});i.on("error",s=>{r(Object.assign(new c5.ProviderError("Unable to connect to instance metadata service"),s)),i.destroy()}),i.on("timeout",()=>{r(new c5.ProviderError("TimeoutError from instance metadata service")),i.destroy()}),i.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(r(Object.assign(new c5.ProviderError("Error response received from instance metadata service"),{statusCode:o})),i.destroy());let u=[];s.on("data",a=>{u.push(a)}),s.on("end",()=>{e(_4e.Buffer.concat(u)),i.destroy()})}),i.end()})}KS.httpRequest=A4e});var l5=h(S1=>{"use strict";Object.defineProperty(S1,"__esModule",{value:!0});S1.fromImdsCredentials=S1.isImdsCredentials=void 0;var S4e=t=>Boolean(t)&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string";S1.isImdsCredentials=S4e;var w4e=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration)});S1.fromImdsCredentials=w4e});var JS=h(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.providerConfigFromInit=Po.DEFAULT_MAX_RETRIES=Po.DEFAULT_TIMEOUT=void 0;Po.DEFAULT_TIMEOUT=1e3;Po.DEFAULT_MAX_RETRIES=0;var O4e=({maxRetries:t=Po.DEFAULT_MAX_RETRIES,timeout:e=Po.DEFAULT_TIMEOUT})=>({maxRetries:t,timeout:e});Po.providerConfigFromInit=O4e});var d5=h(QS=>{"use strict";Object.defineProperty(QS,"__esModule",{value:!0});QS.retry=void 0;var C4e=(t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r};QS.retry=C4e});var tV=h(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.fromContainerMetadata=Lr.ENV_CMDS_AUTH_TOKEN=Lr.ENV_CMDS_RELATIVE_URI=Lr.ENV_CMDS_FULL_URI=void 0;var XS=pt(),v4e=require("url"),b4e=YS(),eV=l5(),I4e=JS(),P4e=d5();Lr.ENV_CMDS_FULL_URI="AWS_CONTAINER_CREDENTIALS_FULL_URI";Lr.ENV_CMDS_RELATIVE_URI="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI";Lr.ENV_CMDS_AUTH_TOKEN="AWS_CONTAINER_AUTHORIZATION_TOKEN";var T4e=(t={})=>{let{timeout:e,maxRetries:r}=(0,I4e.providerConfigFromInit)(t);return()=>(0,P4e.retry)(async()=>{let n=await M4e(),i=JSON.parse(await D4e(e,n));if(!(0,eV.isImdsCredentials)(i))throw new XS.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,eV.fromImdsCredentials)(i)},r)};Lr.fromContainerMetadata=T4e;var D4e=async(t,e)=>(process.env[Lr.ENV_CMDS_AUTH_TOKEN]&&(e.headers={...e.headers,Authorization:process.env[Lr.ENV_CMDS_AUTH_TOKEN]}),(await(0,b4e.httpRequest)({...e,timeout:t})).toString()),R4e="169.254.170.2",N4e={localhost:!0,"127.0.0.1":!0},x4e={"http:":!0,"https:":!0},M4e=async()=>{if(process.env[Lr.ENV_CMDS_RELATIVE_URI])return{hostname:R4e,path:process.env[Lr.ENV_CMDS_RELATIVE_URI]};if(process.env[Lr.ENV_CMDS_FULL_URI]){let t=(0,v4e.parse)(process.env[Lr.ENV_CMDS_FULL_URI]);if(!t.hostname||!(t.hostname in N4e))throw new XS.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,!1);if(!t.protocol||!(t.protocol in x4e))throw new XS.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,!1);return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new XS.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Lr.ENV_CMDS_RELATIVE_URI} or ${Lr.ENV_CMDS_FULL_URI} environment variable is set`,!1)}});var rV=h(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0});ZS.fromEnv=void 0;var F4e=pt(),B4e=t=>async()=>{try{let e=t(process.env);if(e===void 0)throw new Error;return e}catch(e){throw new F4e.CredentialsProviderError(e.message||`Cannot load config from environment variables with getter: ${t}`)}};ZS.fromEnv=B4e});var iV=h(ew=>{"use strict";Object.defineProperty(ew,"__esModule",{value:!0});ew.fromSharedConfigFiles=void 0;var q4e=pt(),nV=Io(),$4e=(t,{preferredFile:e="config",...r}={})=>async()=>{let n=(0,nV.getProfileName)(r),{configFile:i,credentialsFile:s}=await(0,nV.loadSharedConfigFiles)(r),o=s[n]||{},u=i[n]||{},a=e==="config"?{...o,...u}:{...u,...o};try{let c=t(a);if(c===void 0)throw new Error;return c}catch(c){throw new q4e.CredentialsProviderError(c.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${t}`)}};ew.fromSharedConfigFiles=$4e});var sV=h(tw=>{"use strict";Object.defineProperty(tw,"__esModule",{value:!0});tw.fromStatic=void 0;var k4e=pt(),j4e=t=>typeof t=="function",L4e=t=>j4e(t)?async()=>await t():(0,k4e.fromStatic)(t);tw.fromStatic=L4e});var uV=h(rw=>{"use strict";Object.defineProperty(rw,"__esModule",{value:!0});rw.loadConfig=void 0;var oV=pt(),U4e=rV(),z4e=iV(),V4e=sV(),W4e=({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>(0,oV.memoize)((0,oV.chain)((0,U4e.fromEnv)(t),(0,z4e.fromSharedConfigFiles)(e,n),(0,V4e.fromStatic)(r)));rw.loadConfig=W4e});var Ka=h(f5=>{"use strict";Object.defineProperty(f5,"__esModule",{value:!0});var H4e=(se(),ne(ie));H4e.__exportStar(uV(),f5)});var aV=h(i0=>{"use strict";Object.defineProperty(i0,"__esModule",{value:!0});i0.Endpoint=void 0;var G4e;(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(G4e=i0.Endpoint||(i0.Endpoint={}))});var cV=h(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.ENDPOINT_CONFIG_OPTIONS=To.CONFIG_ENDPOINT_NAME=To.ENV_ENDPOINT_NAME=void 0;To.ENV_ENDPOINT_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT";To.CONFIG_ENDPOINT_NAME="ec2_metadata_service_endpoint";To.ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:t=>t[To.ENV_ENDPOINT_NAME],configFileSelector:t=>t[To.CONFIG_ENDPOINT_NAME],default:void 0}});var h5=h(s0=>{"use strict";Object.defineProperty(s0,"__esModule",{value:!0});s0.EndpointMode=void 0;var K4e;(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(K4e=s0.EndpointMode||(s0.EndpointMode={}))});var lV=h(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.ENDPOINT_MODE_CONFIG_OPTIONS=Do.CONFIG_ENDPOINT_MODE_NAME=Do.ENV_ENDPOINT_MODE_NAME=void 0;var Y4e=h5();Do.ENV_ENDPOINT_MODE_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE";Do.CONFIG_ENDPOINT_MODE_NAME="ec2_metadata_service_endpoint_mode";Do.ENDPOINT_MODE_CONFIG_OPTIONS={environmentVariableSelector:t=>t[Do.ENV_ENDPOINT_MODE_NAME],configFileSelector:t=>t[Do.CONFIG_ENDPOINT_MODE_NAME],default:Y4e.EndpointMode.IPv4}});var m5=h(nw=>{"use strict";Object.defineProperty(nw,"__esModule",{value:!0});nw.getInstanceMetadataEndpoint=void 0;var fV=Ka(),J4e=al(),dV=aV(),Q4e=cV(),p5=h5(),X4e=lV(),Z4e=async()=>(0,J4e.parseUrl)(await eve()||await tve());nw.getInstanceMetadataEndpoint=Z4e;var eve=async()=>(0,fV.loadConfig)(Q4e.ENDPOINT_CONFIG_OPTIONS)(),tve=async()=>{let t=await(0,fV.loadConfig)(X4e.ENDPOINT_MODE_CONFIG_OPTIONS)();switch(t){case p5.EndpointMode.IPv4:return dV.Endpoint.IPv4;case p5.EndpointMode.IPv6:return dV.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(p5.EndpointMode)}`)}}});var hV=h(iw=>{"use strict";Object.defineProperty(iw,"__esModule",{value:!0});iw.getExtendedInstanceMetadataCredentials=void 0;var rve=5*60,nve=5*60,ive="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",sve=(t,e)=>{var r;let n=rve+Math.floor(Math.random()*nve),i=new Date(Date.now()+n*1e3);e.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+ive);let s=(r=t.originalExpiration)!==null&&r!==void 0?r:t.expiration;return{...t,...s?{originalExpiration:s}:{},expiration:i}};iw.getExtendedInstanceMetadataCredentials=sve});var mV=h(sw=>{"use strict";Object.defineProperty(sw,"__esModule",{value:!0});sw.staticStabilityProvider=void 0;var pV=hV(),ove=(t,e={})=>{let r=e?.logger||console,n;return async()=>{let i;try{i=await t(),i.expiration&&i.expiration.getTime()<Date.now()&&(i=(0,pV.getExtendedInstanceMetadataCredentials)(i,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),i=(0,pV.getExtendedInstanceMetadataCredentials)(n,r);else throw s}return n=i,i}};sw.staticStabilityProvider=ove});var EV=h(ow=>{"use strict";Object.defineProperty(ow,"__esModule",{value:!0});ow.fromInstanceMetadata=void 0;var uve=pt(),y5=YS(),yV=l5(),ave=JS(),gV=d5(),cve=m5(),lve=mV(),_V="/latest/meta-data/iam/security-credentials/",dve="/latest/api/token",fve=(t={})=>(0,lve.staticStabilityProvider)(hve(t),{logger:t.logger});ow.fromInstanceMetadata=fve;var hve=t=>{let e=!1,{timeout:r,maxRetries:n}=(0,ave.providerConfigFromInit)(t),i=async(s,o)=>{let u=(await(0,gV.retry)(async()=>{let a;try{a=await mve(o)}catch(c){throw c.statusCode===401&&(e=!1),c}return a},s)).trim();return(0,gV.retry)(async()=>{let a;try{a=await yve(u,o)}catch(c){throw c.statusCode===401&&(e=!1),c}return a},s)};return async()=>{let s=await(0,cve.getInstanceMetadataEndpoint)();if(e)return i(n,{...s,timeout:r});{let o;try{o=(await pve({...s,timeout:r})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(e=!0),i(n,{...s,timeout:r})}return i(n,{...s,headers:{"x-aws-ec2-metadata-token":o},timeout:r})}}},pve=async t=>(0,y5.httpRequest)({...t,path:dve,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),mve=async t=>(await(0,y5.httpRequest)({...t,path:_V})).toString(),yve=async(t,e)=>{let r=JSON.parse((await(0,y5.httpRequest)({...e,path:_V+t})).toString());if(!(0,yV.isImdsCredentials)(r))throw new uve.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,yV.fromImdsCredentials)(r)}});var SV=h(AV=>{"use strict";Object.defineProperty(AV,"__esModule",{value:!0})});var w1=h(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.getInstanceMetadataEndpoint=Ro.httpRequest=void 0;var uw=(se(),ne(ie));uw.__exportStar(tV(),Ro);uw.__exportStar(EV(),Ro);uw.__exportStar(JS(),Ro);uw.__exportStar(SV(),Ro);var gve=YS();Object.defineProperty(Ro,"httpRequest",{enumerable:!0,get:function(){return gve.httpRequest}});var _ve=m5();Object.defineProperty(Ro,"getInstanceMetadataEndpoint",{enumerable:!0,get:function(){return _ve.getInstanceMetadataEndpoint}})});var OV=h(aw=>{"use strict";Object.defineProperty(aw,"__esModule",{value:!0});aw.resolveCredentialSource=void 0;var Eve=qS(),wV=w1(),Ave=pt(),Sve=(t,e)=>{let r={EcsContainer:wV.fromContainerMetadata,Ec2InstanceMetadata:wV.fromInstanceMetadata,Environment:Eve.fromEnv};if(t in r)return r[t]();throw new Ave.CredentialsProviderError(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};aw.resolveCredentialSource=Sve});var CV=h(O1=>{"use strict";Object.defineProperty(O1,"__esModule",{value:!0});O1.resolveAssumeRoleCredentials=O1.isAssumeRoleProfile=void 0;var g5=pt(),wve=Io(),Ove=OV(),Cve=_5(),vve=t=>Boolean(t)&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(bve(t)||Ive(t));O1.isAssumeRoleProfile=vve;var bve=t=>typeof t.source_profile=="string"&&typeof t.credential_source>"u",Ive=t=>typeof t.credential_source=="string"&&typeof t.source_profile>"u",Pve=async(t,e,r,n={})=>{let i=e[t];if(!r.roleAssumer)throw new g5.CredentialsProviderError(`Profile ${t} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:s}=i;if(s&&s in n)throw new g5.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,wve.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let o=s?(0,Cve.resolveProfileData)(s,e,r,{...n,[s]:!0}):(0,Ove.resolveCredentialSource)(i.credential_source,t)(),u={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id},{mfa_serial:a}=i;if(a){if(!r.mfaCodeProvider)throw new g5.CredentialsProviderError(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,!1);u.SerialNumber=a,u.TokenCode=await r.mfaCodeProvider(a)}let c=await o;return r.roleAssumer(c,u)};O1.resolveAssumeRoleCredentials=Pve});var vV=h(cw=>{"use strict";Object.defineProperty(cw,"__esModule",{value:!0});cw.getValidatedProcessCredentials=void 0;var Tve=(t,e)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let r=new Date;if(new Date(e.Expiration)<r)throw Error(`Profile ${t} credential_process returned expired credentials.`)}return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)}}};cw.getValidatedProcessCredentials=Tve});var bV=h(lw=>{"use strict";Object.defineProperty(lw,"__esModule",{value:!0});lw.resolveProcessCredentials=void 0;var E5=pt(),Dve=require("child_process"),Rve=require("util"),Nve=vV(),xve=async(t,e)=>{let r=e[t];if(e[t]){let n=r.credential_process;if(n!==void 0){let i=(0,Rve.promisify)(Dve.exec);try{let{stdout:s}=await i(n),o;try{o=JSON.parse(s.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return(0,Nve.getValidatedProcessCredentials)(t,o)}catch(s){throw new E5.CredentialsProviderError(s.message)}}else throw new E5.CredentialsProviderError(`Profile ${t} did not contain credential_process.`)}else throw new E5.CredentialsProviderError(`Profile ${t} could not be found in shared credentials file.`)};lw.resolveProcessCredentials=xve});var PV=h(dw=>{"use strict";Object.defineProperty(dw,"__esModule",{value:!0});dw.fromProcess=void 0;var IV=Io(),Mve=bV(),Fve=(t={})=>async()=>{let e=await(0,IV.parseKnownFiles)(t);return(0,Mve.resolveProcessCredentials)((0,IV.getProfileName)(t),e)};dw.fromProcess=Fve});var fw=h(A5=>{"use strict";Object.defineProperty(A5,"__esModule",{value:!0});var Bve=(se(),ne(ie));Bve.__exportStar(PV(),A5)});var TV=h(C1=>{"use strict";Object.defineProperty(C1,"__esModule",{value:!0});C1.resolveProcessCredentials=C1.isProcessProfile=void 0;var qve=fw(),$ve=t=>Boolean(t)&&typeof t=="object"&&typeof t.credential_process=="string";C1.isProcessProfile=$ve;var kve=async(t,e)=>(0,qve.fromProcess)({...t,profile:e})();C1.resolveProcessCredentials=kve});var S5=h(hw=>{"use strict";Object.defineProperty(hw,"__esModule",{value:!0});hw.isSsoProfile=void 0;var jve=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string");hw.isSsoProfile=jve});var mw=h(pw=>{"use strict";Object.defineProperty(pw,"__esModule",{value:!0});pw.SSOServiceException=void 0;var Lve=ae(),o0=class extends Lve.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,o0.prototype)}};pw.SSOServiceException=o0});var Al=h(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.LogoutRequestFilterSensitiveLog=ut.ListAccountsResponseFilterSensitiveLog=ut.ListAccountsRequestFilterSensitiveLog=ut.ListAccountRolesResponseFilterSensitiveLog=ut.RoleInfoFilterSensitiveLog=ut.ListAccountRolesRequestFilterSensitiveLog=ut.GetRoleCredentialsResponseFilterSensitiveLog=ut.RoleCredentialsFilterSensitiveLog=ut.GetRoleCredentialsRequestFilterSensitiveLog=ut.AccountInfoFilterSensitiveLog=ut.UnauthorizedException=ut.TooManyRequestsException=ut.ResourceNotFoundException=ut.InvalidRequestException=void 0;var v1=ae(),yw=mw(),u0=class extends yw.SSOServiceException{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,u0.prototype)}};ut.InvalidRequestException=u0;var a0=class extends yw.SSOServiceException{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,a0.prototype)}};ut.ResourceNotFoundException=a0;var c0=class extends yw.SSOServiceException{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,c0.prototype)}};ut.TooManyRequestsException=c0;var l0=class extends yw.SSOServiceException{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,l0.prototype)}};ut.UnauthorizedException=l0;var Uve=t=>({...t});ut.AccountInfoFilterSensitiveLog=Uve;var zve=t=>({...t,...t.accessToken&&{accessToken:v1.SENSITIVE_STRING}});ut.GetRoleCredentialsRequestFilterSensitiveLog=zve;var Vve=t=>({...t,...t.secretAccessKey&&{secretAccessKey:v1.SENSITIVE_STRING},...t.sessionToken&&{sessionToken:v1.SENSITIVE_STRING}});ut.RoleCredentialsFilterSensitiveLog=Vve;var Wve=t=>({...t,...t.roleCredentials&&{roleCredentials:(0,ut.RoleCredentialsFilterSensitiveLog)(t.roleCredentials)}});ut.GetRoleCredentialsResponseFilterSensitiveLog=Wve;var Hve=t=>({...t,...t.accessToken&&{accessToken:v1.SENSITIVE_STRING}});ut.ListAccountRolesRequestFilterSensitiveLog=Hve;var Gve=t=>({...t});ut.RoleInfoFilterSensitiveLog=Gve;var Kve=t=>({...t});ut.ListAccountRolesResponseFilterSensitiveLog=Kve;var Yve=t=>({...t,...t.accessToken&&{accessToken:v1.SENSITIVE_STRING}});ut.ListAccountsRequestFilterSensitiveLog=Yve;var Jve=t=>({...t});ut.ListAccountsResponseFilterSensitiveLog=Jve;var Qve=t=>({...t,...t.accessToken&&{accessToken:v1.SENSITIVE_STRING}});ut.LogoutRequestFilterSensitiveLog=Qve});var d0=h(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.deserializeAws_restJson1LogoutCommand=Ur.deserializeAws_restJson1ListAccountsCommand=Ur.deserializeAws_restJson1ListAccountRolesCommand=Ur.deserializeAws_restJson1GetRoleCredentialsCommand=Ur.serializeAws_restJson1LogoutCommand=Ur.serializeAws_restJson1ListAccountsCommand=Ur.serializeAws_restJson1ListAccountRolesCommand=Ur.serializeAws_restJson1GetRoleCredentialsCommand=void 0;var gw=Bn(),it=ae(),_w=Al(),Ew=mw(),Xve=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:s}=await e.endpoint(),o=qn({},Ow,{"x-amz-sso_bearer_token":t.accessToken}),u=`${s?.endsWith("/")?s.slice(0,-1):s||""}/federation/credentials`,a=qn({role_name:[,(0,it.expectNonNull)(t.roleName,"roleName")],account_id:[,(0,it.expectNonNull)(t.accountId,"accountId")]}),c;return new gw.HttpRequest({protocol:n,hostname:r,port:i,method:"GET",headers:o,path:u,query:a,body:c})};Ur.serializeAws_restJson1GetRoleCredentialsCommand=Xve;var Zve=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:s}=await e.endpoint(),o=qn({},Ow,{"x-amz-sso_bearer_token":t.accessToken}),u=`${s?.endsWith("/")?s.slice(0,-1):s||""}/assignment/roles`,a=qn({next_token:[,t.nextToken],max_result:[()=>t.maxResults!==void 0,()=>t.maxResults.toString()],account_id:[,(0,it.expectNonNull)(t.accountId,"accountId")]}),c;return new gw.HttpRequest({protocol:n,hostname:r,port:i,method:"GET",headers:o,path:u,query:a,body:c})};Ur.serializeAws_restJson1ListAccountRolesCommand=Zve;var ebe=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:s}=await e.endpoint(),o=qn({},Ow,{"x-amz-sso_bearer_token":t.accessToken}),u=`${s?.endsWith("/")?s.slice(0,-1):s||""}/assignment/accounts`,a=qn({next_token:[,t.nextToken],max_result:[()=>t.maxResults!==void 0,()=>t.maxResults.toString()]}),c;return new gw.HttpRequest({protocol:n,hostname:r,port:i,method:"GET",headers:o,path:u,query:a,body:c})};Ur.serializeAws_restJson1ListAccountsCommand=ebe;var tbe=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:s}=await e.endpoint(),o=qn({},Ow,{"x-amz-sso_bearer_token":t.accessToken}),u=`${s?.endsWith("/")?s.slice(0,-1):s||""}/logout`,a;return new gw.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:o,path:u,body:a})};Ur.serializeAws_restJson1LogoutCommand=tbe;var rbe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return nbe(t,e);let r=qn({$metadata:Ya(t)}),n=(0,it.expectNonNull)((0,it.expectObject)(await Cw(t.body,e)),"body");return n.roleCredentials!=null&&(r.roleCredentials=fbe(n.roleCredentials,e)),r};Ur.deserializeAws_restJson1GetRoleCredentialsCommand=rbe;var nbe=async(t,e)=>{let r={...t,body:await vw(t.body,e)},n=bw(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Aw(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await w5(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Sw(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await ww(r,e);default:let i=r.body;(0,it.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:Ew.SSOServiceException,errorCode:n})}},ibe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return sbe(t,e);let r=qn({$metadata:Ya(t)}),n=(0,it.expectNonNull)((0,it.expectObject)(await Cw(t.body,e)),"body");return n.nextToken!=null&&(r.nextToken=(0,it.expectString)(n.nextToken)),n.roleList!=null&&(r.roleList=pbe(n.roleList,e)),r};Ur.deserializeAws_restJson1ListAccountRolesCommand=ibe;var sbe=async(t,e)=>{let r={...t,body:await vw(t.body,e)},n=bw(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Aw(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await w5(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Sw(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await ww(r,e);default:let i=r.body;(0,it.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:Ew.SSOServiceException,errorCode:n})}},obe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return ube(t,e);let r=qn({$metadata:Ya(t)}),n=(0,it.expectNonNull)((0,it.expectObject)(await Cw(t.body,e)),"body");return n.accountList!=null&&(r.accountList=dbe(n.accountList,e)),n.nextToken!=null&&(r.nextToken=(0,it.expectString)(n.nextToken)),r};Ur.deserializeAws_restJson1ListAccountsCommand=obe;var ube=async(t,e)=>{let r={...t,body:await vw(t.body,e)},n=bw(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Aw(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await w5(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Sw(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await ww(r,e);default:let i=r.body;(0,it.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:Ew.SSOServiceException,errorCode:n})}},abe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return cbe(t,e);let r=qn({$metadata:Ya(t)});return await DV(t.body,e),r};Ur.deserializeAws_restJson1LogoutCommand=abe;var cbe=async(t,e)=>{let r={...t,body:await vw(t.body,e)},n=bw(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Aw(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Sw(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await ww(r,e);default:let i=r.body;(0,it.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:Ew.SSOServiceException,errorCode:n})}},qn=it.map,Aw=async(t,e)=>{let r=qn({}),n=t.body;n.message!=null&&(r.message=(0,it.expectString)(n.message));let i=new _w.InvalidRequestException({$metadata:Ya(t),...r});return(0,it.decorateServiceException)(i,t.body)},w5=async(t,e)=>{let r=qn({}),n=t.body;n.message!=null&&(r.message=(0,it.expectString)(n.message));let i=new _w.ResourceNotFoundException({$metadata:Ya(t),...r});return(0,it.decorateServiceException)(i,t.body)},Sw=async(t,e)=>{let r=qn({}),n=t.body;n.message!=null&&(r.message=(0,it.expectString)(n.message));let i=new _w.TooManyRequestsException({$metadata:Ya(t),...r});return(0,it.decorateServiceException)(i,t.body)},ww=async(t,e)=>{let r=qn({}),n=t.body;n.message!=null&&(r.message=(0,it.expectString)(n.message));let i=new _w.UnauthorizedException({$metadata:Ya(t),...r});return(0,it.decorateServiceException)(i,t.body)},lbe=(t,e)=>({accountId:(0,it.expectString)(t.accountId),accountName:(0,it.expectString)(t.accountName),emailAddress:(0,it.expectString)(t.emailAddress)}),dbe=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>n===null?null:lbe(n,e)),fbe=(t,e)=>({accessKeyId:(0,it.expectString)(t.accessKeyId),expiration:(0,it.expectLong)(t.expiration),secretAccessKey:(0,it.expectString)(t.secretAccessKey),sessionToken:(0,it.expectString)(t.sessionToken)}),hbe=(t,e)=>({accountId:(0,it.expectString)(t.accountId),roleName:(0,it.expectString)(t.roleName)}),pbe=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>n===null?null:hbe(n,e)),Ya=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),DV=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),mbe=(t,e)=>DV(t,e).then(r=>e.utf8Encoder(r)),Ow=t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),Cw=(t,e)=>mbe(t,e).then(r=>r.length?JSON.parse(r):{}),vw=async(t,e)=>{let r=await Cw(t,e);return r.message=r.message??r.Message,r},bw=(t,e)=>{let r=(s,o)=>Object.keys(s).find(u=>u.toLowerCase()===o.toLowerCase()),n=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)}});var O5=h(Iw=>{"use strict";Object.defineProperty(Iw,"__esModule",{value:!0});Iw.GetRoleCredentialsCommand=void 0;var ybe=be(),gbe=Le(),_be=ae(),RV=Al(),NV=d0(),f0=class extends _be.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,gbe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,ybe.getEndpointPlugin)(r,f0.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:RV.GetRoleCredentialsRequestFilterSensitiveLog,outputFilterSensitiveLog:RV.GetRoleCredentialsResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,NV.serializeAws_restJson1GetRoleCredentialsCommand)(e,r)}deserialize(e,r){return(0,NV.deserializeAws_restJson1GetRoleCredentialsCommand)(e,r)}};Iw.GetRoleCredentialsCommand=f0});var Tw=h(Pw=>{"use strict";Object.defineProperty(Pw,"__esModule",{value:!0});Pw.ListAccountRolesCommand=void 0;var Ebe=be(),Abe=Le(),Sbe=ae(),xV=Al(),MV=d0(),h0=class extends Sbe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,Abe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Ebe.getEndpointPlugin)(r,h0.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"SSOClient",commandName:"ListAccountRolesCommand",inputFilterSensitiveLog:xV.ListAccountRolesRequestFilterSensitiveLog,outputFilterSensitiveLog:xV.ListAccountRolesResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,MV.serializeAws_restJson1ListAccountRolesCommand)(e,r)}deserialize(e,r){return(0,MV.deserializeAws_restJson1ListAccountRolesCommand)(e,r)}};Pw.ListAccountRolesCommand=h0});var Rw=h(Dw=>{"use strict";Object.defineProperty(Dw,"__esModule",{value:!0});Dw.ListAccountsCommand=void 0;var wbe=be(),Obe=Le(),Cbe=ae(),FV=Al(),BV=d0(),p0=class extends Cbe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,Obe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,wbe.getEndpointPlugin)(r,p0.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"SSOClient",commandName:"ListAccountsCommand",inputFilterSensitiveLog:FV.ListAccountsRequestFilterSensitiveLog,outputFilterSensitiveLog:FV.ListAccountsResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,BV.serializeAws_restJson1ListAccountsCommand)(e,r)}deserialize(e,r){return(0,BV.deserializeAws_restJson1ListAccountsCommand)(e,r)}};Dw.ListAccountsCommand=p0});var C5=h(Nw=>{"use strict";Object.defineProperty(Nw,"__esModule",{value:!0});Nw.LogoutCommand=void 0;var vbe=be(),bbe=Le(),Ibe=ae(),Pbe=Al(),qV=d0(),m0=class extends Ibe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,bbe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,vbe.getEndpointPlugin)(r,m0.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"SSOClient",commandName:"LogoutCommand",inputFilterSensitiveLog:Pbe.LogoutRequestFilterSensitiveLog,outputFilterSensitiveLog:l=>l},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,qV.serializeAws_restJson1LogoutCommand)(e,r)}deserialize(e,r){return(0,qV.deserializeAws_restJson1LogoutCommand)(e,r)}};Nw.LogoutCommand=m0});var $V=h(xw=>{"use strict";Object.defineProperty(xw,"__esModule",{value:!0});xw.resolveClientEndpointParameters=void 0;var Tbe=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});xw.resolveClientEndpointParameters=Tbe});var kV=h((Ist,Dbe)=>{Dbe.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.272.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.272.0","@aws-sdk/fetch-http-handler":"3.272.0","@aws-sdk/hash-node":"3.272.0","@aws-sdk/invalid-dependency":"3.272.0","@aws-sdk/middleware-content-length":"3.272.0","@aws-sdk/middleware-endpoint":"3.272.0","@aws-sdk/middleware-host-header":"3.272.0","@aws-sdk/middleware-logger":"3.272.0","@aws-sdk/middleware-recursion-detection":"3.272.0","@aws-sdk/middleware-retry":"3.272.0","@aws-sdk/middleware-serde":"3.272.0","@aws-sdk/middleware-stack":"3.272.0","@aws-sdk/middleware-user-agent":"3.272.0","@aws-sdk/node-config-provider":"3.272.0","@aws-sdk/node-http-handler":"3.272.0","@aws-sdk/protocol-http":"3.272.0","@aws-sdk/smithy-client":"3.272.0","@aws-sdk/types":"3.272.0","@aws-sdk/url-parser":"3.272.0","@aws-sdk/util-base64":"3.208.0","@aws-sdk/util-body-length-browser":"3.188.0","@aws-sdk/util-body-length-node":"3.208.0","@aws-sdk/util-defaults-mode-browser":"3.272.0","@aws-sdk/util-defaults-mode-node":"3.272.0","@aws-sdk/util-endpoints":"3.272.0","@aws-sdk/util-retry":"3.272.0","@aws-sdk/util-user-agent-browser":"3.272.0","@aws-sdk/util-user-agent-node":"3.272.0","@aws-sdk/util-utf8":"3.254.0",tslib:"^2.3.1"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.208.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.19.2",typescript:"~4.6.2"},overrides:{typedoc:{typescript:"~4.6.2"}},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var y0=h(Mw=>{"use strict";Object.defineProperty(Mw,"__esModule",{value:!0});Mw.Hash=void 0;var v5=f1(),Rbe=Ou(),Nbe=require("buffer"),jV=require("crypto"),b5=class{constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update((0,Rbe.toUint8Array)(LV(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,jV.createHmac)(this.algorithmIdentifier,LV(this.secret)):(0,jV.createHash)(this.algorithmIdentifier)}};Mw.Hash=b5;function LV(t,e){return Nbe.Buffer.isBuffer(t)?t:typeof t=="string"?(0,v5.fromString)(t,e):ArrayBuffer.isView(t)?(0,v5.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength):(0,v5.fromArrayBuffer)(t)}});var P5=h(Fw=>{"use strict";Object.defineProperty(Fw,"__esModule",{value:!0});Fw.buildQueryString=void 0;var I5=hI();function xbe(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=(0,I5.escapeUri)(r),Array.isArray(n))for(let i=0,s=n.length;i<s;i++)e.push(`${r}=${(0,I5.escapeUri)(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${(0,I5.escapeUri)(n)}`),e.push(i)}}return e.join("&")}Fw.buildQueryString=xbe});var UV=h(Bw=>{"use strict";Object.defineProperty(Bw,"__esModule",{value:!0});Bw.NODEJS_TIMEOUT_ERROR_CODES=void 0;Bw.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","EPIPE","ETIMEDOUT"]});var T5=h(qw=>{"use strict";Object.defineProperty(qw,"__esModule",{value:!0});qw.getTransformedHeaders=void 0;var Mbe=t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e};qw.getTransformedHeaders=Mbe});var zV=h($w=>{"use strict";Object.defineProperty($w,"__esModule",{value:!0});$w.setConnectionTimeout=void 0;var Fbe=(t,e,r=0)=>{r&&t.on("socket",n=>{if(n.connecting){let i=setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);n.on("connect",()=>{clearTimeout(i)})}})};$w.setConnectionTimeout=Fbe});var VV=h(kw=>{"use strict";Object.defineProperty(kw,"__esModule",{value:!0});kw.setSocketTimeout=void 0;var Bbe=(t,e,r=0)=>{t.setTimeout(r,()=>{t.destroy(),e(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})};kw.setSocketTimeout=Bbe});var D5=h(jw=>{"use strict";Object.defineProperty(jw,"__esModule",{value:!0});jw.writeRequestBody=void 0;var qbe=require("stream");function $be(t,e){(e.headers.Expect||e.headers.expect)==="100-continue"?t.on("continue",()=>{WV(t,e.body)}):WV(t,e.body)}jw.writeRequestBody=$be;function WV(t,e){e instanceof qbe.Readable?e.pipe(t):e?t.end(Buffer.from(e)):t.end()}});var KV=h(Lw=>{"use strict";Object.defineProperty(Lw,"__esModule",{value:!0});Lw.NodeHttpHandler=void 0;var kbe=Bn(),jbe=P5(),HV=require("http"),GV=require("https"),Lbe=UV(),Ube=T5(),zbe=zV(),Vbe=VV(),Wbe=D5(),R5=class{constructor(e){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(i=>{r(this.resolveDefaultConfig(i))}).catch(n):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{connectionTimeout:r,socketTimeout:n,httpAgent:i,httpsAgent:s}=e||{},o=!0,u=50;return{connectionTimeout:r,socketTimeout:n,httpAgent:i||new HV.Agent({keepAlive:o,maxSockets:u}),httpsAgent:s||new GV.Agent({keepAlive:o,maxSockets:u})}}destroy(){var e,r,n,i;(r=(e=this.config)===null||e===void 0?void 0:e.httpAgent)===null||r===void 0||r.destroy(),(i=(n=this.config)===null||n===void 0?void 0:n.httpsAgent)===null||i===void 0||i.destroy()}async handle(e,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,i)=>{if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let l=new Error("Request aborted");l.name="AbortError",i(l);return}let s=e.protocol==="https:",o=(0,jbe.buildQueryString)(e.query||{}),u={headers:e.headers,host:e.hostname,method:e.method,path:o?`${e.path}?${o}`:e.path,port:e.port,agent:s?this.config.httpsAgent:this.config.httpAgent},c=(s?GV.request:HV.request)(u,l=>{let d=new kbe.HttpResponse({statusCode:l.statusCode||-1,headers:(0,Ube.getTransformedHeaders)(l.headers),body:l});n({response:d})});c.on("error",l=>{Lbe.NODEJS_TIMEOUT_ERROR_CODES.includes(l.code)?i(Object.assign(l,{name:"TimeoutError"})):i(l)}),(0,zbe.setConnectionTimeout)(c,i,this.config.connectionTimeout),(0,Vbe.setSocketTimeout)(c,i,this.config.socketTimeout),r&&(r.onabort=()=>{c.abort();let l=new Error("Request aborted");l.name="AbortError",i(l)}),(0,Wbe.writeRequestBody)(c,e)})}};Lw.NodeHttpHandler=R5});var YV=h(Uw=>{"use strict";Object.defineProperty(Uw,"__esModule",{value:!0});Uw.NodeHttp2Handler=void 0;var Hbe=Bn(),Gbe=P5(),N5=require("http2"),Kbe=T5(),Ybe=D5(),x5=class{constructor(e){this.metadata={handlerProtocol:"h2"},this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(i=>{r(i||{})}).catch(n):r(e||{})}),this.sessionCache=new Map}destroy(){for(let e of this.sessionCache.values())e.forEach(r=>this.destroySession(r));this.sessionCache.clear()}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let{requestTimeout:n,disableConcurrentStreams:i}=this.config;return new Promise((s,o)=>{let u=!1;if(r?.aborted){u=!0;let O=new Error("Request aborted");O.name="AbortError",o(O);return}let{hostname:a,method:c,port:l,protocol:d,path:f,query:p}=e,m=`${d}//${a}${l?`:${l}`:""}`,y=this.getSession(m,i||!1),_=O=>{i&&this.destroySession(y),u=!0,o(O)},g=(0,Gbe.buildQueryString)(p||{}),E=y.request({...e.headers,[N5.constants.HTTP2_HEADER_PATH]:g?`${f}?${g}`:f,[N5.constants.HTTP2_HEADER_METHOD]:c});y.ref(),E.on("response",O=>{let w=new Hbe.HttpResponse({statusCode:O[":status"]||-1,headers:(0,Kbe.getTransformedHeaders)(O),body:E});u=!0,s({response:w}),i&&(y.close(),this.deleteSessionFromCache(m,y))}),n&&E.setTimeout(n,()=>{E.close();let O=new Error(`Stream timed out because of no activity for ${n} ms`);O.name="TimeoutError",_(O)}),r&&(r.onabort=()=>{E.close();let O=new Error("Request aborted");O.name="AbortError",_(O)}),E.on("frameError",(O,w,b)=>{_(new Error(`Frame type id ${O} in stream id ${b} has failed with code ${w}.`))}),E.on("error",_),E.on("aborted",()=>{_(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${E.rstCode}.`))}),E.on("close",()=>{y.unref(),i&&y.destroy(),u||_(new Error("Unexpected error: http2 request did not get a response"))}),(0,Ybe.writeRequestBody)(E,e)})}getSession(e,r){var n;let i=this.sessionCache,s=i.get(e)||[];if(s.length>0&&!r)return s[0];let o=(0,N5.connect)(e);o.unref();let u=()=>{this.destroySession(o),this.deleteSessionFromCache(e,o)};return o.on("goaway",u),o.on("error",u),o.on("frameError",u),o.on("close",()=>this.deleteSessionFromCache(e,o)),!((n=this.config)===null||n===void 0)&&n.sessionTimeout&&o.setTimeout(this.config.sessionTimeout,u),s.push(o),i.set(e,s),o}destroySession(e){e.destroyed||e.destroy()}deleteSessionFromCache(e,r){let n=this.sessionCache.get(e)||[];n.includes(r)&&this.sessionCache.set(e,n.filter(i=>i!==r))}};Uw.NodeHttp2Handler=x5});var JV=h(zw=>{"use strict";Object.defineProperty(zw,"__esModule",{value:!0});zw.Collector=void 0;var Jbe=require("stream"),M5=class extends Jbe.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,r,n){this.bufferedBytes.push(e),n()}};zw.Collector=M5});var QV=h(Vw=>{"use strict";Object.defineProperty(Vw,"__esModule",{value:!0});Vw.streamCollector=void 0;var Qbe=JV(),Xbe=t=>new Promise((e,r)=>{let n=new Qbe.Collector;t.pipe(n),t.on("error",i=>{n.end(),r(i)}),n.on("error",r),n.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.bufferedBytes));e(i)})});Vw.streamCollector=Xbe});var _0=h(g0=>{"use strict";Object.defineProperty(g0,"__esModule",{value:!0});var F5=(se(),ne(ie));F5.__exportStar(KV(),g0);F5.__exportStar(YV(),g0);F5.__exportStar(QV(),g0)});var ZV=h(Ww=>{"use strict";Object.defineProperty(Ww,"__esModule",{value:!0});Ww.calculateBodyLength=void 0;var XV=require("fs"),Zbe=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.from(t).length;if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.path=="string"||Buffer.isBuffer(t.path))return(0,XV.lstatSync)(t.path).size;if(typeof t.fd=="number")return(0,XV.fstatSync)(t.fd).size;throw new Error(`Body Length computation failed for ${t}`)};Ww.calculateBodyLength=Zbe});var E0=h(B5=>{"use strict";Object.defineProperty(B5,"__esModule",{value:!0});var e9e=(se(),ne(ie));e9e.__exportStar(ZV(),B5)});var eW=h((Hw,q5)=>{"use strict";Object.defineProperty(Hw,"__esModule",{value:!0});Hw.isCrtAvailable=void 0;var t9e=()=>{try{return typeof require=="function"&&typeof q5<"u"&&q5.require&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}};Hw.isCrtAvailable=t9e});var A0=h(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.defaultUserAgent=No.UA_APP_ID_INI_NAME=No.UA_APP_ID_ENV_NAME=void 0;var r9e=Ka(),tW=require("os"),$5=require("process"),n9e=eW();No.UA_APP_ID_ENV_NAME="AWS_SDK_UA_APP_ID";No.UA_APP_ID_INI_NAME="sdk-ua-app-id";var i9e=({serviceId:t,clientVersion:e})=>{let r=[["aws-sdk-js",e],[`os/${(0,tW.platform)()}`,(0,tW.release)()],["lang/js"],["md/nodejs",`${$5.versions.node}`]],n=(0,n9e.isCrtAvailable)();n&&r.push(n),t&&r.push([`api/${t}`,e]),$5.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${$5.env.AWS_EXECUTION_ENV}`]);let i=(0,r9e.loadConfig)({environmentVariableSelector:o=>o[No.UA_APP_ID_ENV_NAME],configFileSelector:o=>o[No.UA_APP_ID_INI_NAME],default:void 0})(),s;return async()=>{if(!s){let o=await i;s=o?[...r,[`app/${o}`]]:[...r]}return s}};No.defaultUserAgent=i9e});var rW=h(Gw=>{"use strict";Object.defineProperty(Gw,"__esModule",{value:!0});Gw.fromBase64=void 0;var s9e=f1(),o9e=/^[A-Za-z0-9+/]*={0,2}$/,u9e=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!o9e.exec(t))throw new TypeError("Invalid base64 string.");let e=(0,s9e.fromString)(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)};Gw.fromBase64=u9e});var nW=h(Kw=>{"use strict";Object.defineProperty(Kw,"__esModule",{value:!0});Kw.toBase64=void 0;var a9e=f1(),c9e=t=>(0,a9e.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64");Kw.toBase64=c9e});var S0=h(Yw=>{"use strict";Object.defineProperty(Yw,"__esModule",{value:!0});var iW=(se(),ne(ie));iW.__exportStar(rW(),Yw);iW.__exportStar(nW(),Yw)});var sW=h((Hst,l9e)=>{l9e.exports={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"}});var j5=h(Jw=>{"use strict";Object.defineProperty(Jw,"__esModule",{value:!0});Jw.partition=void 0;var d9e=(se(),ne(ie)),f9e=d9e.__importDefault(sW()),{partitions:k5}=f9e.default,oW=k5.find(t=>t.id==="aws"),h9e=t=>{for(let e of k5){let{regions:r,outputs:n}=e;for(let[i,s]of Object.entries(r))if(i===t)return{...n,...s}}for(let e of k5){let{regionRegex:r,outputs:n}=e;if(new RegExp(r).test(t))return{...n}}if(!oW)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...oW.outputs}};Jw.partition=h9e});var uW=h(Qw=>{"use strict";Object.defineProperty(Qw,"__esModule",{value:!0});Qw.debugId=void 0;Qw.debugId="endpoints"});var aW=h(Xw=>{"use strict";Object.defineProperty(Xw,"__esModule",{value:!0});Xw.toDebugString=void 0;function L5(t){return typeof t!="object"||t==null?t:"ref"in t?`$${L5(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(L5).join(", ")})`:JSON.stringify(t,null,2)}Xw.toDebugString=L5});var w0=h(Zw=>{"use strict";Object.defineProperty(Zw,"__esModule",{value:!0});var cW=(se(),ne(ie));cW.__exportStar(uW(),Zw);cW.__exportStar(aW(),Zw)});var lW=h(e3=>{"use strict";Object.defineProperty(e3,"__esModule",{value:!0});e3.EndpointError=void 0;var U5=class extends Error{constructor(e){super(e),this.name="EndpointError"}};e3.EndpointError=U5});var fW=h(dW=>{"use strict";Object.defineProperty(dW,"__esModule",{value:!0})});var pW=h(hW=>{"use strict";Object.defineProperty(hW,"__esModule",{value:!0})});var yW=h(mW=>{"use strict";Object.defineProperty(mW,"__esModule",{value:!0})});var _W=h(gW=>{"use strict";Object.defineProperty(gW,"__esModule",{value:!0})});var AW=h(EW=>{"use strict";Object.defineProperty(EW,"__esModule",{value:!0})});var ds=h(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});var b1=(se(),ne(ie));b1.__exportStar(lW(),Ja);b1.__exportStar(fW(),Ja);b1.__exportStar(pW(),Ja);b1.__exportStar(yW(),Ja);b1.__exportStar(_W(),Ja);b1.__exportStar(AW(),Ja)});var z5=h(t3=>{"use strict";Object.defineProperty(t3,"__esModule",{value:!0});t3.isIpAddress=void 0;var p9e=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),m9e=t=>p9e.test(t)||t.startsWith("[")&&t.endsWith("]");t3.isIpAddress=m9e});var V5=h(O0=>{"use strict";Object.defineProperty(O0,"__esModule",{value:!0});O0.isValidHostLabel=void 0;var y9e=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),g9e=(t,e=!1)=>{if(!e)return y9e.test(t);let r=t.split(".");for(let n of r)if(!(0,O0.isValidHostLabel)(n))return!1;return!0};O0.isValidHostLabel=g9e});var SW=h(C0=>{"use strict";Object.defineProperty(C0,"__esModule",{value:!0});C0.isVirtualHostableS3Bucket=void 0;var _9e=z5(),E9e=V5(),A9e=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!(0,C0.isVirtualHostableS3Bucket)(r))return!1;return!0}return!(!(0,E9e.isValidHostLabel)(t)||t.length<3||t.length>63||t!==t.toLowerCase()||(0,_9e.isIpAddress)(t))};C0.isVirtualHostableS3Bucket=A9e});var wW=h(r3=>{"use strict";Object.defineProperty(r3,"__esModule",{value:!0});r3.parseArn=void 0;var S9e=t=>{let e=t.split(":");if(e.length<6)return null;let[r,n,i,s,o,...u]=e;return r!=="arn"||n===""||i===""||u[0]===""?null:{partition:n,service:i,region:s,accountId:o,resourceId:u[0].includes("/")?u[0].split("/"):u}};r3.parseArn=S9e});var OW=h(v0=>{"use strict";Object.defineProperty(v0,"__esModule",{value:!0});var W5=(se(),ne(ie));W5.__exportStar(SW(),v0);W5.__exportStar(wW(),v0);W5.__exportStar(j5(),v0)});var CW=h(n3=>{"use strict";Object.defineProperty(n3,"__esModule",{value:!0});n3.booleanEquals=void 0;var w9e=(t,e)=>t===e;n3.booleanEquals=w9e});var bW=h(i3=>{"use strict";Object.defineProperty(i3,"__esModule",{value:!0});i3.getAttrPathList=void 0;var vW=ds(),O9e=t=>{let e=t.split("."),r=[];for(let n of e){let i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new vW.EndpointError(`Path: '${t}' does not end with ']'`);let s=n.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new vW.EndpointError(`Invalid array index: '${s}' in path: '${t}'`);i!==0&&r.push(n.slice(0,i)),r.push(s)}else r.push(n)}return r};i3.getAttrPathList=O9e});var IW=h(s3=>{"use strict";Object.defineProperty(s3,"__esModule",{value:!0});s3.getAttr=void 0;var C9e=ds(),v9e=bW(),b9e=(t,e)=>(0,v9e.getAttrPathList)(e).reduce((r,n)=>{if(typeof r!="object")throw new C9e.EndpointError(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t);s3.getAttr=b9e});var PW=h(o3=>{"use strict";Object.defineProperty(o3,"__esModule",{value:!0});o3.isSet=void 0;var I9e=t=>t!=null;o3.isSet=I9e});var TW=h(u3=>{"use strict";Object.defineProperty(u3,"__esModule",{value:!0});u3.not=void 0;var P9e=t=>!t;u3.not=P9e});var RW=h(DW=>{"use strict";Object.defineProperty(DW,"__esModule",{value:!0})});var NW=h(b0=>{"use strict";Object.defineProperty(b0,"__esModule",{value:!0});b0.HttpAuthLocation=void 0;var T9e;(function(t){t.HEADER="header",t.QUERY="query"})(T9e=b0.HttpAuthLocation||(b0.HttpAuthLocation={}))});var MW=h(xW=>{"use strict";Object.defineProperty(xW,"__esModule",{value:!0})});var BW=h(FW=>{"use strict";Object.defineProperty(FW,"__esModule",{value:!0})});var $W=h(qW=>{"use strict";Object.defineProperty(qW,"__esModule",{value:!0})});var jW=h(kW=>{"use strict";Object.defineProperty(kW,"__esModule",{value:!0})});var UW=h(LW=>{"use strict";Object.defineProperty(LW,"__esModule",{value:!0})});var zW=h(I0=>{"use strict";Object.defineProperty(I0,"__esModule",{value:!0});I0.HostAddressType=void 0;var D9e;(function(t){t.AAAA="AAAA",t.A="A"})(D9e=I0.HostAddressType||(I0.HostAddressType={}))});var VW=h(P0=>{"use strict";Object.defineProperty(P0,"__esModule",{value:!0});P0.EndpointURLScheme=void 0;var R9e;(function(t){t.HTTP="http",t.HTTPS="https"})(R9e=P0.EndpointURLScheme||(P0.EndpointURLScheme={}))});var HW=h(WW=>{"use strict";Object.defineProperty(WW,"__esModule",{value:!0})});var KW=h(GW=>{"use strict";Object.defineProperty(GW,"__esModule",{value:!0})});var JW=h(YW=>{"use strict";Object.defineProperty(YW,"__esModule",{value:!0})});var XW=h(QW=>{"use strict";Object.defineProperty(QW,"__esModule",{value:!0})});var eH=h(ZW=>{"use strict";Object.defineProperty(ZW,"__esModule",{value:!0})});var rH=h(tH=>{"use strict";Object.defineProperty(tH,"__esModule",{value:!0})});var iH=h(nH=>{"use strict";Object.defineProperty(nH,"__esModule",{value:!0})});var sH=h(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});var T0=(se(),ne(ie));T0.__exportStar(JW(),Sl);T0.__exportStar(XW(),Sl);T0.__exportStar(eH(),Sl);T0.__exportStar(rH(),Sl);T0.__exportStar(iH(),Sl)});var uH=h(oH=>{"use strict";Object.defineProperty(oH,"__esModule",{value:!0})});var cH=h(aH=>{"use strict";Object.defineProperty(aH,"__esModule",{value:!0})});var dH=h(lH=>{"use strict";Object.defineProperty(lH,"__esModule",{value:!0})});var hH=h(fH=>{"use strict";Object.defineProperty(fH,"__esModule",{value:!0})});var mH=h(pH=>{"use strict";Object.defineProperty(pH,"__esModule",{value:!0})});var gH=h(yH=>{"use strict";Object.defineProperty(yH,"__esModule",{value:!0})});var EH=h(_H=>{"use strict";Object.defineProperty(_H,"__esModule",{value:!0})});var SH=h(AH=>{"use strict";Object.defineProperty(AH,"__esModule",{value:!0})});var OH=h(wH=>{"use strict";Object.defineProperty(wH,"__esModule",{value:!0})});var vH=h(CH=>{"use strict";Object.defineProperty(CH,"__esModule",{value:!0})});var IH=h(bH=>{"use strict";Object.defineProperty(bH,"__esModule",{value:!0})});var TH=h(PH=>{"use strict";Object.defineProperty(PH,"__esModule",{value:!0})});var RH=h(DH=>{"use strict";Object.defineProperty(DH,"__esModule",{value:!0})});var xH=h(NH=>{"use strict";Object.defineProperty(NH,"__esModule",{value:!0})});var FH=h(MH=>{"use strict";Object.defineProperty(MH,"__esModule",{value:!0})});var BH=h(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});var Tt=(se(),ne(ie));Tt.__exportStar(RW(),At);Tt.__exportStar(NW(),At);Tt.__exportStar(MW(),At);Tt.__exportStar(BW(),At);Tt.__exportStar($W(),At);Tt.__exportStar(jW(),At);Tt.__exportStar(UW(),At);Tt.__exportStar(zW(),At);Tt.__exportStar(VW(),At);Tt.__exportStar(HW(),At);Tt.__exportStar(KW(),At);Tt.__exportStar(sH(),At);Tt.__exportStar(uH(),At);Tt.__exportStar(cH(),At);Tt.__exportStar(dH(),At);Tt.__exportStar(hH(),At);Tt.__exportStar(mH(),At);Tt.__exportStar(gH(),At);Tt.__exportStar(EH(),At);Tt.__exportStar(SH(),At);Tt.__exportStar(OH(),At);Tt.__exportStar(vH(),At);Tt.__exportStar(IH(),At);Tt.__exportStar(TH(),At);Tt.__exportStar(RH(),At);Tt.__exportStar(xH(),At);Tt.__exportStar(FH(),At)});var qH=h(a3=>{"use strict";Object.defineProperty(a3,"__esModule",{value:!0});a3.parseURL=void 0;var G5=BH(),N9e=z5(),H5={[G5.EndpointURLScheme.HTTP]:80,[G5.EndpointURLScheme.HTTPS]:443},x9e=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:f,port:p,protocol:m="",path:y="",query:_={}}=t,g=new URL(`${m}//${f}${p?`:${p}`:""}${y}`);return g.search=Object.entries(_).map(([E,O])=>`${E}=${O}`).join("&"),g}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:i,pathname:s,protocol:o,search:u}=e;if(u)return null;let a=o.slice(0,-1);if(!Object.values(G5.EndpointURLScheme).includes(a))return null;let c=(0,N9e.isIpAddress)(i),l=r.includes(`${n}:${H5[a]}`)||typeof t=="string"&&t.includes(`${n}:${H5[a]}`),d=`${n}${l?`:${H5[a]}`:""}`;return{scheme:a,authority:d,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:c}};a3.parseURL=x9e});var $H=h(c3=>{"use strict";Object.defineProperty(c3,"__esModule",{value:!0});c3.stringEquals=void 0;var M9e=(t,e)=>t===e;c3.stringEquals=M9e});var kH=h(l3=>{"use strict";Object.defineProperty(l3,"__esModule",{value:!0});l3.substring=void 0;var F9e=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r);l3.substring=F9e});var jH=h(d3=>{"use strict";Object.defineProperty(d3,"__esModule",{value:!0});d3.uriEncode=void 0;var B9e=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`);d3.uriEncode=B9e});var K5=h(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.aws=void 0;var xo=(se(),ne(ie));Ti.aws=xo.__importStar(OW());xo.__exportStar(CW(),Ti);xo.__exportStar(IW(),Ti);xo.__exportStar(PW(),Ti);xo.__exportStar(V5(),Ti);xo.__exportStar(TW(),Ti);xo.__exportStar(qH(),Ti);xo.__exportStar($H(),Ti);xo.__exportStar(kH(),Ti);xo.__exportStar(jH(),Ti)});var Y5=h(f3=>{"use strict";Object.defineProperty(f3,"__esModule",{value:!0});f3.evaluateTemplate=void 0;var q9e=K5(),$9e=(t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},i=0;for(;i<t.length;){let s=t.indexOf("{",i);if(s===-1){r.push(t.slice(i));break}r.push(t.slice(i,s));let o=t.indexOf("}",s);if(o===-1){r.push(t.slice(s));break}t[s+1]==="{"&&t[o+1]==="}"&&(r.push(t.slice(s+1,o)),i=o+2);let u=t.substring(s+1,o);if(u.includes("#")){let[a,c]=u.split("#");r.push((0,q9e.getAttr)(n[a],c))}else r.push(n[u]);i=o+1}return r.join("")};f3.evaluateTemplate=$9e});var LH=h(h3=>{"use strict";Object.defineProperty(h3,"__esModule",{value:!0});h3.getReferenceValue=void 0;var k9e=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t];h3.getReferenceValue=k9e});var D0=h(p3=>{"use strict";Object.defineProperty(p3,"__esModule",{value:!0});p3.evaluateExpression=void 0;var j9e=ds(),L9e=J5(),U9e=Y5(),z9e=LH(),V9e=(t,e,r)=>{if(typeof t=="string")return(0,U9e.evaluateTemplate)(t,r);if(t.fn)return(0,L9e.callFunction)(t,r);if(t.ref)return(0,z9e.getReferenceValue)(t,r);throw new j9e.EndpointError(`'${e}': ${String(t)} is not a string, function or reference.`)};p3.evaluateExpression=V9e});var J5=h(m3=>{"use strict";Object.defineProperty(m3,"__esModule",{value:!0});m3.callFunction=void 0;var W9e=(se(),ne(ie)),H9e=W9e.__importStar(K5()),G9e=D0(),K9e=({fn:t,argv:e},r)=>{let n=e.map(i=>["boolean","number"].includes(typeof i)?i:(0,G9e.evaluateExpression)(i,"arg",r));return t.split(".").reduce((i,s)=>i[s],H9e)(...n)};m3.callFunction=K9e});var UH=h(y3=>{"use strict";Object.defineProperty(y3,"__esModule",{value:!0});y3.evaluateCondition=void 0;var Q5=w0(),Y9e=ds(),J9e=J5(),Q9e=({assign:t,...e},r)=>{var n,i;if(t&&t in r.referenceRecord)throw new Y9e.EndpointError(`'${t}' is already defined in Reference Record.`);let s=(0,J9e.callFunction)(e,r);return(i=(n=r.logger)===null||n===void 0?void 0:n.debug)===null||i===void 0||i.call(n,Q5.debugId,`evaluateCondition: ${(0,Q5.toDebugString)(e)} = ${(0,Q5.toDebugString)(s)}`),{result:s===""?!0:!!s,...t!=null&&{toAssign:{name:t,value:s}}}};y3.evaluateCondition=Q9e});var _3=h(g3=>{"use strict";Object.defineProperty(g3,"__esModule",{value:!0});g3.evaluateConditions=void 0;var zH=w0(),X9e=UH(),Z9e=(t=[],e)=>{var r,n;let i={};for(let s of t){let{result:o,toAssign:u}=(0,X9e.evaluateCondition)(s,{...e,referenceRecord:{...e.referenceRecord,...i}});if(!o)return{result:o};u&&(i[u.name]=u.value,(n=(r=e.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,zH.debugId,`assign: ${u.name} := ${(0,zH.toDebugString)(u.value)}`))}return{result:!0,referenceRecord:i}};g3.evaluateConditions=Z9e});var VH=h(E3=>{"use strict";Object.defineProperty(E3,"__esModule",{value:!0});E3.getEndpointHeaders=void 0;var e8e=ds(),t8e=D0(),r8e=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:i.map(s=>{let o=(0,t8e.evaluateExpression)(s,"Header value entry",e);if(typeof o!="string")throw new e8e.EndpointError(`Header '${n}' value '${o}' is not a string`);return o})}),{});E3.getEndpointHeaders=r8e});var HH=h(R0=>{"use strict";Object.defineProperty(R0,"__esModule",{value:!0});R0.getEndpointProperty=void 0;var WH=ds(),n8e=Y5(),i8e=X5(),s8e=(t,e)=>{if(Array.isArray(t))return t.map(r=>(0,R0.getEndpointProperty)(r,e));switch(typeof t){case"string":return(0,n8e.evaluateTemplate)(t,e);case"object":if(t===null)throw new WH.EndpointError(`Unexpected endpoint property: ${t}`);return(0,i8e.getEndpointProperties)(t,e);case"boolean":return t;default:throw new WH.EndpointError(`Unexpected endpoint property type: ${typeof t}`)}};R0.getEndpointProperty=s8e});var X5=h(A3=>{"use strict";Object.defineProperty(A3,"__esModule",{value:!0});A3.getEndpointProperties=void 0;var o8e=HH(),u8e=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:(0,o8e.getEndpointProperty)(i,e)}),{});A3.getEndpointProperties=u8e});var GH=h(S3=>{"use strict";Object.defineProperty(S3,"__esModule",{value:!0});S3.getEndpointUrl=void 0;var a8e=ds(),c8e=D0(),l8e=(t,e)=>{let r=(0,c8e.evaluateExpression)(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new a8e.EndpointError(`Endpoint URL must be a string, got ${typeof r}`)};S3.getEndpointUrl=l8e});var YH=h(w3=>{"use strict";Object.defineProperty(w3,"__esModule",{value:!0});w3.evaluateEndpointRule=void 0;var KH=w0(),d8e=_3(),f8e=VH(),h8e=X5(),p8e=GH(),m8e=(t,e)=>{var r,n;let{conditions:i,endpoint:s}=t,{result:o,referenceRecord:u}=(0,d8e.evaluateConditions)(i,e);if(!o)return;let a={...e,referenceRecord:{...e.referenceRecord,...u}},{url:c,properties:l,headers:d}=s;return(n=(r=e.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,KH.debugId,`Resolving endpoint from template: ${(0,KH.toDebugString)(s)}`),{...d!=null&&{headers:(0,f8e.getEndpointHeaders)(d,a)},...l!=null&&{properties:(0,h8e.getEndpointProperties)(l,a)},url:(0,p8e.getEndpointUrl)(c,a)}};w3.evaluateEndpointRule=m8e});var JH=h(O3=>{"use strict";Object.defineProperty(O3,"__esModule",{value:!0});O3.evaluateErrorRule=void 0;var y8e=ds(),g8e=_3(),_8e=D0(),E8e=(t,e)=>{let{conditions:r,error:n}=t,{result:i,referenceRecord:s}=(0,g8e.evaluateConditions)(r,e);if(i)throw new y8e.EndpointError((0,_8e.evaluateExpression)(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...s}}))};O3.evaluateErrorRule=E8e});var QH=h(C3=>{"use strict";Object.defineProperty(C3,"__esModule",{value:!0});C3.evaluateTreeRule=void 0;var A8e=_3(),S8e=Z5(),w8e=(t,e)=>{let{conditions:r,rules:n}=t,{result:i,referenceRecord:s}=(0,A8e.evaluateConditions)(r,e);if(i)return(0,S8e.evaluateRules)(n,{...e,referenceRecord:{...e.referenceRecord,...s}})};C3.evaluateTreeRule=w8e});var Z5=h(v3=>{"use strict";Object.defineProperty(v3,"__esModule",{value:!0});v3.evaluateRules=void 0;var XH=ds(),O8e=YH(),C8e=JH(),v8e=QH(),b8e=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=(0,O8e.evaluateEndpointRule)(r,e);if(n)return n}else if(r.type==="error")(0,C8e.evaluateErrorRule)(r,e);else if(r.type==="tree"){let n=(0,v8e.evaluateTreeRule)(r,e);if(n)return n}else throw new XH.EndpointError(`Unknown endpoint rule: ${r}`);throw new XH.EndpointError("Rules evaluation failed")};v3.evaluateRules=b8e});var ZH=h(eP=>{"use strict";Object.defineProperty(eP,"__esModule",{value:!0});var I8e=(se(),ne(ie));I8e.__exportStar(Z5(),eP)});var eG=h(I3=>{"use strict";Object.defineProperty(I3,"__esModule",{value:!0});I3.resolveEndpoint=void 0;var b3=w0(),P8e=ds(),T8e=ZH(),D8e=(t,e)=>{var r,n,i,s,o,u;let{endpointParams:a,logger:c}=e,{parameters:l,rules:d}=t;(n=(r=e.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,b3.debugId,`Initial EndpointParams: ${(0,b3.toDebugString)(a)}`);let f=Object.entries(l).filter(([,y])=>y.default!=null).map(([y,_])=>[y,_.default]);if(f.length>0)for(let[y,_]of f)a[y]=(i=a[y])!==null&&i!==void 0?i:_;let p=Object.entries(l).filter(([,y])=>y.required).map(([y])=>y);for(let y of p)if(a[y]==null)throw new P8e.EndpointError(`Missing required parameter: '${y}'`);let m=(0,T8e.evaluateRules)(d,{endpointParams:a,logger:c,referenceRecord:{}});if(!((s=e.endpointParams)===null||s===void 0)&&s.Endpoint)try{let y=new URL(e.endpointParams.Endpoint),{protocol:_,port:g}=y;m.url.protocol=_,m.url.port=g}catch{}return(u=(o=e.logger)===null||o===void 0?void 0:o.debug)===null||u===void 0||u.call(o,b3.debugId,`Resolved endpoint: ${(0,b3.toDebugString)(m)}`),m};I3.resolveEndpoint=D8e});var x0=h(N0=>{"use strict";Object.defineProperty(N0,"__esModule",{value:!0});var tP=(se(),ne(ie));tP.__exportStar(j5(),N0);tP.__exportStar(eG(),N0);tP.__exportStar(ds(),N0)});var fG=h(P3=>{"use strict";Object.defineProperty(P3,"__esModule",{value:!0});P3.ruleSet=void 0;var aG="required",Iu="fn",Pu="argv",I1="ref",rP="PartitionResult",Mo="tree",M0="error",F0="endpoint",tG={[aG]:!1,type:"String"},rG={[aG]:!0,default:!1,type:"Boolean"},cG={[I1]:"Endpoint"},lG={[Iu]:"booleanEquals",[Pu]:[{[I1]:"UseFIPS"},!0]},dG={[Iu]:"booleanEquals",[Pu]:[{[I1]:"UseDualStack"},!0]},Fo={},nG={[Iu]:"booleanEquals",[Pu]:[!0,{[Iu]:"getAttr",[Pu]:[{[I1]:rP},"supportsFIPS"]}]},iG={[Iu]:"booleanEquals",[Pu]:[!0,{[Iu]:"getAttr",[Pu]:[{[I1]:rP},"supportsDualStack"]}]},sG=[cG],oG=[lG],uG=[dG],R8e={version:"1.0",parameters:{Region:tG,UseDualStack:rG,UseFIPS:rG,Endpoint:tG},rules:[{conditions:[{[Iu]:"aws.partition",[Pu]:[{[I1]:"Region"}],assign:rP}],type:Mo,rules:[{conditions:[{[Iu]:"isSet",[Pu]:sG},{[Iu]:"parseURL",[Pu]:sG,assign:"url"}],type:Mo,rules:[{conditions:oG,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:M0},{type:Mo,rules:[{conditions:uG,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:M0},{endpoint:{url:cG,properties:Fo,headers:Fo},type:F0}]}]},{conditions:[lG,dG],type:Mo,rules:[{conditions:[nG,iG],type:Mo,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Fo,headers:Fo},type:F0}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:M0}]},{conditions:oG,type:Mo,rules:[{conditions:[nG],type:Mo,rules:[{type:Mo,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Fo,headers:Fo},type:F0}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:M0}]},{conditions:uG,type:Mo,rules:[{conditions:[iG],type:Mo,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Fo,headers:Fo},type:F0}]},{error:"DualStack is enabled but this partition does not support DualStack",type:M0}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Fo,headers:Fo},type:F0}]}]};P3.ruleSet=R8e});var hG=h(T3=>{"use strict";Object.defineProperty(T3,"__esModule",{value:!0});T3.defaultEndpointResolver=void 0;var N8e=x0(),x8e=fG(),M8e=(t,e={})=>(0,N8e.resolveEndpoint)(x8e.ruleSet,{endpointParams:t,logger:e.logger});T3.defaultEndpointResolver=M8e});var yG=h(D3=>{"use strict";Object.defineProperty(D3,"__esModule",{value:!0});D3.getRuntimeConfig=void 0;var F8e=ae(),B8e=al(),pG=S0(),mG=Ou(),q8e=hG(),$8e=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??pG.fromBase64,base64Encoder:t?.base64Encoder??pG.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??q8e.defaultEndpointResolver,logger:t?.logger??new F8e.NoOpLogger,serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??B8e.parseUrl,utf8Decoder:t?.utf8Decoder??mG.fromUtf8,utf8Encoder:t?.utf8Encoder??mG.toUtf8});D3.getRuntimeConfig=$8e});var gG=h(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.IMDS_REGION_PATH=si.DEFAULTS_MODE_OPTIONS=si.ENV_IMDS_DISABLED=si.AWS_DEFAULT_REGION_ENV=si.AWS_REGION_ENV=si.AWS_EXECUTION_ENV=void 0;si.AWS_EXECUTION_ENV="AWS_EXECUTION_ENV";si.AWS_REGION_ENV="AWS_REGION";si.AWS_DEFAULT_REGION_ENV="AWS_DEFAULT_REGION";si.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";si.DEFAULTS_MODE_OPTIONS=["in-region","cross-region","mobile","standard","legacy"];si.IMDS_REGION_PATH="/latest/meta-data/placement/region"});var _G=h(R3=>{"use strict";Object.defineProperty(R3,"__esModule",{value:!0});R3.NODE_DEFAULTS_MODE_CONFIG_OPTIONS=void 0;var k8e="AWS_DEFAULTS_MODE",j8e="defaults_mode";R3.NODE_DEFAULTS_MODE_CONFIG_OPTIONS={environmentVariableSelector:t=>t[k8e],configFileSelector:t=>t[j8e],default:"legacy"}});var SG=h(N3=>{"use strict";Object.defineProperty(N3,"__esModule",{value:!0});N3.resolveDefaultsModeConfig=void 0;var L8e=mo(),EG=w1(),AG=Ka(),U8e=pt(),Qa=gG(),z8e=_G(),V8e=({region:t=(0,AG.loadConfig)(L8e.NODE_REGION_CONFIG_OPTIONS),defaultsMode:e=(0,AG.loadConfig)(z8e.NODE_DEFAULTS_MODE_CONFIG_OPTIONS)}={})=>(0,U8e.memoize)(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return W8e(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Qa.DEFAULTS_MODE_OPTIONS.join(", ")}, got ${r}`)}});N3.resolveDefaultsModeConfig=V8e;var W8e=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await H8e();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},H8e=async()=>{var t;if(process.env[Qa.AWS_EXECUTION_ENV]&&(process.env[Qa.AWS_REGION_ENV]||process.env[Qa.AWS_DEFAULT_REGION_ENV]))return(t=process.env[Qa.AWS_REGION_ENV])!==null&&t!==void 0?t:process.env[Qa.AWS_DEFAULT_REGION_ENV];if(!process.env[Qa.ENV_IMDS_DISABLED])try{let e=await(0,EG.getInstanceMetadataEndpoint)();return(await(0,EG.httpRequest)({...e,path:Qa.IMDS_REGION_PATH})).toString()}catch{}}});var B0=h(nP=>{"use strict";Object.defineProperty(nP,"__esModule",{value:!0});var G8e=(se(),ne(ie));G8e.__exportStar(SG(),nP)});var CG=h(M3=>{"use strict";Object.defineProperty(M3,"__esModule",{value:!0});M3.getRuntimeConfig=void 0;var K8e=(se(),ne(ie)),Y8e=K8e.__importDefault(kV()),x3=mo(),J8e=y0(),wG=wu(),q0=Ka(),OG=_0(),Q8e=E0(),X8e=cs(),Z8e=A0(),e7e=yG(),t7e=ae(),r7e=B0(),n7e=ae(),i7e=t=>{(0,n7e.emitWarningIfUnsupportedVersion)(process.version);let e=(0,r7e.resolveDefaultsModeConfig)(t),r=()=>e().then(t7e.loadConfigsForDefaultMode),n=(0,e7e.getRuntimeConfig)(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??Q8e.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,Z8e.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Y8e.default.version}),maxAttempts:t?.maxAttempts??(0,q0.loadConfig)(wG.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,q0.loadConfig)(x3.NODE_REGION_CONFIG_OPTIONS,x3.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:t?.requestHandler??new OG.NodeHttpHandler(r),retryMode:t?.retryMode??(0,q0.loadConfig)({...wG.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||X8e.DEFAULT_RETRY_MODE}),sha256:t?.sha256??J8e.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??OG.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,q0.loadConfig)(x3.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,q0.loadConfig)(x3.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};M3.getRuntimeConfig=i7e});var $0=h(F3=>{"use strict";Object.defineProperty(F3,"__esModule",{value:!0});F3.SSOClient=void 0;var s7e=mo(),o7e=pp(),u7e=be(),vG=_p(),a7e=Ep(),c7e=Ap(),bG=wu(),IG=Np(),l7e=ae(),d7e=$V(),f7e=CG(),iP=class extends l7e.Client{constructor(e){let r=(0,f7e.getRuntimeConfig)(e),n=(0,d7e.resolveClientEndpointParameters)(r),i=(0,s7e.resolveRegionConfig)(n),s=(0,u7e.resolveEndpointConfig)(i),o=(0,bG.resolveRetryConfig)(s),u=(0,vG.resolveHostHeaderConfig)(o),a=(0,IG.resolveUserAgentConfig)(u);super(a),this.config=a,this.middlewareStack.use((0,bG.getRetryPlugin)(this.config)),this.middlewareStack.use((0,o7e.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,vG.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,a7e.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,c7e.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,IG.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};F3.SSOClient=iP});var q3=h(B3=>{"use strict";Object.defineProperty(B3,"__esModule",{value:!0});B3.SSO=void 0;var h7e=O5(),p7e=Tw(),m7e=Rw(),y7e=C5(),g7e=$0(),sP=class extends g7e.SSOClient{getRoleCredentials(e,r,n){let i=new h7e.GetRoleCredentialsCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}listAccountRoles(e,r,n){let i=new p7e.ListAccountRolesCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}listAccounts(e,r,n){let i=new m7e.ListAccountsCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}logout(e,r,n){let i=new y7e.LogoutCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}};B3.SSO=sP});var PG=h(P1=>{"use strict";Object.defineProperty(P1,"__esModule",{value:!0});var $3=(se(),ne(ie));$3.__exportStar(O5(),P1);$3.__exportStar(Tw(),P1);$3.__exportStar(Rw(),P1);$3.__exportStar(C5(),P1)});var TG=h(oP=>{"use strict";Object.defineProperty(oP,"__esModule",{value:!0});var _7e=(se(),ne(ie));_7e.__exportStar(Al(),oP)});var RG=h(DG=>{"use strict";Object.defineProperty(DG,"__esModule",{value:!0})});var NG=h(k3=>{"use strict";Object.defineProperty(k3,"__esModule",{value:!0});k3.paginateListAccountRoles=void 0;var E7e=Tw(),A7e=q3(),S7e=$0(),w7e=async(t,e,...r)=>await t.send(new E7e.ListAccountRolesCommand(e),...r),O7e=async(t,e,...r)=>await t.listAccountRoles(e,...r);async function*C7e(t,e,...r){let n=t.startingToken||void 0,i=!0,s;for(;i;){if(e.nextToken=n,e.maxResults=t.pageSize,t.client instanceof A7e.SSO)s=await O7e(t.client,e,...r);else if(t.client instanceof S7e.SSOClient)s=await w7e(t.client,e,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield s;let o=n;n=s.nextToken,i=!!(n&&(!t.stopOnSameToken||n!==o))}return void 0}k3.paginateListAccountRoles=C7e});var xG=h(j3=>{"use strict";Object.defineProperty(j3,"__esModule",{value:!0});j3.paginateListAccounts=void 0;var v7e=Rw(),b7e=q3(),I7e=$0(),P7e=async(t,e,...r)=>await t.send(new v7e.ListAccountsCommand(e),...r),T7e=async(t,e,...r)=>await t.listAccounts(e,...r);async function*D7e(t,e,...r){let n=t.startingToken||void 0,i=!0,s;for(;i;){if(e.nextToken=n,e.maxResults=t.pageSize,t.client instanceof b7e.SSO)s=await T7e(t.client,e,...r);else if(t.client instanceof I7e.SSOClient)s=await P7e(t.client,e,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield s;let o=n;n=s.nextToken,i=!!(n&&(!t.stopOnSameToken||n!==o))}return void 0}j3.paginateListAccounts=D7e});var MG=h(k0=>{"use strict";Object.defineProperty(k0,"__esModule",{value:!0});var uP=(se(),ne(ie));uP.__exportStar(RG(),k0);uP.__exportStar(NG(),k0);uP.__exportStar(xG(),k0)});var aP=h(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.SSOServiceException=void 0;var j0=(se(),ne(ie));j0.__exportStar(q3(),Tu);j0.__exportStar($0(),Tu);j0.__exportStar(PG(),Tu);j0.__exportStar(TG(),Tu);j0.__exportStar(MG(),Tu);var R7e=mw();Object.defineProperty(Tu,"SSOServiceException",{enumerable:!0,get:function(){return R7e.SSOServiceException}})});var L3=h(T1=>{"use strict";Object.defineProperty(T1,"__esModule",{value:!0});T1.REFRESH_MESSAGE=T1.EXPIRE_WINDOW_MS=void 0;T1.EXPIRE_WINDOW_MS=5*60*1e3;T1.REFRESH_MESSAGE="To refresh this SSO session run 'aws sso login' with the corresponding profile."});var z3=h(U3=>{"use strict";Object.defineProperty(U3,"__esModule",{value:!0});U3.SSOOIDCServiceException=void 0;var N7e=ae(),L0=class extends N7e.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,L0.prototype)}};U3.SSOOIDCServiceException=L0});var D1=h(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.StartDeviceAuthorizationResponseFilterSensitiveLog=We.StartDeviceAuthorizationRequestFilterSensitiveLog=We.RegisterClientResponseFilterSensitiveLog=We.RegisterClientRequestFilterSensitiveLog=We.CreateTokenResponseFilterSensitiveLog=We.CreateTokenRequestFilterSensitiveLog=We.InvalidClientMetadataException=We.UnsupportedGrantTypeException=We.UnauthorizedClientException=We.SlowDownException=We.InvalidScopeException=We.InvalidRequestException=We.InvalidGrantException=We.InvalidClientException=We.InternalServerException=We.ExpiredTokenException=We.AuthorizationPendingException=We.AccessDeniedException=void 0;var fs=z3(),U0=class extends fs.SSOOIDCServiceException{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,U0.prototype),this.error=e.error,this.error_description=e.error_description}};We.AccessDeniedException=U0;var z0=class extends fs.SSOOIDCServiceException{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,z0.prototype),this.error=e.error,this.error_description=e.error_description}};We.AuthorizationPendingException=z0;var V0=class extends fs.SSOOIDCServiceException{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,V0.prototype),this.error=e.error,this.error_description=e.error_description}};We.ExpiredTokenException=V0;var W0=class extends fs.SSOOIDCServiceException{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,W0.prototype),this.error=e.error,this.error_description=e.error_description}};We.InternalServerException=W0;var H0=class extends fs.SSOOIDCServiceException{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,H0.prototype),this.error=e.error,this.error_description=e.error_description}};We.InvalidClientException=H0;var G0=class extends fs.SSOOIDCServiceException{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,G0.prototype),this.error=e.error,this.error_description=e.error_description}};We.InvalidGrantException=G0;var K0=class extends fs.SSOOIDCServiceException{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,K0.prototype),this.error=e.error,this.error_description=e.error_description}};We.InvalidRequestException=K0;var Y0=class extends fs.SSOOIDCServiceException{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Y0.prototype),this.error=e.error,this.error_description=e.error_description}};We.InvalidScopeException=Y0;var J0=class extends fs.SSOOIDCServiceException{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,J0.prototype),this.error=e.error,this.error_description=e.error_description}};We.SlowDownException=J0;var Q0=class extends fs.SSOOIDCServiceException{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Q0.prototype),this.error=e.error,this.error_description=e.error_description}};We.UnauthorizedClientException=Q0;var X0=class extends fs.SSOOIDCServiceException{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,X0.prototype),this.error=e.error,this.error_description=e.error_description}};We.UnsupportedGrantTypeException=X0;var Z0=class extends fs.SSOOIDCServiceException{constructor(e){super({name:"InvalidClientMetadataException",$fault:"client",...e}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,Z0.prototype),this.error=e.error,this.error_description=e.error_description}};We.InvalidClientMetadataException=Z0;var x7e=t=>({...t});We.CreateTokenRequestFilterSensitiveLog=x7e;var M7e=t=>({...t});We.CreateTokenResponseFilterSensitiveLog=M7e;var F7e=t=>({...t});We.RegisterClientRequestFilterSensitiveLog=F7e;var B7e=t=>({...t});We.RegisterClientResponseFilterSensitiveLog=B7e;var q7e=t=>({...t});We.StartDeviceAuthorizationRequestFilterSensitiveLog=q7e;var $7e=t=>({...t});We.StartDeviceAuthorizationResponseFilterSensitiveLog=$7e});var W3=h(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.deserializeAws_restJson1StartDeviceAuthorizationCommand=oi.deserializeAws_restJson1RegisterClientCommand=oi.deserializeAws_restJson1CreateTokenCommand=oi.serializeAws_restJson1StartDeviceAuthorizationCommand=oi.serializeAws_restJson1RegisterClientCommand=oi.serializeAws_restJson1CreateTokenCommand=void 0;var cP=Bn(),ce=ae(),hs=D1(),lP=z3(),k7e=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:s}=await e.endpoint(),o={"content-type":"application/json"},u=`${s?.endsWith("/")?s.slice(0,-1):s||""}/token`,a;return a=JSON.stringify({...t.clientId!=null&&{clientId:t.clientId},...t.clientSecret!=null&&{clientSecret:t.clientSecret},...t.code!=null&&{code:t.code},...t.deviceCode!=null&&{deviceCode:t.deviceCode},...t.grantType!=null&&{grantType:t.grantType},...t.redirectUri!=null&&{redirectUri:t.redirectUri},...t.refreshToken!=null&&{refreshToken:t.refreshToken},...t.scope!=null&&{scope:kG(t.scope,e)}}),new cP.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:o,path:u,body:a})};oi.serializeAws_restJson1CreateTokenCommand=k7e;var j7e=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:s}=await e.endpoint(),o={"content-type":"application/json"},u=`${s?.endsWith("/")?s.slice(0,-1):s||""}/client/register`,a;return a=JSON.stringify({...t.clientName!=null&&{clientName:t.clientName},...t.clientType!=null&&{clientType:t.clientType},...t.scopes!=null&&{scopes:kG(t.scopes,e)}}),new cP.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:o,path:u,body:a})};oi.serializeAws_restJson1RegisterClientCommand=j7e;var L7e=async(t,e)=>{let{hostname:r,protocol:n="https",port:i,path:s}=await e.endpoint(),o={"content-type":"application/json"},u=`${s?.endsWith("/")?s.slice(0,-1):s||""}/device_authorization`,a;return a=JSON.stringify({...t.clientId!=null&&{clientId:t.clientId},...t.clientSecret!=null&&{clientSecret:t.clientSecret},...t.startUrl!=null&&{startUrl:t.startUrl}}),new cP.HttpRequest({protocol:n,hostname:r,port:i,method:"POST",headers:o,path:u,body:a})};oi.serializeAws_restJson1StartDeviceAuthorizationCommand=L7e;var U7e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return z7e(t,e);let r=$n({$metadata:kn(t)}),n=(0,ce.expectNonNull)((0,ce.expectObject)(await V3(t.body,e)),"body");return n.accessToken!=null&&(r.accessToken=(0,ce.expectString)(n.accessToken)),n.expiresIn!=null&&(r.expiresIn=(0,ce.expectInt32)(n.expiresIn)),n.idToken!=null&&(r.idToken=(0,ce.expectString)(n.idToken)),n.refreshToken!=null&&(r.refreshToken=(0,ce.expectString)(n.refreshToken)),n.tokenType!=null&&(r.tokenType=(0,ce.expectString)(n.tokenType)),r};oi.deserializeAws_restJson1CreateTokenCommand=U7e;var z7e=async(t,e)=>{let r={...t,body:await hP(t.body,e)},n=pP(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await K7e(r,e);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Y7e(r,e);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await J7e(r,e);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await dP(r,e);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await FG(r,e);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await X7e(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await fP(r,e);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await BG(r,e);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await qG(r,e);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await $G(r,e);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Z7e(r,e);default:let i=r.body;(0,ce.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:lP.SSOOIDCServiceException,errorCode:n})}},V7e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return W7e(t,e);let r=$n({$metadata:kn(t)}),n=(0,ce.expectNonNull)((0,ce.expectObject)(await V3(t.body,e)),"body");return n.authorizationEndpoint!=null&&(r.authorizationEndpoint=(0,ce.expectString)(n.authorizationEndpoint)),n.clientId!=null&&(r.clientId=(0,ce.expectString)(n.clientId)),n.clientIdIssuedAt!=null&&(r.clientIdIssuedAt=(0,ce.expectLong)(n.clientIdIssuedAt)),n.clientSecret!=null&&(r.clientSecret=(0,ce.expectString)(n.clientSecret)),n.clientSecretExpiresAt!=null&&(r.clientSecretExpiresAt=(0,ce.expectLong)(n.clientSecretExpiresAt)),n.tokenEndpoint!=null&&(r.tokenEndpoint=(0,ce.expectString)(n.tokenEndpoint)),r};oi.deserializeAws_restJson1RegisterClientCommand=V7e;var W7e=async(t,e)=>{let r={...t,body:await hP(t.body,e)},n=pP(t,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await dP(r,e);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await Q7e(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await fP(r,e);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await BG(r,e);default:let i=r.body;(0,ce.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:lP.SSOOIDCServiceException,errorCode:n})}},H7e=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return G7e(t,e);let r=$n({$metadata:kn(t)}),n=(0,ce.expectNonNull)((0,ce.expectObject)(await V3(t.body,e)),"body");return n.deviceCode!=null&&(r.deviceCode=(0,ce.expectString)(n.deviceCode)),n.expiresIn!=null&&(r.expiresIn=(0,ce.expectInt32)(n.expiresIn)),n.interval!=null&&(r.interval=(0,ce.expectInt32)(n.interval)),n.userCode!=null&&(r.userCode=(0,ce.expectString)(n.userCode)),n.verificationUri!=null&&(r.verificationUri=(0,ce.expectString)(n.verificationUri)),n.verificationUriComplete!=null&&(r.verificationUriComplete=(0,ce.expectString)(n.verificationUriComplete)),r};oi.deserializeAws_restJson1StartDeviceAuthorizationCommand=H7e;var G7e=async(t,e)=>{let r={...t,body:await hP(t.body,e)},n=pP(t,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await dP(r,e);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await FG(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await fP(r,e);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await qG(r,e);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await $G(r,e);default:let i=r.body;(0,ce.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:lP.SSOOIDCServiceException,errorCode:n})}},$n=ce.map,K7e=async(t,e)=>{let r=$n({}),n=t.body;n.error!=null&&(r.error=(0,ce.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,ce.expectString)(n.error_description));let i=new hs.AccessDeniedException({$metadata:kn(t),...r});return(0,ce.decorateServiceException)(i,t.body)},Y7e=async(t,e)=>{let r=$n({}),n=t.body;n.error!=null&&(r.error=(0,ce.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,ce.expectString)(n.error_description));let i=new hs.AuthorizationPendingException({$metadata:kn(t),...r});return(0,ce.decorateServiceException)(i,t.body)},J7e=async(t,e)=>{let r=$n({}),n=t.body;n.error!=null&&(r.error=(0,ce.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,ce.expectString)(n.error_description));let i=new hs.ExpiredTokenException({$metadata:kn(t),...r});return(0,ce.decorateServiceException)(i,t.body)},dP=async(t,e)=>{let r=$n({}),n=t.body;n.error!=null&&(r.error=(0,ce.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,ce.expectString)(n.error_description));let i=new hs.InternalServerException({$metadata:kn(t),...r});return(0,ce.decorateServiceException)(i,t.body)},FG=async(t,e)=>{let r=$n({}),n=t.body;n.error!=null&&(r.error=(0,ce.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,ce.expectString)(n.error_description));let i=new hs.InvalidClientException({$metadata:kn(t),...r});return(0,ce.decorateServiceException)(i,t.body)},Q7e=async(t,e)=>{let r=$n({}),n=t.body;n.error!=null&&(r.error=(0,ce.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,ce.expectString)(n.error_description));let i=new hs.InvalidClientMetadataException({$metadata:kn(t),...r});return(0,ce.decorateServiceException)(i,t.body)},X7e=async(t,e)=>{let r=$n({}),n=t.body;n.error!=null&&(r.error=(0,ce.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,ce.expectString)(n.error_description));let i=new hs.InvalidGrantException({$metadata:kn(t),...r});return(0,ce.decorateServiceException)(i,t.body)},fP=async(t,e)=>{let r=$n({}),n=t.body;n.error!=null&&(r.error=(0,ce.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,ce.expectString)(n.error_description));let i=new hs.InvalidRequestException({$metadata:kn(t),...r});return(0,ce.decorateServiceException)(i,t.body)},BG=async(t,e)=>{let r=$n({}),n=t.body;n.error!=null&&(r.error=(0,ce.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,ce.expectString)(n.error_description));let i=new hs.InvalidScopeException({$metadata:kn(t),...r});return(0,ce.decorateServiceException)(i,t.body)},qG=async(t,e)=>{let r=$n({}),n=t.body;n.error!=null&&(r.error=(0,ce.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,ce.expectString)(n.error_description));let i=new hs.SlowDownException({$metadata:kn(t),...r});return(0,ce.decorateServiceException)(i,t.body)},$G=async(t,e)=>{let r=$n({}),n=t.body;n.error!=null&&(r.error=(0,ce.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,ce.expectString)(n.error_description));let i=new hs.UnauthorizedClientException({$metadata:kn(t),...r});return(0,ce.decorateServiceException)(i,t.body)},Z7e=async(t,e)=>{let r=$n({}),n=t.body;n.error!=null&&(r.error=(0,ce.expectString)(n.error)),n.error_description!=null&&(r.error_description=(0,ce.expectString)(n.error_description));let i=new hs.UnsupportedGrantTypeException({$metadata:kn(t),...r});return(0,ce.decorateServiceException)(i,t.body)},kG=(t,e)=>t.filter(r=>r!=null).map(r=>r),kn=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),eIe=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),tIe=(t,e)=>eIe(t,e).then(r=>e.utf8Encoder(r)),V3=(t,e)=>tIe(t,e).then(r=>r.length?JSON.parse(r):{}),hP=async(t,e)=>{let r=await V3(t,e);return r.message=r.message??r.Message,r},pP=(t,e)=>{let r=(s,o)=>Object.keys(s).find(u=>u.toLowerCase()===o.toLowerCase()),n=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)}});var mP=h(H3=>{"use strict";Object.defineProperty(H3,"__esModule",{value:!0});H3.CreateTokenCommand=void 0;var rIe=be(),nIe=Le(),iIe=ae(),jG=D1(),LG=W3(),em=class extends iIe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,nIe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,rIe.getEndpointPlugin)(r,em.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:jG.CreateTokenRequestFilterSensitiveLog,outputFilterSensitiveLog:jG.CreateTokenResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,LG.serializeAws_restJson1CreateTokenCommand)(e,r)}deserialize(e,r){return(0,LG.deserializeAws_restJson1CreateTokenCommand)(e,r)}};H3.CreateTokenCommand=em});var yP=h(G3=>{"use strict";Object.defineProperty(G3,"__esModule",{value:!0});G3.RegisterClientCommand=void 0;var sIe=be(),oIe=Le(),uIe=ae(),UG=D1(),zG=W3(),tm=class extends uIe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,oIe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,sIe.getEndpointPlugin)(r,tm.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"SSOOIDCClient",commandName:"RegisterClientCommand",inputFilterSensitiveLog:UG.RegisterClientRequestFilterSensitiveLog,outputFilterSensitiveLog:UG.RegisterClientResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,zG.serializeAws_restJson1RegisterClientCommand)(e,r)}deserialize(e,r){return(0,zG.deserializeAws_restJson1RegisterClientCommand)(e,r)}};G3.RegisterClientCommand=tm});var gP=h(K3=>{"use strict";Object.defineProperty(K3,"__esModule",{value:!0});K3.StartDeviceAuthorizationCommand=void 0;var aIe=be(),cIe=Le(),lIe=ae(),VG=D1(),WG=W3(),rm=class extends lIe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,cIe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,aIe.getEndpointPlugin)(r,rm.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"SSOOIDCClient",commandName:"StartDeviceAuthorizationCommand",inputFilterSensitiveLog:VG.StartDeviceAuthorizationRequestFilterSensitiveLog,outputFilterSensitiveLog:VG.StartDeviceAuthorizationResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,WG.serializeAws_restJson1StartDeviceAuthorizationCommand)(e,r)}deserialize(e,r){return(0,WG.deserializeAws_restJson1StartDeviceAuthorizationCommand)(e,r)}};K3.StartDeviceAuthorizationCommand=rm});var HG=h(Y3=>{"use strict";Object.defineProperty(Y3,"__esModule",{value:!0});Y3.resolveClientEndpointParameters=void 0;var dIe=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});Y3.resolveClientEndpointParameters=dIe});var GG=h((jut,fIe)=>{fIe.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.272.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.272.0","@aws-sdk/fetch-http-handler":"3.272.0","@aws-sdk/hash-node":"3.272.0","@aws-sdk/invalid-dependency":"3.272.0","@aws-sdk/middleware-content-length":"3.272.0","@aws-sdk/middleware-endpoint":"3.272.0","@aws-sdk/middleware-host-header":"3.272.0","@aws-sdk/middleware-logger":"3.272.0","@aws-sdk/middleware-recursion-detection":"3.272.0","@aws-sdk/middleware-retry":"3.272.0","@aws-sdk/middleware-serde":"3.272.0","@aws-sdk/middleware-stack":"3.272.0","@aws-sdk/middleware-user-agent":"3.272.0","@aws-sdk/node-config-provider":"3.272.0","@aws-sdk/node-http-handler":"3.272.0","@aws-sdk/protocol-http":"3.272.0","@aws-sdk/smithy-client":"3.272.0","@aws-sdk/types":"3.272.0","@aws-sdk/url-parser":"3.272.0","@aws-sdk/util-base64":"3.208.0","@aws-sdk/util-body-length-browser":"3.188.0","@aws-sdk/util-body-length-node":"3.208.0","@aws-sdk/util-defaults-mode-browser":"3.272.0","@aws-sdk/util-defaults-mode-node":"3.272.0","@aws-sdk/util-endpoints":"3.272.0","@aws-sdk/util-retry":"3.272.0","@aws-sdk/util-user-agent-browser":"3.272.0","@aws-sdk/util-user-agent-node":"3.272.0","@aws-sdk/util-utf8":"3.254.0",tslib:"^2.3.1"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.208.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.19.2",typescript:"~4.6.2"},overrides:{typedoc:{typescript:"~4.6.2"}},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var sK=h(J3=>{"use strict";Object.defineProperty(J3,"__esModule",{value:!0});J3.ruleSet=void 0;var tK="required",Du="fn",Ru="argv",R1="ref",_P="PartitionResult",Bo="tree",nm="error",im="endpoint",KG={[tK]:!1,type:"String"},YG={[tK]:!0,default:!1,type:"Boolean"},rK={[R1]:"Endpoint"},nK={[Du]:"booleanEquals",[Ru]:[{[R1]:"UseFIPS"},!0]},iK={[Du]:"booleanEquals",[Ru]:[{[R1]:"UseDualStack"},!0]},qo={},JG={[Du]:"booleanEquals",[Ru]:[!0,{[Du]:"getAttr",[Ru]:[{[R1]:_P},"supportsFIPS"]}]},QG={[Du]:"booleanEquals",[Ru]:[!0,{[Du]:"getAttr",[Ru]:[{[R1]:_P},"supportsDualStack"]}]},XG=[rK],ZG=[nK],eK=[iK],hIe={version:"1.0",parameters:{Region:KG,UseDualStack:YG,UseFIPS:YG,Endpoint:KG},rules:[{conditions:[{[Du]:"aws.partition",[Ru]:[{[R1]:"Region"}],assign:_P}],type:Bo,rules:[{conditions:[{[Du]:"isSet",[Ru]:XG},{[Du]:"parseURL",[Ru]:XG,assign:"url"}],type:Bo,rules:[{conditions:ZG,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:nm},{type:Bo,rules:[{conditions:eK,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:nm},{endpoint:{url:rK,properties:qo,headers:qo},type:im}]}]},{conditions:[nK,iK],type:Bo,rules:[{conditions:[JG,QG],type:Bo,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qo,headers:qo},type:im}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:nm}]},{conditions:ZG,type:Bo,rules:[{conditions:[JG],type:Bo,rules:[{type:Bo,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:qo,headers:qo},type:im}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:nm}]},{conditions:eK,type:Bo,rules:[{conditions:[QG],type:Bo,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qo,headers:qo},type:im}]},{error:"DualStack is enabled but this partition does not support DualStack",type:nm}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:qo,headers:qo},type:im}]}]};J3.ruleSet=hIe});var oK=h(Q3=>{"use strict";Object.defineProperty(Q3,"__esModule",{value:!0});Q3.defaultEndpointResolver=void 0;var pIe=x0(),mIe=sK(),yIe=(t,e={})=>(0,pIe.resolveEndpoint)(mIe.ruleSet,{endpointParams:t,logger:e.logger});Q3.defaultEndpointResolver=yIe});var cK=h(X3=>{"use strict";Object.defineProperty(X3,"__esModule",{value:!0});X3.getRuntimeConfig=void 0;var gIe=ae(),_Ie=al(),uK=S0(),aK=Ou(),EIe=oK(),AIe=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??uK.fromBase64,base64Encoder:t?.base64Encoder??uK.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??EIe.defaultEndpointResolver,logger:t?.logger??new gIe.NoOpLogger,serviceId:t?.serviceId??"SSO OIDC",urlParser:t?.urlParser??_Ie.parseUrl,utf8Decoder:t?.utf8Decoder??aK.fromUtf8,utf8Encoder:t?.utf8Encoder??aK.toUtf8});X3.getRuntimeConfig=AIe});var fK=h(eO=>{"use strict";Object.defineProperty(eO,"__esModule",{value:!0});eO.getRuntimeConfig=void 0;var SIe=(se(),ne(ie)),wIe=SIe.__importDefault(GG()),Z3=mo(),OIe=y0(),lK=wu(),sm=Ka(),dK=_0(),CIe=E0(),vIe=cs(),bIe=A0(),IIe=cK(),PIe=ae(),TIe=B0(),DIe=ae(),RIe=t=>{(0,DIe.emitWarningIfUnsupportedVersion)(process.version);let e=(0,TIe.resolveDefaultsModeConfig)(t),r=()=>e().then(PIe.loadConfigsForDefaultMode),n=(0,IIe.getRuntimeConfig)(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??CIe.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,bIe.defaultUserAgent)({serviceId:n.serviceId,clientVersion:wIe.default.version}),maxAttempts:t?.maxAttempts??(0,sm.loadConfig)(lK.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,sm.loadConfig)(Z3.NODE_REGION_CONFIG_OPTIONS,Z3.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:t?.requestHandler??new dK.NodeHttpHandler(r),retryMode:t?.retryMode??(0,sm.loadConfig)({...lK.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||vIe.DEFAULT_RETRY_MODE}),sha256:t?.sha256??OIe.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??dK.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,sm.loadConfig)(Z3.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,sm.loadConfig)(Z3.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};eO.getRuntimeConfig=RIe});var AP=h(tO=>{"use strict";Object.defineProperty(tO,"__esModule",{value:!0});tO.SSOOIDCClient=void 0;var NIe=mo(),xIe=pp(),MIe=be(),hK=_p(),FIe=Ep(),BIe=Ap(),pK=wu(),mK=Np(),qIe=ae(),$Ie=HG(),kIe=fK(),EP=class extends qIe.Client{constructor(e){let r=(0,kIe.getRuntimeConfig)(e),n=(0,$Ie.resolveClientEndpointParameters)(r),i=(0,NIe.resolveRegionConfig)(n),s=(0,MIe.resolveEndpointConfig)(i),o=(0,pK.resolveRetryConfig)(s),u=(0,hK.resolveHostHeaderConfig)(o),a=(0,mK.resolveUserAgentConfig)(u);super(a),this.config=a,this.middlewareStack.use((0,pK.getRetryPlugin)(this.config)),this.middlewareStack.use((0,xIe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,hK.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,FIe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,BIe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,mK.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};tO.SSOOIDCClient=EP});var yK=h(rO=>{"use strict";Object.defineProperty(rO,"__esModule",{value:!0});rO.SSOOIDC=void 0;var jIe=mP(),LIe=yP(),UIe=gP(),zIe=AP(),SP=class extends zIe.SSOOIDCClient{createToken(e,r,n){let i=new jIe.CreateTokenCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}registerClient(e,r,n){let i=new LIe.RegisterClientCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}startDeviceAuthorization(e,r,n){let i=new UIe.StartDeviceAuthorizationCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}};rO.SSOOIDC=SP});var gK=h(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});var wP=(se(),ne(ie));wP.__exportStar(mP(),om);wP.__exportStar(yP(),om);wP.__exportStar(gP(),om)});var _K=h(OP=>{"use strict";Object.defineProperty(OP,"__esModule",{value:!0});var VIe=(se(),ne(ie));VIe.__exportStar(D1(),OP)});var CP=h(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.SSOOIDCServiceException=void 0;var nO=(se(),ne(ie));nO.__exportStar(yK(),Xa);nO.__exportStar(AP(),Xa);nO.__exportStar(gK(),Xa);nO.__exportStar(_K(),Xa);var WIe=z3();Object.defineProperty(Xa,"SSOOIDCServiceException",{enumerable:!0,get:function(){return WIe.SSOOIDCServiceException}})});var EK=h(iO=>{"use strict";Object.defineProperty(iO,"__esModule",{value:!0});iO.getSsoOidcClient=void 0;var HIe=CP(),vP={},GIe=t=>{if(vP[t])return vP[t];let e=new HIe.SSOOIDCClient({region:t});return vP[t]=e,e};iO.getSsoOidcClient=GIe});var AK=h(sO=>{"use strict";Object.defineProperty(sO,"__esModule",{value:!0});sO.getNewSsoOidcToken=void 0;var KIe=CP(),YIe=EK(),JIe=(t,e)=>(0,YIe.getSsoOidcClient)(e).send(new KIe.CreateTokenCommand({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}));sO.getNewSsoOidcToken=JIe});var SK=h(oO=>{"use strict";Object.defineProperty(oO,"__esModule",{value:!0});oO.validateTokenExpiry=void 0;var QIe=pt(),XIe=L3(),ZIe=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new QIe.TokenProviderError(`Token is expired. ${XIe.REFRESH_MESSAGE}`,!1)};oO.validateTokenExpiry=ZIe});var wK=h(uO=>{"use strict";Object.defineProperty(uO,"__esModule",{value:!0});uO.validateTokenKey=void 0;var e5e=pt(),t5e=L3(),r5e=(t,e,r=!1)=>{if(typeof e>"u")throw new e5e.TokenProviderError(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${t5e.REFRESH_MESSAGE}`,!1)};uO.validateTokenKey=r5e});var OK=h(aO=>{"use strict";Object.defineProperty(aO,"__esModule",{value:!0});aO.writeSSOTokenToFile=void 0;var n5e=Io(),i5e=require("fs"),{writeFile:s5e}=i5e.promises,o5e=(t,e)=>{let r=(0,n5e.getSSOTokenFilepath)(t),n=JSON.stringify(e,null,2);return s5e(r,n)};aO.writeSSOTokenToFile=o5e});var bP=h(lO=>{"use strict";Object.defineProperty(lO,"__esModule",{value:!0});lO.fromSso=void 0;var um=pt(),cO=Io(),CK=L3(),u5e=AK(),vK=SK(),wl=wK(),a5e=OK(),bK=new Date(0),c5e=(t={})=>async()=>{let e=await(0,cO.parseKnownFiles)(t),r=(0,cO.getProfileName)(t),n=e[r];if(n){if(!n.sso_session)throw new um.TokenProviderError(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new um.TokenProviderError(`Profile '${r}' could not be found in shared credentials file.`,!1);let i=n.sso_session,o=(await(0,cO.loadSsoSessionData)(t))[i];if(!o)throw new um.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let p of["sso_start_url","sso_region"])if(!o[p])throw new um.TokenProviderError(`Sso session '${i}' is missing required property '${p}'.`,!1);let u=o.sso_start_url,a=o.sso_region,c;try{c=await(0,cO.getSSOTokenFromFile)(i)}catch{throw new um.TokenProviderError(`The SSO session token associated with profile=${r} was not found or is invalid. ${CK.REFRESH_MESSAGE}`,!1)}(0,wl.validateTokenKey)("accessToken",c.accessToken),(0,wl.validateTokenKey)("expiresAt",c.expiresAt);let{accessToken:l,expiresAt:d}=c,f={token:l,expiration:new Date(d)};if(f.expiration.getTime()-Date.now()>CK.EXPIRE_WINDOW_MS)return f;if(Date.now()-bK.getTime()<30*1e3)return(0,vK.validateTokenExpiry)(f),f;(0,wl.validateTokenKey)("clientId",c.clientId,!0),(0,wl.validateTokenKey)("clientSecret",c.clientSecret,!0),(0,wl.validateTokenKey)("refreshToken",c.refreshToken,!0);try{bK.setTime(Date.now());let p=await(0,u5e.getNewSsoOidcToken)(c,a);(0,wl.validateTokenKey)("accessToken",p.accessToken),(0,wl.validateTokenKey)("expiresIn",p.expiresIn);let m=new Date(Date.now()+p.expiresIn*1e3);try{await(0,a5e.writeSSOTokenToFile)(i,{...c,accessToken:p.accessToken,expiresAt:m.toISOString(),refreshToken:p.refreshToken})}catch{}return{token:p.accessToken,expiration:m}}catch{return(0,vK.validateTokenExpiry)(f),f}};lO.fromSso=c5e});var IK=h(dO=>{"use strict";Object.defineProperty(dO,"__esModule",{value:!0});dO.fromStatic=void 0;var l5e=pt(),d5e=({token:t})=>async()=>{if(!t||!t.token)throw new l5e.TokenProviderError("Please pass a valid token to fromStatic",!1);return t};dO.fromStatic=d5e});var PK=h(fO=>{"use strict";Object.defineProperty(fO,"__esModule",{value:!0});fO.nodeProvider=void 0;var IP=pt(),f5e=bP(),h5e=(t={})=>(0,IP.memoize)((0,IP.chain)((0,f5e.fromSso)(t),async()=>{throw new IP.TokenProviderError("Could not load token from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0);fO.nodeProvider=h5e});var TK=h(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});var PP=(se(),ne(ie));PP.__exportStar(bP(),am);PP.__exportStar(IK(),am);PP.__exportStar(PK(),am)});var RK=h(hO=>{"use strict";Object.defineProperty(hO,"__esModule",{value:!0});hO.resolveSSOCredentials=void 0;var DK=aP(),cm=pt(),p5e=Io(),m5e=TK(),y5e=15*60*1e3,lm=!1,g5e=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:s,profile:o})=>{let u,a="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let _=await(0,m5e.fromSso)({profile:o})();u={accessToken:_.token,expiresAt:new Date(_.expiration).toISOString()}}catch(_){throw new cm.CredentialsProviderError(_.message,lm)}else try{u=await(0,p5e.getSSOTokenFromFile)(t)}catch{throw new cm.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${a}`,lm)}if(new Date(u.expiresAt).getTime()-Date.now()<=y5e)throw new cm.CredentialsProviderError(`The SSO session associated with this profile has expired. ${a}`,lm);let{accessToken:c}=u,l=s||new DK.SSOClient({region:n}),d;try{d=await l.send(new DK.GetRoleCredentialsCommand({accountId:r,roleName:i,accessToken:c}))}catch(_){throw cm.CredentialsProviderError.from(_,lm)}let{roleCredentials:{accessKeyId:f,secretAccessKey:p,sessionToken:m,expiration:y}={}}=d;if(!f||!p||!m||!y)throw new cm.CredentialsProviderError("SSO returns an invalid temporary credential.",lm);return{accessKeyId:f,secretAccessKey:p,sessionToken:m,expiration:new Date(y)}};hO.resolveSSOCredentials=g5e});var TP=h(pO=>{"use strict";Object.defineProperty(pO,"__esModule",{value:!0});pO.validateSsoProfile=void 0;var _5e=pt(),E5e=t=>{let{sso_start_url:e,sso_account_id:r,sso_region:n,sso_role_name:i}=t;if(!e||!r||!n||!i)throw new _5e.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return t};pO.validateSsoProfile=E5e});var xK=h(mO=>{"use strict";Object.defineProperty(mO,"__esModule",{value:!0});mO.fromSSO=void 0;var dm=pt(),DP=Io(),A5e=S5(),NK=RK(),S5e=TP(),w5e=(t={})=>async()=>{let{ssoStartUrl:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:s,ssoSession:o}=t,u=(0,DP.getProfileName)(t);if(!e&&!r&&!n&&!i&&!o){let c=(await(0,DP.parseKnownFiles)(t))[u];if(!c)throw new dm.CredentialsProviderError(`Profile ${u} was not found.`);if(!(0,A5e.isSsoProfile)(c))throw new dm.CredentialsProviderError(`Profile ${u} is not configured with SSO credentials.`);if(c?.sso_session){let _=(await(0,DP.loadSsoSessionData)(t))[c.sso_session],g=` configurations in profile ${u} and sso-session ${c.sso_session}`;if(n&&n!==_.sso_region)throw new dm.CredentialsProviderError("Conflicting SSO region"+g,!1);if(e&&e!==_.sso_start_url)throw new dm.CredentialsProviderError("Conflicting SSO start_url"+g,!1);c.sso_region=_.sso_region,c.sso_start_url=_.sso_start_url}let{sso_start_url:l,sso_account_id:d,sso_region:f,sso_role_name:p,sso_session:m}=(0,S5e.validateSsoProfile)(c);return(0,NK.resolveSSOCredentials)({ssoStartUrl:l,ssoSession:m,ssoAccountId:d,ssoRegion:f,ssoRoleName:p,ssoClient:s,profile:u})}else{if(!e||!r||!n||!i)throw new dm.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return(0,NK.resolveSSOCredentials)({ssoStartUrl:e,ssoSession:o,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:s,profile:u})}};mO.fromSSO=w5e});var FK=h(MK=>{"use strict";Object.defineProperty(MK,"__esModule",{value:!0})});var fm=h(N1=>{"use strict";Object.defineProperty(N1,"__esModule",{value:!0});var yO=(se(),ne(ie));yO.__exportStar(xK(),N1);yO.__exportStar(S5(),N1);yO.__exportStar(FK(),N1);yO.__exportStar(TP(),N1)});var qK=h(x1=>{"use strict";Object.defineProperty(x1,"__esModule",{value:!0});x1.resolveSsoCredentials=x1.isSsoProfile=void 0;var BK=fm(),O5e=fm();Object.defineProperty(x1,"isSsoProfile",{enumerable:!0,get:function(){return O5e.isSsoProfile}});var C5e=t=>{let{sso_start_url:e,sso_account_id:r,sso_session:n,sso_region:i,sso_role_name:s}=(0,BK.validateSsoProfile)(t);return(0,BK.fromSSO)({ssoStartUrl:e,ssoAccountId:r,ssoSession:n,ssoRegion:i,ssoRoleName:s})()};x1.resolveSsoCredentials=C5e});var $K=h(M1=>{"use strict";Object.defineProperty(M1,"__esModule",{value:!0});M1.resolveStaticCredentials=M1.isStaticCredsProfile=void 0;var v5e=t=>Boolean(t)&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1;M1.isStaticCredsProfile=v5e;var b5e=t=>Promise.resolve({accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token});M1.resolveStaticCredentials=b5e});var RP=h(gO=>{"use strict";Object.defineProperty(gO,"__esModule",{value:!0});gO.fromWebToken=void 0;var I5e=pt(),P5e=t=>()=>{let{roleArn:e,roleSessionName:r,webIdentityToken:n,providerId:i,policyArns:s,policy:o,durationSeconds:u,roleAssumerWithWebIdentity:a}=t;if(!a)throw new I5e.CredentialsProviderError(`Role Arn '${e}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return a({RoleArn:e,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:i,PolicyArns:s,Policy:o,DurationSeconds:u})};gO.fromWebToken=P5e});var kK=h(_O=>{"use strict";Object.defineProperty(_O,"__esModule",{value:!0});_O.fromTokenFile=void 0;var T5e=pt(),D5e=require("fs"),R5e=RP(),N5e="AWS_WEB_IDENTITY_TOKEN_FILE",x5e="AWS_ROLE_ARN",M5e="AWS_ROLE_SESSION_NAME",F5e=(t={})=>async()=>B5e(t);_O.fromTokenFile=F5e;var B5e=t=>{var e,r,n;let i=(e=t?.webIdentityTokenFile)!==null&&e!==void 0?e:process.env[N5e],s=(r=t?.roleArn)!==null&&r!==void 0?r:process.env[x5e],o=(n=t?.roleSessionName)!==null&&n!==void 0?n:process.env[M5e];if(!i||!s)throw new T5e.CredentialsProviderError("Web identity configuration not specified");return(0,R5e.fromWebToken)({...t,webIdentityToken:(0,D5e.readFileSync)(i,{encoding:"ascii"}),roleArn:s,roleSessionName:o})()}});var hm=h(EO=>{"use strict";Object.defineProperty(EO,"__esModule",{value:!0});var jK=(se(),ne(ie));jK.__exportStar(kK(),EO);jK.__exportStar(RP(),EO)});var LK=h(F1=>{"use strict";Object.defineProperty(F1,"__esModule",{value:!0});F1.resolveWebIdentityCredentials=F1.isWebIdentityProfile=void 0;var q5e=hm(),$5e=t=>Boolean(t)&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1;F1.isWebIdentityProfile=$5e;var k5e=async(t,e)=>(0,q5e.fromTokenFile)({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity})();F1.resolveWebIdentityCredentials=k5e});var _5=h(SO=>{"use strict";Object.defineProperty(SO,"__esModule",{value:!0});SO.resolveProfileData=void 0;var j5e=pt(),UK=CV(),zK=TV(),VK=qK(),AO=$K(),WK=LK(),L5e=async(t,e,r,n={})=>{let i=e[t];if(Object.keys(n).length>0&&(0,AO.isStaticCredsProfile)(i))return(0,AO.resolveStaticCredentials)(i);if((0,UK.isAssumeRoleProfile)(i))return(0,UK.resolveAssumeRoleCredentials)(t,e,r,n);if((0,AO.isStaticCredsProfile)(i))return(0,AO.resolveStaticCredentials)(i);if((0,WK.isWebIdentityProfile)(i))return(0,WK.resolveWebIdentityCredentials)(i,r);if((0,zK.isProcessProfile)(i))return(0,zK.resolveProcessCredentials)(r,t);if((0,VK.isSsoProfile)(i))return(0,VK.resolveSsoCredentials)(i);throw new j5e.CredentialsProviderError(`Profile ${t} could not be found or parsed in shared credentials file.`)};SO.resolveProfileData=L5e});var GK=h(wO=>{"use strict";Object.defineProperty(wO,"__esModule",{value:!0});wO.fromIni=void 0;var HK=Io(),U5e=_5(),z5e=(t={})=>async()=>{let e=await(0,HK.parseKnownFiles)(t);return(0,U5e.resolveProfileData)((0,HK.getProfileName)(t),e,t)};wO.fromIni=z5e});var xP=h(NP=>{"use strict";Object.defineProperty(NP,"__esModule",{value:!0});var V5e=(se(),ne(ie));V5e.__exportStar(GK(),NP)});var KK=h(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.remoteProvider=Ol.ENV_IMDS_DISABLED=void 0;var OO=w1(),W5e=pt();Ol.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";var H5e=t=>process.env[OO.ENV_CMDS_RELATIVE_URI]||process.env[OO.ENV_CMDS_FULL_URI]?(0,OO.fromContainerMetadata)(t):process.env[Ol.ENV_IMDS_DISABLED]?async()=>{throw new W5e.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:(0,OO.fromInstanceMetadata)(t);Ol.remoteProvider=H5e});var YK=h(CO=>{"use strict";Object.defineProperty(CO,"__esModule",{value:!0});CO.defaultProvider=void 0;var G5e=qS(),K5e=xP(),Y5e=fw(),J5e=fm(),Q5e=hm(),MP=pt(),X5e=Io(),Z5e=KK(),ePe=(t={})=>(0,MP.memoize)((0,MP.chain)(...t.profile||process.env[X5e.ENV_PROFILE]?[]:[(0,G5e.fromEnv)()],(0,J5e.fromSSO)(t),(0,K5e.fromIni)(t),(0,Y5e.fromProcess)(t),(0,Q5e.fromTokenFile)(t),(0,Z5e.remoteProvider)(t),async()=>{throw new MP.CredentialsProviderError("Could not load credentials from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0);CO.defaultProvider=ePe});var vO=h(FP=>{"use strict";Object.defineProperty(FP,"__esModule",{value:!0});var tPe=(se(),ne(ie));tPe.__exportStar(YK(),FP)});var yY=h(bO=>{"use strict";Object.defineProperty(bO,"__esModule",{value:!0});bO.ruleSet=void 0;var sY="required",Re="type",at="fn",ct="argv",Za="ref",Cl="properties",vl="headers",JK=!1,rPe=!0,qP="PartitionResult",ps="tree",bl="booleanEquals",tn="stringEquals",oY="sigv4",uY="us-east-1",aY="sts",Kt="endpoint",cY="https://sts.{Region}.{PartitionResult#dnsSuffix}",pm="error",$P="getAttr",QK={[sY]:!1,[Re]:"String"},BP={[sY]:!0,default:!1,[Re]:"Boolean"},rn={[Za]:"Region"},lY={[Za]:"UseFIPS"},dY={[Za]:"UseDualStack"},XK={[at]:"isSet",[ct]:[{[Za]:"Endpoint"}]},fY={[Za]:"Endpoint"},vn={url:"https://sts.amazonaws.com",[Cl]:{authSchemes:[{name:oY,signingRegion:uY,signingName:aY}]},[vl]:{}},Nu={},ZK={conditions:[{[at]:tn,[ct]:[rn,"aws-global"]}],[Kt]:vn,[Re]:Kt},hY={[at]:bl,[ct]:[lY,!0]},pY={[at]:bl,[ct]:[dY,!0]},eY={[at]:bl,[ct]:[!0,{[at]:$P,[ct]:[{[Za]:qP},"supportsFIPS"]}]},mY={[Za]:qP},tY={[at]:bl,[ct]:[!0,{[at]:$P,[ct]:[mY,"supportsDualStack"]}]},rY={url:cY,[Cl]:{},[vl]:{}},nPe=[fY],nY=[hY],iY=[pY],iPe={version:"1.0",parameters:{Region:QK,UseDualStack:BP,UseFIPS:BP,Endpoint:QK,UseGlobalEndpoint:BP},rules:[{conditions:[{[at]:"aws.partition",[ct]:[rn],assign:qP}],[Re]:ps,rules:[{conditions:[{[at]:bl,[ct]:[{[Za]:"UseGlobalEndpoint"},rPe]},{[at]:bl,[ct]:[lY,JK]},{[at]:bl,[ct]:[dY,JK]},{[at]:"not",[ct]:[XK]}],[Re]:ps,rules:[{conditions:[{[at]:tn,[ct]:[rn,"ap-northeast-1"]}],endpoint:vn,[Re]:Kt},{conditions:[{[at]:tn,[ct]:[rn,"ap-south-1"]}],endpoint:vn,[Re]:Kt},{conditions:[{[at]:tn,[ct]:[rn,"ap-southeast-1"]}],endpoint:vn,[Re]:Kt},{conditions:[{[at]:tn,[ct]:[rn,"ap-southeast-2"]}],endpoint:vn,[Re]:Kt},ZK,{conditions:[{[at]:tn,[ct]:[rn,"ca-central-1"]}],endpoint:vn,[Re]:Kt},{conditions:[{[at]:tn,[ct]:[rn,"eu-central-1"]}],endpoint:vn,[Re]:Kt},{conditions:[{[at]:tn,[ct]:[rn,"eu-north-1"]}],endpoint:vn,[Re]:Kt},{conditions:[{[at]:tn,[ct]:[rn,"eu-west-1"]}],endpoint:vn,[Re]:Kt},{conditions:[{[at]:tn,[ct]:[rn,"eu-west-2"]}],endpoint:vn,[Re]:Kt},{conditions:[{[at]:tn,[ct]:[rn,"eu-west-3"]}],endpoint:vn,[Re]:Kt},{conditions:[{[at]:tn,[ct]:[rn,"sa-east-1"]}],endpoint:vn,[Re]:Kt},{conditions:[{[at]:tn,[ct]:[rn,uY]}],endpoint:vn,[Re]:Kt},{conditions:[{[at]:tn,[ct]:[rn,"us-east-2"]}],endpoint:vn,[Re]:Kt},{conditions:[{[at]:tn,[ct]:[rn,"us-west-1"]}],endpoint:vn,[Re]:Kt},{conditions:[{[at]:tn,[ct]:[rn,"us-west-2"]}],endpoint:vn,[Re]:Kt},{endpoint:{url:cY,[Cl]:{authSchemes:[{name:oY,signingRegion:"{Region}",signingName:aY}]},[vl]:Nu},[Re]:Kt}]},{conditions:[XK,{[at]:"parseURL",[ct]:nPe,assign:"url"}],[Re]:ps,rules:[{conditions:nY,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Re]:pm},{[Re]:ps,rules:[{conditions:iY,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Re]:pm},{endpoint:{url:fY,[Cl]:Nu,[vl]:Nu},[Re]:Kt}]}]},{conditions:[hY,pY],[Re]:ps,rules:[{conditions:[eY,tY],[Re]:ps,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Cl]:Nu,[vl]:Nu},[Re]:Kt}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Re]:pm}]},{conditions:nY,[Re]:ps,rules:[{conditions:[eY],[Re]:ps,rules:[{[Re]:ps,rules:[{conditions:[{[at]:tn,[ct]:["aws-us-gov",{[at]:$P,[ct]:[mY,"name"]}]}],endpoint:rY,[Re]:Kt},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[Cl]:Nu,[vl]:Nu},[Re]:Kt}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[Re]:pm}]},{conditions:iY,[Re]:ps,rules:[{conditions:[tY],[Re]:ps,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[Cl]:Nu,[vl]:Nu},[Re]:Kt}]},{error:"DualStack is enabled but this partition does not support DualStack",[Re]:pm}]},{[Re]:ps,rules:[ZK,{endpoint:rY,[Re]:Kt}]}]}]};bO.ruleSet=iPe});var gY=h(IO=>{"use strict";Object.defineProperty(IO,"__esModule",{value:!0});IO.defaultEndpointResolver=void 0;var sPe=x0(),oPe=yY(),uPe=(t,e={})=>(0,sPe.resolveEndpoint)(oPe.ruleSet,{endpointParams:t,logger:e.logger});IO.defaultEndpointResolver=uPe});var AY=h(PO=>{"use strict";Object.defineProperty(PO,"__esModule",{value:!0});PO.getRuntimeConfig=void 0;var aPe=ae(),cPe=al(),_Y=S0(),EY=Ou(),lPe=gY(),dPe=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??_Y.fromBase64,base64Encoder:t?.base64Encoder??_Y.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??lPe.defaultEndpointResolver,logger:t?.logger??new aPe.NoOpLogger,serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??cPe.parseUrl,utf8Decoder:t?.utf8Decoder??EY.fromUtf8,utf8Encoder:t?.utf8Encoder??EY.toUtf8});PO.getRuntimeConfig=dPe});var OY=h(DO=>{"use strict";Object.defineProperty(DO,"__esModule",{value:!0});DO.getRuntimeConfig=void 0;var fPe=(se(),ne(ie)),hPe=fPe.__importDefault(Bz()),pPe=t5(),TO=mo(),mPe=vO(),yPe=y0(),SY=wu(),mm=Ka(),wY=_0(),gPe=E0(),_Pe=cs(),EPe=A0(),APe=AY(),SPe=ae(),wPe=B0(),OPe=ae(),CPe=t=>{(0,OPe.emitWarningIfUnsupportedVersion)(process.version);let e=(0,wPe.resolveDefaultsModeConfig)(t),r=()=>e().then(SPe.loadConfigsForDefaultMode),n=(0,APe.getRuntimeConfig)(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??gPe.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??(0,pPe.decorateDefaultCredentialProvider)(mPe.defaultProvider),defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,EPe.defaultUserAgent)({serviceId:n.serviceId,clientVersion:hPe.default.version}),maxAttempts:t?.maxAttempts??(0,mm.loadConfig)(SY.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,mm.loadConfig)(TO.NODE_REGION_CONFIG_OPTIONS,TO.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:t?.requestHandler??new wY.NodeHttpHandler(r),retryMode:t?.retryMode??(0,mm.loadConfig)({...SY.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||_Pe.DEFAULT_RETRY_MODE}),sha256:t?.sha256??yPe.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??wY.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,mm.loadConfig)(TO.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,mm.loadConfig)(TO.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};DO.getRuntimeConfig=CPe});var NO=h(RO=>{"use strict";Object.defineProperty(RO,"__esModule",{value:!0});RO.STSClient=void 0;var vPe=mo(),bPe=pp(),IPe=be(),CY=_p(),PPe=Ep(),TPe=Ap(),vY=wu(),DPe=Mz(),bY=Np(),RPe=ae(),NPe=Fz(),xPe=OY(),ym=class extends RPe.Client{constructor(e){let r=(0,xPe.getRuntimeConfig)(e),n=(0,NPe.resolveClientEndpointParameters)(r),i=(0,vPe.resolveRegionConfig)(n),s=(0,IPe.resolveEndpointConfig)(i),o=(0,vY.resolveRetryConfig)(s),u=(0,CY.resolveHostHeaderConfig)(o),a=(0,DPe.resolveStsAuthConfig)(u,{stsClientCtor:ym}),c=(0,bY.resolveUserAgentConfig)(a);super(c),this.config=c,this.middlewareStack.use((0,vY.getRetryPlugin)(this.config)),this.middlewareStack.use((0,bPe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,CY.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,PPe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,TPe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,bY.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};RO.STSClient=ym});var IY=h(xO=>{"use strict";Object.defineProperty(xO,"__esModule",{value:!0});xO.STS=void 0;var MPe=bS(),FPe=YI(),BPe=TS(),qPe=JI(),$Pe=QI(),kPe=XI(),jPe=ZI(),LPe=e5(),UPe=NO(),kP=class extends UPe.STSClient{assumeRole(e,r,n){let i=new MPe.AssumeRoleCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}assumeRoleWithSAML(e,r,n){let i=new FPe.AssumeRoleWithSAMLCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}assumeRoleWithWebIdentity(e,r,n){let i=new BPe.AssumeRoleWithWebIdentityCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}decodeAuthorizationMessage(e,r,n){let i=new qPe.DecodeAuthorizationMessageCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}getAccessKeyInfo(e,r,n){let i=new $Pe.GetAccessKeyInfoCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}getCallerIdentity(e,r,n){let i=new kPe.GetCallerIdentityCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}getFederationToken(e,r,n){let i=new jPe.GetFederationTokenCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}getSessionToken(e,r,n){let i=new LPe.GetSessionTokenCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}};xO.STS=kP});var PY=h($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});var ec=(se(),ne(ie));ec.__exportStar(bS(),$o);ec.__exportStar(YI(),$o);ec.__exportStar(TS(),$o);ec.__exportStar(JI(),$o);ec.__exportStar(QI(),$o);ec.__exportStar(XI(),$o);ec.__exportStar(ZI(),$o);ec.__exportStar(e5(),$o)});var NY=h(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.decorateDefaultCredentialProvider=ko.getDefaultRoleAssumerWithWebIdentity=ko.getDefaultRoleAssumer=void 0;var TY=t5(),DY=NO(),RY=(t,e)=>e?class extends t{constructor(n){super(n);for(let i of e)this.middlewareStack.use(i)}}:t,zPe=(t={},e)=>(0,TY.getDefaultRoleAssumer)(t,RY(DY.STSClient,e));ko.getDefaultRoleAssumer=zPe;var VPe=(t={},e)=>(0,TY.getDefaultRoleAssumerWithWebIdentity)(t,RY(DY.STSClient,e));ko.getDefaultRoleAssumerWithWebIdentity=VPe;var WPe=t=>e=>t({roleAssumer:(0,ko.getDefaultRoleAssumer)(e),roleAssumerWithWebIdentity:(0,ko.getDefaultRoleAssumerWithWebIdentity)(e),...e});ko.decorateDefaultCredentialProvider=WPe});var xY=h(jP=>{"use strict";Object.defineProperty(jP,"__esModule",{value:!0});var HPe=(se(),ne(ie));HPe.__exportStar(Ls(),jP)});var Il=h(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.STSServiceException=void 0;var gm=(se(),ne(ie));gm.__exportStar(IY(),xu);gm.__exportStar(NO(),xu);gm.__exportStar(PY(),xu);gm.__exportStar(NY(),xu);gm.__exportStar(xY(),xu);var GPe=SS();Object.defineProperty(xu,"STSServiceException",{enumerable:!0,get:function(){return GPe.STSServiceException}})});var WY=h(MO=>{"use strict";Object.defineProperty(MO,"__esModule",{value:!0});MO.ruleSet=void 0;var LY="required",Mu="fn",Fu="argv",B1="ref",LP="PartitionResult",jo="tree",_m="error",Em="endpoint",MY={[LY]:!1,type:"String"},FY={[LY]:!0,default:!1,type:"Boolean"},UY={[B1]:"Endpoint"},zY={[Mu]:"booleanEquals",[Fu]:[{[B1]:"UseFIPS"},!0]},VY={[Mu]:"booleanEquals",[Fu]:[{[B1]:"UseDualStack"},!0]},Lo={},BY={[Mu]:"booleanEquals",[Fu]:[!0,{[Mu]:"getAttr",[Fu]:[{[B1]:LP},"supportsFIPS"]}]},qY={[Mu]:"booleanEquals",[Fu]:[!0,{[Mu]:"getAttr",[Fu]:[{[B1]:LP},"supportsDualStack"]}]},$Y=[UY],kY=[zY],jY=[VY],KPe={version:"1.0",parameters:{Region:MY,UseDualStack:FY,UseFIPS:FY,Endpoint:MY},rules:[{conditions:[{[Mu]:"aws.partition",[Fu]:[{[B1]:"Region"}],assign:LP}],type:jo,rules:[{conditions:[{[Mu]:"isSet",[Fu]:$Y},{[Mu]:"parseURL",[Fu]:$Y,assign:"url"}],type:jo,rules:[{conditions:kY,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:_m},{type:jo,rules:[{conditions:jY,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:_m},{endpoint:{url:UY,properties:Lo,headers:Lo},type:Em}]}]},{conditions:[zY,VY],type:jo,rules:[{conditions:[BY,qY],type:jo,rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Lo,headers:Lo},type:Em}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:_m}]},{conditions:kY,type:jo,rules:[{conditions:[BY],type:jo,rules:[{type:jo,rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Lo,headers:Lo},type:Em}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:_m}]},{conditions:jY,type:jo,rules:[{conditions:[qY],type:jo,rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Lo,headers:Lo},type:Em}]},{error:"DualStack is enabled but this partition does not support DualStack",type:_m}]},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:Lo,headers:Lo},type:Em}]}]};MO.ruleSet=KPe});var HY=h(FO=>{"use strict";Object.defineProperty(FO,"__esModule",{value:!0});FO.defaultEndpointResolver=void 0;var YPe=x0(),JPe=WY(),QPe=(t,e={})=>(0,YPe.resolveEndpoint)(JPe.ruleSet,{endpointParams:t,logger:e.logger});FO.defaultEndpointResolver=QPe});var YY=h(BO=>{"use strict";Object.defineProperty(BO,"__esModule",{value:!0});BO.getRuntimeConfig=void 0;var XPe=ae(),ZPe=al(),GY=S0(),KY=Ou(),eTe=HY(),tTe=t=>({apiVersion:"2014-06-30",base64Decoder:t?.base64Decoder??GY.fromBase64,base64Encoder:t?.base64Encoder??GY.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??eTe.defaultEndpointResolver,logger:t?.logger??new XPe.NoOpLogger,serviceId:t?.serviceId??"Cognito Identity",urlParser:t?.urlParser??ZPe.parseUrl,utf8Decoder:t?.utf8Decoder??KY.fromUtf8,utf8Encoder:t?.utf8Encoder??KY.toUtf8});BO.getRuntimeConfig=tTe});var XY=h($O=>{"use strict";Object.defineProperty($O,"__esModule",{value:!0});$O.getRuntimeConfig=void 0;var rTe=(se(),ne(ie)),nTe=rTe.__importDefault(FU()),iTe=Il(),qO=mo(),sTe=vO(),oTe=y0(),JY=wu(),Am=Ka(),QY=_0(),uTe=E0(),aTe=cs(),cTe=A0(),lTe=YY(),dTe=ae(),fTe=B0(),hTe=ae(),pTe=t=>{(0,hTe.emitWarningIfUnsupportedVersion)(process.version);let e=(0,fTe.resolveDefaultsModeConfig)(t),r=()=>e().then(dTe.loadConfigsForDefaultMode),n=(0,lTe.getRuntimeConfig)(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??uTe.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??(0,iTe.decorateDefaultCredentialProvider)(sTe.defaultProvider),defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,cTe.defaultUserAgent)({serviceId:n.serviceId,clientVersion:nTe.default.version}),maxAttempts:t?.maxAttempts??(0,Am.loadConfig)(JY.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:t?.region??(0,Am.loadConfig)(qO.NODE_REGION_CONFIG_OPTIONS,qO.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:t?.requestHandler??new QY.NodeHttpHandler(r),retryMode:t?.retryMode??(0,Am.loadConfig)({...JY.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||aTe.DEFAULT_RETRY_MODE}),sha256:t?.sha256??oTe.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??QY.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,Am.loadConfig)(qO.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:t?.useFipsEndpoint??(0,Am.loadConfig)(qO.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};$O.getRuntimeConfig=pTe});var jO=h(kO=>{"use strict";Object.defineProperty(kO,"__esModule",{value:!0});kO.CognitoIdentityClient=void 0;var mTe=mo(),yTe=pp(),gTe=be(),ZY=_p(),_Te=Ep(),ETe=Ap(),eJ=wu(),ATe=Ct(),tJ=Np(),STe=ae(),wTe=MU(),OTe=XY(),UP=class extends STe.Client{constructor(e){let r=(0,OTe.getRuntimeConfig)(e),n=(0,wTe.resolveClientEndpointParameters)(r),i=(0,mTe.resolveRegionConfig)(n),s=(0,gTe.resolveEndpointConfig)(i),o=(0,eJ.resolveRetryConfig)(s),u=(0,ZY.resolveHostHeaderConfig)(o),a=(0,ATe.resolveAwsAuthConfig)(u),c=(0,tJ.resolveUserAgentConfig)(a);super(c),this.config=c,this.middlewareStack.use((0,eJ.getRetryPlugin)(this.config)),this.middlewareStack.use((0,yTe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,ZY.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,_Te.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,ETe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,tJ.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};kO.CognitoIdentityClient=UP});var UO=h(LO=>{"use strict";Object.defineProperty(LO,"__esModule",{value:!0});LO.CognitoIdentityServiceException=void 0;var CTe=ae(),Sm=class extends CTe.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,Sm.prototype)}};LO.CognitoIdentityServiceException=Sm});var Bt=h(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.LookupDeveloperIdentityResponseFilterSensitiveLog=N.LookupDeveloperIdentityInputFilterSensitiveLog=N.ListTagsForResourceResponseFilterSensitiveLog=N.ListTagsForResourceInputFilterSensitiveLog=N.ListIdentityPoolsResponseFilterSensitiveLog=N.IdentityPoolShortDescriptionFilterSensitiveLog=N.ListIdentityPoolsInputFilterSensitiveLog=N.ListIdentitiesResponseFilterSensitiveLog=N.ListIdentitiesInputFilterSensitiveLog=N.GetPrincipalTagAttributeMapResponseFilterSensitiveLog=N.GetPrincipalTagAttributeMapInputFilterSensitiveLog=N.GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog=N.GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog=N.GetOpenIdTokenResponseFilterSensitiveLog=N.GetOpenIdTokenInputFilterSensitiveLog=N.GetIdentityPoolRolesResponseFilterSensitiveLog=N.RoleMappingFilterSensitiveLog=N.RulesConfigurationTypeFilterSensitiveLog=N.MappingRuleFilterSensitiveLog=N.GetIdentityPoolRolesInputFilterSensitiveLog=N.GetIdResponseFilterSensitiveLog=N.GetIdInputFilterSensitiveLog=N.GetCredentialsForIdentityResponseFilterSensitiveLog=N.CredentialsFilterSensitiveLog=N.GetCredentialsForIdentityInputFilterSensitiveLog=N.DescribeIdentityPoolInputFilterSensitiveLog=N.IdentityDescriptionFilterSensitiveLog=N.DescribeIdentityInputFilterSensitiveLog=N.DeleteIdentityPoolInputFilterSensitiveLog=N.DeleteIdentitiesResponseFilterSensitiveLog=N.UnprocessedIdentityIdFilterSensitiveLog=N.DeleteIdentitiesInputFilterSensitiveLog=N.IdentityPoolFilterSensitiveLog=N.CreateIdentityPoolInputFilterSensitiveLog=N.CognitoIdentityProviderFilterSensitiveLog=N.ConcurrentModificationException=N.DeveloperUserAlreadyRegisteredException=N.RoleMappingType=N.MappingRuleMatchType=N.InvalidIdentityPoolConfigurationException=N.ExternalServiceException=N.ResourceNotFoundException=N.ErrorCode=N.TooManyRequestsException=N.ResourceConflictException=N.NotAuthorizedException=N.LimitExceededException=N.InvalidParameterException=N.InternalErrorException=N.AmbiguousRoleResolutionType=void 0;N.UntagResourceResponseFilterSensitiveLog=N.UntagResourceInputFilterSensitiveLog=N.UnlinkIdentityInputFilterSensitiveLog=N.UnlinkDeveloperIdentityInputFilterSensitiveLog=N.TagResourceResponseFilterSensitiveLog=N.TagResourceInputFilterSensitiveLog=N.SetPrincipalTagAttributeMapResponseFilterSensitiveLog=N.SetPrincipalTagAttributeMapInputFilterSensitiveLog=N.SetIdentityPoolRolesInputFilterSensitiveLog=N.MergeDeveloperIdentitiesResponseFilterSensitiveLog=N.MergeDeveloperIdentitiesInputFilterSensitiveLog=void 0;var Us=UO(),vTe;(function(t){t.AUTHENTICATED_ROLE="AuthenticatedRole",t.DENY="Deny"})(vTe=N.AmbiguousRoleResolutionType||(N.AmbiguousRoleResolutionType={}));var wm=class extends Us.CognitoIdentityServiceException{constructor(e){super({name:"InternalErrorException",$fault:"server",...e}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,wm.prototype)}};N.InternalErrorException=wm;var Om=class extends Us.CognitoIdentityServiceException{constructor(e){super({name:"InvalidParameterException",$fault:"client",...e}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,Om.prototype)}};N.InvalidParameterException=Om;var Cm=class extends Us.CognitoIdentityServiceException{constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,Cm.prototype)}};N.LimitExceededException=Cm;var vm=class extends Us.CognitoIdentityServiceException{constructor(e){super({name:"NotAuthorizedException",$fault:"client",...e}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,vm.prototype)}};N.NotAuthorizedException=vm;var bm=class extends Us.CognitoIdentityServiceException{constructor(e){super({name:"ResourceConflictException",$fault:"client",...e}),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,bm.prototype)}};N.ResourceConflictException=bm;var Im=class extends Us.CognitoIdentityServiceException{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,Im.prototype)}};N.TooManyRequestsException=Im;var bTe;(function(t){t.ACCESS_DENIED="AccessDenied",t.INTERNAL_SERVER_ERROR="InternalServerError"})(bTe=N.ErrorCode||(N.ErrorCode={}));var Pm=class extends Us.CognitoIdentityServiceException{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Pm.prototype)}};N.ResourceNotFoundException=Pm;var Tm=class extends Us.CognitoIdentityServiceException{constructor(e){super({name:"ExternalServiceException",$fault:"client",...e}),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,Tm.prototype)}};N.ExternalServiceException=Tm;var Dm=class extends Us.CognitoIdentityServiceException{constructor(e){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...e}),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,Dm.prototype)}};N.InvalidIdentityPoolConfigurationException=Dm;var ITe;(function(t){t.CONTAINS="Contains",t.EQUALS="Equals",t.NOT_EQUAL="NotEqual",t.STARTS_WITH="StartsWith"})(ITe=N.MappingRuleMatchType||(N.MappingRuleMatchType={}));var PTe;(function(t){t.RULES="Rules",t.TOKEN="Token"})(PTe=N.RoleMappingType||(N.RoleMappingType={}));var Rm=class extends Us.CognitoIdentityServiceException{constructor(e){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...e}),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,Rm.prototype)}};N.DeveloperUserAlreadyRegisteredException=Rm;var Nm=class extends Us.CognitoIdentityServiceException{constructor(e){super({name:"ConcurrentModificationException",$fault:"client",...e}),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,Nm.prototype)}};N.ConcurrentModificationException=Nm;var TTe=t=>({...t});N.CognitoIdentityProviderFilterSensitiveLog=TTe;var DTe=t=>({...t});N.CreateIdentityPoolInputFilterSensitiveLog=DTe;var RTe=t=>({...t});N.IdentityPoolFilterSensitiveLog=RTe;var NTe=t=>({...t});N.DeleteIdentitiesInputFilterSensitiveLog=NTe;var xTe=t=>({...t});N.UnprocessedIdentityIdFilterSensitiveLog=xTe;var MTe=t=>({...t});N.DeleteIdentitiesResponseFilterSensitiveLog=MTe;var FTe=t=>({...t});N.DeleteIdentityPoolInputFilterSensitiveLog=FTe;var BTe=t=>({...t});N.DescribeIdentityInputFilterSensitiveLog=BTe;var qTe=t=>({...t});N.IdentityDescriptionFilterSensitiveLog=qTe;var $Te=t=>({...t});N.DescribeIdentityPoolInputFilterSensitiveLog=$Te;var kTe=t=>({...t});N.GetCredentialsForIdentityInputFilterSensitiveLog=kTe;var jTe=t=>({...t});N.CredentialsFilterSensitiveLog=jTe;var LTe=t=>({...t});N.GetCredentialsForIdentityResponseFilterSensitiveLog=LTe;var UTe=t=>({...t});N.GetIdInputFilterSensitiveLog=UTe;var zTe=t=>({...t});N.GetIdResponseFilterSensitiveLog=zTe;var VTe=t=>({...t});N.GetIdentityPoolRolesInputFilterSensitiveLog=VTe;var WTe=t=>({...t});N.MappingRuleFilterSensitiveLog=WTe;var HTe=t=>({...t});N.RulesConfigurationTypeFilterSensitiveLog=HTe;var GTe=t=>({...t});N.RoleMappingFilterSensitiveLog=GTe;var KTe=t=>({...t});N.GetIdentityPoolRolesResponseFilterSensitiveLog=KTe;var YTe=t=>({...t});N.GetOpenIdTokenInputFilterSensitiveLog=YTe;var JTe=t=>({...t});N.GetOpenIdTokenResponseFilterSensitiveLog=JTe;var QTe=t=>({...t});N.GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog=QTe;var XTe=t=>({...t});N.GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog=XTe;var ZTe=t=>({...t});N.GetPrincipalTagAttributeMapInputFilterSensitiveLog=ZTe;var eDe=t=>({...t});N.GetPrincipalTagAttributeMapResponseFilterSensitiveLog=eDe;var tDe=t=>({...t});N.ListIdentitiesInputFilterSensitiveLog=tDe;var rDe=t=>({...t});N.ListIdentitiesResponseFilterSensitiveLog=rDe;var nDe=t=>({...t});N.ListIdentityPoolsInputFilterSensitiveLog=nDe;var iDe=t=>({...t});N.IdentityPoolShortDescriptionFilterSensitiveLog=iDe;var sDe=t=>({...t});N.ListIdentityPoolsResponseFilterSensitiveLog=sDe;var oDe=t=>({...t});N.ListTagsForResourceInputFilterSensitiveLog=oDe;var uDe=t=>({...t});N.ListTagsForResourceResponseFilterSensitiveLog=uDe;var aDe=t=>({...t});N.LookupDeveloperIdentityInputFilterSensitiveLog=aDe;var cDe=t=>({...t});N.LookupDeveloperIdentityResponseFilterSensitiveLog=cDe;var lDe=t=>({...t});N.MergeDeveloperIdentitiesInputFilterSensitiveLog=lDe;var dDe=t=>({...t});N.MergeDeveloperIdentitiesResponseFilterSensitiveLog=dDe;var fDe=t=>({...t});N.SetIdentityPoolRolesInputFilterSensitiveLog=fDe;var hDe=t=>({...t});N.SetPrincipalTagAttributeMapInputFilterSensitiveLog=hDe;var pDe=t=>({...t});N.SetPrincipalTagAttributeMapResponseFilterSensitiveLog=pDe;var mDe=t=>({...t});N.TagResourceInputFilterSensitiveLog=mDe;var yDe=t=>({...t});N.TagResourceResponseFilterSensitiveLog=yDe;var gDe=t=>({...t});N.UnlinkDeveloperIdentityInputFilterSensitiveLog=gDe;var _De=t=>({...t});N.UnlinkIdentityInputFilterSensitiveLog=_De;var EDe=t=>({...t});N.UntagResourceInputFilterSensitiveLog=EDe;var ADe=t=>({...t});N.UntagResourceResponseFilterSensitiveLog=ADe});var Yt=h(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.deserializeAws_json1_1UpdateIdentityPoolCommand=z.deserializeAws_json1_1UntagResourceCommand=z.deserializeAws_json1_1UnlinkIdentityCommand=z.deserializeAws_json1_1UnlinkDeveloperIdentityCommand=z.deserializeAws_json1_1TagResourceCommand=z.deserializeAws_json1_1SetPrincipalTagAttributeMapCommand=z.deserializeAws_json1_1SetIdentityPoolRolesCommand=z.deserializeAws_json1_1MergeDeveloperIdentitiesCommand=z.deserializeAws_json1_1LookupDeveloperIdentityCommand=z.deserializeAws_json1_1ListTagsForResourceCommand=z.deserializeAws_json1_1ListIdentityPoolsCommand=z.deserializeAws_json1_1ListIdentitiesCommand=z.deserializeAws_json1_1GetPrincipalTagAttributeMapCommand=z.deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=z.deserializeAws_json1_1GetOpenIdTokenCommand=z.deserializeAws_json1_1GetIdentityPoolRolesCommand=z.deserializeAws_json1_1GetIdCommand=z.deserializeAws_json1_1GetCredentialsForIdentityCommand=z.deserializeAws_json1_1DescribeIdentityPoolCommand=z.deserializeAws_json1_1DescribeIdentityCommand=z.deserializeAws_json1_1DeleteIdentityPoolCommand=z.deserializeAws_json1_1DeleteIdentitiesCommand=z.deserializeAws_json1_1CreateIdentityPoolCommand=z.serializeAws_json1_1UpdateIdentityPoolCommand=z.serializeAws_json1_1UntagResourceCommand=z.serializeAws_json1_1UnlinkIdentityCommand=z.serializeAws_json1_1UnlinkDeveloperIdentityCommand=z.serializeAws_json1_1TagResourceCommand=z.serializeAws_json1_1SetPrincipalTagAttributeMapCommand=z.serializeAws_json1_1SetIdentityPoolRolesCommand=z.serializeAws_json1_1MergeDeveloperIdentitiesCommand=z.serializeAws_json1_1LookupDeveloperIdentityCommand=z.serializeAws_json1_1ListTagsForResourceCommand=z.serializeAws_json1_1ListIdentityPoolsCommand=z.serializeAws_json1_1ListIdentitiesCommand=z.serializeAws_json1_1GetPrincipalTagAttributeMapCommand=z.serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=z.serializeAws_json1_1GetOpenIdTokenCommand=z.serializeAws_json1_1GetIdentityPoolRolesCommand=z.serializeAws_json1_1GetIdCommand=z.serializeAws_json1_1GetCredentialsForIdentityCommand=z.serializeAws_json1_1DescribeIdentityPoolCommand=z.serializeAws_json1_1DescribeIdentityCommand=z.serializeAws_json1_1DeleteIdentityPoolCommand=z.serializeAws_json1_1DeleteIdentitiesCommand=z.serializeAws_json1_1CreateIdentityPoolCommand=void 0;var SDe=Bn(),L=ae(),er=UO(),zs=Bt(),wDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.CreateIdentityPool"},n;return n=JSON.stringify(jRe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1CreateIdentityPoolCommand=wDe;var ODe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DeleteIdentities"},n;return n=JSON.stringify(LRe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1DeleteIdentitiesCommand=ODe;var CDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DeleteIdentityPool"},n;return n=JSON.stringify(URe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1DeleteIdentityPoolCommand=CDe;var vDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DescribeIdentity"},n;return n=JSON.stringify(zRe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1DescribeIdentityCommand=vDe;var bDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.DescribeIdentityPool"},n;return n=JSON.stringify(VRe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1DescribeIdentityPoolCommand=bDe;var IDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},n;return n=JSON.stringify(WRe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1GetCredentialsForIdentityCommand=IDe;var PDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},n;return n=JSON.stringify(GRe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1GetIdCommand=PDe;var TDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetIdentityPoolRoles"},n;return n=JSON.stringify(HRe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1GetIdentityPoolRolesCommand=TDe;var DDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetOpenIdToken"},n;return n=JSON.stringify(YRe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1GetOpenIdTokenCommand=DDe;var RDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetOpenIdTokenForDeveloperIdentity"},n;return n=JSON.stringify(KRe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=RDe;var NDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetPrincipalTagAttributeMap"},n;return n=JSON.stringify(JRe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1GetPrincipalTagAttributeMapCommand=NDe;var xDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.ListIdentities"},n;return n=JSON.stringify(eNe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1ListIdentitiesCommand=xDe;var MDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.ListIdentityPools"},n;return n=JSON.stringify(tNe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1ListIdentityPoolsCommand=MDe;var FDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.ListTagsForResource"},n;return n=JSON.stringify(rNe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1ListTagsForResourceCommand=FDe;var BDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.LookupDeveloperIdentity"},n;return n=JSON.stringify(iNe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1LookupDeveloperIdentityCommand=BDe;var qDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.MergeDeveloperIdentities"},n;return n=JSON.stringify(uNe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1MergeDeveloperIdentitiesCommand=qDe;var $De=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.SetIdentityPoolRoles"},n;return n=JSON.stringify(fNe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1SetIdentityPoolRolesCommand=$De;var kDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.SetPrincipalTagAttributeMap"},n;return n=JSON.stringify(hNe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1SetPrincipalTagAttributeMapCommand=kDe;var jDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.TagResource"},n;return n=JSON.stringify(pNe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1TagResourceCommand=jDe;var LDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UnlinkDeveloperIdentity"},n;return n=JSON.stringify(mNe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1UnlinkDeveloperIdentityCommand=LDe;var UDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UnlinkIdentity"},n;return n=JSON.stringify(yNe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1UnlinkIdentityCommand=UDe;var zDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UntagResource"},n;return n=JSON.stringify(gNe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1UntagResourceCommand=zDe;var VDe=async(t,e)=>{let r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.UpdateIdentityPool"},n;return n=JSON.stringify(XRe(t,e)),ir(e,r,"/",void 0,n)};z.serializeAws_json1_1UpdateIdentityPoolCommand=VDe;var WDe=async(t,e)=>{if(t.statusCode>=300)return HDe(t,e);let r=await Tr(t.body,e),n={};n=WP(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1CreateIdentityPoolCommand=WDe;var HDe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await zP(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ms(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},GDe=async(t,e)=>{if(t.statusCode>=300)return KDe(t,e);let r=await Tr(t.body,e),n={};n=wNe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1DeleteIdentitiesCommand=GDe;var KDe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},YDe=async(t,e)=>{if(t.statusCode>=300)return JDe(t,e);await Mm(t.body,e);let r={$metadata:tt(t)};return Promise.resolve(r)};z.deserializeAws_json1_1DeleteIdentityPoolCommand=YDe;var JDe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},QDe=async(t,e)=>{if(t.statusCode>=300)return XDe(t,e);let r=await Tr(t.body,e),n={};n=aJ(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1DescribeIdentityCommand=QDe;var XDe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},ZDe=async(t,e)=>{if(t.statusCode>=300)return eRe(t,e);let r=await Tr(t.body,e),n={};n=WP(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1DescribeIdentityPoolCommand=ZDe;var eRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},tRe=async(t,e)=>{if(t.statusCode>=300)return rRe(t,e);let r=await Tr(t.body,e),n={};n=bNe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1GetCredentialsForIdentityCommand=tRe;var rRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await zO(r,e);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await $Re(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ms(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},nRe=async(t,e)=>{if(t.statusCode>=300)return iRe(t,e);let r=await Tr(t.body,e),n={};n=PNe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1GetIdCommand=nRe;var iRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await zO(r,e);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await zP(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ms(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},sRe=async(t,e)=>{if(t.statusCode>=300)return oRe(t,e);let r=await Tr(t.body,e),n={};n=INe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1GetIdentityPoolRolesCommand=sRe;var oRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ms(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},uRe=async(t,e)=>{if(t.statusCode>=300)return aRe(t,e);let r=await Tr(t.body,e),n={};n=DNe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1GetOpenIdTokenCommand=uRe;var aRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await zO(r,e);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ms(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},cRe=async(t,e)=>{if(t.statusCode>=300)return lRe(t,e);let r=await Tr(t.body,e),n={};n=TNe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand=cRe;var lRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await qRe(r,e);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ms(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},dRe=async(t,e)=>{if(t.statusCode>=300)return fRe(t,e);let r=await Tr(t.body,e),n={};n=RNe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1GetPrincipalTagAttributeMapCommand=dRe;var fRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},hRe=async(t,e)=>{if(t.statusCode>=300)return pRe(t,e);let r=await Tr(t.body,e),n={};n=jNe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1ListIdentitiesCommand=hRe;var pRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},mRe=async(t,e)=>{if(t.statusCode>=300)return yRe(t,e);let r=await Tr(t.body,e),n={};n=LNe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1ListIdentityPoolsCommand=mRe;var yRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},gRe=async(t,e)=>{if(t.statusCode>=300)return _Re(t,e);let r=await Tr(t.body,e),n={};n=UNe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1ListTagsForResourceCommand=gRe;var _Re=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},ERe=async(t,e)=>{if(t.statusCode>=300)return ARe(t,e);let r=await Tr(t.body,e),n={};n=VNe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1LookupDeveloperIdentityCommand=ERe;var ARe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ms(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},SRe=async(t,e)=>{if(t.statusCode>=300)return wRe(t,e);let r=await Tr(t.body,e),n={};n=GNe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1MergeDeveloperIdentitiesCommand=SRe;var wRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ms(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},ORe=async(t,e)=>{if(t.statusCode>=300)return CRe(t,e);await Mm(t.body,e);let r={$metadata:tt(t)};return Promise.resolve(r)};z.deserializeAws_json1_1SetIdentityPoolRolesCommand=ORe;var CRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await rJ(r,e);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ms(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},vRe=async(t,e)=>{if(t.statusCode>=300)return bRe(t,e);let r=await Tr(t.body,e),n={};n=nxe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1SetPrincipalTagAttributeMapCommand=vRe;var bRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},IRe=async(t,e)=>{if(t.statusCode>=300)return PRe(t,e);let r=await Tr(t.body,e),n={};n=ixe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1TagResourceCommand=IRe;var PRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},TRe=async(t,e)=>{if(t.statusCode>=300)return DRe(t,e);await Mm(t.body,e);let r={$metadata:tt(t)};return Promise.resolve(r)};z.deserializeAws_json1_1UnlinkDeveloperIdentityCommand=TRe;var DRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ms(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},RRe=async(t,e)=>{if(t.statusCode>=300)return NRe(t,e);await Mm(t.body,e);let r={$metadata:tt(t)};return Promise.resolve(r)};z.deserializeAws_json1_1UnlinkIdentityCommand=RRe;var NRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await zO(r,e);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ms(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},xRe=async(t,e)=>{if(t.statusCode>=300)return MRe(t,e);let r=await Tr(t.body,e),n={};n=axe(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1UntagResourceCommand=xRe;var MRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},FRe=async(t,e)=>{if(t.statusCode>=300)return BRe(t,e);let r=await Tr(t.body,e),n={};n=WP(r,e);let i={$metadata:tt(t),...n};return Promise.resolve(i)};z.deserializeAws_json1_1UpdateIdentityPoolCommand=FRe;var BRe=async(t,e)=>{let r={...t,body:await sr(t.body,e)},n=or(t,r.body);switch(n){case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await rJ(r,e);case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await tr(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rr(r,e);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await zP(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await hr(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await ms(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await Er(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nr(r,e);default:let i=r.body;(0,L.throwDefaultError)({output:t,parsedBody:i,exceptionCtor:er.CognitoIdentityServiceException,errorCode:n})}},rJ=async(t,e)=>{let r=t.body,n=ANe(r,e),i=new zs.ConcurrentModificationException({$metadata:tt(t),...n});return(0,L.decorateServiceException)(i,r)},qRe=async(t,e)=>{let r=t.body,n=ONe(r,e),i=new zs.DeveloperUserAlreadyRegisteredException({$metadata:tt(t),...n});return(0,L.decorateServiceException)(i,r)},zO=async(t,e)=>{let r=t.body,n=vNe(r,e),i=new zs.ExternalServiceException({$metadata:tt(t),...n});return(0,L.decorateServiceException)(i,r)},tr=async(t,e)=>{let r=t.body,n=BNe(r,e),i=new zs.InternalErrorException({$metadata:tt(t),...n});return(0,L.decorateServiceException)(i,r)},$Re=async(t,e)=>{let r=t.body,n=qNe(r,e),i=new zs.InvalidIdentityPoolConfigurationException({$metadata:tt(t),...n});return(0,L.decorateServiceException)(i,r)},rr=async(t,e)=>{let r=t.body,n=$Ne(r,e),i=new zs.InvalidParameterException({$metadata:tt(t),...n});return(0,L.decorateServiceException)(i,r)},zP=async(t,e)=>{let r=t.body,n=kNe(r,e),i=new zs.LimitExceededException({$metadata:tt(t),...n});return(0,L.decorateServiceException)(i,r)},hr=async(t,e)=>{let r=t.body,n=KNe(r,e),i=new zs.NotAuthorizedException({$metadata:tt(t),...n});return(0,L.decorateServiceException)(i,r)},ms=async(t,e)=>{let r=t.body,n=JNe(r,e),i=new zs.ResourceConflictException({$metadata:tt(t),...n});return(0,L.decorateServiceException)(i,r)},Er=async(t,e)=>{let r=t.body,n=QNe(r,e),i=new zs.ResourceNotFoundException({$metadata:tt(t),...n});return(0,L.decorateServiceException)(i,r)},nr=async(t,e)=>{let r=t.body,n=sxe(r,e),i=new zs.TooManyRequestsException({$metadata:tt(t),...n});return(0,L.decorateServiceException)(i,r)},kRe=(t,e)=>({...t.ClientId!=null&&{ClientId:t.ClientId},...t.ProviderName!=null&&{ProviderName:t.ProviderName},...t.ServerSideTokenCheck!=null&&{ServerSideTokenCheck:t.ServerSideTokenCheck}}),nJ=(t,e)=>t.filter(r=>r!=null).map(r=>kRe(r,e)),jRe=(t,e)=>({...t.AllowClassicFlow!=null&&{AllowClassicFlow:t.AllowClassicFlow},...t.AllowUnauthenticatedIdentities!=null&&{AllowUnauthenticatedIdentities:t.AllowUnauthenticatedIdentities},...t.CognitoIdentityProviders!=null&&{CognitoIdentityProviders:nJ(t.CognitoIdentityProviders,e)},...t.DeveloperProviderName!=null&&{DeveloperProviderName:t.DeveloperProviderName},...t.IdentityPoolName!=null&&{IdentityPoolName:t.IdentityPoolName},...t.IdentityPoolTags!=null&&{IdentityPoolTags:VP(t.IdentityPoolTags,e)},...t.OpenIdConnectProviderARNs!=null&&{OpenIdConnectProviderARNs:sJ(t.OpenIdConnectProviderARNs,e)},...t.SamlProviderARNs!=null&&{SamlProviderARNs:uJ(t.SamlProviderARNs,e)},...t.SupportedLoginProviders!=null&&{SupportedLoginProviders:iJ(t.SupportedLoginProviders,e)}}),LRe=(t,e)=>({...t.IdentityIdsToDelete!=null&&{IdentityIdsToDelete:QRe(t.IdentityIdsToDelete,e)}}),URe=(t,e)=>({...t.IdentityPoolId!=null&&{IdentityPoolId:t.IdentityPoolId}}),zRe=(t,e)=>({...t.IdentityId!=null&&{IdentityId:t.IdentityId}}),VRe=(t,e)=>({...t.IdentityPoolId!=null&&{IdentityPoolId:t.IdentityPoolId}}),WRe=(t,e)=>({...t.CustomRoleArn!=null&&{CustomRoleArn:t.CustomRoleArn},...t.IdentityId!=null&&{IdentityId:t.IdentityId},...t.Logins!=null&&{Logins:xm(t.Logins,e)}}),HRe=(t,e)=>({...t.IdentityPoolId!=null&&{IdentityPoolId:t.IdentityPoolId}}),GRe=(t,e)=>({...t.AccountId!=null&&{AccountId:t.AccountId},...t.IdentityPoolId!=null&&{IdentityPoolId:t.IdentityPoolId},...t.Logins!=null&&{Logins:xm(t.Logins,e)}}),KRe=(t,e)=>({...t.IdentityId!=null&&{IdentityId:t.IdentityId},...t.IdentityPoolId!=null&&{IdentityPoolId:t.IdentityPoolId},...t.Logins!=null&&{Logins:xm(t.Logins,e)},...t.PrincipalTags!=null&&{PrincipalTags:oJ(t.PrincipalTags,e)},...t.TokenDuration!=null&&{TokenDuration:t.TokenDuration}}),YRe=(t,e)=>({...t.IdentityId!=null&&{IdentityId:t.IdentityId},...t.Logins!=null&&{Logins:xm(t.Logins,e)}}),JRe=(t,e)=>({...t.IdentityPoolId!=null&&{IdentityPoolId:t.IdentityPoolId},...t.IdentityProviderName!=null&&{IdentityProviderName:t.IdentityProviderName}}),QRe=(t,e)=>t.filter(r=>r!=null).map(r=>r),XRe=(t,e)=>({...t.AllowClassicFlow!=null&&{AllowClassicFlow:t.AllowClassicFlow},...t.AllowUnauthenticatedIdentities!=null&&{AllowUnauthenticatedIdentities:t.AllowUnauthenticatedIdentities},...t.CognitoIdentityProviders!=null&&{CognitoIdentityProviders:nJ(t.CognitoIdentityProviders,e)},...t.DeveloperProviderName!=null&&{DeveloperProviderName:t.DeveloperProviderName},...t.IdentityPoolId!=null&&{IdentityPoolId:t.IdentityPoolId},...t.IdentityPoolName!=null&&{IdentityPoolName:t.IdentityPoolName},...t.IdentityPoolTags!=null&&{IdentityPoolTags:VP(t.IdentityPoolTags,e)},...t.OpenIdConnectProviderARNs!=null&&{OpenIdConnectProviderARNs:sJ(t.OpenIdConnectProviderARNs,e)},...t.SamlProviderARNs!=null&&{SamlProviderARNs:uJ(t.SamlProviderARNs,e)},...t.SupportedLoginProviders!=null&&{SupportedLoginProviders:iJ(t.SupportedLoginProviders,e)}}),ZRe=(t,e)=>t.filter(r=>r!=null).map(r=>r),VP=(t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=i),r),{}),iJ=(t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=i),r),{}),eNe=(t,e)=>({...t.HideDisabled!=null&&{HideDisabled:t.HideDisabled},...t.IdentityPoolId!=null&&{IdentityPoolId:t.IdentityPoolId},...t.MaxResults!=null&&{MaxResults:t.MaxResults},...t.NextToken!=null&&{NextToken:t.NextToken}}),tNe=(t,e)=>({...t.MaxResults!=null&&{MaxResults:t.MaxResults},...t.NextToken!=null&&{NextToken:t.NextToken}}),rNe=(t,e)=>({...t.ResourceArn!=null&&{ResourceArn:t.ResourceArn}}),nNe=(t,e)=>t.filter(r=>r!=null).map(r=>r),xm=(t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=i),r),{}),iNe=(t,e)=>({...t.DeveloperUserIdentifier!=null&&{DeveloperUserIdentifier:t.DeveloperUserIdentifier},...t.IdentityId!=null&&{IdentityId:t.IdentityId},...t.IdentityPoolId!=null&&{IdentityPoolId:t.IdentityPoolId},...t.MaxResults!=null&&{MaxResults:t.MaxResults},...t.NextToken!=null&&{NextToken:t.NextToken}}),sNe=(t,e)=>({...t.Claim!=null&&{Claim:t.Claim},...t.MatchType!=null&&{MatchType:t.MatchType},...t.RoleARN!=null&&{RoleARN:t.RoleARN},...t.Value!=null&&{Value:t.Value}}),oNe=(t,e)=>t.filter(r=>r!=null).map(r=>sNe(r,e)),uNe=(t,e)=>({...t.DestinationUserIdentifier!=null&&{DestinationUserIdentifier:t.DestinationUserIdentifier},...t.DeveloperProviderName!=null&&{DeveloperProviderName:t.DeveloperProviderName},...t.IdentityPoolId!=null&&{IdentityPoolId:t.IdentityPoolId},...t.SourceUserIdentifier!=null&&{SourceUserIdentifier:t.SourceUserIdentifier}}),sJ=(t,e)=>t.filter(r=>r!=null).map(r=>r),oJ=(t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=i),r),{}),aNe=(t,e)=>({...t.AmbiguousRoleResolution!=null&&{AmbiguousRoleResolution:t.AmbiguousRoleResolution},...t.RulesConfiguration!=null&&{RulesConfiguration:dNe(t.RulesConfiguration,e)},...t.Type!=null&&{Type:t.Type}}),cNe=(t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=aNe(i,e)),r),{}),lNe=(t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=i),r),{}),dNe=(t,e)=>({...t.Rules!=null&&{Rules:oNe(t.Rules,e)}}),uJ=(t,e)=>t.filter(r=>r!=null).map(r=>r),fNe=(t,e)=>({...t.IdentityPoolId!=null&&{IdentityPoolId:t.IdentityPoolId},...t.RoleMappings!=null&&{RoleMappings:cNe(t.RoleMappings,e)},...t.Roles!=null&&{Roles:lNe(t.Roles,e)}}),hNe=(t,e)=>({...t.IdentityPoolId!=null&&{IdentityPoolId:t.IdentityPoolId},...t.IdentityProviderName!=null&&{IdentityProviderName:t.IdentityProviderName},...t.PrincipalTags!=null&&{PrincipalTags:oJ(t.PrincipalTags,e)},...t.UseDefaults!=null&&{UseDefaults:t.UseDefaults}}),pNe=(t,e)=>({...t.ResourceArn!=null&&{ResourceArn:t.ResourceArn},...t.Tags!=null&&{Tags:VP(t.Tags,e)}}),mNe=(t,e)=>({...t.DeveloperProviderName!=null&&{DeveloperProviderName:t.DeveloperProviderName},...t.DeveloperUserIdentifier!=null&&{DeveloperUserIdentifier:t.DeveloperUserIdentifier},...t.IdentityId!=null&&{IdentityId:t.IdentityId},...t.IdentityPoolId!=null&&{IdentityPoolId:t.IdentityPoolId}}),yNe=(t,e)=>({...t.IdentityId!=null&&{IdentityId:t.IdentityId},...t.Logins!=null&&{Logins:xm(t.Logins,e)},...t.LoginsToRemove!=null&&{LoginsToRemove:nNe(t.LoginsToRemove,e)}}),gNe=(t,e)=>({...t.ResourceArn!=null&&{ResourceArn:t.ResourceArn},...t.TagKeys!=null&&{TagKeys:ZRe(t.TagKeys,e)}}),_Ne=(t,e)=>({ClientId:(0,L.expectString)(t.ClientId),ProviderName:(0,L.expectString)(t.ProviderName),ServerSideTokenCheck:(0,L.expectBoolean)(t.ServerSideTokenCheck)}),ENe=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>n===null?null:_Ne(n,e)),ANe=(t,e)=>({message:(0,L.expectString)(t.message)}),SNe=(t,e)=>({AccessKeyId:(0,L.expectString)(t.AccessKeyId),Expiration:t.Expiration!=null?(0,L.expectNonNull)((0,L.parseEpochTimestamp)((0,L.expectNumber)(t.Expiration))):void 0,SecretKey:(0,L.expectString)(t.SecretKey),SessionToken:(0,L.expectString)(t.SessionToken)}),wNe=(t,e)=>({UnprocessedIdentityIds:t.UnprocessedIdentityIds!=null?uxe(t.UnprocessedIdentityIds,e):void 0}),ONe=(t,e)=>({message:(0,L.expectString)(t.message)}),CNe=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>n===null?null:(0,L.expectString)(n)),vNe=(t,e)=>({message:(0,L.expectString)(t.message)}),bNe=(t,e)=>({Credentials:t.Credentials!=null?SNe(t.Credentials,e):void 0,IdentityId:(0,L.expectString)(t.IdentityId)}),INe=(t,e)=>({IdentityPoolId:(0,L.expectString)(t.IdentityPoolId),RoleMappings:t.RoleMappings!=null?ZNe(t.RoleMappings,e):void 0,Roles:t.Roles!=null?exe(t.Roles,e):void 0}),PNe=(t,e)=>({IdentityId:(0,L.expectString)(t.IdentityId)}),TNe=(t,e)=>({IdentityId:(0,L.expectString)(t.IdentityId),Token:(0,L.expectString)(t.Token)}),DNe=(t,e)=>({IdentityId:(0,L.expectString)(t.IdentityId),Token:(0,L.expectString)(t.Token)}),RNe=(t,e)=>({IdentityPoolId:(0,L.expectString)(t.IdentityPoolId),IdentityProviderName:(0,L.expectString)(t.IdentityProviderName),PrincipalTags:t.PrincipalTags!=null?lJ(t.PrincipalTags,e):void 0,UseDefaults:(0,L.expectBoolean)(t.UseDefaults)}),NNe=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>n===null?null:aJ(n,e)),aJ=(t,e)=>({CreationDate:t.CreationDate!=null?(0,L.expectNonNull)((0,L.parseEpochTimestamp)((0,L.expectNumber)(t.CreationDate))):void 0,IdentityId:(0,L.expectString)(t.IdentityId),LastModifiedDate:t.LastModifiedDate!=null?(0,L.expectNonNull)((0,L.parseEpochTimestamp)((0,L.expectNumber)(t.LastModifiedDate))):void 0,Logins:t.Logins!=null?zNe(t.Logins,e):void 0}),WP=(t,e)=>({AllowClassicFlow:(0,L.expectBoolean)(t.AllowClassicFlow),AllowUnauthenticatedIdentities:(0,L.expectBoolean)(t.AllowUnauthenticatedIdentities),CognitoIdentityProviders:t.CognitoIdentityProviders!=null?ENe(t.CognitoIdentityProviders,e):void 0,DeveloperProviderName:(0,L.expectString)(t.DeveloperProviderName),IdentityPoolId:(0,L.expectString)(t.IdentityPoolId),IdentityPoolName:(0,L.expectString)(t.IdentityPoolName),IdentityPoolTags:t.IdentityPoolTags!=null?cJ(t.IdentityPoolTags,e):void 0,OpenIdConnectProviderARNs:t.OpenIdConnectProviderARNs!=null?YNe(t.OpenIdConnectProviderARNs,e):void 0,SamlProviderARNs:t.SamlProviderARNs!=null?rxe(t.SamlProviderARNs,e):void 0,SupportedLoginProviders:t.SupportedLoginProviders!=null?FNe(t.SupportedLoginProviders,e):void 0}),xNe=(t,e)=>({IdentityPoolId:(0,L.expectString)(t.IdentityPoolId),IdentityPoolName:(0,L.expectString)(t.IdentityPoolName)}),MNe=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>n===null?null:xNe(n,e)),cJ=(t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=(0,L.expectString)(i)),r),{}),FNe=(t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=(0,L.expectString)(i)),r),{}),BNe=(t,e)=>({message:(0,L.expectString)(t.message)}),qNe=(t,e)=>({message:(0,L.expectString)(t.message)}),$Ne=(t,e)=>({message:(0,L.expectString)(t.message)}),kNe=(t,e)=>({message:(0,L.expectString)(t.message)}),jNe=(t,e)=>({Identities:t.Identities!=null?NNe(t.Identities,e):void 0,IdentityPoolId:(0,L.expectString)(t.IdentityPoolId),NextToken:(0,L.expectString)(t.NextToken)}),LNe=(t,e)=>({IdentityPools:t.IdentityPools!=null?MNe(t.IdentityPools,e):void 0,NextToken:(0,L.expectString)(t.NextToken)}),UNe=(t,e)=>({Tags:t.Tags!=null?cJ(t.Tags,e):void 0}),zNe=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>n===null?null:(0,L.expectString)(n)),VNe=(t,e)=>({DeveloperUserIdentifierList:t.DeveloperUserIdentifierList!=null?CNe(t.DeveloperUserIdentifierList,e):void 0,IdentityId:(0,L.expectString)(t.IdentityId),NextToken:(0,L.expectString)(t.NextToken)}),WNe=(t,e)=>({Claim:(0,L.expectString)(t.Claim),MatchType:(0,L.expectString)(t.MatchType),RoleARN:(0,L.expectString)(t.RoleARN),Value:(0,L.expectString)(t.Value)}),HNe=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>n===null?null:WNe(n,e)),GNe=(t,e)=>({IdentityId:(0,L.expectString)(t.IdentityId)}),KNe=(t,e)=>({message:(0,L.expectString)(t.message)}),YNe=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>n===null?null:(0,L.expectString)(n)),lJ=(t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=(0,L.expectString)(i)),r),{}),JNe=(t,e)=>({message:(0,L.expectString)(t.message)}),QNe=(t,e)=>({message:(0,L.expectString)(t.message)}),XNe=(t,e)=>({AmbiguousRoleResolution:(0,L.expectString)(t.AmbiguousRoleResolution),RulesConfiguration:t.RulesConfiguration!=null?txe(t.RulesConfiguration,e):void 0,Type:(0,L.expectString)(t.Type)}),ZNe=(t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=XNe(i,e)),r),{}),exe=(t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=(0,L.expectString)(i)),r),{}),txe=(t,e)=>({Rules:t.Rules!=null?HNe(t.Rules,e):void 0}),rxe=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>n===null?null:(0,L.expectString)(n)),nxe=(t,e)=>({IdentityPoolId:(0,L.expectString)(t.IdentityPoolId),IdentityProviderName:(0,L.expectString)(t.IdentityProviderName),PrincipalTags:t.PrincipalTags!=null?lJ(t.PrincipalTags,e):void 0,UseDefaults:(0,L.expectBoolean)(t.UseDefaults)}),ixe=(t,e)=>({}),sxe=(t,e)=>({message:(0,L.expectString)(t.message)}),oxe=(t,e)=>({ErrorCode:(0,L.expectString)(t.ErrorCode),IdentityId:(0,L.expectString)(t.IdentityId)}),uxe=(t,e)=>(t||[]).filter(n=>n!=null).map(n=>n===null?null:oxe(n,e)),axe=(t,e)=>({}),tt=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),Mm=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),cxe=(t,e)=>Mm(t,e).then(r=>e.utf8Encoder(r)),ir=async(t,e,r,n,i)=>{let{hostname:s,protocol:o="https",port:u,path:a}=await t.endpoint(),c={protocol:o,hostname:s,port:u,method:"POST",path:a.endsWith("/")?a.slice(0,-1)+r:a+r,headers:e};return n!==void 0&&(c.hostname=n),i!==void 0&&(c.body=i),new SDe.HttpRequest(c)},Tr=(t,e)=>cxe(t,e).then(r=>r.length?JSON.parse(r):{}),sr=async(t,e)=>{let r=await Tr(t,e);return r.message=r.message??r.Message,r},or=(t,e)=>{let r=(s,o)=>Object.keys(s).find(u=>u.toLowerCase()===o.toLowerCase()),n=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)}});var HP=h(VO=>{"use strict";Object.defineProperty(VO,"__esModule",{value:!0});VO.CreateIdentityPoolCommand=void 0;var lxe=be(),dxe=Le(),fxe=Ct(),hxe=ae(),dJ=Bt(),fJ=Yt(),Fm=class extends hxe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,dxe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,lxe.getEndpointPlugin)(r,Fm.getEndpointParameterInstructions())),this.middlewareStack.use((0,fxe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"CreateIdentityPoolCommand",inputFilterSensitiveLog:dJ.CreateIdentityPoolInputFilterSensitiveLog,outputFilterSensitiveLog:dJ.IdentityPoolFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,fJ.serializeAws_json1_1CreateIdentityPoolCommand)(e,r)}deserialize(e,r){return(0,fJ.deserializeAws_json1_1CreateIdentityPoolCommand)(e,r)}};VO.CreateIdentityPoolCommand=Fm});var GP=h(WO=>{"use strict";Object.defineProperty(WO,"__esModule",{value:!0});WO.DeleteIdentitiesCommand=void 0;var pxe=be(),mxe=Le(),yxe=Ct(),gxe=ae(),hJ=Bt(),pJ=Yt(),Bm=class extends gxe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,mxe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,pxe.getEndpointPlugin)(r,Bm.getEndpointParameterInstructions())),this.middlewareStack.use((0,yxe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"DeleteIdentitiesCommand",inputFilterSensitiveLog:hJ.DeleteIdentitiesInputFilterSensitiveLog,outputFilterSensitiveLog:hJ.DeleteIdentitiesResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,pJ.serializeAws_json1_1DeleteIdentitiesCommand)(e,r)}deserialize(e,r){return(0,pJ.deserializeAws_json1_1DeleteIdentitiesCommand)(e,r)}};WO.DeleteIdentitiesCommand=Bm});var KP=h(HO=>{"use strict";Object.defineProperty(HO,"__esModule",{value:!0});HO.DeleteIdentityPoolCommand=void 0;var _xe=be(),Exe=Le(),Axe=Ct(),Sxe=ae(),wxe=Bt(),mJ=Yt(),qm=class extends Sxe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,Exe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,_xe.getEndpointPlugin)(r,qm.getEndpointParameterInstructions())),this.middlewareStack.use((0,Axe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"DeleteIdentityPoolCommand",inputFilterSensitiveLog:wxe.DeleteIdentityPoolInputFilterSensitiveLog,outputFilterSensitiveLog:l=>l},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,mJ.serializeAws_json1_1DeleteIdentityPoolCommand)(e,r)}deserialize(e,r){return(0,mJ.deserializeAws_json1_1DeleteIdentityPoolCommand)(e,r)}};HO.DeleteIdentityPoolCommand=qm});var YP=h(GO=>{"use strict";Object.defineProperty(GO,"__esModule",{value:!0});GO.DescribeIdentityCommand=void 0;var Oxe=be(),Cxe=Le(),vxe=Ct(),bxe=ae(),yJ=Bt(),gJ=Yt(),$m=class extends bxe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,Cxe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Oxe.getEndpointPlugin)(r,$m.getEndpointParameterInstructions())),this.middlewareStack.use((0,vxe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"DescribeIdentityCommand",inputFilterSensitiveLog:yJ.DescribeIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:yJ.IdentityDescriptionFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,gJ.serializeAws_json1_1DescribeIdentityCommand)(e,r)}deserialize(e,r){return(0,gJ.deserializeAws_json1_1DescribeIdentityCommand)(e,r)}};GO.DescribeIdentityCommand=$m});var JP=h(KO=>{"use strict";Object.defineProperty(KO,"__esModule",{value:!0});KO.DescribeIdentityPoolCommand=void 0;var Ixe=be(),Pxe=Le(),Txe=Ct(),Dxe=ae(),_J=Bt(),EJ=Yt(),km=class extends Dxe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,Pxe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Ixe.getEndpointPlugin)(r,km.getEndpointParameterInstructions())),this.middlewareStack.use((0,Txe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"DescribeIdentityPoolCommand",inputFilterSensitiveLog:_J.DescribeIdentityPoolInputFilterSensitiveLog,outputFilterSensitiveLog:_J.IdentityPoolFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,EJ.serializeAws_json1_1DescribeIdentityPoolCommand)(e,r)}deserialize(e,r){return(0,EJ.deserializeAws_json1_1DescribeIdentityPoolCommand)(e,r)}};KO.DescribeIdentityPoolCommand=km});var QP=h(YO=>{"use strict";Object.defineProperty(YO,"__esModule",{value:!0});YO.GetCredentialsForIdentityCommand=void 0;var Rxe=be(),Nxe=Le(),xxe=ae(),AJ=Bt(),SJ=Yt(),jm=class extends xxe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,Nxe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Rxe.getEndpointPlugin)(r,jm.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:AJ.GetCredentialsForIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:AJ.GetCredentialsForIdentityResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,SJ.serializeAws_json1_1GetCredentialsForIdentityCommand)(e,r)}deserialize(e,r){return(0,SJ.deserializeAws_json1_1GetCredentialsForIdentityCommand)(e,r)}};YO.GetCredentialsForIdentityCommand=jm});var XP=h(JO=>{"use strict";Object.defineProperty(JO,"__esModule",{value:!0});JO.GetIdCommand=void 0;var Mxe=be(),Fxe=Le(),Bxe=ae(),wJ=Bt(),OJ=Yt(),Lm=class extends Bxe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,Fxe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Mxe.getEndpointPlugin)(r,Lm.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:wJ.GetIdInputFilterSensitiveLog,outputFilterSensitiveLog:wJ.GetIdResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,OJ.serializeAws_json1_1GetIdCommand)(e,r)}deserialize(e,r){return(0,OJ.deserializeAws_json1_1GetIdCommand)(e,r)}};JO.GetIdCommand=Lm});var ZP=h(QO=>{"use strict";Object.defineProperty(QO,"__esModule",{value:!0});QO.GetIdentityPoolRolesCommand=void 0;var qxe=be(),$xe=Le(),kxe=Ct(),jxe=ae(),CJ=Bt(),vJ=Yt(),Um=class extends jxe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,$xe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,qxe.getEndpointPlugin)(r,Um.getEndpointParameterInstructions())),this.middlewareStack.use((0,kxe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"GetIdentityPoolRolesCommand",inputFilterSensitiveLog:CJ.GetIdentityPoolRolesInputFilterSensitiveLog,outputFilterSensitiveLog:CJ.GetIdentityPoolRolesResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,vJ.serializeAws_json1_1GetIdentityPoolRolesCommand)(e,r)}deserialize(e,r){return(0,vJ.deserializeAws_json1_1GetIdentityPoolRolesCommand)(e,r)}};QO.GetIdentityPoolRolesCommand=Um});var eT=h(XO=>{"use strict";Object.defineProperty(XO,"__esModule",{value:!0});XO.GetOpenIdTokenCommand=void 0;var Lxe=be(),Uxe=Le(),zxe=ae(),bJ=Bt(),IJ=Yt(),zm=class extends zxe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,Uxe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Lxe.getEndpointPlugin)(r,zm.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"GetOpenIdTokenCommand",inputFilterSensitiveLog:bJ.GetOpenIdTokenInputFilterSensitiveLog,outputFilterSensitiveLog:bJ.GetOpenIdTokenResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,IJ.serializeAws_json1_1GetOpenIdTokenCommand)(e,r)}deserialize(e,r){return(0,IJ.deserializeAws_json1_1GetOpenIdTokenCommand)(e,r)}};XO.GetOpenIdTokenCommand=zm});var tT=h(ZO=>{"use strict";Object.defineProperty(ZO,"__esModule",{value:!0});ZO.GetOpenIdTokenForDeveloperIdentityCommand=void 0;var Vxe=be(),Wxe=Le(),Hxe=Ct(),Gxe=ae(),PJ=Bt(),TJ=Yt(),Vm=class extends Gxe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,Wxe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Vxe.getEndpointPlugin)(r,Vm.getEndpointParameterInstructions())),this.middlewareStack.use((0,Hxe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"GetOpenIdTokenForDeveloperIdentityCommand",inputFilterSensitiveLog:PJ.GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:PJ.GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,TJ.serializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand)(e,r)}deserialize(e,r){return(0,TJ.deserializeAws_json1_1GetOpenIdTokenForDeveloperIdentityCommand)(e,r)}};ZO.GetOpenIdTokenForDeveloperIdentityCommand=Vm});var rT=h(e6=>{"use strict";Object.defineProperty(e6,"__esModule",{value:!0});e6.GetPrincipalTagAttributeMapCommand=void 0;var Kxe=be(),Yxe=Le(),Jxe=Ct(),Qxe=ae(),DJ=Bt(),RJ=Yt(),Wm=class extends Qxe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,Yxe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Kxe.getEndpointPlugin)(r,Wm.getEndpointParameterInstructions())),this.middlewareStack.use((0,Jxe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"GetPrincipalTagAttributeMapCommand",inputFilterSensitiveLog:DJ.GetPrincipalTagAttributeMapInputFilterSensitiveLog,outputFilterSensitiveLog:DJ.GetPrincipalTagAttributeMapResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,RJ.serializeAws_json1_1GetPrincipalTagAttributeMapCommand)(e,r)}deserialize(e,r){return(0,RJ.deserializeAws_json1_1GetPrincipalTagAttributeMapCommand)(e,r)}};e6.GetPrincipalTagAttributeMapCommand=Wm});var nT=h(t6=>{"use strict";Object.defineProperty(t6,"__esModule",{value:!0});t6.ListIdentitiesCommand=void 0;var Xxe=be(),Zxe=Le(),eMe=Ct(),tMe=ae(),NJ=Bt(),xJ=Yt(),Hm=class extends tMe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,Zxe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Xxe.getEndpointPlugin)(r,Hm.getEndpointParameterInstructions())),this.middlewareStack.use((0,eMe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"ListIdentitiesCommand",inputFilterSensitiveLog:NJ.ListIdentitiesInputFilterSensitiveLog,outputFilterSensitiveLog:NJ.ListIdentitiesResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,xJ.serializeAws_json1_1ListIdentitiesCommand)(e,r)}deserialize(e,r){return(0,xJ.deserializeAws_json1_1ListIdentitiesCommand)(e,r)}};t6.ListIdentitiesCommand=Hm});var n6=h(r6=>{"use strict";Object.defineProperty(r6,"__esModule",{value:!0});r6.ListIdentityPoolsCommand=void 0;var rMe=be(),nMe=Le(),iMe=Ct(),sMe=ae(),MJ=Bt(),FJ=Yt(),Gm=class extends sMe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,nMe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,rMe.getEndpointPlugin)(r,Gm.getEndpointParameterInstructions())),this.middlewareStack.use((0,iMe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"ListIdentityPoolsCommand",inputFilterSensitiveLog:MJ.ListIdentityPoolsInputFilterSensitiveLog,outputFilterSensitiveLog:MJ.ListIdentityPoolsResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,FJ.serializeAws_json1_1ListIdentityPoolsCommand)(e,r)}deserialize(e,r){return(0,FJ.deserializeAws_json1_1ListIdentityPoolsCommand)(e,r)}};r6.ListIdentityPoolsCommand=Gm});var iT=h(i6=>{"use strict";Object.defineProperty(i6,"__esModule",{value:!0});i6.ListTagsForResourceCommand=void 0;var oMe=be(),uMe=Le(),aMe=Ct(),cMe=ae(),BJ=Bt(),qJ=Yt(),Km=class extends cMe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,uMe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,oMe.getEndpointPlugin)(r,Km.getEndpointParameterInstructions())),this.middlewareStack.use((0,aMe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"ListTagsForResourceCommand",inputFilterSensitiveLog:BJ.ListTagsForResourceInputFilterSensitiveLog,outputFilterSensitiveLog:BJ.ListTagsForResourceResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,qJ.serializeAws_json1_1ListTagsForResourceCommand)(e,r)}deserialize(e,r){return(0,qJ.deserializeAws_json1_1ListTagsForResourceCommand)(e,r)}};i6.ListTagsForResourceCommand=Km});var sT=h(s6=>{"use strict";Object.defineProperty(s6,"__esModule",{value:!0});s6.LookupDeveloperIdentityCommand=void 0;var lMe=be(),dMe=Le(),fMe=Ct(),hMe=ae(),$J=Bt(),kJ=Yt(),Ym=class extends hMe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,dMe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,lMe.getEndpointPlugin)(r,Ym.getEndpointParameterInstructions())),this.middlewareStack.use((0,fMe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"LookupDeveloperIdentityCommand",inputFilterSensitiveLog:$J.LookupDeveloperIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:$J.LookupDeveloperIdentityResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,kJ.serializeAws_json1_1LookupDeveloperIdentityCommand)(e,r)}deserialize(e,r){return(0,kJ.deserializeAws_json1_1LookupDeveloperIdentityCommand)(e,r)}};s6.LookupDeveloperIdentityCommand=Ym});var oT=h(o6=>{"use strict";Object.defineProperty(o6,"__esModule",{value:!0});o6.MergeDeveloperIdentitiesCommand=void 0;var pMe=be(),mMe=Le(),yMe=Ct(),gMe=ae(),jJ=Bt(),LJ=Yt(),Jm=class extends gMe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,mMe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,pMe.getEndpointPlugin)(r,Jm.getEndpointParameterInstructions())),this.middlewareStack.use((0,yMe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"MergeDeveloperIdentitiesCommand",inputFilterSensitiveLog:jJ.MergeDeveloperIdentitiesInputFilterSensitiveLog,outputFilterSensitiveLog:jJ.MergeDeveloperIdentitiesResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,LJ.serializeAws_json1_1MergeDeveloperIdentitiesCommand)(e,r)}deserialize(e,r){return(0,LJ.deserializeAws_json1_1MergeDeveloperIdentitiesCommand)(e,r)}};o6.MergeDeveloperIdentitiesCommand=Jm});var uT=h(u6=>{"use strict";Object.defineProperty(u6,"__esModule",{value:!0});u6.SetIdentityPoolRolesCommand=void 0;var _Me=be(),EMe=Le(),AMe=Ct(),SMe=ae(),wMe=Bt(),UJ=Yt(),Qm=class extends SMe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,EMe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,_Me.getEndpointPlugin)(r,Qm.getEndpointParameterInstructions())),this.middlewareStack.use((0,AMe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"SetIdentityPoolRolesCommand",inputFilterSensitiveLog:wMe.SetIdentityPoolRolesInputFilterSensitiveLog,outputFilterSensitiveLog:l=>l},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,UJ.serializeAws_json1_1SetIdentityPoolRolesCommand)(e,r)}deserialize(e,r){return(0,UJ.deserializeAws_json1_1SetIdentityPoolRolesCommand)(e,r)}};u6.SetIdentityPoolRolesCommand=Qm});var aT=h(a6=>{"use strict";Object.defineProperty(a6,"__esModule",{value:!0});a6.SetPrincipalTagAttributeMapCommand=void 0;var OMe=be(),CMe=Le(),vMe=Ct(),bMe=ae(),zJ=Bt(),VJ=Yt(),Xm=class extends bMe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,CMe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,OMe.getEndpointPlugin)(r,Xm.getEndpointParameterInstructions())),this.middlewareStack.use((0,vMe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"SetPrincipalTagAttributeMapCommand",inputFilterSensitiveLog:zJ.SetPrincipalTagAttributeMapInputFilterSensitiveLog,outputFilterSensitiveLog:zJ.SetPrincipalTagAttributeMapResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,VJ.serializeAws_json1_1SetPrincipalTagAttributeMapCommand)(e,r)}deserialize(e,r){return(0,VJ.deserializeAws_json1_1SetPrincipalTagAttributeMapCommand)(e,r)}};a6.SetPrincipalTagAttributeMapCommand=Xm});var cT=h(c6=>{"use strict";Object.defineProperty(c6,"__esModule",{value:!0});c6.TagResourceCommand=void 0;var IMe=be(),PMe=Le(),TMe=Ct(),DMe=ae(),WJ=Bt(),HJ=Yt(),Zm=class extends DMe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,PMe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,IMe.getEndpointPlugin)(r,Zm.getEndpointParameterInstructions())),this.middlewareStack.use((0,TMe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:WJ.TagResourceInputFilterSensitiveLog,outputFilterSensitiveLog:WJ.TagResourceResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,HJ.serializeAws_json1_1TagResourceCommand)(e,r)}deserialize(e,r){return(0,HJ.deserializeAws_json1_1TagResourceCommand)(e,r)}};c6.TagResourceCommand=Zm});var lT=h(l6=>{"use strict";Object.defineProperty(l6,"__esModule",{value:!0});l6.UnlinkDeveloperIdentityCommand=void 0;var RMe=be(),NMe=Le(),xMe=Ct(),MMe=ae(),FMe=Bt(),GJ=Yt(),ey=class extends MMe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,NMe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,RMe.getEndpointPlugin)(r,ey.getEndpointParameterInstructions())),this.middlewareStack.use((0,xMe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"UnlinkDeveloperIdentityCommand",inputFilterSensitiveLog:FMe.UnlinkDeveloperIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:l=>l},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,GJ.serializeAws_json1_1UnlinkDeveloperIdentityCommand)(e,r)}deserialize(e,r){return(0,GJ.deserializeAws_json1_1UnlinkDeveloperIdentityCommand)(e,r)}};l6.UnlinkDeveloperIdentityCommand=ey});var dT=h(d6=>{"use strict";Object.defineProperty(d6,"__esModule",{value:!0});d6.UnlinkIdentityCommand=void 0;var BMe=be(),qMe=Le(),$Me=ae(),kMe=Bt(),KJ=Yt(),ty=class extends $Me.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,qMe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,BMe.getEndpointPlugin)(r,ty.getEndpointParameterInstructions()));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"UnlinkIdentityCommand",inputFilterSensitiveLog:kMe.UnlinkIdentityInputFilterSensitiveLog,outputFilterSensitiveLog:l=>l},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,KJ.serializeAws_json1_1UnlinkIdentityCommand)(e,r)}deserialize(e,r){return(0,KJ.deserializeAws_json1_1UnlinkIdentityCommand)(e,r)}};d6.UnlinkIdentityCommand=ty});var fT=h(f6=>{"use strict";Object.defineProperty(f6,"__esModule",{value:!0});f6.UntagResourceCommand=void 0;var jMe=be(),LMe=Le(),UMe=Ct(),zMe=ae(),YJ=Bt(),JJ=Yt(),ry=class extends zMe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,LMe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,jMe.getEndpointPlugin)(r,ry.getEndpointParameterInstructions())),this.middlewareStack.use((0,UMe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:YJ.UntagResourceInputFilterSensitiveLog,outputFilterSensitiveLog:YJ.UntagResourceResponseFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,JJ.serializeAws_json1_1UntagResourceCommand)(e,r)}deserialize(e,r){return(0,JJ.deserializeAws_json1_1UntagResourceCommand)(e,r)}};f6.UntagResourceCommand=ry});var hT=h(h6=>{"use strict";Object.defineProperty(h6,"__esModule",{value:!0});h6.UpdateIdentityPoolCommand=void 0;var VMe=be(),WMe=Le(),HMe=Ct(),GMe=ae(),QJ=Bt(),XJ=Yt(),ny=class extends GMe.Command{constructor(e){super(),this.input=e}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(e,r,n){this.middlewareStack.use((0,WMe.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,VMe.getEndpointPlugin)(r,ny.getEndpointParameterInstructions())),this.middlewareStack.use((0,HMe.getAwsAuthPlugin)(r));let i=e.concat(this.middlewareStack),{logger:s}=r,a={logger:s,clientName:"CognitoIdentityClient",commandName:"UpdateIdentityPoolCommand",inputFilterSensitiveLog:QJ.IdentityPoolFilterSensitiveLog,outputFilterSensitiveLog:QJ.IdentityPoolFilterSensitiveLog},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),a)}serialize(e,r){return(0,XJ.serializeAws_json1_1UpdateIdentityPoolCommand)(e,r)}deserialize(e,r){return(0,XJ.deserializeAws_json1_1UpdateIdentityPoolCommand)(e,r)}};h6.UpdateIdentityPoolCommand=ny});var mT=h(p6=>{"use strict";Object.defineProperty(p6,"__esModule",{value:!0});p6.CognitoIdentity=void 0;var KMe=jO(),YMe=HP(),JMe=GP(),QMe=KP(),XMe=YP(),ZMe=JP(),eFe=QP(),tFe=XP(),rFe=ZP(),nFe=eT(),iFe=tT(),sFe=rT(),oFe=nT(),uFe=n6(),aFe=iT(),cFe=sT(),lFe=oT(),dFe=uT(),fFe=aT(),hFe=cT(),pFe=lT(),mFe=dT(),yFe=fT(),gFe=hT(),pT=class extends KMe.CognitoIdentityClient{createIdentityPool(e,r,n){let i=new YMe.CreateIdentityPoolCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}deleteIdentities(e,r,n){let i=new JMe.DeleteIdentitiesCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}deleteIdentityPool(e,r,n){let i=new QMe.DeleteIdentityPoolCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}describeIdentity(e,r,n){let i=new XMe.DescribeIdentityCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}describeIdentityPool(e,r,n){let i=new ZMe.DescribeIdentityPoolCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}getCredentialsForIdentity(e,r,n){let i=new eFe.GetCredentialsForIdentityCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}getId(e,r,n){let i=new tFe.GetIdCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}getIdentityPoolRoles(e,r,n){let i=new rFe.GetIdentityPoolRolesCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}getOpenIdToken(e,r,n){let i=new nFe.GetOpenIdTokenCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}getOpenIdTokenForDeveloperIdentity(e,r,n){let i=new iFe.GetOpenIdTokenForDeveloperIdentityCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}getPrincipalTagAttributeMap(e,r,n){let i=new sFe.GetPrincipalTagAttributeMapCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}listIdentities(e,r,n){let i=new oFe.ListIdentitiesCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}listIdentityPools(e,r,n){let i=new uFe.ListIdentityPoolsCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}listTagsForResource(e,r,n){let i=new aFe.ListTagsForResourceCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}lookupDeveloperIdentity(e,r,n){let i=new cFe.LookupDeveloperIdentityCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}mergeDeveloperIdentities(e,r,n){let i=new lFe.MergeDeveloperIdentitiesCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}setIdentityPoolRoles(e,r,n){let i=new dFe.SetIdentityPoolRolesCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}setPrincipalTagAttributeMap(e,r,n){let i=new fFe.SetPrincipalTagAttributeMapCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}tagResource(e,r,n){let i=new hFe.TagResourceCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}unlinkDeveloperIdentity(e,r,n){let i=new pFe.UnlinkDeveloperIdentityCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}unlinkIdentity(e,r,n){let i=new mFe.UnlinkIdentityCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}untagResource(e,r,n){let i=new yFe.UntagResourceCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}updateIdentityPool(e,r,n){let i=new gFe.UpdateIdentityPoolCommand(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}};p6.CognitoIdentity=pT});var ZJ=h(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});var ur=(se(),ne(ie));ur.__exportStar(HP(),zt);ur.__exportStar(GP(),zt);ur.__exportStar(KP(),zt);ur.__exportStar(YP(),zt);ur.__exportStar(JP(),zt);ur.__exportStar(QP(),zt);ur.__exportStar(XP(),zt);ur.__exportStar(ZP(),zt);ur.__exportStar(eT(),zt);ur.__exportStar(tT(),zt);ur.__exportStar(rT(),zt);ur.__exportStar(nT(),zt);ur.__exportStar(n6(),zt);ur.__exportStar(iT(),zt);ur.__exportStar(sT(),zt);ur.__exportStar(oT(),zt);ur.__exportStar(uT(),zt);ur.__exportStar(aT(),zt);ur.__exportStar(cT(),zt);ur.__exportStar(lT(),zt);ur.__exportStar(dT(),zt);ur.__exportStar(fT(),zt);ur.__exportStar(hT(),zt)});var eQ=h(yT=>{"use strict";Object.defineProperty(yT,"__esModule",{value:!0});var _Fe=(se(),ne(ie));_Fe.__exportStar(Bt(),yT)});var rQ=h(tQ=>{"use strict";Object.defineProperty(tQ,"__esModule",{value:!0})});var nQ=h(m6=>{"use strict";Object.defineProperty(m6,"__esModule",{value:!0});m6.paginateListIdentityPools=void 0;var EFe=mT(),AFe=jO(),SFe=n6(),wFe=async(t,e,...r)=>await t.send(new SFe.ListIdentityPoolsCommand(e),...r),OFe=async(t,e,...r)=>await t.listIdentityPools(e,...r);async function*CFe(t,e,...r){let n=t.startingToken||void 0,i=!0,s;for(;i;){if(e.NextToken=n,e.MaxResults=t.pageSize,t.client instanceof EFe.CognitoIdentity)s=await OFe(t.client,e,...r);else if(t.client instanceof AFe.CognitoIdentityClient)s=await wFe(t.client,e,...r);else throw new Error("Invalid client, expected CognitoIdentity | CognitoIdentityClient");yield s;let o=n;n=s.NextToken,i=!!(n&&(!t.stopOnSameToken||n!==o))}return void 0}m6.paginateListIdentityPools=CFe});var sQ=h(y6=>{"use strict";Object.defineProperty(y6,"__esModule",{value:!0});var iQ=(se(),ne(ie));iQ.__exportStar(rQ(),y6);iQ.__exportStar(nQ(),y6)});var sy=h(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.CognitoIdentityServiceException=void 0;var iy=(se(),ne(ie));iy.__exportStar(mT(),Bu);iy.__exportStar(jO(),Bu);iy.__exportStar(ZJ(),Bu);iy.__exportStar(eQ(),Bu);iy.__exportStar(sQ(),Bu);var vFe=UO();Object.defineProperty(Bu,"CognitoIdentityServiceException",{enumerable:!0,get:function(){return vFe.CognitoIdentityServiceException}})});var uQ=h(oQ=>{"use strict";Object.defineProperty(oQ,"__esModule",{value:!0})});var cQ=h(aQ=>{"use strict";Object.defineProperty(aQ,"__esModule",{value:!0})});var dQ=h(lQ=>{"use strict";Object.defineProperty(lQ,"__esModule",{value:!0})});var gT=h(g6=>{"use strict";Object.defineProperty(g6,"__esModule",{value:!0});g6.resolveLogins=void 0;function bFe(t){return Promise.all(Object.keys(t).reduce((e,r)=>{let n=t[r];return typeof n=="string"?e.push([r,n]):e.push(n().then(i=>[r,i])),e},[])).then(e=>e.reduce((r,[n,i])=>(r[n]=i,r),{}))}g6.resolveLogins=bFe});var ET=h(_6=>{"use strict";Object.defineProperty(_6,"__esModule",{value:!0});_6.fromCognitoIdentity=void 0;var IFe=sy(),_T=pt(),PFe=gT();function TFe(t){return async()=>{let{Credentials:{AccessKeyId:e=DFe(),Expiration:r,SecretKey:n=NFe(),SessionToken:i}=RFe()}=await t.client.send(new IFe.GetCredentialsForIdentityCommand({CustomRoleArn:t.customRoleArn,IdentityId:t.identityId,Logins:t.logins?await(0,PFe.resolveLogins)(t.logins):void 0}));return{identityId:t.identityId,accessKeyId:e,secretAccessKey:n,sessionToken:i,expiration:r}}}_6.fromCognitoIdentity=TFe;function DFe(){throw new _T.CredentialsProviderError("Response from Amazon Cognito contained no access key ID")}function RFe(){throw new _T.CredentialsProviderError("Response from Amazon Cognito contained no credentials")}function NFe(){throw new _T.CredentialsProviderError("Response from Amazon Cognito contained no secret key")}});var fQ=h(E6=>{"use strict";Object.defineProperty(E6,"__esModule",{value:!0});E6.IndexedDbStorage=void 0;var AT="IdentityIds",ST=class{constructor(e="aws:cognito-identity-ids"){this.dbName=e}getItem(e){return this.withObjectStore("readonly",r=>{let n=r.get(e);return new Promise(i=>{n.onerror=()=>i(null),n.onsuccess=()=>i(n.result?n.result.value:null)})}).catch(()=>null)}removeItem(e){return this.withObjectStore("readwrite",r=>{let n=r.delete(e);return new Promise((i,s)=>{n.onerror=()=>s(n.error),n.onsuccess=()=>i()})})}setItem(e,r){return this.withObjectStore("readwrite",n=>{let i=n.put({id:e,value:r});return new Promise((s,o)=>{i.onerror=()=>o(i.error),i.onsuccess=()=>s()})})}getDb(){let e=self.indexedDB.open(this.dbName,1);return new Promise((r,n)=>{e.onsuccess=()=>{r(e.result)},e.onerror=()=>{n(e.error)},e.onblocked=()=>{n(new Error("Unable to access DB"))},e.onupgradeneeded=()=>{let i=e.result;i.onerror=()=>{n(new Error("Failed to create object store"))},i.createObjectStore(AT,{keyPath:"id"})}})}withObjectStore(e,r){return this.getDb().then(n=>{let i=n.transaction(AT,e);return i.oncomplete=()=>n.close(),new Promise((s,o)=>{i.onerror=()=>o(i.error),s(r(i.objectStore(AT)))}).catch(s=>{throw n.close(),s})})}};E6.IndexedDbStorage=ST});var hQ=h(A6=>{"use strict";Object.defineProperty(A6,"__esModule",{value:!0});A6.InMemoryStorage=void 0;var wT=class{constructor(e={}){this.store=e}getItem(e){return e in this.store?this.store[e]:null}removeItem(e){delete this.store[e]}setItem(e,r){this.store[e]=r}};A6.InMemoryStorage=wT});var pQ=h(S6=>{"use strict";Object.defineProperty(S6,"__esModule",{value:!0});S6.localStorage=void 0;var xFe=fQ(),MFe=hQ(),FFe=new MFe.InMemoryStorage;function BFe(){return typeof self=="object"&&self.indexedDB?new xFe.IndexedDbStorage:typeof window=="object"&&window.localStorage?window.localStorage:FFe}S6.localStorage=BFe});var mQ=h(w6=>{"use strict";Object.defineProperty(w6,"__esModule",{value:!0});w6.fromCognitoIdentityPool=void 0;var qFe=sy(),$Fe=pt(),kFe=ET(),jFe=pQ(),LFe=gT();function UFe({accountId:t,cache:e=(0,jFe.localStorage)(),client:r,customRoleArn:n,identityPoolId:i,logins:s,userIdentifier:o=!s||Object.keys(s).length===0?"ANONYMOUS":void 0}){let u=o?`aws:cognito-identity-credentials:${i}:${o}`:void 0,a=async()=>{let c=u&&await e.getItem(u);if(!c){let{IdentityId:l=zFe()}=await r.send(new qFe.GetIdCommand({AccountId:t,IdentityPoolId:i,Logins:s?await(0,LFe.resolveLogins)(s):void 0}));c=l,u&&Promise.resolve(e.setItem(u,c)).catch(()=>{})}return a=(0,kFe.fromCognitoIdentity)({client:r,customRoleArn:n,logins:s,identityId:c}),a()};return()=>a().catch(async c=>{throw u&&Promise.resolve(e.removeItem(u)).catch(()=>{}),c})}w6.fromCognitoIdentityPool=UFe;function zFe(){throw new $Fe.CredentialsProviderError("Response from Amazon Cognito contained no identity ID")}});var OT=h(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});var oy=(se(),ne(ie));oy.__exportStar(uQ(),Pl);oy.__exportStar(cQ(),Pl);oy.__exportStar(dQ(),Pl);oy.__exportStar(ET(),Pl);oy.__exportStar(mQ(),Pl)});var yQ=h(O6=>{"use strict";Object.defineProperty(O6,"__esModule",{value:!0});O6.fromCognitoIdentity=void 0;var VFe=sy(),WFe=OT(),HFe=t=>{var e;return(0,WFe.fromCognitoIdentity)({...t,client:new VFe.CognitoIdentityClient((e=t.clientConfig)!==null&&e!==void 0?e:{})})};O6.fromCognitoIdentity=HFe});var gQ=h(C6=>{"use strict";Object.defineProperty(C6,"__esModule",{value:!0});C6.fromCognitoIdentityPool=void 0;var GFe=sy(),KFe=OT(),YFe=t=>{var e;return(0,KFe.fromCognitoIdentityPool)({...t,client:new GFe.CognitoIdentityClient((e=t.clientConfig)!==null&&e!==void 0?e:{})})};C6.fromCognitoIdentityPool=YFe});var _Q=h(v6=>{"use strict";Object.defineProperty(v6,"__esModule",{value:!0});v6.fromContainerMetadata=void 0;var JFe=w1(),QFe=t=>(0,JFe.fromContainerMetadata)(t);v6.fromContainerMetadata=QFe});var EQ=h(b6=>{"use strict";Object.defineProperty(b6,"__esModule",{value:!0});b6.fromEnv=void 0;var XFe=qS(),ZFe=()=>(0,XFe.fromEnv)();b6.fromEnv=ZFe});var SQ=h(I6=>{"use strict";Object.defineProperty(I6,"__esModule",{value:!0});I6.fromIni=void 0;var AQ=Il(),eBe=xP(),tBe=(t={})=>{var e,r;return(0,eBe.fromIni)({...t,roleAssumer:(e=t.roleAssumer)!==null&&e!==void 0?e:(0,AQ.getDefaultRoleAssumer)(t.clientConfig,t.clientPlugins),roleAssumerWithWebIdentity:(r=t.roleAssumerWithWebIdentity)!==null&&r!==void 0?r:(0,AQ.getDefaultRoleAssumerWithWebIdentity)(t.clientConfig,t.clientPlugins)})};I6.fromIni=tBe});var wQ=h(P6=>{"use strict";Object.defineProperty(P6,"__esModule",{value:!0});P6.fromInstanceMetadata=void 0;var rBe=w1(),nBe=t=>(0,rBe.fromInstanceMetadata)(t);P6.fromInstanceMetadata=nBe});var CQ=h(T6=>{"use strict";Object.defineProperty(T6,"__esModule",{value:!0});T6.fromNodeProviderChain=void 0;var OQ=Il(),iBe=vO(),sBe=(t={})=>{var e,r;return(0,iBe.defaultProvider)({...t,roleAssumer:(e=t.roleAssumer)!==null&&e!==void 0?e:(0,OQ.getDefaultRoleAssumer)(t.clientConfig,t.clientPlugins),roleAssumerWithWebIdentity:(r=t.roleAssumerWithWebIdentity)!==null&&r!==void 0?r:(0,OQ.getDefaultRoleAssumerWithWebIdentity)(t.clientConfig,t.clientPlugins)})};T6.fromNodeProviderChain=sBe});var vQ=h(D6=>{"use strict";Object.defineProperty(D6,"__esModule",{value:!0});D6.fromProcess=void 0;var oBe=fw(),uBe=t=>(0,oBe.fromProcess)(t);D6.fromProcess=uBe});var bQ=h(R6=>{"use strict";Object.defineProperty(R6,"__esModule",{value:!0});R6.fromSSO=void 0;var aBe=aP(),cBe=fm(),lBe=(t={})=>(0,cBe.fromSSO)({ssoClient:t.clientConfig?new aBe.SSOClient(t.clientConfig):void 0,...t});R6.fromSSO=lBe});var TQ=h(N6=>{"use strict";Object.defineProperty(N6,"__esModule",{value:!0});N6.fromTemporaryCredentials=void 0;var IQ=Il(),PQ=pt(),dBe=t=>{let e;return async()=>{var r;let n={...t.params,RoleSessionName:(r=t.params.RoleSessionName)!==null&&r!==void 0?r:"aws-sdk-js-"+Date.now()};if(n?.SerialNumber){if(!t.mfaCodeProvider)throw new PQ.CredentialsProviderError("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",!1);n.TokenCode=await t.mfaCodeProvider(n?.SerialNumber)}if(e||(e=new IQ.STSClient({...t.clientConfig,credentials:t.masterCredentials})),t.clientPlugins)for(let s of t.clientPlugins)e.middlewareStack.use(s);let{Credentials:i}=await e.send(new IQ.AssumeRoleCommand(n));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new PQ.CredentialsProviderError(`Invalid response from STS.assumeRole call with role ${n.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}};N6.fromTemporaryCredentials=dBe});var DQ=h(x6=>{"use strict";Object.defineProperty(x6,"__esModule",{value:!0});x6.fromTokenFile=void 0;var fBe=Il(),hBe=hm(),pBe=(t={})=>{var e;return(0,hBe.fromTokenFile)({...t,roleAssumerWithWebIdentity:(e=t.roleAssumerWithWebIdentity)!==null&&e!==void 0?e:(0,fBe.getDefaultRoleAssumerWithWebIdentity)(t.clientConfig,t.clientPlugins)})};x6.fromTokenFile=pBe});var RQ=h(M6=>{"use strict";Object.defineProperty(M6,"__esModule",{value:!0});M6.fromWebToken=void 0;var mBe=Il(),yBe=hm(),gBe=t=>{var e;return(0,yBe.fromWebToken)({...t,roleAssumerWithWebIdentity:(e=t.roleAssumerWithWebIdentity)!==null&&e!==void 0?e:(0,mBe.getDefaultRoleAssumerWithWebIdentity)(t.clientConfig,t.clientPlugins)})};M6.fromWebToken=gBe});var NQ=h(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});var ys=(se(),ne(ie));ys.__exportStar(yQ(),ui);ys.__exportStar(gQ(),ui);ys.__exportStar(_Q(),ui);ys.__exportStar(EQ(),ui);ys.__exportStar(SQ(),ui);ys.__exportStar(wQ(),ui);ys.__exportStar(CQ(),ui);ys.__exportStar(vQ(),ui);ys.__exportStar(bQ(),ui);ys.__exportStar(TQ(),ui);ys.__exportStar(DQ(),ui);ys.__exportStar(RQ(),ui)});var FQ=h((jct,MQ)=>{MQ.exports=qu;function qu(t,e){if(!(this instanceof qu))return new qu(t,e);this.length=0,this.updates=[],this.path=new Uint16Array(4),this.pages=new Array(32768),this.maxPages=this.pages.length,this.level=0,this.pageSize=t||1024,this.deduplicate=e?e.deduplicate:null,this.zeros=this.deduplicate?F6(this.deduplicate.length):null}qu.prototype.updated=function(t){for(;this.deduplicate&&t.buffer[t.deduplicate]===this.deduplicate[t.deduplicate];)if(t.deduplicate++,t.deduplicate===this.deduplicate.length){t.deduplicate=0,t.buffer.equals&&t.buffer.equals(this.deduplicate)&&(t.buffer=this.deduplicate);break}t.updated||!this.updates||(t.updated=!0,this.updates.push(t))};qu.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var t=this.updates.pop();return t.updated=!1,t};qu.prototype._array=function(t,e){if(t>=this.maxPages){if(e)return;_Be(this,t)}SBe(t,this.path);for(var r=this.pages,n=this.level;n>0;n--){var i=this.path[n],s=r[i];if(!s){if(e)return;s=r[i]=new Array(32768)}r=s}return r};qu.prototype.get=function(t,e){var r=this._array(t,e),n=this.path[0],i=r&&r[n];return!i&&!e&&(i=r[n]=new xQ(t,F6(this.pageSize)),t>=this.length&&(this.length=t+1)),i&&i.buffer===this.deduplicate&&this.deduplicate&&!e&&(i.buffer=ABe(i.buffer),i.deduplicate=0),i};qu.prototype.set=function(t,e){var r=this._array(t,!1),n=this.path[0];if(t>=this.length&&(this.length=t+1),!e||this.zeros&&e.equals&&e.equals(this.zeros)){r[n]=void 0;return}this.deduplicate&&e.equals&&e.equals(this.deduplicate)&&(e=this.deduplicate);var i=r[n],s=EBe(e,this.pageSize);i?i.buffer=s:r[n]=new xQ(t,s)};qu.prototype.toBuffer=function(){for(var t=new Array(this.length),e=F6(this.pageSize),r=0;r<t.length;)for(var n=this._array(r,!0),i=0;i<32768&&r<t.length;i++)t[r++]=n&&n[i]?n[i].buffer:e;return Buffer.concat(t)};function _Be(t,e){for(;t.maxPages<e;){var r=t.pages;t.pages=new Array(32768),t.pages[0]=r,t.level++,t.maxPages*=32768}}function EBe(t,e){if(t.length===e)return t;if(t.length>e)return t.slice(0,e);var r=F6(e);return t.copy(r),r}function F6(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e}function ABe(t){var e=Buffer.allocUnsafe?Buffer.allocUnsafe(t.length):new Buffer(t.length);return t.copy(e),e}function xQ(t,e){this.offset=t*e.length,this.buffer=e,this.updated=!1,this.deduplicate=0}function SBe(t,e){t=(t-(e[0]=t&32767))/32768,t=(t-(e[1]=t&32767))/32768,e[3]=(t-(e[2]=t&32767))/32768&32767}});var qQ=h((Lct,BQ)=>{var wBe=FQ();BQ.exports=tc;function tc(t){if(!(this instanceof tc))return new tc(t);if(t||(t={}),Buffer.isBuffer(t)&&(t={buffer:t}),this.pageOffset=t.pageOffset||0,this.pageSize=t.pageSize||1024,this.pages=t.pages||wBe(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,!CBe(this.pageSize))throw new Error("The page size should be a power of two");if(this._trackUpdates=!!t.trackUpdates,this._pageMask=this.pageSize-1,t.buffer){for(var e=0;e<t.buffer.length;e+=this.pageSize)this.pages.set(e/this.pageSize,t.buffer.slice(e,e+this.pageSize));this.byteLength=t.buffer.length,this.length=8*this.byteLength}}tc.prototype.get=function(t){var e=t&7,r=(t-e)/8;return!!(this.getByte(r)&128>>e)};tc.prototype.getByte=function(t){var e=t&this._pageMask,r=(t-e)/this.pageSize,n=this.pages.get(r,!0);return n?n.buffer[e+this.pageOffset]:0};tc.prototype.set=function(t,e){var r=t&7,n=(t-r)/8,i=this.getByte(n);return this.setByte(n,e?i|128>>r:i&(255^128>>r))};tc.prototype.toBuffer=function(){for(var t=OBe(this.pages.length*this.pageSize),e=0;e<this.pages.length;e++){var r=this.pages.get(e,!0),n=e*this.pageSize;r&&r.buffer.copy(t,n,this.pageOffset,this.pageOffset+this.pageSize)}return t};tc.prototype.setByte=function(t,e){var r=t&this._pageMask,n=(t-r)/this.pageSize,i=this.pages.get(n,!1);return r+=this.pageOffset,i.buffer[r]===e?!1:(i.buffer[r]=e,t>=this.byteLength&&(this.byteLength=t+1,this.length=this.byteLength*8),this._trackUpdates&&this.pages.updated(i),!0)};function OBe(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e}function CBe(t){return!(t&t-1)}});var jQ=h((Uct,kQ)=>{"use strict";var vBe=require("fs"),bBe=require("path"),IBe=qQ(),$Q=vBe.readFileSync(bBe.resolve(__dirname,"../code-points.mem")),uy=0;function q1(){let t=$Q.readUInt32BE(uy);uy+=4;let e=$Q.slice(uy,uy+t);return uy+=t,IBe({buffer:e})}var PBe=q1(),TBe=q1(),DBe=q1(),RBe=q1(),NBe=q1(),xBe=q1();kQ.exports={unassigned_code_points:PBe,commonly_mapped_to_nothing:TBe,non_ASCII_space_characters:DBe,prohibited_characters:RBe,bidirectional_r_al:NBe,bidirectional_l:xBe}});var VQ=h((zct,zQ)=>{"use strict";var{unassigned_code_points:MBe,commonly_mapped_to_nothing:FBe,non_ASCII_space_characters:BBe,prohibited_characters:qBe,bidirectional_r_al:CT,bidirectional_l:$Be}=jQ();zQ.exports=zBe;var kBe=BBe,jBe=FBe,LQ=t=>t.codePointAt(0),LBe=t=>t[0],UBe=t=>t[t.length-1];function UQ(t){let e=[],r=t.length;for(let n=0;n<r;n+=1){let i=t.charCodeAt(n);if(i>=55296&&i<=56319&&r>n+1){let s=t.charCodeAt(n+1);if(s>=56320&&s<=57343){e.push((i-55296)*1024+s-56320+65536),n+=1;continue}}e.push(i)}return e}function zBe(t,e={}){if(typeof t!="string")throw new TypeError("Expected string.");if(t.length===0)return"";let r=UQ(t).map(l=>kBe.get(l)?32:l).filter(l=>!jBe.get(l)),n=String.fromCodePoint.apply(null,r).normalize("NFKC"),i=UQ(n);if(i.some(l=>qBe.get(l)))throw new Error("Prohibited character, see https://tools.ietf.org/html/rfc4013#section-2.3");if(e.allowUnassigned!==!0&&i.some(d=>MBe.get(d)))throw new Error("Unassigned code point, see https://tools.ietf.org/html/rfc4013#section-2.5");let o=i.some(l=>CT.get(l)),u=i.some(l=>$Be.get(l));if(o&&u)throw new Error("String must not contain RandALCat and LCat at the same time, see https://tools.ietf.org/html/rfc3454#section-6");let a=CT.get(LQ(LBe(n))),c=CT.get(LQ(UBe(n)));if(o&&!(a&&c))throw new Error("Bidirectional RandALCat character must be the first and the last character of the string, see https://tools.ietf.org/html/rfc3454#section-6");return n}});var j1=h(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.AutoEncryptionLoggerLevel=Vt.aws4=Vt.saslprep=Vt.Snappy=Vt.getAwsCredentialProvider=Vt.ZStandard=Vt.Kerberos=Vt.PKG_VERSION=void 0;var $1=re(),VBe=ye();Vt.PKG_VERSION=Symbol("kPkgVersion");function k1(t){let e=t?{kModuleError:t}:{};return new Proxy(e,{get:(r,n)=>{if(n==="kModuleError")return t;throw t},set:()=>{throw t}})}Vt.Kerberos=k1(new $1.MongoMissingDependencyError("Optional module `kerberos` not found. Please install it to enable kerberos authentication"));try{Vt.Kerberos=require("kerberos")}catch{}Vt.ZStandard=k1(new $1.MongoMissingDependencyError("Optional module `@mongodb-js/zstd` not found. Please install it to enable zstd compression"));try{Vt.ZStandard=require("@mongodb-js/zstd")}catch{}function WBe(){try{return NQ()}catch{return k1(new $1.MongoMissingDependencyError("Optional module `@aws-sdk/credential-providers` not found. Please install it to enable getting aws credentials via the official sdk."))}}Vt.getAwsCredentialProvider=WBe;Vt.Snappy=k1(new $1.MongoMissingDependencyError("Optional module `snappy` not found. Please install it to enable snappy compression"));try{Vt.Snappy=require("snappy");try{Vt.Snappy[Vt.PKG_VERSION]=(0,VBe.parsePackageVersion)(require("snappy/package.json"))}catch{}}catch{}Vt.saslprep=k1(new $1.MongoMissingDependencyError("Optional module `saslprep` not found. Please install it to enable Stringprep Profile for User Names and Passwords"));try{Vt.saslprep=VQ()}catch{}Vt.aws4=k1(new $1.MongoMissingDependencyError("Optional module `aws4` not found. Please install it to enable AWS authentication"));try{Vt.aws4=require("aws4")}catch{}Vt.AutoEncryptionLoggerLevel=Object.freeze({FatalError:0,Error:1,Warning:2,Info:3,Trace:4})});var rc=h(L1=>{"use strict";Object.defineProperty(L1,"__esModule",{value:!0});L1.AuthProvider=L1.AuthContext=void 0;var HBe=re(),vT=class{constructor(e,r,n){this.connection=e,this.credentials=r,this.options=n}};L1.AuthContext=vT;var bT=class{prepare(e,r,n){n(void 0,e)}auth(e,r){r(new HBe.MongoRuntimeError("`auth` method must be overridden by subclass"))}};L1.AuthProvider=bT});var q6=h(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.resolveCname=Di.performGSSAPICanonicalizeHostName=Di.GSSAPI=Di.GSSAPICanonicalizationValue=void 0;var PT=require("dns"),IT=j1(),B6=re(),GBe=ye(),KBe=rc();Di.GSSAPICanonicalizationValue=Object.freeze({on:!0,off:!1,none:"none",forward:"forward",forwardAndReverse:"forwardAndReverse"});var TT=class extends KBe.AuthProvider{auth(e,r){let{connection:n,credentials:i}=e;if(i==null)return r(new B6.MongoMissingCredentialsError("Credentials required for GSSAPI authentication"));let{username:s}=i;function o(u,a){return n.command((0,GBe.ns)("$external.$cmd"),u,void 0,a)}YBe(e,(u,a)=>{if(u)return r(u);if(a==null)return r(new B6.MongoMissingDependencyError("GSSAPI client missing"));a.step("",(c,l)=>{if(c)return r(c);o(JBe(l),(d,f)=>{if(d)return r(d);if(f==null)return r();WQ(a,10,f.payload,(p,m)=>{if(p)return r(p);o(QBe(m,f.conversationId),(y,_)=>{if(y)return r(y);if(_==null)return r();XBe(a,s,_.payload,(g,E)=>{if(g)return r(g);o({saslContinue:1,conversationId:_.conversationId,payload:E},(O,w)=>{if(O)return r(O);r(void 0,w)})})})})})})})}};Di.GSSAPI=TT;function YBe(t,e){var r;let{hostAddress:n}=t.options,{credentials:i}=t;if(!n||typeof n.host!="string"||!i)return e(new B6.MongoInvalidArgumentError("Connection must have host and port and credentials defined."));if("kModuleError"in IT.Kerberos)return e(IT.Kerberos.kModuleError);let{initializeClient:s}=IT.Kerberos,{username:o,password:u}=i,a=i.mechanismProperties,c=(r=a.SERVICE_NAME)!==null&&r!==void 0?r:"mongodb";HQ(n.host,a,(l,d)=>{var f;if(l)return e(l);let p={};u!=null&&Object.assign(p,{user:o,password:u});let m=(f=a.SERVICE_HOST)!==null&&f!==void 0?f:d,y=`${c}${process.platform==="win32"?"/":"@"}${m}`;"SERVICE_REALM"in a&&(y=`${y}@${a.SERVICE_REALM}`),s(y,p,(_,g)=>{if(_)return e(new B6.MongoRuntimeError(_));e(void 0,g)})})}function JBe(t){return{saslStart:1,mechanism:"GSSAPI",payload:t,autoAuthorize:1}}function QBe(t,e){return{saslContinue:1,conversationId:e,payload:t}}function WQ(t,e,r,n){t.step(r,(i,s)=>{if(i&&e===0)return n(i);if(i)return WQ(t,e-1,r,n);n(void 0,s||"")})}function XBe(t,e,r,n){t.unwrap(r,(i,s)=>{if(i)return n(i);t.wrap(s||"",{user:e},(o,u)=>{if(o)return n(o);n(void 0,u)})})}function HQ(t,e,r){let n=e.CANONICALIZE_HOST_NAME;if(!n||n===Di.GSSAPICanonicalizationValue.none)return r(void 0,t);n===Di.GSSAPICanonicalizationValue.on||n===Di.GSSAPICanonicalizationValue.forwardAndReverse?PT.lookup(t,(i,s)=>{if(i)return r(i);PT.resolvePtr(s,(o,u)=>{if(o)return DT(t,r);r(void 0,u.length>0?u[0]:t)})}):DT(t,r)}Di.performGSSAPICanonicalizeHostName=HQ;function DT(t,e){PT.resolveCname(t,(r,n)=>{if(r)return e(void 0,t);if(n.length>0)return e(void 0,n[0]);e(void 0,t)})}Di.resolveCname=DT});var Tl=h($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.AUTH_MECHS_AUTH_SRC_EXTERNAL=$u.AuthMechanism=void 0;$u.AuthMechanism=Object.freeze({MONGODB_AWS:"MONGODB-AWS",MONGODB_CR:"MONGODB-CR",MONGODB_DEFAULT:"DEFAULT",MONGODB_GSSAPI:"GSSAPI",MONGODB_PLAIN:"PLAIN",MONGODB_SCRAM_SHA1:"SCRAM-SHA-1",MONGODB_SCRAM_SHA256:"SCRAM-SHA-256",MONGODB_X509:"MONGODB-X509"});$u.AUTH_MECHS_AUTH_SRC_EXTERNAL=new Set([$u.AuthMechanism.MONGODB_GSSAPI,$u.AuthMechanism.MONGODB_AWS,$u.AuthMechanism.MONGODB_X509])});var RT=h($6=>{"use strict";Object.defineProperty($6,"__esModule",{value:!0});$6.MongoCredentials=void 0;var ay=re(),ZBe=ye(),eqe=q6(),jn=Tl();function tqe(t){if(t){if(Array.isArray(t.saslSupportedMechs))return t.saslSupportedMechs.includes(jn.AuthMechanism.MONGODB_SCRAM_SHA256)?jn.AuthMechanism.MONGODB_SCRAM_SHA256:jn.AuthMechanism.MONGODB_SCRAM_SHA1;if(t.maxWireVersion>=3)return jn.AuthMechanism.MONGODB_SCRAM_SHA1}return jn.AuthMechanism.MONGODB_CR}var U1=class{constructor(e){this.username=e.username,this.password=e.password,this.source=e.source,!this.source&&e.db&&(this.source=e.db),this.mechanism=e.mechanism||jn.AuthMechanism.MONGODB_DEFAULT,this.mechanismProperties=e.mechanismProperties||{},this.mechanism.match(/MONGODB-AWS/i)&&(!this.username&&process.env.AWS_ACCESS_KEY_ID&&(this.username=process.env.AWS_ACCESS_KEY_ID),!this.password&&process.env.AWS_SECRET_ACCESS_KEY&&(this.password=process.env.AWS_SECRET_ACCESS_KEY),this.mechanismProperties.AWS_SESSION_TOKEN==null&&process.env.AWS_SESSION_TOKEN!=null&&(this.mechanismProperties={...this.mechanismProperties,AWS_SESSION_TOKEN:process.env.AWS_SESSION_TOKEN})),"gssapiCanonicalizeHostName"in this.mechanismProperties&&((0,ZBe.emitWarningOnce)("gssapiCanonicalizeHostName is deprecated. Please use CANONICALIZE_HOST_NAME instead."),this.mechanismProperties.CANONICALIZE_HOST_NAME=this.mechanismProperties.gssapiCanonicalizeHostName),Object.freeze(this.mechanismProperties),Object.freeze(this)}equals(e){return this.mechanism===e.mechanism&&this.username===e.username&&this.password===e.password&&this.source===e.source}resolveAuthMechanism(e){return this.mechanism.match(/DEFAULT/i)?new U1({username:this.username,password:this.password,source:this.source,mechanism:tqe(e),mechanismProperties:this.mechanismProperties}):this}validate(){var e;if((this.mechanism===jn.AuthMechanism.MONGODB_GSSAPI||this.mechanism===jn.AuthMechanism.MONGODB_CR||this.mechanism===jn.AuthMechanism.MONGODB_PLAIN||this.mechanism===jn.AuthMechanism.MONGODB_SCRAM_SHA1||this.mechanism===jn.AuthMechanism.MONGODB_SCRAM_SHA256)&&!this.username)throw new ay.MongoMissingCredentialsError(`Username required for mechanism '${this.mechanism}'`);if(jn.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(this.mechanism)&&this.source!=null&&this.source!=="$external")throw new ay.MongoAPIError(`Invalid source '${this.source}' for mechanism '${this.mechanism}' specified.`);if(this.mechanism===jn.AuthMechanism.MONGODB_PLAIN&&this.source==null)throw new ay.MongoAPIError("PLAIN Authentication Mechanism needs an auth source");if(this.mechanism===jn.AuthMechanism.MONGODB_X509&&this.password!=null){if(this.password===""){Reflect.set(this,"password",void 0);return}throw new ay.MongoAPIError("Password not allowed for mechanism MONGODB-X509")}let r=(e=this.mechanismProperties.CANONICALIZE_HOST_NAME)!==null&&e!==void 0?e:!1;if(!Object.values(eqe.GSSAPICanonicalizationValue).includes(r))throw new ay.MongoAPIError(`Invalid CANONICALIZE_HOST_NAME value: ${r}`)}static merge(e,r){var n,i,s,o,u,a,c,l,d,f,p;return new U1({username:(i=(n=r.username)!==null&&n!==void 0?n:e?.username)!==null&&i!==void 0?i:"",password:(o=(s=r.password)!==null&&s!==void 0?s:e?.password)!==null&&o!==void 0?o:"",mechanism:(a=(u=r.mechanism)!==null&&u!==void 0?u:e?.mechanism)!==null&&a!==void 0?a:jn.AuthMechanism.MONGODB_DEFAULT,mechanismProperties:(l=(c=r.mechanismProperties)!==null&&c!==void 0?c:e?.mechanismProperties)!==null&&l!==void 0?l:{},source:(p=(f=(d=r.source)!==null&&d!==void 0?d:r.db)!==null&&f!==void 0?f:e?.source)!==null&&p!==void 0?p:"admin"})}};$6.MongoCredentials=U1});var k6=h(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.decompress=Ri.compress=Ri.uncompressibleCommands=Ri.Compressor=void 0;var GQ=require("zlib"),rqe=yn(),zr=j1(),KQ=re();Ri.Compressor=Object.freeze({none:0,snappy:1,zlib:2,zstd:3});Ri.uncompressibleCommands=new Set([rqe.LEGACY_HELLO_COMMAND,"saslStart","saslContinue","getnonce","authenticate","createUser","updateUser","copydbSaslStart","copydbgetnonce","copydb"]);var nqe=3,iqe=3;function sqe(t,e,r){let n={};switch(t.options.agreedCompressor){case"snappy":{if("kModuleError"in zr.Snappy)return r(zr.Snappy.kModuleError);zr.Snappy[zr.PKG_VERSION].major<=6?zr.Snappy.compress(e,r):zr.Snappy.compress(e).then(i=>r(void 0,i),i=>r(i));break}case"zlib":t.options.zlibCompressionLevel&&(n.level=t.options.zlibCompressionLevel),GQ.deflate(e,n,r);break;case"zstd":if("kModuleError"in zr.ZStandard)return r(zr.ZStandard.kModuleError);zr.ZStandard.compress(e,iqe).then(i=>r(void 0,i),i=>r(i));break;default:throw new KQ.MongoInvalidArgumentError(`Unknown compressor ${t.options.agreedCompressor} failed to compress`)}}Ri.compress=sqe;function oqe(t,e,r){if(t<0||t>nqe)throw new KQ.MongoDecompressionError(`Server sent message compressed using an unsupported compressor. (Received compressor ID ${t})`);switch(t){case Ri.Compressor.snappy:{if("kModuleError"in zr.Snappy)return r(zr.Snappy.kModuleError);zr.Snappy[zr.PKG_VERSION].major<=6?zr.Snappy.uncompress(e,{asBuffer:!0},r):zr.Snappy.uncompress(e,{asBuffer:!0}).then(n=>r(void 0,n),n=>r(n));break}case Ri.Compressor.zstd:{if("kModuleError"in zr.ZStandard)return r(zr.ZStandard.kModuleError);zr.ZStandard.decompress(e).then(n=>r(void 0,n),n=>r(n));break}case Ri.Compressor.zlib:GQ.inflate(e,r);break;default:r(void 0,e)}}Ri.decompress=oqe});var XQ=h(j6=>{"use strict";Object.defineProperty(j6,"__esModule",{value:!0});j6.Encrypter=void 0;var YQ=Lt(),uqe=yn(),JQ=re(),aqe=z1(),cqe=ye(),QQ,cy=Symbol("internalClient"),NT=class{constructor(e,r,n){if(typeof n.autoEncryption!="object")throw new JQ.MongoInvalidArgumentError('Option "autoEncryption" must be specified');this[cy]=null,this.bypassAutoEncryption=!!n.autoEncryption.bypassAutoEncryption,this.needsConnecting=!1,n.maxPoolSize===0&&n.autoEncryption.keyVaultClient==null?n.autoEncryption.keyVaultClient=e:n.autoEncryption.keyVaultClient==null&&(n.autoEncryption.keyVaultClient=this.getInternalClient(e,r,n)),this.bypassAutoEncryption?n.autoEncryption.metadataClient=void 0:n.maxPoolSize===0?n.autoEncryption.metadataClient=e:n.autoEncryption.metadataClient=this.getInternalClient(e,r,n),n.proxyHost&&(n.autoEncryption.proxyOptions={proxyHost:n.proxyHost,proxyPort:n.proxyPort,proxyUsername:n.proxyUsername,proxyPassword:n.proxyPassword}),n.autoEncryption.bson=Object.create(null),n.autoEncryption.bson.serialize=YQ.serialize,n.autoEncryption.bson.deserialize=YQ.deserialize,this.autoEncrypter=new QQ(e,n.autoEncryption)}getInternalClient(e,r,n){let i=this[cy];if(i==null){let s={};for(let o of[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)])["autoEncryption","minPoolSize","servers","caseTranslate","dbName"].includes(o)||Reflect.set(s,o,Reflect.get(n,o));s.minPoolSize=0,i=new aqe.MongoClient(r,s),this[cy]=i;for(let o of uqe.MONGO_CLIENT_EVENTS)for(let u of e.listeners(o))i.on(o,u);e.on("newListener",(o,u)=>{i?.on(o,u)}),this.needsConnecting=!0}return i}async connectInternalClient(){let e=this[cy];this.needsConnecting&&e!=null&&(this.needsConnecting=!1,await e.connect())}close(e,r,n){this.autoEncrypter.teardown(!!r,i=>{let s=this[cy];if(s!=null&&e!==s)return s.close(r,n);n(i)})}static checkForMongoCrypt(){let e=(0,cqe.getMongoDBClientEncryption)();if(e==null)throw new JQ.MongoMissingDependencyError("Auto-encryption requested, but the module is not installed. Please add `mongodb-client-encryption` as a dependency of your project");QQ=e.extension(ku()).AutoEncrypter}};j6.Encrypter=NT});var MT=h(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.MongoLogger=Uo.MongoLoggableComponent=Uo.SeverityLevel=void 0;var lqe=require("stream"),dqe=ye();Uo.SeverityLevel=Object.freeze({EMERGENCY:"emergency",ALERT:"alert",CRITICAL:"critical",ERROR:"error",WARNING:"warn",NOTICE:"notice",INFORMATIONAL:"info",DEBUG:"debug",TRACE:"trace",OFF:"off"});Uo.MongoLoggableComponent=Object.freeze({COMMAND:"command",TOPOLOGY:"topology",SERVER_SELECTION:"serverSelection",CONNECTION:"connection"});function ly(t){let e=Object.values(Uo.SeverityLevel),r=t?.toLowerCase();return r!=null&&e.includes(r)?r:null}function fqe({MONGODB_LOG_PATH:t},{mongodbLogPath:e}){let r=n=>["stdout","stderr"].includes(n.toLowerCase());return typeof e=="string"&&r(e)?e.toLowerCase()==="stderr"?process.stderr:process.stdout:typeof e=="object"&&e instanceof lqe.Writable?e:typeof t=="string"&&r(t)?t.toLowerCase()==="stderr"?process.stderr:process.stdout:process.stderr}var xT=class{constructor(e){this.componentSeverities=e.componentSeverities,this.maxDocumentLength=e.maxDocumentLength,this.logDestination=e.logDestination}emergency(e,r){}alert(e,r){}critical(e,r){}error(e,r){}warn(e,r){}notice(e,r){}info(e,r){}debug(e,r){}trace(e,r){}static resolveOptions(e,r){var n,i,s,o,u,a;let c={...e,...r,mongodbLogPath:fqe(e,r)},l=(n=ly(c.MONGODB_LOG_ALL))!==null&&n!==void 0?n:Uo.SeverityLevel.OFF;return{componentSeverities:{command:(i=ly(c.MONGODB_LOG_COMMAND))!==null&&i!==void 0?i:l,topology:(s=ly(c.MONGODB_LOG_TOPOLOGY))!==null&&s!==void 0?s:l,serverSelection:(o=ly(c.MONGODB_LOG_SERVER_SELECTION))!==null&&o!==void 0?o:l,connection:(u=ly(c.MONGODB_LOG_CONNECTION))!==null&&u!==void 0?u:l,default:l},maxDocumentLength:(a=(0,dqe.parseUnsignedInteger)(c.MONGODB_LOG_MAX_DOCUMENT_LENGTH))!==null&&a!==void 0?a:1e3,logDestination:c.mongodbLogPath}}};Uo.MongoLogger=xT});var jT=h(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.FEATURE_FLAGS=Vr.DEFAULT_OPTIONS=Vr.OPTIONS=Vr.parseOptions=Vr.resolveSRVRecord=void 0;var ZQ=require("dns"),Dl=require("fs"),hqe=u7(),pqe=require("url"),Rl=RT(),Uu=Tl(),eX=k6(),tX=XQ(),ge=re(),FT=Ta(),L6=z1(),mqe=MT(),yqe=Td(),BT=Vi(),nc=wr(),Ar=ye(),ju=Hi(),qT=["authSource","replicaSet","loadBalanced"],gqe="loadBalanced option only supported with a single host in the URI",_qe="loadBalanced option not supported with a replicaSet option",Eqe="loadBalanced option not supported when directConnection is provided";function Aqe(t,e){let r=/^.*?\./,n=`.${t.replace(r,"")}`,i=`.${e.replace(r,"")}`;return n.endsWith(i)}async function Sqe(t){var e,r,n;if(typeof t.srvHost!="string")throw new ge.MongoAPIError('Option "srvHost" must not be empty');if(t.srvHost.split(".").length<3)throw new ge.MongoAPIError("URI must include hostname, domain name, and tld");let i=t.srvHost,s=await ZQ.promises.resolveSrv(`_${t.srvServiceName}._tcp.${i}`);if(s.length===0)throw new ge.MongoAPIError("No addresses found at host");for(let{name:p}of s)if(!Aqe(p,i))throw new ge.MongoAPIError("Server record does not share hostname with parent URI");let o=s.map(p=>{var m;return Ar.HostAddress.fromString(`${p.name}:${(m=p.port)!==null&&m!==void 0?m:27017}`)});$T(o,t,!0);let u;try{u=await ZQ.promises.resolveTxt(i)}catch(p){if(p.code!=="ENODATA"&&p.code!=="ENOTFOUND")throw p;return o}if(u.length>1)throw new ge.MongoParseError("Multiple text records not allowed");let a=new pqe.URLSearchParams(u[0].join(""));if([...a.keys()].some(p=>!qT.includes(p)))throw new ge.MongoParseError(`Text record may only set any of: ${qT.join(", ")}`);if(qT.some(p=>a.get(p)===""))throw new ge.MongoParseError("Cannot have empty URI params in DNS TXT Record");let l=(e=a.get("authSource"))!==null&&e!==void 0?e:void 0,d=(r=a.get("replicaSet"))!==null&&r!==void 0?r:void 0,f=(n=a.get("loadBalanced"))!==null&&n!==void 0?n:void 0;if(!t.userSpecifiedAuthSource&&l&&t.credentials&&!Uu.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(t.credentials.mechanism)&&(t.credentials=Rl.MongoCredentials.merge(t.credentials,{source:l})),!t.userSpecifiedReplicaSet&&d&&(t.replicaSet=d),f==="true"&&(t.loadBalanced=!0),t.replicaSet&&t.srvMaxHosts>0)throw new ge.MongoParseError("Cannot combine replicaSet option with srvMaxHosts");return $T(o,t,!0),o}Vr.resolveSRVRecord=Sqe;function wqe(t){if(!t)return;let e=(r,n)=>{if(t.has(r)&&t.has(n))throw new ge.MongoAPIError(`The '${r}' option cannot be used with the '${n}' option`)};e("tlsInsecure","tlsAllowInvalidCertificates"),e("tlsInsecure","tlsAllowInvalidHostnames"),e("tlsInsecure","tlsDisableCertificateRevocationCheck"),e("tlsInsecure","tlsDisableOCSPEndpointCheck"),e("tlsAllowInvalidCertificates","tlsDisableCertificateRevocationCheck"),e("tlsAllowInvalidCertificates","tlsDisableOCSPEndpointCheck"),e("tlsDisableCertificateRevocationCheck","tlsDisableOCSPEndpointCheck")}var Oqe=new Set(["true","t","1","y","yes"]),Cqe=new Set(["false","f","0","n","no","-1"]);function Lu(t,e){if(typeof e=="boolean")return e;let r=String(e).toLowerCase();if(Oqe.has(r))return r!=="true"&&(0,Ar.emitWarningOnce)(`deprecated value for ${t} : ${r} - please update to ${t} : true instead`),!0;if(Cqe.has(r))return r!=="false"&&(0,Ar.emitWarningOnce)(`deprecated value for ${t} : ${r} - please update to ${t} : false instead`),!1;throw new ge.MongoParseError(`Expected ${t} to be stringified boolean value, got: ${e}`)}function kT(t,e){let r=(0,Ar.parseInteger)(e);if(r!=null)return r;throw new ge.MongoParseError(`Expected ${t} to be stringified int value, got: ${e}`)}function dy(t,e){let r=kT(t,e);if(r<0)throw new ge.MongoParseError(`${t} can only be a positive int value, got: ${e}`);return r}function*rX(t){let e=t.split(",");for(let r of e){let[n,i]=r.split(":");if(i==null)throw new ge.MongoParseError("Cannot have undefined values in key value pairs");yield[n,i]}}var V1=class extends Map{constructor(e=[]){super(e.map(([r,n])=>[r.toLowerCase(),n]))}has(e){return super.has(e.toLowerCase())}get(e){return super.get(e.toLowerCase())}set(e,r){return super.set(e.toLowerCase(),r)}delete(e){return super.delete(e.toLowerCase())}};function vqe(t,e=void 0,r={}){var n;e!=null&&!(e instanceof L6.MongoClient)&&(r=e,e=void 0);let i=new hqe.default(t),{hosts:s,isSRV:o}=i,u=Object.create(null);for(let g of Object.getOwnPropertySymbols(r))Vr.FEATURE_FLAGS.has(g)&&(u[g]=r[g]);u.hosts=o?[]:s.map(Ar.HostAddress.fromString);let a=new V1;if(i.pathname!=="/"&&i.pathname!==""){let g=decodeURIComponent(i.pathname[0]==="/"?i.pathname.slice(1):i.pathname);g&&a.set("dbName",[g])}if(i.username!==""){let g={username:decodeURIComponent(i.username)};typeof i.password=="string"&&(g.password=decodeURIComponent(i.password)),a.set("auth",[g])}for(let g of i.searchParams.keys()){let E=[...i.searchParams.getAll(g)];if(E.includes(""))throw new ge.MongoAPIError("URI cannot contain options with no value");a.has(g)||a.set(g,E)}let c=new V1(Object.entries(r).filter(([,g])=>g!=null));if(a.has("serverApi"))throw new ge.MongoParseError("URI cannot contain `serverApi`, it can only be passed to the client");if(c.has("loadBalanced"))throw new ge.MongoParseError("loadBalanced is only a valid option in the URI");let l=new V1,d=new Set([...a.keys(),...c.keys(),...Vr.DEFAULT_OPTIONS.keys()]);for(let g of d){let E=[],O=c.get(g);O!=null&&E.push(O);let w=a.get(g);w!=null&&E.push(...w);let b=Vr.DEFAULT_OPTIONS.get(g);b!=null&&E.push(b),l.set(g,E)}if(l.has("tlsCertificateKeyFile")&&!l.has("tlsCertificateFile")&&l.set("tlsCertificateFile",l.get("tlsCertificateKeyFile")),l.has("tls")||l.has("ssl")){let g=(l.get("tls")||[]).concat(l.get("ssl")||[]).map(Lu.bind(null,"tls/ssl"));if(new Set(g).size!==1)throw new ge.MongoParseError("All values of tls/ssl must be the same.")}wqe(l);let f=(0,Ar.setDifference)(d,Array.from(Object.keys(Vr.OPTIONS)).map(g=>g.toLowerCase()));if(f.size!==0){let g=f.size>1?"options":"option",E=f.size>1?"are":"is";throw new ge.MongoParseError(`${g} ${Array.from(f).join(", ")} ${E} not supported`)}for(let[g,E]of Object.entries(Vr.OPTIONS)){let O=l.get(g);!O||O.length===0||bqe(u,g,E,O)}if(u.credentials){let g=u.credentials.mechanism===Uu.AuthMechanism.MONGODB_GSSAPI,E=u.credentials.mechanism===Uu.AuthMechanism.MONGODB_X509,O=u.credentials.mechanism===Uu.AuthMechanism.MONGODB_AWS;if((g||E)&&l.has("authSource")&&u.credentials.source!=="$external")throw new ge.MongoParseError(`${u.credentials} can only have authSource set to '$external'`);if(!(g||E||O)&&u.dbName&&!l.has("authSource")&&(u.credentials=Rl.MongoCredentials.merge(u.credentials,{source:u.dbName})),O&&u.credentials.username&&!u.credentials.password)throw new ge.MongoMissingCredentialsError(`When using ${u.credentials.mechanism} password must be set when a username is specified`);u.credentials.validate(),u.credentials.password===""&&u.credentials.username===""&&u.credentials.mechanism===Uu.AuthMechanism.MONGODB_DEFAULT&&Object.keys(u.credentials.mechanismProperties).length===0&&delete u.credentials}if(u.dbName||(u.dbName="test"),r.promiseLibrary&&yqe.PromiseProvider.set(r.promiseLibrary),$T(s,u,o),e&&u.autoEncryption&&(tX.Encrypter.checkForMongoCrypt(),u.encrypter=new tX.Encrypter(e,t,r),u.autoEncrypter=u.encrypter.autoEncrypter),u.userSpecifiedAuthSource=c.has("authSource")||a.has("authSource"),u.userSpecifiedReplicaSet=c.has("replicaSet")||a.has("replicaSet"),o){if(u.srvHost=s[0],u.directConnection)throw new ge.MongoAPIError("SRV URI does not support directConnection");if(u.srvMaxHosts>0&&typeof u.replicaSet=="string")throw new ge.MongoParseError("Cannot use srvMaxHosts option with replicaSet");let g=!c.has("tls")&&!a.has("tls"),E=!c.has("ssl")&&!a.has("ssl");g&&E&&(u.tls=!0)}else if(a.has("srvMaxHosts")||c.has("srvMaxHosts")||a.has("srvServiceName")||c.has("srvServiceName"))throw new ge.MongoParseError("Cannot use srvMaxHosts or srvServiceName with a non-srv connection string");if(u.directConnection&&u.hosts.length!==1)throw new ge.MongoParseError("directConnection option requires exactly one host");if(!u.proxyHost&&(u.proxyPort||u.proxyUsername||u.proxyPassword))throw new ge.MongoParseError("Must specify proxyHost if other proxy options are passed");if(u.proxyUsername&&!u.proxyPassword||!u.proxyUsername&&u.proxyPassword)throw new ge.MongoParseError("Can only specify both of proxy username/password or neither");if(["proxyHost","proxyPort","proxyUsername","proxyPassword"].map(g=>{var E;return(E=a.get(g))!==null&&E!==void 0?E:[]}).some(g=>g.length>1))throw new ge.MongoParseError("Proxy options cannot be specified multiple times in the connection string");let m=Symbol.for("@@mdb.enableMongoLogger");u[m]=(n=u[m])!==null&&n!==void 0?n:!1;let y={},_={};return u[m]&&(y={MONGODB_LOG_COMMAND:process.env.MONGODB_LOG_COMMAND,MONGODB_LOG_TOPOLOGY:process.env.MONGODB_LOG_TOPOLOGY,MONGODB_LOG_SERVER_SELECTION:process.env.MONGODB_LOG_SERVER_SELECTION,MONGODB_LOG_CONNECTION:process.env.MONGODB_LOG_CONNECTION,MONGODB_LOG_ALL:process.env.MONGODB_LOG_ALL,MONGODB_LOG_MAX_DOCUMENT_LENGTH:process.env.MONGODB_LOG_MAX_DOCUMENT_LENGTH,MONGODB_LOG_PATH:process.env.MONGODB_LOG_PATH},_={mongodbLogPath:u.mongodbLogPath}),u.mongoLoggerOptions=mqe.MongoLogger.resolveOptions(y,_),u}Vr.parseOptions=vqe;function $T(t,e,r){if(e.loadBalanced){if(t.length>1)throw new ge.MongoParseError(gqe);if(e.replicaSet)throw new ge.MongoParseError(_qe);if(e.directConnection)throw new ge.MongoParseError(Eqe);if(r&&e.srvMaxHosts>0)throw new ge.MongoParseError("Cannot limit srv hosts with loadBalanced enabled")}}function bqe(t,e,r,n){let{target:i,type:s,transform:o,deprecated:u}=r,a=i??e;if(u){let c=typeof u=="string"?`: ${u}`:"";(0,Ar.emitWarning)(`${e} is a deprecated option${c}`)}switch(s){case"boolean":t[a]=Lu(a,n[0]);break;case"int":t[a]=kT(a,n[0]);break;case"uint":t[a]=dy(a,n[0]);break;case"string":if(n[0]==null)break;t[a]=String(n[0]);break;case"record":if(!(0,Ar.isRecord)(n[0]))throw new ge.MongoParseError(`${a} must be an object`);t[a]=n[0];break;case"any":t[a]=n[0];break;default:{if(!o)throw new ge.MongoParseError("Descriptors missing a type must define a transform");let c=o({name:a,options:t,values:n});t[a]=c;break}}}Vr.OPTIONS={appName:{target:"metadata",transform({options:t,values:[e]}){return(0,Ar.makeClientMetadata)({...t.driverInfo,appName:String(e)})}},auth:{target:"credentials",transform({name:t,options:e,values:[r]}){if(!(0,Ar.isRecord)(r,["username","password"]))throw new ge.MongoParseError(`${t} must be an object with 'username' and 'password' properties`);return Rl.MongoCredentials.merge(e.credentials,{username:r.username,password:r.password})}},authMechanism:{target:"credentials",transform({options:t,values:[e]}){var r,n;let i=Object.values(Uu.AuthMechanism),[s]=i.filter(a=>a.match(RegExp(String.raw`\b${e}\b`,"i")));if(!s)throw new ge.MongoParseError(`authMechanism one of ${i}, got ${e}`);let o=(r=t.credentials)===null||r===void 0?void 0:r.source;(s===Uu.AuthMechanism.MONGODB_PLAIN||Uu.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(s))&&(o="$external");let u=(n=t.credentials)===null||n===void 0?void 0:n.password;return s===Uu.AuthMechanism.MONGODB_X509&&u===""&&(u=void 0),Rl.MongoCredentials.merge(t.credentials,{mechanism:s,source:o,password:u})}},authMechanismProperties:{target:"credentials",transform({options:t,values:[e]}){if(typeof e=="string"){let r=Object.create(null);for(let[n,i]of rX(e))try{r[n]=Lu(n,i)}catch{r[n]=i}return Rl.MongoCredentials.merge(t.credentials,{mechanismProperties:r})}if(!(0,Ar.isRecord)(e))throw new ge.MongoParseError("AuthMechanismProperties must be an object");return Rl.MongoCredentials.merge(t.credentials,{mechanismProperties:e})}},authSource:{target:"credentials",transform({options:t,values:[e]}){let r=String(e);return Rl.MongoCredentials.merge(t.credentials,{source:r})}},autoEncryption:{type:"record"},bsonRegExp:{type:"boolean"},serverApi:{target:"serverApi",transform({values:[t]}){let e=typeof t=="string"?{version:t}:t,r=e&&e.version;if(!r)throw new ge.MongoParseError(`Invalid \`serverApi\` property; must specify a version from the following enum: ["${Object.values(L6.ServerApiVersion).join('", "')}"]`);if(!Object.values(L6.ServerApiVersion).some(n=>n===r))throw new ge.MongoParseError(`Invalid server API version=${r}; must be in the following enum: ["${Object.values(L6.ServerApiVersion).join('", "')}"]`);return e}},checkKeys:{type:"boolean"},compressors:{default:"none",target:"compressors",transform({values:t}){let e=new Set;for(let r of t){let n=typeof r=="string"?r.split(","):r;if(!Array.isArray(n))throw new ge.MongoInvalidArgumentError("compressors must be an array or a comma-delimited list of strings");for(let i of n)if(Object.keys(eX.Compressor).includes(String(i)))e.add(String(i));else throw new ge.MongoInvalidArgumentError(`${i} is not a valid compression mechanism. Must be one of: ${Object.keys(eX.Compressor)}.`)}return[...e]}},connectTimeoutMS:{default:3e4,type:"uint"},dbName:{type:"string"},directConnection:{default:!1,type:"boolean"},driverInfo:{target:"metadata",default:(0,Ar.makeClientMetadata)(),transform({options:t,values:[e]}){var r,n;if(!(0,Ar.isRecord)(e))throw new ge.MongoParseError("DriverInfo must be an object");return(0,Ar.makeClientMetadata)({driverInfo:e,appName:(n=(r=t.metadata)===null||r===void 0?void 0:r.application)===null||n===void 0?void 0:n.name})}},enableUtf8Validation:{type:"boolean",default:!0},family:{transform({name:t,values:[e]}){let r=kT(t,e);if(r===4||r===6)return r;throw new ge.MongoParseError(`Option 'family' must be 4 or 6 got ${r}.`)}},fieldsAsRaw:{type:"record"},forceServerObjectId:{default:!1,type:"boolean"},fsync:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:t,options:e,values:[r]}){let n=ju.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,fsync:Lu(t,r)}});if(!n)throw new ge.MongoParseError(`Unable to make a writeConcern from fsync=${r}`);return n}},heartbeatFrequencyMS:{default:1e4,type:"uint"},ignoreUndefined:{type:"boolean"},j:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:t,options:e,values:[r]}){let n=ju.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,journal:Lu(t,r)}});if(!n)throw new ge.MongoParseError(`Unable to make a writeConcern from journal=${r}`);return n}},journal:{target:"writeConcern",transform({name:t,options:e,values:[r]}){let n=ju.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,journal:Lu(t,r)}});if(!n)throw new ge.MongoParseError(`Unable to make a writeConcern from journal=${r}`);return n}},keepAlive:{default:!0,type:"boolean"},keepAliveInitialDelay:{default:12e4,type:"uint"},loadBalanced:{default:!1,type:"boolean"},localThresholdMS:{default:15,type:"uint"},logger:{default:new FT.Logger("MongoClient"),transform({values:[t]}){if(t instanceof FT.Logger)return t;(0,Ar.emitWarning)("Alternative loggers might not be supported")}},loggerLevel:{target:"logger",transform({values:[t]}){return new FT.Logger("MongoClient",{loggerLevel:t})}},maxConnecting:{default:2,transform({name:t,values:[e]}){let r=dy(t,e);if(r===0)throw new ge.MongoInvalidArgumentError("maxConnecting must be > 0 if specified");return r}},maxIdleTimeMS:{default:0,type:"uint"},maxPoolSize:{default:100,type:"uint"},maxStalenessSeconds:{target:"readPreference",transform({name:t,options:e,values:[r]}){let n=dy(t,r);return e.readPreference?nc.ReadPreference.fromOptions({readPreference:{...e.readPreference,maxStalenessSeconds:n}}):new nc.ReadPreference("secondary",void 0,{maxStalenessSeconds:n})}},minInternalBufferSize:{type:"uint"},minPoolSize:{default:0,type:"uint"},minHeartbeatFrequencyMS:{default:500,type:"uint"},monitorCommands:{default:!1,type:"boolean"},name:{target:"driverInfo",transform({values:[t],options:e}){return{...e.driverInfo,name:String(t)}}},noDelay:{default:!0,type:"boolean"},pkFactory:{default:Ar.DEFAULT_PK_FACTORY,transform({values:[t]}){if((0,Ar.isRecord)(t,["createPk"])&&typeof t.createPk=="function")return t;throw new ge.MongoParseError(`Option pkFactory must be an object with a createPk function, got ${t}`)}},promiseLibrary:{deprecated:!0,type:"any"},promoteBuffers:{type:"boolean"},promoteLongs:{type:"boolean"},promoteValues:{type:"boolean"},proxyHost:{type:"string"},proxyPassword:{type:"string"},proxyPort:{type:"uint"},proxyUsername:{type:"string"},raw:{default:!1,type:"boolean"},readConcern:{transform({values:[t],options:e}){if(t instanceof BT.ReadConcern||(0,Ar.isRecord)(t,["level"]))return BT.ReadConcern.fromOptions({...e.readConcern,...t});throw new ge.MongoParseError(`ReadConcern must be an object, got ${JSON.stringify(t)}`)}},readConcernLevel:{target:"readConcern",transform({values:[t],options:e}){return BT.ReadConcern.fromOptions({...e.readConcern,level:t})}},readPreference:{default:nc.ReadPreference.primary,transform({values:[t],options:e}){var r,n,i;if(t instanceof nc.ReadPreference)return nc.ReadPreference.fromOptions({readPreference:{...e.readPreference,...t},...t});if((0,Ar.isRecord)(t,["mode"])){let s=nc.ReadPreference.fromOptions({readPreference:{...e.readPreference,...t},...t});if(s)return s;throw new ge.MongoParseError(`Cannot make read preference from ${JSON.stringify(t)}`)}if(typeof t=="string"){let s={hedge:(r=e.readPreference)===null||r===void 0?void 0:r.hedge,maxStalenessSeconds:(n=e.readPreference)===null||n===void 0?void 0:n.maxStalenessSeconds};return new nc.ReadPreference(t,(i=e.readPreference)===null||i===void 0?void 0:i.tags,s)}throw new ge.MongoParseError(`Unknown ReadPreference value: ${t}`)}},readPreferenceTags:{target:"readPreference",transform({values:t,options:e}){let r=Array.isArray(t[0])?t[0]:t,n=[];for(let i of r){let s=Object.create(null);if(typeof i=="string")for(let[o,u]of rX(i))s[o]=u;if((0,Ar.isRecord)(i))for(let[o,u]of Object.entries(i))s[o]=u;n.push(s)}return nc.ReadPreference.fromOptions({readPreference:e.readPreference,readPreferenceTags:n})}},replicaSet:{type:"string"},retryReads:{default:!0,type:"boolean"},retryWrites:{default:!0,type:"boolean"},serializeFunctions:{type:"boolean"},serverSelectionTimeoutMS:{default:3e4,type:"uint"},servername:{type:"string"},socketTimeoutMS:{default:0,type:"uint"},srvMaxHosts:{type:"uint",default:0},srvServiceName:{type:"string",default:"mongodb"},ssl:{target:"tls",type:"boolean"},sslCA:{target:"ca",transform({values:[t]}){return Dl.readFileSync(String(t),{encoding:"ascii"})}},sslCRL:{target:"crl",transform({values:[t]}){return Dl.readFileSync(String(t),{encoding:"ascii"})}},sslCert:{target:"cert",transform({values:[t]}){return Dl.readFileSync(String(t),{encoding:"ascii"})}},sslKey:{target:"key",transform({values:[t]}){return Dl.readFileSync(String(t),{encoding:"ascii"})}},sslPass:{deprecated:!0,target:"passphrase",type:"string"},sslValidate:{target:"rejectUnauthorized",type:"boolean"},tls:{type:"boolean"},tlsAllowInvalidCertificates:{target:"rejectUnauthorized",transform({name:t,values:[e]}){return!Lu(t,e)}},tlsAllowInvalidHostnames:{target:"checkServerIdentity",transform({name:t,values:[e]}){return Lu(t,e)?()=>{}:void 0}},tlsCAFile:{target:"ca",transform({values:[t]}){return Dl.readFileSync(String(t),{encoding:"ascii"})}},tlsCertificateFile:{target:"cert",transform({values:[t]}){return Dl.readFileSync(String(t),{encoding:"ascii"})}},tlsCertificateKeyFile:{target:"key",transform({values:[t]}){return Dl.readFileSync(String(t),{encoding:"ascii"})}},tlsCertificateKeyFilePassword:{target:"passphrase",type:"any"},tlsInsecure:{transform({name:t,options:e,values:[r]}){let n=Lu(t,r);return n?(e.checkServerIdentity=()=>{},e.rejectUnauthorized=!1):(e.checkServerIdentity=e.tlsAllowInvalidHostnames?()=>{}:void 0,e.rejectUnauthorized=!e.tlsAllowInvalidCertificates),n}},w:{target:"writeConcern",transform({values:[t],options:e}){return ju.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,w:t}})}},waitQueueTimeoutMS:{default:0,type:"uint"},writeConcern:{target:"writeConcern",transform({values:[t],options:e}){if((0,Ar.isRecord)(t)||t instanceof ju.WriteConcern)return ju.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,...t}});if(t==="majority"||typeof t=="number")return ju.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,w:t}});throw new ge.MongoParseError(`Invalid WriteConcern cannot parse: ${JSON.stringify(t)}`)}},wtimeout:{deprecated:"Please use wtimeoutMS instead",target:"writeConcern",transform({values:[t],options:e}){let r=ju.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,wtimeout:dy("wtimeout",t)}});if(r)return r;throw new ge.MongoParseError("Cannot make WriteConcern from wtimeout")}},wtimeoutMS:{target:"writeConcern",transform({values:[t],options:e}){let r=ju.WriteConcern.fromOptions({writeConcern:{...e.writeConcern,wtimeoutMS:dy("wtimeoutMS",t)}});if(r)return r;throw new ge.MongoParseError("Cannot make WriteConcern from wtimeout")}},zlibCompressionLevel:{default:0,type:"int"},connectionType:{type:"any"},srvPoller:{type:"any"},minDHSize:{type:"any"},pskCallback:{type:"any"},secureContext:{type:"any"},enableTrace:{type:"any"},requestCert:{type:"any"},rejectUnauthorized:{type:"any"},checkServerIdentity:{type:"any"},ALPNProtocols:{type:"any"},SNICallback:{type:"any"},session:{type:"any"},requestOCSP:{type:"any"},localAddress:{type:"any"},localPort:{type:"any"},hints:{type:"any"},lookup:{type:"any"},ca:{type:"any"},cert:{type:"any"},ciphers:{type:"any"},crl:{type:"any"},ecdhCurve:{type:"any"},key:{type:"any"},passphrase:{type:"any"},pfx:{type:"any"},secureProtocol:{type:"any"},index:{type:"any"},useNewUrlParser:{type:"boolean"},useUnifiedTopology:{type:"boolean"}};Vr.DEFAULT_OPTIONS=new V1(Object.entries(Vr.OPTIONS).filter(([,t])=>t.default!=null).map(([t,e])=>[t,e.default]));Vr.FEATURE_FLAGS=new Set([Symbol.for("@@mdb.skipPingOnConnect"),Symbol.for("@@mdb.enableMongoLogger")])});var U6=h(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.ServerHeartbeatFailedEvent=Dr.ServerHeartbeatSucceededEvent=Dr.ServerHeartbeatStartedEvent=Dr.TopologyClosedEvent=Dr.TopologyOpeningEvent=Dr.TopologyDescriptionChangedEvent=Dr.ServerClosedEvent=Dr.ServerOpeningEvent=Dr.ServerDescriptionChangedEvent=void 0;var LT=class{constructor(e,r,n,i){this.topologyId=e,this.address=r,this.previousDescription=n,this.newDescription=i}};Dr.ServerDescriptionChangedEvent=LT;var UT=class{constructor(e,r){this.topologyId=e,this.address=r}};Dr.ServerOpeningEvent=UT;var zT=class{constructor(e,r){this.topologyId=e,this.address=r}};Dr.ServerClosedEvent=zT;var VT=class{constructor(e,r,n){this.topologyId=e,this.previousDescription=r,this.newDescription=n}};Dr.TopologyDescriptionChangedEvent=VT;var WT=class{constructor(e){this.topologyId=e}};Dr.TopologyOpeningEvent=WT;var HT=class{constructor(e){this.topologyId=e}};Dr.TopologyClosedEvent=HT;var GT=class{constructor(e){this.connectionId=e}};Dr.ServerHeartbeatStartedEvent=GT;var KT=class{constructor(e,r,n){this.connectionId=e,this.duration=r,this.reply=n??{}}};Dr.ServerHeartbeatSucceededEvent=KT;var YT=class{constructor(e,r,n){this.connectionId=e,this.duration=r,this.failure=n}};Dr.ServerHeartbeatFailedEvent=YT});var z6=h(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.BinMsg=zo.Msg=zo.Response=zo.Query=void 0;var ic=Lt(),hy=re(),Iqe=wr(),Pqe=ye(),fy=Pd(),W1=0,Tqe=2,Dqe=4,Rqe=8,Nqe=16,xqe=32,Mqe=64,Fqe=128,Bqe=1,qqe=2,$qe=4,kqe=8,py=class{constructor(e,r,n){if(e==null)throw new hy.MongoRuntimeError("Namespace must be specified for query");if(r==null)throw new hy.MongoRuntimeError("A query document must be specified for query");if(e.indexOf("\0")!==-1)throw new hy.MongoRuntimeError("Namespace cannot contain a null character");this.ns=e,this.query=r,this.numberToSkip=n.numberToSkip||0,this.numberToReturn=n.numberToReturn||0,this.returnFieldSelector=n.returnFieldSelector||void 0,this.requestId=py.getRequestId(),this.pre32Limit=n.pre32Limit,this.serializeFunctions=typeof n.serializeFunctions=="boolean"?n.serializeFunctions:!1,this.ignoreUndefined=typeof n.ignoreUndefined=="boolean"?n.ignoreUndefined:!1,this.maxBsonSize=n.maxBsonSize||1024*1024*16,this.checkKeys=typeof n.checkKeys=="boolean"?n.checkKeys:!1,this.batchSize=this.numberToReturn,this.tailable=!1,this.secondaryOk=typeof n.secondaryOk=="boolean"?n.secondaryOk:!1,this.oplogReplay=!1,this.noCursorTimeout=!1,this.awaitData=!1,this.exhaust=!1,this.partial=!1}incRequestId(){this.requestId=W1++}nextRequestId(){return W1+1}static getRequestId(){return++W1}toBin(){let e=[],r=null,n=0;this.tailable&&(n|=Tqe),this.secondaryOk&&(n|=Dqe),this.oplogReplay&&(n|=Rqe),this.noCursorTimeout&&(n|=Nqe),this.awaitData&&(n|=xqe),this.exhaust&&(n|=Mqe),this.partial&&(n|=Fqe),this.batchSize!==this.numberToReturn&&(this.numberToReturn=this.batchSize);let i=Buffer.alloc(4*4+4+Buffer.byteLength(this.ns)+1+4+4);e.push(i);let s=ic.serialize(this.query,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});e.push(s),this.returnFieldSelector&&Object.keys(this.returnFieldSelector).length>0&&(r=ic.serialize(this.returnFieldSelector,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined}),e.push(r));let o=i.length+s.length+(r?r.length:0),u=4;return i[3]=o>>24&255,i[2]=o>>16&255,i[1]=o>>8&255,i[0]=o&255,i[u+3]=this.requestId>>24&255,i[u+2]=this.requestId>>16&255,i[u+1]=this.requestId>>8&255,i[u]=this.requestId&255,u=u+4,i[u+3]=0,i[u+2]=0,i[u+1]=0,i[u]=0,u=u+4,i[u+3]=fy.OP_QUERY>>24&255,i[u+2]=fy.OP_QUERY>>16&255,i[u+1]=fy.OP_QUERY>>8&255,i[u]=fy.OP_QUERY&255,u=u+4,i[u+3]=n>>24&255,i[u+2]=n>>16&255,i[u+1]=n>>8&255,i[u]=n&255,u=u+4,u=u+i.write(this.ns,u,"utf8")+1,i[u-1]=0,i[u+3]=this.numberToSkip>>24&255,i[u+2]=this.numberToSkip>>16&255,i[u+1]=this.numberToSkip>>8&255,i[u]=this.numberToSkip&255,u=u+4,i[u+3]=this.numberToReturn>>24&255,i[u+2]=this.numberToReturn>>16&255,i[u+1]=this.numberToReturn>>8&255,i[u]=this.numberToReturn&255,u=u+4,e}};zo.Query=py;var JT=class{constructor(e,r,n,i){this.documents=new Array(0),this.parsed=!1,this.raw=e,this.data=n,this.opts=i??{promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=r.length,this.requestId=r.requestId,this.responseTo=r.responseTo,this.opCode=r.opCode,this.fromCompressed=r.fromCompressed,this.promoteLongs=typeof this.opts.promoteLongs=="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues=="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers=="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp=="boolean"?this.opts.bsonRegExp:!1}isParsed(){return this.parsed}parse(e){var r,n,i,s;if(this.parsed)return;e=e??{};let o=e.raw||!1,u=e.documentsReturnedIn||null,a=(r=e.promoteLongs)!==null&&r!==void 0?r:this.opts.promoteLongs,c=(n=e.promoteValues)!==null&&n!==void 0?n:this.opts.promoteValues,l=(i=e.promoteBuffers)!==null&&i!==void 0?i:this.opts.promoteBuffers,d=(s=e.bsonRegExp)!==null&&s!==void 0?s:this.opts.bsonRegExp,f,p={promoteLongs:a,promoteValues:c,promoteBuffers:l,bsonRegExp:d};this.index=20,this.responseFlags=this.data.readInt32LE(0),this.cursorId=new ic.Long(this.data.readInt32LE(4),this.data.readInt32LE(8)),this.startingFrom=this.data.readInt32LE(12),this.numberReturned=this.data.readInt32LE(16),this.documents=new Array(this.numberReturned),this.cursorNotFound=(this.responseFlags&Bqe)!==0,this.queryFailure=(this.responseFlags&qqe)!==0,this.shardConfigStale=(this.responseFlags&$qe)!==0,this.awaitCapable=(this.responseFlags&kqe)!==0;for(let m=0;m<this.numberReturned;m++)f=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24,o?this.documents[m]=this.data.slice(this.index,this.index+f):this.documents[m]=ic.deserialize(this.data.slice(this.index,this.index+f),p),this.index=this.index+f;if(this.documents.length===1&&u!=null&&o){let m={};m[u]=!0,p.fieldsAsRaw=m;let y=ic.deserialize(this.documents[0],p);this.documents=[y]}this.parsed=!0}};zo.Response=JT;var nX=1,iX=2,sX=1<<16,my=class{constructor(e,r,n){if(r==null)throw new hy.MongoInvalidArgumentError("Query document must be specified for query");this.ns=e,this.command=r,this.command.$db=(0,Pqe.databaseNamespace)(e),n.readPreference&&n.readPreference.mode!==Iqe.ReadPreference.PRIMARY&&(this.command.$readPreference=n.readPreference.toJSON()),this.options=n??{},this.requestId=n.requestId?n.requestId:my.getRequestId(),this.serializeFunctions=typeof n.serializeFunctions=="boolean"?n.serializeFunctions:!1,this.ignoreUndefined=typeof n.ignoreUndefined=="boolean"?n.ignoreUndefined:!1,this.checkKeys=typeof n.checkKeys=="boolean"?n.checkKeys:!1,this.maxBsonSize=n.maxBsonSize||1024*1024*16,this.checksumPresent=!1,this.moreToCome=n.moreToCome||!1,this.exhaustAllowed=typeof n.exhaustAllowed=="boolean"?n.exhaustAllowed:!1}toBin(){let e=[],r=0;this.checksumPresent&&(r|=nX),this.moreToCome&&(r|=iX),this.exhaustAllowed&&(r|=sX);let n=Buffer.alloc(4*4+4);e.push(n);let i=n.length,s=this.command;return i+=this.makeDocumentSegment(e,s),n.writeInt32LE(i,0),n.writeInt32LE(this.requestId,4),n.writeInt32LE(0,8),n.writeInt32LE(fy.OP_MSG,12),n.writeUInt32LE(r,16),e}makeDocumentSegment(e,r){let n=Buffer.alloc(1);n[0]=0;let i=this.serializeBson(r);return e.push(n),e.push(i),n.length+i.length}serializeBson(e){return ic.serialize(e,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined})}static getRequestId(){return W1=W1+1&2147483647,W1}};zo.Msg=my;var QT=class{constructor(e,r,n,i){this.parsed=!1,this.raw=e,this.data=n,this.opts=i??{promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=r.length,this.requestId=r.requestId,this.responseTo=r.responseTo,this.opCode=r.opCode,this.fromCompressed=r.fromCompressed,this.responseFlags=n.readInt32LE(0),this.checksumPresent=(this.responseFlags&nX)!==0,this.moreToCome=(this.responseFlags&iX)!==0,this.exhaustAllowed=(this.responseFlags&sX)!==0,this.promoteLongs=typeof this.opts.promoteLongs=="boolean"?this.opts.promoteLongs:!0,this.promoteValues=typeof this.opts.promoteValues=="boolean"?this.opts.promoteValues:!0,this.promoteBuffers=typeof this.opts.promoteBuffers=="boolean"?this.opts.promoteBuffers:!1,this.bsonRegExp=typeof this.opts.bsonRegExp=="boolean"?this.opts.bsonRegExp:!1,this.documents=[]}isParsed(){return this.parsed}parse(e){var r,n,i,s;if(this.parsed)return;e=e??{},this.index=4;let o=e.raw||!1,u=e.documentsReturnedIn||null,a=(r=e.promoteLongs)!==null&&r!==void 0?r:this.opts.promoteLongs,c=(n=e.promoteValues)!==null&&n!==void 0?n:this.opts.promoteValues,l=(i=e.promoteBuffers)!==null&&i!==void 0?i:this.opts.promoteBuffers,d=(s=e.bsonRegExp)!==null&&s!==void 0?s:this.opts.bsonRegExp,f=this.parseBsonSerializationOptions(e),p={promoteLongs:a,promoteValues:c,promoteBuffers:l,bsonRegExp:d,validation:f};for(;this.index<this.data.length;){let m=this.data.readUInt8(this.index++);if(m===0){let y=this.data.readUInt32LE(this.index),_=this.data.slice(this.index,this.index+y);this.documents.push(o?_:ic.deserialize(_,p)),this.index+=y}else if(m===1)throw new hy.MongoRuntimeError("OP_MSG Payload Type 1 detected unsupported protocol")}if(this.documents.length===1&&u!=null&&o){let m={};m[u]=!0,p.fieldsAsRaw=m;let y=ic.deserialize(this.documents[0],p);this.documents=[y]}this.parsed=!0}parseBsonSerializationOptions({enableUtf8Validation:e}){return e===!1?{utf8:!1}:{utf8:{writeErrors:!1}}}};zo.BinMsg=QT});var sD=h(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.CommandFailedEvent=sc.CommandSucceededEvent=sc.CommandStartedEvent=void 0;var oX=yn(),Vs=ye(),cX=z6(),XT=class{constructor(e,r){let n=nD(r),i=tD(n),{address:s,connectionId:o,serviceId:u}=iD(e);lX.has(i)&&(this.commandObj={},this.commandObj[i]=!0),this.address=s,this.connectionId=o,this.serviceId=u,this.requestId=r.requestId,this.databaseName=Uqe(r),this.commandName=i,this.command=rD(i,n,n)}get hasServiceId(){return!!this.serviceId}};sc.CommandStartedEvent=XT;var ZT=class{constructor(e,r,n,i){let s=nD(r),o=tD(s),{address:u,connectionId:a,serviceId:c}=iD(e);this.address=u,this.connectionId=a,this.serviceId=c,this.requestId=r.requestId,this.commandName=o,this.duration=(0,Vs.calculateDurationInMs)(i),this.reply=rD(o,s,Wqe(r,n))}get hasServiceId(){return!!this.serviceId}};sc.CommandSucceededEvent=ZT;var eD=class{constructor(e,r,n,i){let s=nD(r),o=tD(s),{address:u,connectionId:a,serviceId:c}=iD(e);this.address=u,this.connectionId=a,this.serviceId=c,this.requestId=r.requestId,this.commandName=o,this.duration=(0,Vs.calculateDurationInMs)(i),this.failure=rD(o,s,n)}get hasServiceId(){return!!this.serviceId}};sc.CommandFailedEvent=eD;var lX=new Set(["authenticate","saslStart","saslContinue","getnonce","createUser","updateUser","copydbgetnonce","copydbsaslstart","copydb"]),jqe=new Set(["hello",oX.LEGACY_HELLO_COMMAND,oX.LEGACY_HELLO_COMMAND_CAMEL_CASE]),tD=t=>Object.keys(t)[0],Lqe=t=>t.ns,Uqe=t=>t.ns.split(".")[0],zqe=t=>t.ns.split(".")[1],rD=(t,e,r)=>lX.has(t)||jqe.has(t)&&e.speculativeAuthenticate?{}:r,uX={$query:"filter",$orderby:"sort",$hint:"hint",$comment:"comment",$maxScan:"maxScan",$max:"max",$min:"min",$returnKey:"returnKey",$showDiskLoc:"showRecordId",$maxTimeMS:"maxTimeMS",$snapshot:"snapshot"},aX={numberToSkip:"skip",numberToReturn:"batchSize",returnFieldSelector:"projection"},Vqe=["tailable","oplogReplay","noCursorTimeout","awaitData","partial","exhaust"];function nD(t){var e;if(t instanceof cX.Msg)return(0,Vs.deepCopy)(t.command);if(!((e=t.query)===null||e===void 0)&&e.$query){let i;return t.ns==="admin.$cmd"?i=Object.assign({},t.query.$query):(i={find:zqe(t)},Object.keys(uX).forEach(s=>{t.query[s]!=null&&(i[uX[s]]=(0,Vs.deepCopy)(t.query[s]))})),Object.keys(aX).forEach(s=>{let o=s;t[o]!=null&&(i[aX[o]]=(0,Vs.deepCopy)(t[o]))}),Vqe.forEach(s=>{t[s]&&(i[s]=t[s])}),t.pre32Limit!=null&&(i.limit=t.pre32Limit),t.query.$explain?{explain:i}:i}let r={},n={};if(t.query){for(let i in t.query)r[i]=(0,Vs.deepCopy)(t.query[i]);n.query=r}for(let i in t)i!=="query"&&(n[i]=(0,Vs.deepCopy)(t[i]));return t.query?r:n}function Wqe(t,e){return e&&(t instanceof cX.Msg?(0,Vs.deepCopy)(e.result?e.result:e):t.query&&t.query.$query!=null?{ok:1,cursor:{id:(0,Vs.deepCopy)(e.cursorId),ns:Lqe(t),firstBatch:(0,Vs.deepCopy)(e.documents)}}:(0,Vs.deepCopy)(e.result?e.result:e))}function iD(t){let e;return"id"in t&&(e=t.id),{address:t.address,serviceId:t.serviceId,connectionId:e}}});var fX=h(G6=>{"use strict";Object.defineProperty(G6,"__esModule",{value:!0});G6.MessageStream=void 0;var Hqe=require("stream"),oD=re(),Gqe=ye(),yy=z6(),H6=k6(),V6=Pd(),oc=16,dX=9,Kqe=1024*1024*16*4,W6=Symbol("buffer"),uD=class extends Hqe.Duplex{constructor(e={}){super(e),this.isMonitoringConnection=!1,this.maxBsonMessageSize=e.maxBsonMessageSize||Kqe,this[W6]=new Gqe.BufferPool}get buffer(){return this[W6]}_write(e,r,n){this[W6].append(e),gy(this,n)}_read(){}writeCommand(e,r){let n=r&&r.agreedCompressor?r.agreedCompressor:"none";if(n==="none"||!Yqe(e)){let u=e.toBin();this.push(Array.isArray(u)?Buffer.concat(u):u);return}let i=Buffer.concat(e.toBin()),s=i.slice(oc),o=i.readInt32LE(12);(0,H6.compress)({options:r},s,(u,a)=>{if(u||!a){r.cb(u);return}let c=Buffer.alloc(oc);c.writeInt32LE(oc+dX+a.length,0),c.writeInt32LE(e.requestId,4),c.writeInt32LE(0,8),c.writeInt32LE(V6.OP_COMPRESSED,12);let l=Buffer.alloc(dX);l.writeInt32LE(o,0),l.writeInt32LE(s.length,4),l.writeUInt8(H6.Compressor[n],8),this.push(Buffer.concat([c,l,a]))})}};G6.MessageStream=uD;function Yqe(t){let e=t instanceof yy.Msg?t.command:t.query,r=Object.keys(e)[0];return!H6.uncompressibleCommands.has(r)}function gy(t,e){let r=t[W6],n=r.getInt32();if(n==null)return e();if(n<0)return e(new oD.MongoParseError(`Invalid message size: ${n}`));if(n>t.maxBsonMessageSize)return e(new oD.MongoParseError(`Invalid message size: ${n}, max allowed: ${t.maxBsonMessageSize}`));if(n>r.length)return e();let i=r.read(n),s={length:i.readInt32LE(0),requestId:i.readInt32LE(4),responseTo:i.readInt32LE(8),opCode:i.readInt32LE(12)},o=()=>{if(t.isMonitoringConnection){let l=r.getInt32();if(l!=null&&l<=r.length)return!0}return!1},u=s.opCode===V6.OP_MSG?yy.BinMsg:yy.Response;if(s.opCode!==V6.OP_COMPRESSED){let l=i.subarray(oc);return o()||(t.emit("message",new u(i,s,l)),r.length>=4)?gy(t,e):e()}s.fromCompressed=!0,s.opCode=i.readInt32LE(oc),s.length=i.readInt32LE(oc+4);let a=i[oc+8],c=i.slice(oc+9);return u=s.opCode===V6.OP_MSG?yy.BinMsg:yy.Response,(0,H6.decompress)(a,c,(l,d)=>l||!d?e(l):d.length!==s.length?e(new oD.MongoDecompressionError("Message body and message header must be the same length")):o()||(t.emit("message",new u(i,s,d)),r.length>=4)?gy(t,e):e())}});var hX=h(K6=>{"use strict";Object.defineProperty(K6,"__esModule",{value:!0});K6.StreamDescription=void 0;var Jqe=Wi(),Qqe=kh(),Xqe=["minWireVersion","maxWireVersion","maxBsonObjectSize","maxMessageSizeBytes","maxWriteBatchSize","logicalSessionTimeoutMinutes"],aD=class{constructor(e,r){this.address=e,this.type=Jqe.ServerType.Unknown,this.minWireVersion=void 0,this.maxWireVersion=void 0,this.maxBsonObjectSize=16777216,this.maxMessageSizeBytes=48e6,this.maxWriteBatchSize=1e5,this.logicalSessionTimeoutMinutes=r?.logicalSessionTimeoutMinutes,this.loadBalanced=!!r?.loadBalanced,this.compressors=r&&r.compressors&&Array.isArray(r.compressors)?r.compressors:[]}receiveResponse(e){if(e!=null){this.type=(0,Qqe.parseServerType)(e);for(let r of Xqe)e[r]!=null&&(this[r]=e[r]),"__nodejs_mock_server__"in e&&(this.__nodejs_mock_server__=e.__nodejs_mock_server__);e.compression&&(this.compressor=this.compressors.filter(r=>{var n;return(n=e.compression)===null||n===void 0?void 0:n.includes(r)})[0])}}};K6.StreamDescription=aD});var _y=h(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.hasSessionSupport=cc.CryptoConnection=cc.Connection=void 0;var pX=require("timers"),lc=yn(),uc=re(),Zqe=ei(),mX=Lh(),ac=ye(),Y6=sD(),yX=z6(),e$e=fX(),t$e=hX(),gX=n8(),gs=Symbol("stream"),Ln=Symbol("queue"),zu=Symbol("messageStream"),cD=Symbol("generation"),lD=Symbol("lastUseTime"),dD=Symbol("clusterTime"),Vo=Symbol("description"),fD=Symbol("hello"),_X=Symbol("autoEncrypter"),J6=Symbol("delayedTimeoutId"),r$e="Connection internal queue contains more than 1 operation description",ar=class extends Zqe.TypedEventEmitter{constructor(e,r){var n,i;super(),this.id=r.id,this.address=i$e(e,r),this.socketTimeoutMS=(n=r.socketTimeoutMS)!==null&&n!==void 0?n:0,this.monitorCommands=r.monitorCommands,this.serverApi=r.serverApi,this.closed=!1,this[fD]=null,this[dD]=null,this[Vo]=new t$e.StreamDescription(this.address,r),this[cD]=r.generation,this[lD]=(0,ac.now)(),this[Ln]=new Map,this[zu]=new e$e.MessageStream({...r,maxBsonMessageSize:(i=this.hello)===null||i===void 0?void 0:i.maxBsonMessageSize}),this[gs]=e,this[J6]=null,this[zu].on("message",s=>this.onMessage(s)),this[zu].on("error",s=>this.onError(s)),this[gs].on("close",()=>this.onClose()),this[gs].on("timeout",()=>this.onTimeout()),this[gs].on("error",()=>{}),this[gs].pipe(this[zu]),this[zu].pipe(this[gs])}get description(){return this[Vo]}get hello(){return this[fD]}set hello(e){this[Vo].receiveResponse(e),this[Vo]=Object.freeze(this[Vo]),this[fD]=e}set isMonitoringConnection(e){this[zu].isMonitoringConnection=e}get isMonitoringConnection(){return this[zu].isMonitoringConnection}get serviceId(){var e;return(e=this.hello)===null||e===void 0?void 0:e.serviceId}get loadBalanced(){return this.description.loadBalanced}get generation(){return this[cD]||0}set generation(e){this[cD]=e}get idleTime(){return(0,ac.calculateDurationInMs)(this[lD])}get clusterTime(){return this[dD]}get stream(){return this[gs]}markAvailable(){this[lD]=(0,ac.now)()}onError(e){if(!this.closed){this.destroy({force:!1});for(let r of this[Ln].values())r.cb(e);this[Ln].clear(),this.emit(ar.CLOSE)}}onClose(){if(this.closed)return;this.destroy({force:!1});let e=`connection ${this.id} to ${this.address} closed`;for(let r of this[Ln].values())r.cb(new uc.MongoNetworkError(e));this[Ln].clear(),this.emit(ar.CLOSE)}onTimeout(){this.closed||(this[J6]=(0,pX.setTimeout)(()=>{this.destroy({force:!1});let e=`connection ${this.id} to ${this.address} timed out`,r=this.hello==null;for(let n of this[Ln].values())n.cb(new uc.MongoNetworkTimeoutError(e,{beforeHandshake:r}));this[Ln].clear(),this.emit(ar.CLOSE)},1).unref())}onMessage(e){let r=this[J6];r!=null&&((0,pX.clearTimeout)(r),this[J6]=null),this.emit("message",e);let n=this[Ln].get(e.responseTo);if(!n&&this.isMonitoringConnection)if(this[Ln].size>1)this.onError(new uc.MongoRuntimeError(r$e));else{let s=this[Ln].entries().next();if(s.value!=null){let[o,u]=s.value;n=u,this[Ln].delete(o)}}if(!n)return;let i=n.cb;this[Ln].delete(e.responseTo),"moreToCome"in e&&e.moreToCome?this[Ln].set(e.requestId,n):n.socketTimeoutOverride&&this[gs].setTimeout(this.socketTimeoutMS);try{e.parse(n)}catch(s){i(s);return}if(e.documents[0]){let s=e.documents[0],o=n.session;if(o&&(0,mX.updateSessionFromResponse)(o,s),s.$clusterTime&&(this[dD]=s.$clusterTime,this.emit(ar.CLUSTER_TIME_RECEIVED,s.$clusterTime)),n.command){if(s.writeConcernError){i(new uc.MongoWriteConcernError(s.writeConcernError,s));return}if(s.ok===0||s.$err||s.errmsg||s.code){i(new uc.MongoServerError(s));return}}else if(s.ok===0||s.$err||s.errmsg){i(new uc.MongoServerError(s));return}}i(void 0,e.documents[0])}destroy(e,r){if(this.removeAllListeners(ar.PINNED),this.removeAllListeners(ar.UNPINNED),this[zu].destroy(),this.closed=!0,e.force&&(this[gs].destroy(),r))return process.nextTick(r);if(!this[gs].writableEnded)this[gs].end(r);else if(r)return process.nextTick(r)}command(e,r,n,i){let s=(0,gX.getReadPreference)(r,n),o=n$e(this),u=n?.session,a=this.clusterTime,c=Object.assign({},r);if(this.serverApi){let{version:p,strict:m,deprecationErrors:y}=this.serverApi;c.apiVersion=p,m!=null&&(c.apiStrict=m),y!=null&&(c.apiDeprecationErrors=y)}if(EX(this)&&u){u.clusterTime&&a&&u.clusterTime.clusterTime.greaterThan(a.clusterTime)&&(a=u.clusterTime);let p=(0,mX.applySession)(u,c,n);if(p)return i(p)}a&&(c.$clusterTime=a),(0,gX.isSharded)(this)&&!o&&s&&s.mode!=="primary"&&(c={$query:c,$readPreference:s.toJSON()});let l=Object.assign({command:!0,numberToSkip:0,numberToReturn:-1,checkKeys:!1,secondaryOk:s.secondaryOk()},n),d=`${e.db}.$cmd`,f=o?new yX.Msg(d,c,l):new yX.Query(d,c,l);try{s$e(this,f,l,i)}catch(p){i(p)}}};cc.Connection=ar;ar.COMMAND_STARTED=lc.COMMAND_STARTED;ar.COMMAND_SUCCEEDED=lc.COMMAND_SUCCEEDED;ar.COMMAND_FAILED=lc.COMMAND_FAILED;ar.CLUSTER_TIME_RECEIVED=lc.CLUSTER_TIME_RECEIVED;ar.CLOSE=lc.CLOSE;ar.MESSAGE=lc.MESSAGE;ar.PINNED=lc.PINNED;ar.UNPINNED=lc.UNPINNED;var hD=class extends ar{constructor(e,r){super(e,r),this[_X]=r.autoEncrypter}command(e,r,n,i){let s=this[_X];if(!s)return i(new uc.MongoMissingDependencyError("No AutoEncrypter available for encryption"));let o=(0,ac.maxWireVersion)(this);if(o===0)return super.command(e,r,n,i);if(o<8){i(new uc.MongoCompatibilityError("Auto-encryption requires a minimum MongoDB version of 4.2"));return}let u=r.find||r.findAndModify?r.sort:null,a=r.createIndexes?r.indexes.map(c=>c.key):null;s.encrypt(e.toString(),r,n,(c,l)=>{if(c||l==null){i(c,null);return}if(u!=null&&(r.find||r.findAndModify)&&(l.sort=u),a!=null&&r.createIndexes)for(let[d,f]of a.entries())l.indexes[d].key=f;super.command(e,l,n,(d,f)=>{if(d||f==null){i(d,f);return}s.decrypt(f,n,i)})})}};cc.CryptoConnection=hD;function EX(t){let e=t.description;return e.logicalSessionTimeoutMinutes!=null||!!e.loadBalanced}cc.hasSessionSupport=EX;function n$e(t){let e=t.description;return e==null?!1:(0,ac.maxWireVersion)(t)>=6&&!e.__nodejs_mock_server__}function i$e(t,e){if(e.proxyHost)return e.hostAddress.toString();let{remoteAddress:r,remotePort:n}=t;return typeof r=="string"&&typeof n=="number"?ac.HostAddress.fromHostPort(r,n).toString():(0,ac.uuidV4)().toString("hex")}function s$e(t,e,r,n){r=r??{};let i={requestId:e.requestId,cb:n,session:r.session,noResponse:typeof r.noResponse=="boolean"?r.noResponse:!1,documentsReturnedIn:r.documentsReturnedIn,command:!!r.command,promoteLongs:typeof r.promoteLongs=="boolean"?r.promoteLongs:!0,promoteValues:typeof r.promoteValues=="boolean"?r.promoteValues:!0,promoteBuffers:typeof r.promoteBuffers=="boolean"?r.promoteBuffers:!1,bsonRegExp:typeof r.bsonRegExp=="boolean"?r.bsonRegExp:!1,enableUtf8Validation:typeof r.enableUtf8Validation=="boolean"?r.enableUtf8Validation:!0,raw:typeof r.raw=="boolean"?r.raw:!1,started:0};t[Vo]&&t[Vo].compressor&&(i.agreedCompressor=t[Vo].compressor,t[Vo].zlibCompressionLevel&&(i.zlibCompressionLevel=t[Vo].zlibCompressionLevel)),typeof r.socketTimeoutMS=="number"&&(i.socketTimeoutOverride=!0,t[gs].setTimeout(r.socketTimeoutMS)),t.monitorCommands&&(t.emit(ar.COMMAND_STARTED,new Y6.CommandStartedEvent(t,e)),i.started=(0,ac.now)(),i.cb=(s,o)=>{s?t.emit(ar.COMMAND_FAILED,new Y6.CommandFailedEvent(t,e,s,i.started)):o&&(o.ok===0||o.$err)?t.emit(ar.COMMAND_FAILED,new Y6.CommandFailedEvent(t,e,o,i.started)):t.emit(ar.COMMAND_SUCCEEDED,new Y6.CommandSucceededEvent(t,e,o,i.started)),typeof n=="function"&&n(s,o)}),i.noResponse||t[Ln].set(i.requestId,i);try{t[zu].writeCommand(e,i)}catch(s){if(!i.noResponse){t[Ln].delete(i.requestId),i.cb(s);return}}i.noResponse&&i.cb()}});var SX=h(AX=>{var Ee=AX,{Buffer:Q6}=require("buffer"),o$e=require("os");Ee.toBuffer=function(t,e,r){r=~~r;let n;if(this.isV4Format(t))n=e||Q6.alloc(r+4),t.split(/\./g).map(i=>{n[r++]=parseInt(i,10)&255});else if(this.isV6Format(t)){let i=t.split(":",8),s;for(s=0;s<i.length;s++){let o=this.isV4Format(i[s]),u;o&&(u=this.toBuffer(i[s]),i[s]=u.slice(0,2).toString("hex")),u&&++s<8&&i.splice(s,0,u.slice(2,4).toString("hex"))}if(i[0]==="")for(;i.length<8;)i.unshift("0");else if(i[i.length-1]==="")for(;i.length<8;)i.push("0");else if(i.length<8){for(s=0;s<i.length&&i[s]!=="";s++);let o=[s,1];for(s=9-i.length;s>0;s--)o.push("0");i.splice(...o)}for(n=e||Q6.alloc(r+16),s=0;s<i.length;s++){let o=parseInt(i[s],16);n[r++]=o>>8&255,n[r++]=o&255}}if(!n)throw Error(`Invalid ip address: ${t}`);return n};Ee.toString=function(t,e,r){e=~~e,r=r||t.length-e;let n=[];if(r===4){for(let i=0;i<r;i++)n.push(t[e+i]);n=n.join(".")}else if(r===16){for(let i=0;i<r;i+=2)n.push(t.readUInt16BE(e+i).toString(16));n=n.join(":"),n=n.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),n=n.replace(/:{3,4}/,"::")}return n};var u$e=/^(\d{1,3}\.){3,3}\d{1,3}$/,a$e=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;Ee.isV4Format=function(t){return u$e.test(t)};Ee.isV6Format=function(t){return a$e.test(t)};function Ey(t){return t===4?"ipv4":t===6?"ipv6":t?t.toLowerCase():"ipv4"}Ee.fromPrefixLen=function(t,e){t>32?e="ipv6":e=Ey(e);let r=4;e==="ipv6"&&(r=16);let n=Q6.alloc(r);for(let i=0,s=n.length;i<s;++i){let o=8;t<8&&(o=t),t-=o,n[i]=~(255>>o)&255}return Ee.toString(n)};Ee.mask=function(t,e){t=Ee.toBuffer(t),e=Ee.toBuffer(e);let r=Q6.alloc(Math.max(t.length,e.length)),n;if(t.length===e.length)for(n=0;n<t.length;n++)r[n]=t[n]&e[n];else if(e.length===4)for(n=0;n<e.length;n++)r[n]=t[t.length-4+n]&e[n];else{for(n=0;n<r.length-6;n++)r[n]=0;for(r[10]=255,r[11]=255,n=0;n<t.length;n++)r[n+12]=t[n]&e[n+12];n+=12}for(;n<r.length;n++)r[n]=0;return Ee.toString(r)};Ee.cidr=function(t){let e=t.split("/"),r=e[0];if(e.length!==2)throw new Error(`invalid CIDR subnet: ${r}`);let n=Ee.fromPrefixLen(parseInt(e[1],10));return Ee.mask(r,n)};Ee.subnet=function(t,e){let r=Ee.toLong(Ee.mask(t,e)),n=Ee.toBuffer(e),i=0;for(let o=0;o<n.length;o++)if(n[o]===255)i+=8;else{let u=n[o]&255;for(;u;)u=u<<1&255,i++}let s=2**(32-i);return{networkAddress:Ee.fromLong(r),firstAddress:s<=2?Ee.fromLong(r):Ee.fromLong(r+1),lastAddress:s<=2?Ee.fromLong(r+s-1):Ee.fromLong(r+s-2),broadcastAddress:Ee.fromLong(r+s-1),subnetMask:e,subnetMaskLength:i,numHosts:s<=2?s:s-2,length:s,contains(o){return r===Ee.toLong(Ee.mask(o,e))}}};Ee.cidrSubnet=function(t){let e=t.split("/"),r=e[0];if(e.length!==2)throw new Error(`invalid CIDR subnet: ${r}`);let n=Ee.fromPrefixLen(parseInt(e[1],10));return Ee.subnet(r,n)};Ee.not=function(t){let e=Ee.toBuffer(t);for(let r=0;r<e.length;r++)e[r]=255^e[r];return Ee.toString(e)};Ee.or=function(t,e){if(t=Ee.toBuffer(t),e=Ee.toBuffer(e),t.length===e.length){for(let s=0;s<t.length;++s)t[s]|=e[s];return Ee.toString(t)}let r=t,n=e;e.length>t.length&&(r=e,n=t);let i=r.length-n.length;for(let s=i;s<r.length;++s)r[s]|=n[s-i];return Ee.toString(r)};Ee.isEqual=function(t,e){if(t=Ee.toBuffer(t),e=Ee.toBuffer(e),t.length===e.length){for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}if(e.length===4){let n=e;e=t,t=n}for(let n=0;n<10;n++)if(e[n]!==0)return!1;let r=e.readUInt16BE(10);if(r!==0&&r!==65535)return!1;for(let n=0;n<4;n++)if(t[n]!==e[n+12])return!1;return!0};Ee.isPrivate=function(t){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^f[cd][0-9a-f]{2}:/i.test(t)||/^fe80:/i.test(t)||/^::1$/.test(t)||/^::$/.test(t)};Ee.isPublic=function(t){return!Ee.isPrivate(t)};Ee.isLoopback=function(t){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(t)||/^fe80::1$/.test(t)||/^::1$/.test(t)||/^::$/.test(t)};Ee.loopback=function(t){if(t=Ey(t),t!=="ipv4"&&t!=="ipv6")throw new Error("family must be ipv4 or ipv6");return t==="ipv4"?"127.0.0.1":"fe80::1"};Ee.address=function(t,e){let r=o$e.networkInterfaces();if(e=Ey(e),t&&t!=="private"&&t!=="public"){let i=r[t].filter(s=>Ey(s.family)===e);return i.length===0?void 0:i[0].address}let n=Object.keys(r).map(i=>{let s=r[i].filter(o=>(o.family=Ey(o.family),o.family!==e||Ee.isLoopback(o.address)?!1:t?t==="public"?Ee.isPrivate(o.address):Ee.isPublic(o.address):!0));return s.length?s[0].address:void 0}).filter(Boolean);return n.length?n[0]:Ee.loopback(e)};Ee.toLong=function(t){let e=0;return t.split(".").forEach(r=>{e<<=8,e+=parseInt(r)}),e>>>0};Ee.fromLong=function(t){return`${t>>>24}.${t>>16&255}.${t>>8&255}.${t&255}`}});var vX=h(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});var wX=require("buffer"),Nl={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};Vu.ERRORS=Nl;function c$e(t){if(!wX.Buffer.isEncoding(t))throw new Error(Nl.INVALID_ENCODING)}Vu.checkEncoding=c$e;function OX(t){return typeof t=="number"&&isFinite(t)&&h$e(t)}Vu.isFiniteInteger=OX;function CX(t,e){if(typeof t=="number"){if(!OX(t)||t<0)throw new Error(e?Nl.INVALID_OFFSET:Nl.INVALID_LENGTH)}else throw new Error(e?Nl.INVALID_OFFSET_NON_NUMBER:Nl.INVALID_LENGTH_NON_NUMBER)}function l$e(t){CX(t,!1)}Vu.checkLengthValue=l$e;function d$e(t){CX(t,!0)}Vu.checkOffsetValue=d$e;function f$e(t,e){if(t<0||t>e.length)throw new Error(Nl.INVALID_TARGET_OFFSET)}Vu.checkTargetOffset=f$e;function h$e(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function p$e(t){if(typeof BigInt>"u")throw new Error("Platform does not support JS BigInt type.");if(typeof wX.Buffer.prototype[t]>"u")throw new Error(`Platform does not support Buffer.prototype.${t}.`)}Vu.bigIntAndBufferInt64Check=p$e});var IX=h(pD=>{"use strict";Object.defineProperty(pD,"__esModule",{value:!0});var Ue=vX(),bX=4096,m$e="utf8",Ay=class{constructor(e){if(this.length=0,this._encoding=m$e,this._writeOffset=0,this._readOffset=0,Ay.isSmartBufferOptions(e))if(e.encoding&&(Ue.checkEncoding(e.encoding),this._encoding=e.encoding),e.size)if(Ue.isFiniteInteger(e.size)&&e.size>0)this._buff=Buffer.allocUnsafe(e.size);else throw new Error(Ue.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(e.buff)if(Buffer.isBuffer(e.buff))this._buff=e.buff,this.length=e.buff.length;else throw new Error(Ue.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(bX);else{if(typeof e<"u")throw new Error(Ue.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(bX)}}static fromSize(e,r){return new this({size:e,encoding:r})}static fromBuffer(e,r){return new this({buff:e,encoding:r})}static fromOptions(e){return new this(e)}static isSmartBufferOptions(e){let r=e;return r&&(r.encoding!==void 0||r.size!==void 0||r.buff!==void 0)}readInt8(e){return this._readNumberValue(Buffer.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(Buffer.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(Buffer.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(Buffer.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(Buffer.prototype.readInt32LE,4,e)}readBigInt64BE(e){return Ue.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,e)}readBigInt64LE(e){return Ue.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,e)}writeInt8(e,r){return this._writeNumberValue(Buffer.prototype.writeInt8,1,e,r),this}insertInt8(e,r){return this._insertNumberValue(Buffer.prototype.writeInt8,1,e,r)}writeInt16BE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,e,r)}insertInt16BE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,e,r)}writeInt16LE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,e,r)}insertInt16LE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,e,r)}writeInt32BE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,e,r)}insertInt32BE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,e,r)}writeInt32LE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,e,r)}insertInt32LE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,e,r)}writeBigInt64BE(e,r){return Ue.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,e,r)}insertBigInt64BE(e,r){return Ue.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,e,r)}writeBigInt64LE(e,r){return Ue.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,e,r)}insertBigInt64LE(e,r){return Ue.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,e,r)}readUInt8(e){return this._readNumberValue(Buffer.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,e)}readBigUInt64BE(e){return Ue.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,e)}readBigUInt64LE(e){return Ue.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,e)}writeUInt8(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,e,r)}insertUInt8(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,e,r)}writeUInt16BE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,e,r)}insertUInt16BE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,e,r)}writeUInt16LE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,e,r)}insertUInt16LE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,e,r)}writeUInt32BE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,e,r)}insertUInt32BE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,e,r)}writeUInt32LE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,e,r)}insertUInt32LE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,e,r)}writeBigUInt64BE(e,r){return Ue.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,r)}insertBigUInt64BE(e,r){return Ue.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,r)}writeBigUInt64LE(e,r){return Ue.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,r)}insertBigUInt64LE(e,r){return Ue.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,r)}readFloatBE(e){return this._readNumberValue(Buffer.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(Buffer.prototype.readFloatLE,4,e)}writeFloatBE(e,r){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,e,r)}insertFloatBE(e,r){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,e,r)}writeFloatLE(e,r){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,e,r)}insertFloatLE(e,r){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,e,r)}readDoubleBE(e){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,e)}writeDoubleBE(e,r){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,e,r)}insertDoubleBE(e,r){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,e,r)}writeDoubleLE(e,r){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,e,r)}insertDoubleLE(e,r){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,e,r)}readString(e,r){let n;typeof e=="number"?(Ue.checkLengthValue(e),n=Math.min(e,this.length-this._readOffset)):(r=e,n=this.length-this._readOffset),typeof r<"u"&&Ue.checkEncoding(r);let i=this._buff.slice(this._readOffset,this._readOffset+n).toString(r||this._encoding);return this._readOffset+=n,i}insertString(e,r,n){return Ue.checkOffsetValue(r),this._handleString(e,!0,r,n)}writeString(e,r,n){return this._handleString(e,!1,r,n)}readStringNT(e){typeof e<"u"&&Ue.checkEncoding(e);let r=this.length;for(let i=this._readOffset;i<this.length;i++)if(this._buff[i]===0){r=i;break}let n=this._buff.slice(this._readOffset,r);return this._readOffset=r+1,n.toString(e||this._encoding)}insertStringNT(e,r,n){return Ue.checkOffsetValue(r),this.insertString(e,r,n),this.insertUInt8(0,r+e.length),this}writeStringNT(e,r,n){return this.writeString(e,r,n),this.writeUInt8(0,typeof r=="number"?r+e.length:this.writeOffset),this}readBuffer(e){typeof e<"u"&&Ue.checkLengthValue(e);let r=typeof e=="number"?e:this.length,n=Math.min(this.length,this._readOffset+r),i=this._buff.slice(this._readOffset,n);return this._readOffset=n,i}insertBuffer(e,r){return Ue.checkOffsetValue(r),this._handleBuffer(e,!0,r)}writeBuffer(e,r){return this._handleBuffer(e,!1,r)}readBufferNT(){let e=this.length;for(let n=this._readOffset;n<this.length;n++)if(this._buff[n]===0){e=n;break}let r=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,r}insertBufferNT(e,r){return Ue.checkOffsetValue(r),this.insertBuffer(e,r),this.insertUInt8(0,r+e.length),this}writeBufferNT(e,r){return typeof r<"u"&&Ue.checkOffsetValue(r),this.writeBuffer(e,r),this.writeUInt8(0,typeof r=="number"?r+e.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(e){Ue.checkOffsetValue(e),Ue.checkTargetOffset(e,this),this._readOffset=e}get writeOffset(){return this._writeOffset}set writeOffset(e){Ue.checkOffsetValue(e),Ue.checkTargetOffset(e,this),this._writeOffset=e}get encoding(){return this._encoding}set encoding(e){Ue.checkEncoding(e),this._encoding=e}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(e){let r=typeof e=="string"?e:this._encoding;return Ue.checkEncoding(r),this._buff.toString(r,0,this.length)}destroy(){return this.clear(),this}_handleString(e,r,n,i){let s=this._writeOffset,o=this._encoding;typeof n=="number"?s=n:typeof n=="string"&&(Ue.checkEncoding(n),o=n),typeof i=="string"&&(Ue.checkEncoding(i),o=i);let u=Buffer.byteLength(e,o);return r?this.ensureInsertable(u,s):this._ensureWriteable(u,s),this._buff.write(e,s,u,o),r?this._writeOffset+=u:typeof n=="number"?this._writeOffset=Math.max(this._writeOffset,s+u):this._writeOffset+=u,this}_handleBuffer(e,r,n){let i=typeof n=="number"?n:this._writeOffset;return r?this.ensureInsertable(e.length,i):this._ensureWriteable(e.length,i),e.copy(this._buff,i),r?this._writeOffset+=e.length:typeof n=="number"?this._writeOffset=Math.max(this._writeOffset,i+e.length):this._writeOffset+=e.length,this}ensureReadable(e,r){let n=this._readOffset;if(typeof r<"u"&&(Ue.checkOffsetValue(r),n=r),n<0||n+e>this.length)throw new Error(Ue.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(e,r){Ue.checkOffsetValue(r),this._ensureCapacity(this.length+e),r<this.length&&this._buff.copy(this._buff,r+e,r,this._buff.length),r+e>this.length?this.length=r+e:this.length+=e}_ensureWriteable(e,r){let n=typeof r=="number"?r:this._writeOffset;this._ensureCapacity(n+e),n+e>this.length&&(this.length=n+e)}_ensureCapacity(e){let r=this._buff.length;if(e>r){let n=this._buff,i=r*3/2+1;i<e&&(i=e),this._buff=Buffer.allocUnsafe(i),n.copy(this._buff,0,0,r)}}_readNumberValue(e,r,n){this.ensureReadable(r,n);let i=e.call(this._buff,typeof n=="number"?n:this._readOffset);return typeof n>"u"&&(this._readOffset+=r),i}_insertNumberValue(e,r,n,i){return Ue.checkOffsetValue(i),this.ensureInsertable(r,i),e.call(this._buff,n,i),this._writeOffset+=r,this}_writeNumberValue(e,r,n,i){if(typeof i=="number"){if(i<0)throw new Error(Ue.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);Ue.checkOffsetValue(i)}let s=typeof i=="number"?i:this._writeOffset;return this._ensureWriteable(r,s),e.call(this._buff,n,s),typeof i=="number"?this._writeOffset=Math.max(this._writeOffset,s+r):this._writeOffset+=r,this}};pD.SmartBuffer=Ay});var SD=h(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.SOCKS5_NO_ACCEPTABLE_AUTH=qt.SOCKS5_CUSTOM_AUTH_END=qt.SOCKS5_CUSTOM_AUTH_START=qt.SOCKS_INCOMING_PACKET_SIZES=qt.SocksClientState=qt.Socks5Response=qt.Socks5HostType=qt.Socks5Auth=qt.Socks4Response=qt.SocksCommand=qt.ERRORS=qt.DEFAULT_TIMEOUT=void 0;var y$e=3e4;qt.DEFAULT_TIMEOUT=y$e;var g$e={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};qt.ERRORS=g$e;var _$e={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:t=>t+7,Socks4Response:8};qt.SOCKS_INCOMING_PACKET_SIZES=_$e;var mD;(function(t){t[t.connect=1]="connect",t[t.bind=2]="bind",t[t.associate=3]="associate"})(mD||(mD={}));qt.SocksCommand=mD;var yD;(function(t){t[t.Granted=90]="Granted",t[t.Failed=91]="Failed",t[t.Rejected=92]="Rejected",t[t.RejectedIdent=93]="RejectedIdent"})(yD||(yD={}));qt.Socks4Response=yD;var gD;(function(t){t[t.NoAuth=0]="NoAuth",t[t.GSSApi=1]="GSSApi",t[t.UserPass=2]="UserPass"})(gD||(gD={}));qt.Socks5Auth=gD;var E$e=128;qt.SOCKS5_CUSTOM_AUTH_START=E$e;var A$e=254;qt.SOCKS5_CUSTOM_AUTH_END=A$e;var S$e=255;qt.SOCKS5_NO_ACCEPTABLE_AUTH=S$e;var _D;(function(t){t[t.Granted=0]="Granted",t[t.Failure=1]="Failure",t[t.NotAllowed=2]="NotAllowed",t[t.NetworkUnreachable=3]="NetworkUnreachable",t[t.HostUnreachable=4]="HostUnreachable",t[t.ConnectionRefused=5]="ConnectionRefused",t[t.TTLExpired=6]="TTLExpired",t[t.CommandNotSupported=7]="CommandNotSupported",t[t.AddressNotSupported=8]="AddressNotSupported"})(_D||(_D={}));qt.Socks5Response=_D;var ED;(function(t){t[t.IPv4=1]="IPv4",t[t.Hostname=3]="Hostname",t[t.IPv6=4]="IPv6"})(ED||(ED={}));qt.Socks5HostType=ED;var AD;(function(t){t[t.Created=0]="Created",t[t.Connecting=1]="Connecting",t[t.Connected=2]="Connected",t[t.SentInitialHandshake=3]="SentInitialHandshake",t[t.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",t[t.SentAuthentication=5]="SentAuthentication",t[t.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",t[t.SentFinalHandshake=7]="SentFinalHandshake",t[t.ReceivedFinalResponse=8]="ReceivedFinalResponse",t[t.BoundWaitingForConnection=9]="BoundWaitingForConnection",t[t.Established=10]="Established",t[t.Disconnected=11]="Disconnected",t[t.Error=99]="Error"})(AD||(AD={}));qt.SocksClientState=AD});var OD=h(H1=>{"use strict";Object.defineProperty(H1,"__esModule",{value:!0});H1.shuffleArray=H1.SocksClientError=void 0;var wD=class extends Error{constructor(e,r){super(e),this.options=r}};H1.SocksClientError=wD;function w$e(t){for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}}H1.shuffleArray=w$e});var NX=h(G1=>{"use strict";Object.defineProperty(G1,"__esModule",{value:!0});G1.validateSocksClientChainOptions=G1.validateSocksClientOptions=void 0;var Un=OD(),Wr=SD(),O$e=require("stream");function C$e(t,e=["connect","bind","associate"]){if(!Wr.SocksCommand[t.command])throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksCommand,t);if(e.indexOf(t.command)===-1)throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksCommandForOperation,t);if(!TX(t.destination))throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksClientOptionsDestination,t);if(!DX(t.proxy))throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksClientOptionsProxy,t);if(PX(t.proxy,t),t.timeout&&!RX(t.timeout))throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksClientOptionsTimeout,t);if(t.existing_socket&&!(t.existing_socket instanceof O$e.Duplex))throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksClientOptionsExistingSocket,t)}G1.validateSocksClientOptions=C$e;function v$e(t){if(t.command!=="connect")throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksCommandChain,t);if(!TX(t.destination))throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksClientOptionsDestination,t);if(!(t.proxies&&Array.isArray(t.proxies)&&t.proxies.length>=2))throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksClientOptionsProxiesLength,t);if(t.proxies.forEach(e=>{if(!DX(e))throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksClientOptionsProxy,t);PX(e,t)}),t.timeout&&!RX(t.timeout))throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksClientOptionsTimeout,t)}G1.validateSocksClientChainOptions=v$e;function PX(t,e){if(t.custom_auth_method!==void 0){if(t.custom_auth_method<Wr.SOCKS5_CUSTOM_AUTH_START||t.custom_auth_method>Wr.SOCKS5_CUSTOM_AUTH_END)throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksClientOptionsCustomAuthRange,e);if(t.custom_auth_request_handler===void 0||typeof t.custom_auth_request_handler!="function")throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e);if(t.custom_auth_response_size===void 0)throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e);if(t.custom_auth_response_handler===void 0||typeof t.custom_auth_response_handler!="function")throw new Un.SocksClientError(Wr.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e)}}function TX(t){return t&&typeof t.host=="string"&&typeof t.port=="number"&&t.port>=0&&t.port<=65535}function DX(t){return t&&(typeof t.host=="string"||typeof t.ipaddress=="string")&&typeof t.port=="number"&&t.port>=0&&t.port<=65535&&(t.type===4||t.type===5)}function RX(t){return typeof t=="number"&&t>0}});var xX=h(X6=>{"use strict";Object.defineProperty(X6,"__esModule",{value:!0});X6.ReceiveBuffer=void 0;var CD=class{constructor(e=4096){this.buffer=Buffer.allocUnsafe(e),this.offset=0,this.originalSize=e}get length(){return this.offset}append(e){if(!Buffer.isBuffer(e))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+e.length>=this.buffer.length){let r=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+e.length)),r.copy(this.buffer)}return e.copy(this.buffer,this.offset),this.offset+=e.length}peek(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,e)}get(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");let r=Buffer.allocUnsafe(e);return this.buffer.slice(0,e).copy(r),this.buffer.copyWithin(0,e,e+this.offset-e),this.offset-=e,r}};X6.ReceiveBuffer=CD});var MX=h(dc=>{"use strict";var K1=dc&&dc.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(l){try{c(n.next(l))}catch(d){o(d)}}function a(l){try{c(n.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(u,a)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(dc,"__esModule",{value:!0});dc.SocksClientError=dc.SocksClient=void 0;var b$e=require("events"),Y1=require("net"),Ni=SX(),ai=IX(),V=SD(),vD=NX(),I$e=xX(),bD=OD();Object.defineProperty(dc,"SocksClientError",{enumerable:!0,get:function(){return bD.SocksClientError}});var J1=class extends b$e.EventEmitter{constructor(e){super(),this.options=Object.assign({},e),(0,vD.validateSocksClientOptions)(e),this.setState(V.SocksClientState.Created)}static createConnection(e,r){return new Promise((n,i)=>{try{(0,vD.validateSocksClientOptions)(e,["connect"])}catch(o){return typeof r=="function"?(r(o),n(o)):i(o)}let s=new J1(e);s.connect(e.existing_socket),s.once("established",o=>{s.removeAllListeners(),typeof r=="function"&&r(null,o),n(o)}),s.once("error",o=>{s.removeAllListeners(),typeof r=="function"?(r(o),n(o)):i(o)})})}static createConnectionChain(e,r){return new Promise((n,i)=>K1(this,void 0,void 0,function*(){try{(0,vD.validateSocksClientChainOptions)(e)}catch(s){return typeof r=="function"?(r(s),n(s)):i(s)}e.randomizeChain&&(0,bD.shuffleArray)(e.proxies);try{let s;for(let o=0;o<e.proxies.length;o++){let u=e.proxies[o],a=o===e.proxies.length-1?e.destination:{host:e.proxies[o+1].host||e.proxies[o+1].ipaddress,port:e.proxies[o+1].port},c=yield J1.createConnection({command:"connect",proxy:u,destination:a,existing_socket:s});s=s||c.socket}typeof r=="function"?(r(null,{socket:s}),n({socket:s})):n({socket:s})}catch(s){typeof r=="function"?(r(s),n(s)):i(s)}}))}static createUDPFrame(e){let r=new ai.SmartBuffer;return r.writeUInt16BE(0),r.writeUInt8(e.frameNumber||0),Y1.isIPv4(e.remoteHost.host)?(r.writeUInt8(V.Socks5HostType.IPv4),r.writeUInt32BE(Ni.toLong(e.remoteHost.host))):Y1.isIPv6(e.remoteHost.host)?(r.writeUInt8(V.Socks5HostType.IPv6),r.writeBuffer(Ni.toBuffer(e.remoteHost.host))):(r.writeUInt8(V.Socks5HostType.Hostname),r.writeUInt8(Buffer.byteLength(e.remoteHost.host)),r.writeString(e.remoteHost.host)),r.writeUInt16BE(e.remoteHost.port),r.writeBuffer(e.data),r.toBuffer()}static parseUDPFrame(e){let r=ai.SmartBuffer.fromBuffer(e);r.readOffset=2;let n=r.readUInt8(),i=r.readUInt8(),s;i===V.Socks5HostType.IPv4?s=Ni.fromLong(r.readUInt32BE()):i===V.Socks5HostType.IPv6?s=Ni.toString(r.readBuffer(16)):s=r.readString(r.readUInt8());let o=r.readUInt16BE();return{frameNumber:n,remoteHost:{host:s,port:o},data:r.readBuffer()}}setState(e){this.state!==V.SocksClientState.Error&&(this.state=e)}connect(e){this.onDataReceived=n=>this.onDataReceivedHandler(n),this.onClose=()=>this.onCloseHandler(),this.onError=n=>this.onErrorHandler(n),this.onConnect=()=>this.onConnectHandler();let r=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||V.DEFAULT_TIMEOUT);r.unref&&typeof r.unref=="function"&&r.unref(),e?this.socket=e:this.socket=new Y1.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(V.SocksClientState.Connecting),this.receiveBuffer=new I$e.ReceiveBuffer,e?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",n=>{setImmediate(()=>{if(this.receiveBuffer.length>0){let i=this.receiveBuffer.get(this.receiveBuffer.length);n.socket.emit("data",i)}n.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==V.SocksClientState.Established&&this.state!==V.SocksClientState.BoundWaitingForConnection&&this.closeSocket(V.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(V.SocksClientState.Connected),this.options.proxy.type===4?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(V.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(e){this.receiveBuffer.append(e),this.processData()}processData(){for(;this.state!==V.SocksClientState.Established&&this.state!==V.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===V.SocksClientState.SentInitialHandshake)this.options.proxy.type===4?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===V.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===V.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===V.SocksClientState.BoundWaitingForConnection)this.options.proxy.type===4?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(V.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(V.ERRORS.SocketClosed)}onErrorHandler(e){this.closeSocket(e.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(e){this.state!==V.SocksClientState.Error&&(this.setState(V.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new bD.SocksClientError(e,this.options)))}sendSocks4InitialHandshake(){let e=this.options.proxy.userId||"",r=new ai.SmartBuffer;r.writeUInt8(4),r.writeUInt8(V.SocksCommand[this.options.command]),r.writeUInt16BE(this.options.destination.port),Y1.isIPv4(this.options.destination.host)?(r.writeBuffer(Ni.toBuffer(this.options.destination.host)),r.writeStringNT(e)):(r.writeUInt8(0),r.writeUInt8(0),r.writeUInt8(0),r.writeUInt8(1),r.writeStringNT(e),r.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=V.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(r.toBuffer())}handleSocks4FinalHandshakeResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==V.Socks4Response.Granted)this.closeSocket(`${V.ERRORS.Socks4ProxyRejectedConnection} - (${V.Socks4Response[e[1]]})`);else if(V.SocksCommand[this.options.command]===V.SocksCommand.bind){let r=ai.SmartBuffer.fromBuffer(e);r.readOffset=2;let n={port:r.readUInt16BE(),host:Ni.fromLong(r.readUInt32BE())};n.host==="0.0.0.0"&&(n.host=this.options.proxy.ipaddress),this.setState(V.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:n,socket:this.socket})}else this.setState(V.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==V.Socks4Response.Granted)this.closeSocket(`${V.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${V.Socks4Response[e[1]]})`);else{let r=ai.SmartBuffer.fromBuffer(e);r.readOffset=2;let n={port:r.readUInt16BE(),host:Ni.fromLong(r.readUInt32BE())};this.setState(V.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})}}sendSocks5InitialHandshake(){let e=new ai.SmartBuffer,r=[V.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&r.push(V.Socks5Auth.UserPass),this.options.proxy.custom_auth_method!==void 0&&r.push(this.options.proxy.custom_auth_method),e.writeUInt8(5),e.writeUInt8(r.length);for(let n of r)e.writeUInt8(n);this.nextRequiredPacketBufferSize=V.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(e.toBuffer()),this.setState(V.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){let e=this.receiveBuffer.get(2);e[0]!==5?this.closeSocket(V.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):e[1]===V.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(V.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):e[1]===V.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=V.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):e[1]===V.Socks5Auth.UserPass?(this.socks5ChosenAuthType=V.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):e[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(V.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){let e=this.options.proxy.userId||"",r=this.options.proxy.password||"",n=new ai.SmartBuffer;n.writeUInt8(1),n.writeUInt8(Buffer.byteLength(e)),n.writeString(e),n.writeUInt8(Buffer.byteLength(r)),n.writeString(r),this.nextRequiredPacketBufferSize=V.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(n.toBuffer()),this.setState(V.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return K1(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(V.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(e){return K1(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(e)})}handleSocks5AuthenticationNoAuthHandshakeResponse(e){return K1(this,void 0,void 0,function*(){return e[1]===0})}handleSocks5AuthenticationUserPassHandshakeResponse(e){return K1(this,void 0,void 0,function*(){return e[1]===0})}handleInitialSocks5AuthenticationHandshakeResponse(){return K1(this,void 0,void 0,function*(){this.setState(V.SocksClientState.ReceivedAuthenticationResponse);let e=!1;this.socks5ChosenAuthType===V.Socks5Auth.NoAuth?e=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===V.Socks5Auth.UserPass?e=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(e=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),e?this.sendSocks5CommandRequest():this.closeSocket(V.ERRORS.Socks5AuthenticationFailed)})}sendSocks5CommandRequest(){let e=new ai.SmartBuffer;e.writeUInt8(5),e.writeUInt8(V.SocksCommand[this.options.command]),e.writeUInt8(0),Y1.isIPv4(this.options.destination.host)?(e.writeUInt8(V.Socks5HostType.IPv4),e.writeBuffer(Ni.toBuffer(this.options.destination.host))):Y1.isIPv6(this.options.destination.host)?(e.writeUInt8(V.Socks5HostType.IPv6),e.writeBuffer(Ni.toBuffer(this.options.destination.host))):(e.writeUInt8(V.Socks5HostType.Hostname),e.writeUInt8(this.options.destination.host.length),e.writeString(this.options.destination.host)),e.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=V.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(e.toBuffer()),this.setState(V.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){let e=this.receiveBuffer.peek(5);if(e[0]!==5||e[1]!==V.Socks5Response.Granted)this.closeSocket(`${V.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${V.Socks5Response[e[1]]}`);else{let r=e[3],n,i;if(r===V.Socks5HostType.IPv4){let s=V.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}i=ai.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),n={host:Ni.fromLong(i.readUInt32BE()),port:i.readUInt16BE()},n.host==="0.0.0.0"&&(n.host=this.options.proxy.ipaddress)}else if(r===V.Socks5HostType.Hostname){let s=e[4],o=V.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(s);if(this.receiveBuffer.length<o){this.nextRequiredPacketBufferSize=o;return}i=ai.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),n={host:i.readString(s),port:i.readUInt16BE()}}else if(r===V.Socks5HostType.IPv6){let s=V.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}i=ai.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),n={host:Ni.toString(i.readBuffer(16)),port:i.readUInt16BE()}}this.setState(V.SocksClientState.ReceivedFinalResponse),V.SocksCommand[this.options.command]===V.SocksCommand.connect?(this.setState(V.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})):V.SocksCommand[this.options.command]===V.SocksCommand.bind?(this.setState(V.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=V.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:n,socket:this.socket})):V.SocksCommand[this.options.command]===V.SocksCommand.associate&&(this.setState(V.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){let e=this.receiveBuffer.peek(5);if(e[0]!==5||e[1]!==V.Socks5Response.Granted)this.closeSocket(`${V.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${V.Socks5Response[e[1]]}`);else{let r=e[3],n,i;if(r===V.Socks5HostType.IPv4){let s=V.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}i=ai.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),n={host:Ni.fromLong(i.readUInt32BE()),port:i.readUInt16BE()},n.host==="0.0.0.0"&&(n.host=this.options.proxy.ipaddress)}else if(r===V.Socks5HostType.Hostname){let s=e[4],o=V.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(s);if(this.receiveBuffer.length<o){this.nextRequiredPacketBufferSize=o;return}i=ai.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),n={host:i.readString(s),port:i.readUInt16BE()}}else if(r===V.Socks5HostType.IPv6){let s=V.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}i=ai.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),n={host:Ni.toString(i.readBuffer(16)),port:i.readUInt16BE()}}this.setState(V.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}};dc.SocksClient=J1});var FX=h(xl=>{"use strict";var P$e=xl&&xl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),T$e=xl&&xl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&P$e(e,t,r)};Object.defineProperty(xl,"__esModule",{value:!0});T$e(MX(),xl)});var $X=h(Z6=>{"use strict";Object.defineProperty(Z6,"__esModule",{value:!0});Z6.MongoCR=void 0;var BX=require("crypto"),D$e=re(),qX=ye(),R$e=rc(),ID=class extends R$e.AuthProvider{auth(e,r){let{connection:n,credentials:i}=e;if(!i)return r(new D$e.MongoMissingCredentialsError("AuthContext must provide credentials."));let s=i.username,o=i.password,u=i.source;n.command((0,qX.ns)(`${u}.$cmd`),{getnonce:1},void 0,(a,c)=>{let l=null,d=null;if(a==null){l=c.nonce;let p=BX.createHash("md5");p.update(`${s}:mongo:${o}`,"utf8");let m=p.digest("hex");p=BX.createHash("md5"),p.update(l+s+m,"utf8"),d=p.digest("hex")}let f={authenticate:1,user:s,nonce:l,key:d};n.command((0,qX.ns)(`${u}.$cmd`),f,void 0,r)})}};Z6.MongoCR=ID});var jX=h(rC=>{"use strict";Object.defineProperty(rC,"__esModule",{value:!0});rC.MongoDBAWS=void 0;var N$e=require("crypto"),x$e=require("http"),M$e=require("url"),PD=Lt(),tC=j1(),Wu=re(),TD=ye(),F$e=rc(),B$e=RT(),q$e=Tl(),$$e=110,k$e="http://169.254.170.2",DD="http://169.254.169.254",kX="/latest/meta-data/iam/security-credentials",RD={promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},ND=class extends F$e.AuthProvider{auth(e,r){let{connection:n,credentials:i}=e;if(!i)return r(new Wu.MongoMissingCredentialsError("AuthContext must provide credentials."));if("kModuleError"in tC.aws4)return r(tC.aws4.kModuleError);let{sign:s}=tC.aws4;if((0,TD.maxWireVersion)(n)<9){r(new Wu.MongoCompatibilityError("MONGODB-AWS authentication requires MongoDB version 4.4 or later"));return}if(!i.username){j$e(i,(d,f)=>{if(d||!f)return r(d);e.credentials=f,this.auth(e,r)});return}let o=i.username,u=i.password,a=i.mechanismProperties.AWS_SESSION_TOKEN,c=o&&u&&a?{accessKeyId:o,secretAccessKey:u,sessionToken:a}:o&&u?{accessKeyId:o,secretAccessKey:u}:void 0,l=i.source;N$e.randomBytes(32,(d,f)=>{if(d){r(d);return}let p={saslStart:1,mechanism:"MONGODB-AWS",payload:PD.serialize({r:f,p:$$e},RD)};n.command((0,TD.ns)(`${l}.$cmd`),p,void 0,(m,y)=>{if(m)return r(m);let _=PD.deserialize(y.payload.buffer,RD),g=_.h,E=_.s.buffer;if(E.length!==64){r(new Wu.MongoRuntimeError(`Invalid server nonce length ${E.length}, expected 64`));return}if(E.compare(f,0,f.length,0,f.length)!==0){r(new Wu.MongoRuntimeError("Server nonce does not begin with client nonce"));return}if(g.length<1||g.length>255||g.indexOf("..")!==-1){r(new Wu.MongoRuntimeError(`Server returned an invalid host: "${g}"`));return}let O="Action=GetCallerIdentity&Version=2011-06-15",w=s({method:"POST",host:g,region:L$e(_.h),service:"sts",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":O.length,"X-MongoDB-Server-Nonce":E.toString("base64"),"X-MongoDB-GS2-CB-Flag":"n"},path:"/",body:O},c),b={a:w.headers.Authorization,d:w.headers["X-Amz-Date"]};a&&(b.t=a);let M={saslContinue:1,conversationId:1,payload:PD.serialize(b,RD)};n.command((0,TD.ns)(`${l}.$cmd`),M,void 0,r)})})}};rC.MongoDBAWS=ND;function j$e(t,e){function r(i){if(!i.AccessKeyId||!i.SecretAccessKey||!i.Token){e(new Wu.MongoMissingCredentialsError("Could not obtain temporary MONGODB-AWS credentials"));return}e(void 0,new B$e.MongoCredentials({username:i.AccessKeyId,password:i.SecretAccessKey,source:t.source,mechanism:q$e.AuthMechanism.MONGODB_AWS,mechanismProperties:{AWS_SESSION_TOKEN:i.Token}}))}let n=(0,tC.getAwsCredentialProvider)();if("kModuleError"in n){if(process.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI){eC(`${k$e}${process.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI}`,void 0,(i,s)=>{if(i)return e(i);r(s)});return}eC(`${DD}/latest/api/token`,{method:"PUT",json:!1,headers:{"X-aws-ec2-metadata-token-ttl-seconds":30}},(i,s)=>{if(i)return e(i);eC(`${DD}/${kX}`,{json:!1,headers:{"X-aws-ec2-metadata-token":s}},(o,u)=>{if(o)return e(o);eC(`${DD}/${kX}/${u}`,{headers:{"X-aws-ec2-metadata-token":s}},(a,c)=>{if(a)return e(a);r(c)})})})}else{let{fromNodeProviderChain:i}=n;i()().then(o=>{r({AccessKeyId:o.accessKeyId,SecretAccessKey:o.secretAccessKey,Token:o.sessionToken,Expiration:o.expiration})}).catch(o=>{e(new Wu.MongoAWSError(o.message))})}}function L$e(t){let e=t.split(".");return e.length===1||e[1]==="amazonaws"?"us-east-1":e[1]}function eC(t,e,r){let n=Object.assign({method:"GET",timeout:1e4,json:!0},M$e.parse(t),e),i=x$e.request(n,s=>{s.setEncoding("utf8");let o="";s.on("data",u=>o+=u),s.on("end",()=>{if(n.json===!1){r(void 0,o);return}try{let u=JSON.parse(o);r(void 0,u)}catch{r(new Wu.MongoRuntimeError(`Invalid JSON response: "${o}"`))}})});i.on("timeout",()=>{i.destroy(new Wu.MongoAWSError(`AWS request to ${t} timed out after ${n.timeout} ms`))}),i.on("error",s=>r(s)),i.end()}});var LX=h(nC=>{"use strict";Object.defineProperty(nC,"__esModule",{value:!0});nC.Plain=void 0;var U$e=Lt(),z$e=re(),V$e=ye(),W$e=rc(),xD=class extends W$e.AuthProvider{auth(e,r){let{connection:n,credentials:i}=e;if(!i)return r(new z$e.MongoMissingCredentialsError("AuthContext must provide credentials."));let s=i.username,o=i.password,a={saslStart:1,mechanism:"PLAIN",payload:new U$e.Binary(Buffer.from(`\0${s}\0${o}`)),autoAuthorize:1};n.command((0,V$e.ns)("$external.$cmd"),a,void 0,r)}};nC.Plain=xD});var YX=h(Q1=>{"use strict";Object.defineProperty(Q1,"__esModule",{value:!0});Q1.ScramSHA256=Q1.ScramSHA1=void 0;var fc=require("crypto"),MD=Lt(),FD=j1(),_s=re(),oC=ye(),H$e=rc(),UX=Tl(),uC=class extends H$e.AuthProvider{constructor(e){super(),this.cryptoMethod=e||"sha1"}prepare(e,r,n){let i=this.cryptoMethod,s=r.credentials;if(!s)return n(new _s.MongoMissingCredentialsError("AuthContext must provide credentials."));i==="sha256"&&FD.saslprep==null&&(0,oC.emitWarning)("Warning: no saslprep library specified. Passwords will not be sanitized"),fc.randomBytes(24,(o,u)=>{if(o)return n(o);Object.assign(r,{nonce:u});let a=Object.assign({},e,{speculativeAuthenticate:Object.assign(HX(i,s,u),{db:s.source})});n(void 0,a)})}auth(e,r){let n=e.response;if(n&&n.speculativeAuthenticate){GX(this.cryptoMethod,n.speculativeAuthenticate,e,r);return}G$e(this.cryptoMethod,e,r)}};function VX(t){return t.replace("=","=3D").replace(",","=2C")}function WX(t,e){return Buffer.concat([Buffer.from("n=","utf8"),Buffer.from(t,"utf8"),Buffer.from(",r=","utf8"),Buffer.from(e.toString("base64"),"utf8")])}function HX(t,e,r){let n=VX(e.username);return{saslStart:1,mechanism:t==="sha1"?UX.AuthMechanism.MONGODB_SCRAM_SHA1:UX.AuthMechanism.MONGODB_SCRAM_SHA256,payload:new MD.Binary(Buffer.concat([Buffer.from("n,,","utf8"),WX(n,r)])),autoAuthorize:1,options:{skipEmptyExchange:!0}}}function G$e(t,e,r){let{connection:n,credentials:i}=e;if(!i)return r(new _s.MongoMissingCredentialsError("AuthContext must provide credentials."));if(!e.nonce)return r(new _s.MongoInvalidArgumentError("AuthContext must contain a valid nonce property"));let s=e.nonce,o=i.source,u=HX(t,i,s);n.command((0,oC.ns)(`${o}.$cmd`),u,void 0,(a,c)=>{let l=KX(a,c);if(l)return r(l);GX(t,c,e,r)})}function GX(t,e,r,n){let i=r.connection,s=r.credentials;if(!s)return n(new _s.MongoMissingCredentialsError("AuthContext must provide credentials."));if(!r.nonce)return n(new _s.MongoInvalidArgumentError("Unable to continue SCRAM without valid nonce"));let o=r.nonce,u=s.source,a=VX(s.username),c=s.password,l;if(t==="sha256")l="kModuleError"in FD.saslprep?c:(0,FD.saslprep)(c);else try{l=K$e(a,c)}catch(k){return n(k)}let d=Buffer.isBuffer(e.payload)?new MD.Binary(e.payload):e.payload,f=zX(d.value()),p=parseInt(f.i,10);if(p&&p<4096){n(new _s.MongoRuntimeError(`Server returned an invalid iteration count ${p}`),!1);return}let m=f.s,y=f.r;if(y.startsWith("nonce")){n(new _s.MongoRuntimeError(`Server returned an invalid nonce: ${y}`),!1);return}let _=`c=biws,r=${y}`,g=Z$e(l,Buffer.from(m,"base64"),p,t),E=iC(t,g,"Client Key"),O=iC(t,g,"Server Key"),w=J$e(t,E),b=[WX(a,o),d.value(),_].join(","),M=iC(t,w,b),T=`p=${Y$e(E,M)}`,G=[_,T].join(","),ee=iC(t,O,b),J={saslContinue:1,conversationId:e.conversationId,payload:new MD.Binary(Buffer.from(G))};i.command((0,oC.ns)(`${u}.$cmd`),J,void 0,(k,q)=>{let U=KX(k,q);if(U)return n(U);let ue=zX(q.payload.value());if(!eke(Buffer.from(ue.v,"base64"),ee)){n(new _s.MongoRuntimeError("Server returned an invalid signature"));return}if(!q||q.done!==!1)return n(U,q);let xt={saslContinue:1,conversationId:q.conversationId,payload:Buffer.alloc(0)};i.command((0,oC.ns)(`${u}.$cmd`),xt,void 0,n)})}function zX(t){let e={},r=t.split(",");for(let n=0;n<r.length;n++){let i=r[n].split("=");e[i[0]]=i[1]}return e}function K$e(t,e){if(typeof t!="string")throw new _s.MongoInvalidArgumentError("Username must be a string");if(typeof e!="string")throw new _s.MongoInvalidArgumentError("Password must be a string");if(e.length===0)throw new _s.MongoInvalidArgumentError("Password cannot be empty");let r;try{r=fc.createHash("md5")}catch(n){throw fc.getFips()?new Error("Auth mechanism SCRAM-SHA-1 is not supported in FIPS mode"):n}return r.update(`${t}:mongo:${e}`,"utf8"),r.digest("hex")}function Y$e(t,e){Buffer.isBuffer(t)||(t=Buffer.from(t)),Buffer.isBuffer(e)||(e=Buffer.from(e));let r=Math.max(t.length,e.length),n=[];for(let i=0;i<r;i+=1)n.push(t[i]^e[i]);return Buffer.from(n).toString("base64")}function J$e(t,e){return fc.createHash(t).update(e).digest()}function iC(t,e,r){return fc.createHmac(t,e).update(r).digest()}var sC={},BD=0;function Q$e(){sC={},BD=0}var X$e={sha256:32,sha1:20};function Z$e(t,e,r,n){let i=[t,e.toString("base64"),r].join("_");if(sC[i]!=null)return sC[i];let s=fc.pbkdf2Sync(t,e,r,X$e[n],n);return BD>=200&&Q$e(),sC[i]=s,BD+=1,s}function eke(t,e){if(t.length!==e.length)return!1;if(typeof fc.timingSafeEqual=="function")return fc.timingSafeEqual(t,e);let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function KX(t,e){if(t)return t;if(e&&(e.$err||e.errmsg))return new _s.MongoServerError(e)}var qD=class extends uC{constructor(){super("sha1")}};Q1.ScramSHA1=qD;var $D=class extends uC{constructor(){super("sha256")}};Q1.ScramSHA256=$D});var XX=h(aC=>{"use strict";Object.defineProperty(aC,"__esModule",{value:!0});aC.X509=void 0;var JX=re(),tke=ye(),rke=rc(),kD=class extends rke.AuthProvider{prepare(e,r,n){let{credentials:i}=r;if(!i)return n(new JX.MongoMissingCredentialsError("AuthContext must provide credentials."));Object.assign(e,{speculativeAuthenticate:QX(i)}),n(void 0,e)}auth(e,r){let n=e.connection,i=e.credentials;if(!i)return r(new JX.MongoMissingCredentialsError("AuthContext must provide credentials."));let s=e.response;if(s&&s.speculativeAuthenticate)return r();n.command((0,tke.ns)("$external.$cmd"),QX(i),void 0,r)}};aC.X509=kD;function QX(t){let e={authenticate:1,mechanism:"MONGODB-X509"};return t.username&&(e.user=t.username),e}});var VD=h(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.LEGAL_TCP_SOCKET_OPTIONS=Es.LEGAL_TLS_SOCKET_OPTIONS=Es.prepareHandshakeDocument=Es.connect=void 0;var rZ=require("net"),nke=FX(),ike=require("tls"),ZX=Lt(),nZ=yn(),Rr=re(),UD=ye(),ske=rc(),oke=q6(),uke=$X(),ake=jX(),cke=LX(),Ws=Tl(),eZ=YX(),lke=XX(),tZ=_y(),X1=Pd(),cC=new Map([[Ws.AuthMechanism.MONGODB_AWS,new ake.MongoDBAWS],[Ws.AuthMechanism.MONGODB_CR,new uke.MongoCR],[Ws.AuthMechanism.MONGODB_GSSAPI,new oke.GSSAPI],[Ws.AuthMechanism.MONGODB_PLAIN,new cke.Plain],[Ws.AuthMechanism.MONGODB_SCRAM_SHA1,new eZ.ScramSHA1],[Ws.AuthMechanism.MONGODB_SCRAM_SHA256,new eZ.ScramSHA256],[Ws.AuthMechanism.MONGODB_X509,new lke.X509]]);function dke(t,e){LD({...t,existingSocket:void 0},(r,n)=>{var i;if(r||!n)return e(r);let s=(i=t.connectionType)!==null&&i!==void 0?i:tZ.Connection;t.autoEncrypter&&(s=tZ.CryptoConnection),hke(new s(n,t),t,e)})}Es.connect=dke;function fke(t,e){var r;let n=t&&(typeof t.maxWireVersion=="number"||t.maxWireVersion instanceof ZX.Int32)&&t.maxWireVersion>=X1.MIN_SUPPORTED_WIRE_VERSION,i=t&&(typeof t.minWireVersion=="number"||t.minWireVersion instanceof ZX.Int32)&&t.minWireVersion<=X1.MAX_SUPPORTED_WIRE_VERSION;if(n){if(i)return null;let o=`Server at ${e.hostAddress} reports minimum wire version ${JSON.stringify(t.minWireVersion)}, but this version of the Node.js Driver requires at most ${X1.MAX_SUPPORTED_WIRE_VERSION} (MongoDB ${X1.MAX_SUPPORTED_SERVER_VERSION})`;return new Rr.MongoCompatibilityError(o)}let s=`Server at ${e.hostAddress} reports maximum wire version ${(r=JSON.stringify(t.maxWireVersion))!==null&&r!==void 0?r:0}, but this version of the Node.js Driver requires at least ${X1.MIN_SUPPORTED_WIRE_VERSION} (MongoDB ${X1.MIN_SUPPORTED_SERVER_VERSION})`;return new Rr.MongoCompatibilityError(s)}function hke(t,e,r){let n=function(o,u){o&&t&&t.destroy({force:!1}),r(o,u)},i=e.credentials;if(i&&i.mechanism!==Ws.AuthMechanism.MONGODB_DEFAULT&&!cC.get(i.mechanism)){n(new Rr.MongoInvalidArgumentError(`AuthMechanism '${i.mechanism}' not supported`));return}let s=new ske.AuthContext(t,i,e);iZ(s,(o,u)=>{if(o||!u)return n(o);let a=Object.assign({},e);typeof e.connectTimeoutMS=="number"&&(a.socketTimeoutMS=e.connectTimeoutMS);let c=new Date().getTime();t.command((0,UD.ns)("admin.$cmd"),u,a,(l,d)=>{if(l){n(l);return}if(d?.ok===0){n(new Rr.MongoServerError(d));return}"isWritablePrimary"in d||(d.isWritablePrimary=d[nZ.LEGACY_HELLO_COMMAND]),d.helloOk&&(t.helloOk=!0);let f=fke(d,e);if(f){n(f);return}if(e.loadBalanced&&!d.serviceId)return n(new Rr.MongoCompatibilityError("Driver attempted to initialize in load balancing mode, but the server does not support this mode."));if(t.hello=d,t.lastHelloMS=new Date().getTime()-c,!d.arbiterOnly&&i){s.response=d;let p=i.resolveAuthMechanism(d),m=cC.get(p.mechanism);if(!m)return n(new Rr.MongoInvalidArgumentError(`No AuthProvider for ${p.mechanism} defined.`));m.auth(s,y=>{if(y)return y instanceof Rr.MongoError&&(y.addErrorLabel(Rr.MongoErrorLabel.HandshakeError),(0,Rr.needsRetryableWriteLabel)(y,d.maxWireVersion)&&y.addErrorLabel(Rr.MongoErrorLabel.RetryableWriteError)),n(y);n(void 0,t)});return}n(void 0,t)})})}function iZ(t,e){let r=t.options,n=r.compressors?r.compressors:[],{serverApi:i}=t.connection,s={[i?.version?"hello":nZ.LEGACY_HELLO_COMMAND]:!0,helloOk:!0,client:r.metadata||(0,UD.makeClientMetadata)(r),compression:n};r.loadBalanced===!0&&(s.loadBalanced=!0);let o=t.credentials;if(o){if(o.mechanism===Ws.AuthMechanism.MONGODB_DEFAULT&&o.username){s.saslSupportedMechs=`${o.source}.${o.username}`;let a=cC.get(Ws.AuthMechanism.MONGODB_SCRAM_SHA256);return a?a.prepare(s,t,e):e(new Rr.MongoInvalidArgumentError(`No AuthProvider for ${Ws.AuthMechanism.MONGODB_SCRAM_SHA256} defined.`))}let u=cC.get(o.mechanism);return u?u.prepare(s,t,e):e(new Rr.MongoInvalidArgumentError(`No AuthProvider for ${o.mechanism} defined.`))}e(void 0,s)}Es.prepareHandshakeDocument=iZ;Es.LEGAL_TLS_SOCKET_OPTIONS=["ALPNProtocols","ca","cert","checkServerIdentity","ciphers","crl","ecdhCurve","key","minDHSize","passphrase","pfx","rejectUnauthorized","secureContext","secureProtocol","servername","session"];Es.LEGAL_TCP_SOCKET_OPTIONS=["family","hints","localAddress","localPort","lookup"];function zD(t){let e=t.hostAddress;if(!e)throw new Rr.MongoInvalidArgumentError('Option "hostAddress" is required');let r={};for(let n of Es.LEGAL_TCP_SOCKET_OPTIONS)t[n]!=null&&(r[n]=t[n]);if(typeof e.socketPath=="string")return r.path=e.socketPath,r;if(typeof e.host=="string")return r.host=e.host,r.port=e.port,r;throw new Rr.MongoRuntimeError(`Unexpected HostAddress ${JSON.stringify(e)}`)}function pke(t){let e=zD(t);for(let r of Es.LEGAL_TLS_SOCKET_OPTIONS)t[r]!=null&&(e[r]=t[r]);return t.existingSocket&&(e.socket=t.existingSocket),e.servername==null&&e.host&&!rZ.isIP(e.host)&&(e.servername=e.host),e}var mke=["error","close","timeout","parseError"],jD=new Set(mke);function LD(t,e){var r,n,i,s,o,u,a,c,l;let d=(r=t.tls)!==null&&r!==void 0?r:!1,f=(n=t.keepAlive)!==null&&n!==void 0?n:!0,p=(s=(i=t.socketTimeoutMS)!==null&&i!==void 0?i:Reflect.get(t,"socketTimeout"))!==null&&s!==void 0?s:0,m=(o=t.noDelay)!==null&&o!==void 0?o:!0,y=(u=t.connectTimeoutMS)!==null&&u!==void 0?u:3e4,_=(a=t.rejectUnauthorized)!==null&&a!==void 0?a:!0,g=(l=((c=t.keepAliveInitialDelay)!==null&&c!==void 0?c:12e4)>p?Math.round(p/2):t.keepAliveInitialDelay)!==null&&l!==void 0?l:12e4,E=t.existingSocket,O,w=function(ee,J){ee&&O&&O.destroy(),e(ee,J)};if(t.proxyHost!=null)return yke({...t,connectTimeoutMS:y},w);if(d){let ee=ike.connect(pke(t));typeof ee.disableRenegotiation=="function"&&ee.disableRenegotiation(),O=ee}else E?O=E:O=rZ.createConnection(zD(t));O.setKeepAlive(f,g),O.setTimeout(y),O.setNoDelay(m);let b=d?"secureConnect":"connect",M;function T(ee){return J=>{jD.forEach(k=>O.removeAllListeners(k)),M&&t.cancellationToken&&t.cancellationToken.removeListener("cancel",M),O.removeListener(b,G),w(sZ(ee,J))}}function G(){if(jD.forEach(ee=>O.removeAllListeners(ee)),M&&t.cancellationToken&&t.cancellationToken.removeListener("cancel",M),"authorizationError"in O&&O.authorizationError&&_)return w(O.authorizationError);O.setTimeout(p),w(void 0,O)}jD.forEach(ee=>O.once(ee,T(ee))),t.cancellationToken&&(M=T("cancel"),t.cancellationToken.once("cancel",M)),E?process.nextTick(G):O.once(b,G)}function yke(t,e){var r,n;let i=UD.HostAddress.fromHostPort((r=t.proxyHost)!==null&&r!==void 0?r:"",(n=t.proxyPort)!==null&&n!==void 0?n:1080);LD({...t,hostAddress:i,tls:!1,proxyHost:void 0},(s,o)=>{if(s)return e(s);let u=zD(t);if(typeof u.host!="string"||typeof u.port!="number")return e(new Rr.MongoInvalidArgumentError("Can only make Socks5 connections to TCP hosts"));nke.SocksClient.createConnection({existing_socket:o,timeout:t.connectTimeoutMS,command:"connect",destination:{host:u.host,port:u.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:t.proxyUsername||void 0,password:t.proxyPassword||void 0}}).then(({socket:a})=>{LD({...t,existingSocket:a,proxyHost:void 0},e)},a=>e(sZ("error",a)))})}function sZ(t,e){switch(t){case"error":return new Rr.MongoNetworkError(e);case"timeout":return new Rr.MongoNetworkTimeoutError("connection timed out");case"close":return new Rr.MongoNetworkError("connection closed");case"cancel":return new Rr.MongoNetworkError("connection establishment was cancelled");default:return new Rr.MongoNetworkError("unknown network error")}}});var rR=h($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.ConnectionPoolClearedEvent=$t.ConnectionCheckedInEvent=$t.ConnectionCheckedOutEvent=$t.ConnectionCheckOutFailedEvent=$t.ConnectionCheckOutStartedEvent=$t.ConnectionClosedEvent=$t.ConnectionReadyEvent=$t.ConnectionCreatedEvent=$t.ConnectionPoolClosedEvent=$t.ConnectionPoolReadyEvent=$t.ConnectionPoolCreatedEvent=$t.ConnectionPoolMonitoringEvent=void 0;var ci=class{constructor(e){this.time=new Date,this.address=e.address}};$t.ConnectionPoolMonitoringEvent=ci;var WD=class extends ci{constructor(e){super(e),this.options=e.options}};$t.ConnectionPoolCreatedEvent=WD;var HD=class extends ci{constructor(e){super(e)}};$t.ConnectionPoolReadyEvent=HD;var GD=class extends ci{constructor(e){super(e)}};$t.ConnectionPoolClosedEvent=GD;var KD=class extends ci{constructor(e,r){super(e),this.connectionId=r.id}};$t.ConnectionCreatedEvent=KD;var YD=class extends ci{constructor(e,r){super(e),this.connectionId=r.id}};$t.ConnectionReadyEvent=YD;var JD=class extends ci{constructor(e,r,n){super(e),this.connectionId=r.id,this.reason=n||"unknown",this.serviceId=r.serviceId}};$t.ConnectionClosedEvent=JD;var QD=class extends ci{constructor(e){super(e)}};$t.ConnectionCheckOutStartedEvent=QD;var XD=class extends ci{constructor(e,r){super(e),this.reason=r}};$t.ConnectionCheckOutFailedEvent=XD;var ZD=class extends ci{constructor(e,r){super(e),this.connectionId=r.id}};$t.ConnectionCheckedOutEvent=ZD;var eR=class extends ci{constructor(e,r){super(e),this.connectionId=r.id}};$t.ConnectionCheckedInEvent=eR;var tR=class extends ci{constructor(e,r={}){super(e),this.serviceId=r.serviceId,this.interruptInUseConnections=r.interruptInUseConnections}};$t.ConnectionPoolClearedEvent=tR});var oR=h(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.WaitQueueTimeoutError=Wo.PoolClearedOnNetworkError=Wo.PoolClearedError=Wo.PoolClosedError=void 0;var lC=re(),nR=class extends lC.MongoDriverError{constructor(e){super("Attempted to check out a connection from closed connection pool"),this.address=e.address}get name(){return"MongoPoolClosedError"}};Wo.PoolClosedError=nR;var dC=class extends lC.MongoNetworkError{constructor(e,r){var n;let i=r||`Connection pool for ${e.address} was cleared because another operation failed with: "${(n=e.serverError)===null||n===void 0?void 0:n.message}"`;super(i),this.address=e.address,this.addErrorLabel(lC.MongoErrorLabel.RetryableWriteError)}get name(){return"MongoPoolClearedError"}};Wo.PoolClearedError=dC;var iR=class extends dC{constructor(e){super(e,`Connection to ${e.address} interrupted due to server monitor timeout`)}get name(){return"PoolClearedOnNetworkError"}};Wo.PoolClearedOnNetworkError=iR;var sR=class extends lC.MongoDriverError{constructor(e,r){super(e),this.address=r}get name(){return"MongoWaitQueueTimeoutError"}};Wo.WaitQueueTimeoutError=sR});var cZ=h(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.ConnectionPool=sn.PoolState=void 0;var Ho=require("timers"),As=yn(),Z1=re(),gke=Ta(),oZ=ei(),fC=ye(),_ke=VD(),hC=_y(),nn=rR(),ef=oR(),Eke=X9(),uR=Symbol("server"),uZ=Symbol("logger"),Hu=Symbol("connections"),tf=Symbol("pending"),hc=Symbol("checkedOut"),Ml=Symbol("minPoolSizeTimer"),rf=Symbol("generation"),aZ=Symbol("serviceGenerations"),pC=Symbol("connectionCounter"),mC=Symbol("cancellationToken"),Gu=Symbol("waitQueue"),yC=Symbol("cancelled"),gC=Symbol("metrics"),_C=Symbol("processingWaitQueue"),Hs=Symbol("poolState");sn.PoolState=Object.freeze({paused:"paused",ready:"ready",closed:"closed"});var ot=class extends oZ.TypedEventEmitter{constructor(e,r){var n,i,s,o,u,a;if(super(),this.options=Object.freeze({...r,connectionType:hC.Connection,maxPoolSize:(n=r.maxPoolSize)!==null&&n!==void 0?n:100,minPoolSize:(i=r.minPoolSize)!==null&&i!==void 0?i:0,maxConnecting:(s=r.maxConnecting)!==null&&s!==void 0?s:2,maxIdleTimeMS:(o=r.maxIdleTimeMS)!==null&&o!==void 0?o:0,waitQueueTimeoutMS:(u=r.waitQueueTimeoutMS)!==null&&u!==void 0?u:0,minPoolSizeCheckFrequencyMS:(a=r.minPoolSizeCheckFrequencyMS)!==null&&a!==void 0?a:100,autoEncrypter:r.autoEncrypter,metadata:r.metadata}),this.options.minPoolSize>this.options.maxPoolSize)throw new Z1.MongoInvalidArgumentError("Connection pool minimum size must not be greater than maximum pool size");this[Hs]=sn.PoolState.paused,this[uR]=e,this[uZ]=new gke.Logger("ConnectionPool"),this[Hu]=new fC.List,this[tf]=0,this[hc]=new Set,this[Ml]=void 0,this[rf]=0,this[aZ]=new Map,this[pC]=(0,fC.makeCounter)(1),this[mC]=new oZ.CancellationToken,this[mC].setMaxListeners(1/0),this[Gu]=new fC.List,this[gC]=new Eke.ConnectionPoolMetrics,this[_C]=!1,process.nextTick(()=>{this.emit(ot.CONNECTION_POOL_CREATED,new nn.ConnectionPoolCreatedEvent(this))})}get address(){return this.options.hostAddress.toString()}get closed(){return this[Hs]===sn.PoolState.closed}get generation(){return this[rf]}get totalConnectionCount(){return this.availableConnectionCount+this.pendingConnectionCount+this.currentCheckedOutCount}get availableConnectionCount(){return this[Hu].length}get pendingConnectionCount(){return this[tf]}get currentCheckedOutCount(){return this[hc].size}get waitQueueSize(){return this[Gu].length}get loadBalanced(){return this.options.loadBalanced}get serviceGenerations(){return this[aZ]}get serverError(){return this[uR].description.error}get checkedOutConnections(){return this[hc]}waitQueueErrorMetrics(){return this[gC].info(this.options.maxPoolSize)}ready(){this[Hs]===sn.PoolState.paused&&(this[Hs]=sn.PoolState.ready,this.emit(ot.CONNECTION_POOL_READY,new nn.ConnectionPoolReadyEvent(this)),(0,Ho.clearTimeout)(this[Ml]),this.ensureMinPoolSize())}checkOut(e){this.emit(ot.CONNECTION_CHECK_OUT_STARTED,new nn.ConnectionCheckOutStartedEvent(this));let r={callback:e},n=this.options.waitQueueTimeoutMS;n&&(r.timer=(0,Ho.setTimeout)(()=>{r[yC]=!0,r.timer=void 0,this.emit(ot.CONNECTION_CHECK_OUT_FAILED,new nn.ConnectionCheckOutFailedEvent(this,"timeout")),r.callback(new ef.WaitQueueTimeoutError(this.loadBalanced?this.waitQueueErrorMetrics():"Timed out while checking out a connection from connection pool",this.address))},n)),this[Gu].push(r),process.nextTick(()=>this.processWaitQueue())}checkIn(e){if(!this[hc].has(e))return;let r=this.closed,n=this.connectionIsStale(e),i=!!(r||n||e.closed);if(i||(e.markAvailable(),this[Hu].unshift(e)),this[hc].delete(e),this.emit(ot.CONNECTION_CHECKED_IN,new nn.ConnectionCheckedInEvent(this,e)),i){let s=e.closed?"error":r?"poolClosed":"stale";this.destroyConnection(e,s)}process.nextTick(()=>this.processWaitQueue())}clear(e={}){var r;if(this.closed)return;if(this.loadBalanced){let{serviceId:o}=e;if(!o)throw new Z1.MongoRuntimeError("ConnectionPool.clear() called in load balanced mode with no serviceId.");let u=o.toHexString(),a=this.serviceGenerations.get(u);if(a==null)throw new Z1.MongoRuntimeError("Service generations are required in load balancer mode.");this.serviceGenerations.set(u,a+1),this.emit(ot.CONNECTION_POOL_CLEARED,new nn.ConnectionPoolClearedEvent(this,{serviceId:o}));return}let n=(r=e.interruptInUseConnections)!==null&&r!==void 0?r:!1,i=this[rf];this[rf]+=1;let s=this[Hs]===sn.PoolState.paused;this[Hs]=sn.PoolState.paused,this.clearMinPoolSizeTimer(),s||this.emit(ot.CONNECTION_POOL_CLEARED,new nn.ConnectionPoolClearedEvent(this,{interruptInUseConnections:n})),n&&process.nextTick(()=>this.interruptInUseConnections(i)),this.processWaitQueue()}interruptInUseConnections(e){for(let r of this[hc])r.generation<=e&&(this.checkIn(r),r.onError(new ef.PoolClearedOnNetworkError(this)))}close(e,r){let n=e,i=r??e;if(typeof n=="function"&&(n={}),n=Object.assign({force:!1},n),this.closed)return i();this[mC].emit("cancel"),typeof this[pC].return=="function"&&this[pC].return(void 0),this[Hs]=sn.PoolState.closed,this.clearMinPoolSizeTimer(),this.processWaitQueue(),(0,fC.eachAsync)(this[Hu].toArray(),(s,o)=>{this.emit(ot.CONNECTION_CLOSED,new nn.ConnectionClosedEvent(this,s,"poolClosed")),s.destroy({force:!!n.force},o)},s=>{this[Hu].clear(),this.emit(ot.CONNECTION_POOL_CLOSED,new nn.ConnectionPoolClosedEvent(this)),i(s)})}withConnection(e,r,n){if(e){r(void 0,e,(i,s)=>{typeof n=="function"&&(i?n(i):n(void 0,s))});return}this.checkOut((i,s)=>{r(i,s,(o,u)=>{typeof n=="function"&&(o?n(o):n(void 0,u)),s&&this.checkIn(s)})})}clearMinPoolSizeTimer(){let e=this[Ml];e&&(0,Ho.clearTimeout)(e)}destroyConnection(e,r){this.emit(ot.CONNECTION_CLOSED,new nn.ConnectionClosedEvent(this,e,r)),process.nextTick(()=>e.destroy({force:!1}))}connectionIsStale(e){let r=e.serviceId;if(this.loadBalanced&&r){let n=r.toHexString(),i=this.serviceGenerations.get(n);return e.generation!==i}return e.generation!==this[rf]}connectionIsIdle(e){return!!(this.options.maxIdleTimeMS&&e.idleTime>this.options.maxIdleTimeMS)}destroyConnectionIfPerished(e){let r=this.connectionIsStale(e),n=this.connectionIsIdle(e);if(!r&&!n&&!e.closed)return!1;let i=e.closed?"error":r?"stale":"idle";return this.destroyConnection(e,i),!0}createConnection(e){let r={...this.options,id:this[pC].next().value,generation:this[rf],cancellationToken:this[mC]};this[tf]++,this.emit(ot.CONNECTION_CREATED,new nn.ConnectionCreatedEvent(this,{id:r.id})),(0,_ke.connect)(r,(n,i)=>{if(n||!i){this[uZ].debug(`connection attempt failed with error [${JSON.stringify(n)}]`),this[tf]--,this.emit(ot.CONNECTION_CLOSED,new nn.ConnectionClosedEvent(this,{id:r.id,serviceId:void 0},"error")),(n instanceof Z1.MongoNetworkError||n instanceof Z1.MongoServerError)&&(n.connectionGeneration=r.generation),e(n??new Z1.MongoRuntimeError("Connection creation failed without error"));return}if(this[Hs]!==sn.PoolState.ready){this[tf]--,i.destroy({force:!0}),e(this.closed?new ef.PoolClosedError(this):new ef.PoolClearedError(this));return}for(let s of[...As.APM_EVENTS,hC.Connection.CLUSTER_TIME_RECEIVED])i.on(s,o=>this.emit(s,o));if(this.loadBalanced){i.on(hC.Connection.PINNED,o=>this[gC].markPinned(o)),i.on(hC.Connection.UNPINNED,o=>this[gC].markUnpinned(o));let s=i.serviceId;if(s){let o,u=s.toHexString();(o=this.serviceGenerations.get(u))?i.generation=o:(this.serviceGenerations.set(u,0),i.generation=0)}}i.markAvailable(),this.emit(ot.CONNECTION_READY,new nn.ConnectionReadyEvent(this,i)),this[tf]--,e(void 0,i)})}ensureMinPoolSize(){let e=this.options.minPoolSize;this[Hs]!==sn.PoolState.ready||e===0||(this[Hu].prune(r=>this.destroyConnectionIfPerished(r)),this.totalConnectionCount<e&&this.pendingConnectionCount<this.options.maxConnecting?this.createConnection((r,n)=>{r&&this[uR].handleError(r),!r&&n&&(this[Hu].push(n),process.nextTick(()=>this.processWaitQueue())),this[Hs]===sn.PoolState.ready&&((0,Ho.clearTimeout)(this[Ml]),this[Ml]=(0,Ho.setTimeout)(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS))}):((0,Ho.clearTimeout)(this[Ml]),this[Ml]=(0,Ho.setTimeout)(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS)))}processWaitQueue(){if(this[_C])return;for(this[_C]=!0;this.waitQueueSize;){let n=this[Gu].first();if(!n){this[Gu].shift();continue}if(n[yC]){this[Gu].shift();continue}if(this[Hs]!==sn.PoolState.ready){let s=this.closed?"poolClosed":"connectionError",o=this.closed?new ef.PoolClosedError(this):new ef.PoolClearedError(this);this.emit(ot.CONNECTION_CHECK_OUT_FAILED,new nn.ConnectionCheckOutFailedEvent(this,s)),n.timer&&(0,Ho.clearTimeout)(n.timer),this[Gu].shift(),n.callback(o);continue}if(!this.availableConnectionCount)break;let i=this[Hu].shift();if(!i)break;this.destroyConnectionIfPerished(i)||(this[hc].add(i),this.emit(ot.CONNECTION_CHECKED_OUT,new nn.ConnectionCheckedOutEvent(this,i)),n.timer&&(0,Ho.clearTimeout)(n.timer),this[Gu].shift(),n.callback(void 0,i))}let{maxPoolSize:e,maxConnecting:r}=this.options;for(;this.waitQueueSize>0&&this.pendingConnectionCount<r&&(e===0||this.totalConnectionCount<e);){let n=this[Gu].shift();!n||n[yC]||this.createConnection((i,s)=>{n[yC]?!i&&s&&this[Hu].push(s):(i?this.emit(ot.CONNECTION_CHECK_OUT_FAILED,new nn.ConnectionCheckOutFailedEvent(this,"connectionError")):s&&(this[hc].add(s),this.emit(ot.CONNECTION_CHECKED_OUT,new nn.ConnectionCheckedOutEvent(this,s))),n.timer&&(0,Ho.clearTimeout)(n.timer),n.callback(i,s)),process.nextTick(()=>this.processWaitQueue())})}this[_C]=!1}};sn.ConnectionPool=ot;ot.CONNECTION_POOL_CREATED=As.CONNECTION_POOL_CREATED;ot.CONNECTION_POOL_CLOSED=As.CONNECTION_POOL_CLOSED;ot.CONNECTION_POOL_CLEARED=As.CONNECTION_POOL_CLEARED;ot.CONNECTION_POOL_READY=As.CONNECTION_POOL_READY;ot.CONNECTION_CREATED=As.CONNECTION_CREATED;ot.CONNECTION_READY=As.CONNECTION_READY;ot.CONNECTION_CLOSED=As.CONNECTION_CLOSED;ot.CONNECTION_CHECK_OUT_STARTED=As.CONNECTION_CHECK_OUT_STARTED;ot.CONNECTION_CHECK_OUT_FAILED=As.CONNECTION_CHECK_OUT_FAILED;ot.CONNECTION_CHECKED_OUT=As.CONNECTION_CHECKED_OUT;ot.CONNECTION_CHECKED_IN=As.CONNECTION_CHECKED_IN});var yZ=h(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.MonitorInterval=mc.RTTPinger=mc.Monitor=void 0;var pc=require("timers"),lZ=Lt(),pZ=VD(),Ake=_y(),aR=yn(),Sy=re(),dZ=ei(),xi=ye(),on=Wi(),wy=U6(),Oy=lR(),EC=Symbol("server"),Go=Symbol("monitorId"),un=Symbol("connection"),ql=Symbol("cancellationToken"),Fl=Symbol("rttPinger"),Cy=Symbol("roundTripTime"),nf="idle",Bl="monitoring",sf=(0,xi.makeStateMachine)({[on.STATE_CLOSING]:[on.STATE_CLOSING,nf,on.STATE_CLOSED],[on.STATE_CLOSED]:[on.STATE_CLOSED,Bl],[nf]:[nf,Bl,on.STATE_CLOSING],[Bl]:[Bl,nf,on.STATE_CLOSING]}),Ske=new Set([on.STATE_CLOSING,on.STATE_CLOSED,Bl]);function vy(t){return t.s.state===on.STATE_CLOSED||t.s.state===on.STATE_CLOSING}var cR=class extends dZ.TypedEventEmitter{constructor(e,r){var n,i,s;super(),this[EC]=e,this[un]=void 0,this[ql]=new dZ.CancellationToken,this[ql].setMaxListeners(1/0),this[Go]=void 0,this.s={state:on.STATE_CLOSED},this.address=e.description.address,this.options=Object.freeze({connectTimeoutMS:(n=r.connectTimeoutMS)!==null&&n!==void 0?n:1e4,heartbeatFrequencyMS:(i=r.heartbeatFrequencyMS)!==null&&i!==void 0?i:1e4,minHeartbeatFrequencyMS:(s=r.minHeartbeatFrequencyMS)!==null&&s!==void 0?s:500});let o=this[ql],u=Object.assign({id:"<monitor>",generation:e.s.pool.generation,connectionType:Ake.Connection,cancellationToken:o,hostAddress:e.description.hostAddress},r,{raw:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!0});delete u.credentials,u.autoEncrypter&&delete u.autoEncrypter,this.connectOptions=Object.freeze(u)}get connection(){return this[un]}connect(){if(this.s.state!==on.STATE_CLOSED)return;let e=this.options.heartbeatFrequencyMS,r=this.options.minHeartbeatFrequencyMS;this[Go]=new by(hZ(this),{heartbeatFrequencyMS:e,minHeartbeatFrequencyMS:r,immediate:!0})}requestCheck(){var e;Ske.has(this.s.state)||(e=this[Go])===null||e===void 0||e.wake()}reset(){let e=this[EC].description.topologyVersion;if(vy(this)||e==null)return;sf(this,on.STATE_CLOSING),fZ(this),sf(this,nf);let r=this.options.heartbeatFrequencyMS,n=this.options.minHeartbeatFrequencyMS;this[Go]=new by(hZ(this),{heartbeatFrequencyMS:r,minHeartbeatFrequencyMS:n})}close(){vy(this)||(sf(this,on.STATE_CLOSING),fZ(this),this.emit("close"),sf(this,on.STATE_CLOSED))}};mc.Monitor=cR;function fZ(t){var e,r,n;(e=t[Go])===null||e===void 0||e.stop(),t[Go]=void 0,(r=t[Fl])===null||r===void 0||r.close(),t[Fl]=void 0,t[ql].emit("cancel"),(n=t[un])===null||n===void 0||n.destroy({force:!0}),t[un]=void 0}function wke(t,e){let r=(0,xi.now)();t.emit(Oy.Server.SERVER_HEARTBEAT_STARTED,new wy.ServerHeartbeatStartedEvent(t.address));function n(s){var o;(o=t[un])===null||o===void 0||o.destroy({force:!0}),t[un]=void 0,t.emit(Oy.Server.SERVER_HEARTBEAT_FAILED,new wy.ServerHeartbeatFailedEvent(t.address,(0,xi.calculateDurationInMs)(r),s));let u=s instanceof Sy.MongoError?s:new Sy.MongoError(s);u.addErrorLabel(Sy.MongoErrorLabel.ResetPool),u instanceof Sy.MongoNetworkTimeoutError&&u.addErrorLabel(Sy.MongoErrorLabel.InterruptInUseConnections),t.emit("resetServer",u),e(s)}let i=t[un];if(i&&!i.closed){let{serverApi:s,helloOk:o}=i,u=t.options.connectTimeoutMS,a=t.options.heartbeatFrequencyMS,c=t[EC].description.topologyVersion,l=c!=null,d={[s?.version||o?"hello":aR.LEGACY_HELLO_COMMAND]:!0,...l&&c?{maxAwaitTimeMS:a,topologyVersion:Oke(c)}:{}},f=l?{socketTimeoutMS:u?u+a:0,exhaustAllowed:!0}:{socketTimeoutMS:u};l&&t[Fl]==null&&(t[Fl]=new AC(t[ql],Object.assign({heartbeatFrequencyMS:t.options.heartbeatFrequencyMS},t.connectOptions))),i.command((0,xi.ns)("admin.$cmd"),d,f,(p,m)=>{var y;if(p)return n(p);"isWritablePrimary"in m||(m.isWritablePrimary=m[aR.LEGACY_HELLO_COMMAND]);let _=t[Fl],g=l&&_?_.roundTripTime:(0,xi.calculateDurationInMs)(r);t.emit(Oy.Server.SERVER_HEARTBEAT_SUCCEEDED,new wy.ServerHeartbeatSucceededEvent(t.address,g,m)),l&&m.topologyVersion?(t.emit(Oy.Server.SERVER_HEARTBEAT_STARTED,new wy.ServerHeartbeatStartedEvent(t.address)),r=(0,xi.now)()):((y=t[Fl])===null||y===void 0||y.close(),t[Fl]=void 0,e(void 0,m))});return}(0,pZ.connect)(t.connectOptions,(s,o)=>{if(s){t[un]=void 0,n(s);return}if(o){if(o.isMonitoringConnection=!0,vy(t)){o.destroy({force:!0});return}t[un]=o,t.emit(Oy.Server.SERVER_HEARTBEAT_SUCCEEDED,new wy.ServerHeartbeatSucceededEvent(t.address,(0,xi.calculateDurationInMs)(r),o.hello)),e(void 0,o.hello)}})}function hZ(t){return e=>{if(t.s.state===Bl){process.nextTick(e);return}sf(t,Bl);function r(){vy(t)||sf(t,nf),e()}wke(t,(n,i)=>{if(n&&t[EC].description.type===on.ServerType.Unknown)return r();i&&i.topologyVersion&&(0,pc.setTimeout)(()=>{var s;vy(t)||(s=t[Go])===null||s===void 0||s.wake()},0),r()})}}function Oke(t){return{processId:t.processId,counter:lZ.Long.isLong(t.counter)?t.counter:lZ.Long.fromNumber(t.counter)}}var AC=class{constructor(e,r){this[un]=void 0,this[ql]=e,this[Cy]=0,this.closed=!1;let n=r.heartbeatFrequencyMS;this[Go]=(0,pc.setTimeout)(()=>mZ(this,r),n)}get roundTripTime(){return this[Cy]}close(){var e;this.closed=!0,(0,pc.clearTimeout)(this[Go]),(e=this[un])===null||e===void 0||e.destroy({force:!0}),this[un]=void 0}};mc.RTTPinger=AC;function mZ(t,e){let r=(0,xi.now)();e.cancellationToken=t[ql];let n=e.heartbeatFrequencyMS;if(t.closed)return;function i(o){if(t.closed){o?.destroy({force:!0});return}t[un]==null&&(t[un]=o),t[Cy]=(0,xi.calculateDurationInMs)(r),t[Go]=(0,pc.setTimeout)(()=>mZ(t,e),n)}let s=t[un];if(s==null){(0,pZ.connect)(e,(o,u)=>{if(o){t[un]=void 0,t[Cy]=0;return}i(u)});return}s.command((0,xi.ns)("admin.$cmd"),{[aR.LEGACY_HELLO_COMMAND]:1},void 0,o=>{if(o){t[un]=void 0,t[Cy]=0;return}i()})}var by=class{constructor(e,r={}){var n,i;this.isExpeditedCallToFnScheduled=!1,this.stopped=!1,this.isExecutionInProgress=!1,this.hasExecutedOnce=!1,this._executeAndReschedule=()=>{this.stopped||(this.timerId&&(0,pc.clearTimeout)(this.timerId),this.isExpeditedCallToFnScheduled=!1,this.isExecutionInProgress=!0,this.fn(()=>{this.lastExecutionEnded=(0,xi.now)(),this.isExecutionInProgress=!1,this._reschedule(this.heartbeatFrequencyMS)}))},this.fn=e,this.lastExecutionEnded=-1/0,this.heartbeatFrequencyMS=(n=r.heartbeatFrequencyMS)!==null&&n!==void 0?n:1e3,this.minHeartbeatFrequencyMS=(i=r.minHeartbeatFrequencyMS)!==null&&i!==void 0?i:500,r.immediate?this._executeAndReschedule():this._reschedule(void 0)}wake(){let r=(0,xi.now)()-this.lastExecutionEnded;if(r<0)return this._executeAndReschedule();if(!this.isExecutionInProgress&&!this.isExpeditedCallToFnScheduled){if(r<this.minHeartbeatFrequencyMS){this.isExpeditedCallToFnScheduled=!0,this._reschedule(this.minHeartbeatFrequencyMS-r);return}this._executeAndReschedule()}}stop(){this.stopped=!0,this.timerId&&((0,pc.clearTimeout)(this.timerId),this.timerId=void 0),this.lastExecutionEnded=-1/0,this.isExpeditedCallToFnScheduled=!1}toString(){return JSON.stringify(this)}toJSON(){let e=(0,xi.now)(),r=e-this.lastExecutionEnded;return{timerId:this.timerId!=null?"set":"cleared",lastCallTime:this.lastExecutionEnded,isExpeditedCheckScheduled:this.isExpeditedCallToFnScheduled,stopped:this.stopped,heartbeatFrequencyMS:this.heartbeatFrequencyMS,minHeartbeatFrequencyMS:this.minHeartbeatFrequencyMS,currentTime:e,timeSinceLastCall:r}}_reschedule(e){this.stopped||(this.timerId&&(0,pc.clearTimeout)(this.timerId),this.timerId=(0,pc.setTimeout)(this._executeAndReschedule,e||this.heartbeatFrequencyMS))}};mc.MonitorInterval=by});var lR=h(wC=>{"use strict";Object.defineProperty(wC,"__esModule",{value:!0});wC.Server=void 0;var Cke=_y(),vke=cZ(),bke=oR(),Ko=yn(),Jt=re(),Ike=Ta(),Pke=ei(),hR=s8(),SC=ye(),Dt=Wi(),Tke=yZ(),pR=kh(),Iy=(0,SC.makeStateMachine)({[Dt.STATE_CLOSED]:[Dt.STATE_CLOSED,Dt.STATE_CONNECTING],[Dt.STATE_CONNECTING]:[Dt.STATE_CONNECTING,Dt.STATE_CLOSING,Dt.STATE_CONNECTED,Dt.STATE_CLOSED],[Dt.STATE_CONNECTED]:[Dt.STATE_CONNECTED,Dt.STATE_CLOSING,Dt.STATE_CLOSED],[Dt.STATE_CLOSING]:[Dt.STATE_CLOSING,Dt.STATE_CLOSED]}),of=Symbol("monitor"),bn=class extends Pke.TypedEventEmitter{constructor(e,r,n){super(),this.serverApi=n.serverApi;let i={hostAddress:r.hostAddress,...n};this.s={description:r,options:n,logger:new Ike.Logger("Server"),state:Dt.STATE_CLOSED,topology:e,pool:new vke.ConnectionPool(this,i),operationCount:0};for(let o of[...Ko.CMAP_EVENTS,...Ko.APM_EVENTS])this.s.pool.on(o,u=>this.emit(o,u));if(this.s.pool.on(Cke.Connection.CLUSTER_TIME_RECEIVED,o=>{this.clusterTime=o}),this.loadBalanced){this[of]=null;return}let s=new Tke.Monitor(this,this.s.options);this[of]=s;for(let o of Ko.HEARTBEAT_EVENTS)s.on(o,u=>this.emit(o,u));s.on("resetServer",o=>dR(this,o)),s.on(bn.SERVER_HEARTBEAT_SUCCEEDED,o=>{this.emit(bn.DESCRIPTION_RECEIVED,new pR.ServerDescription(this.description.hostAddress,o.reply,{roundTripTime:Dke(this.description.roundTripTime,o.duration)})),this.s.state===Dt.STATE_CONNECTING&&(Iy(this,Dt.STATE_CONNECTED),this.emit(bn.CONNECT,this))})}get clusterTime(){return this.s.topology.clusterTime}set clusterTime(e){this.s.topology.clusterTime=e}get description(){return this.s.description}get name(){return this.s.description.address}get autoEncrypter(){if(this.s.options&&this.s.options.autoEncrypter)return this.s.options.autoEncrypter}get loadBalanced(){return this.s.topology.description.type===Dt.TopologyType.LoadBalanced}connect(){var e;this.s.state===Dt.STATE_CLOSED&&(Iy(this,Dt.STATE_CONNECTING),this.loadBalanced?(Iy(this,Dt.STATE_CONNECTED),this.emit(bn.CONNECT,this)):(e=this[of])===null||e===void 0||e.connect())}destroy(e,r){var n;if(typeof e=="function"&&(r=e,e={force:!1}),e=Object.assign({},{force:!1},e),this.s.state===Dt.STATE_CLOSED){typeof r=="function"&&r();return}Iy(this,Dt.STATE_CLOSING),this.loadBalanced||(n=this[of])===null||n===void 0||n.close(),this.s.pool.close(e,i=>{Iy(this,Dt.STATE_CLOSED),this.emit("closed"),typeof r=="function"&&r(i)})}requestCheck(){var e;this.loadBalanced||(e=this[of])===null||e===void 0||e.requestCheck()}command(e,r,n,i){if(i==null)throw new Jt.MongoInvalidArgumentError("Callback must be provided");if(e.db==null||typeof e=="string")throw new Jt.MongoInvalidArgumentError("Namespace must not be a string");if(this.s.state===Dt.STATE_CLOSING||this.s.state===Dt.STATE_CLOSED){i(new Jt.MongoServerClosedError);return}let s=Object.assign({},n,{wireProtocolCommand:!1});s.omitReadPreference&&delete s.readPreference;let o=s.session,u=o?.pinnedConnection;if(this.loadBalanced&&o&&u==null&&Rke(r,o)){this.s.pool.checkOut((a,c)=>{if(a||c==null)return i?i(a):void 0;o.pin(c),this.command(e,r,s,i)});return}this.s.operationCount+=1,this.s.pool.withConnection(u,(a,c,l)=>{if(a||!c)return this.s.operationCount-=1,a?(a instanceof bke.PoolClearedError||this.handleError(a),l(a)):l(new Jt.MongoRuntimeError("Failed to create connection without error"));c.command(e,r,s,Mke(this,c,r,s,(d,f)=>{this.s.operationCount-=1,l(d,f)}))},i)}handleError(e,r){if(!(e instanceof Jt.MongoError)||e.connectionGeneration&&e.connectionGeneration<this.s.pool.generation)return;let i=e instanceof Jt.MongoNetworkError&&!(e instanceof Jt.MongoNetworkTimeoutError),s=(0,Jt.isNetworkErrorBeforeHandshake)(e),o=e.hasErrorLabel(Jt.MongoErrorLabel.HandshakeError);if(i||s||o)this.loadBalanced?r&&this.s.pool.clear({serviceId:r.serviceId}):(e.addErrorLabel(Jt.MongoErrorLabel.ResetPool),dR(this,e));else if((0,Jt.isSDAMUnrecoverableError)(e)&&xke(this,e)){let u=(0,SC.maxWireVersion)(this)<=7||(0,Jt.isNodeShuttingDownError)(e);this.loadBalanced&&r&&u&&this.s.pool.clear({serviceId:r.serviceId}),this.loadBalanced||(u&&e.addErrorLabel(Jt.MongoErrorLabel.ResetPool),dR(this,e),process.nextTick(()=>this.requestCheck()))}}};wC.Server=bn;bn.SERVER_HEARTBEAT_STARTED=Ko.SERVER_HEARTBEAT_STARTED;bn.SERVER_HEARTBEAT_SUCCEEDED=Ko.SERVER_HEARTBEAT_SUCCEEDED;bn.SERVER_HEARTBEAT_FAILED=Ko.SERVER_HEARTBEAT_FAILED;bn.CONNECT=Ko.CONNECT;bn.DESCRIPTION_RECEIVED=Ko.DESCRIPTION_RECEIVED;bn.CLOSED=Ko.CLOSED;bn.ENDED=Ko.ENDED;function Dke(t,e){if(t===-1)return e;let r=.2;return r*e+(1-r)*t}function dR(t,e){var r;t.loadBalanced||(e instanceof Jt.MongoNetworkError&&!(e instanceof Jt.MongoNetworkTimeoutError)&&((r=t[of])===null||r===void 0||r.reset()),t.emit(bn.DESCRIPTION_RECEIVED,new pR.ServerDescription(t.description.hostAddress,void 0,{error:e})))}function Rke(t,e){return e?e.inTransaction()||"aggregate"in t||"find"in t||"getMore"in t||"listCollections"in t||"listIndexes"in t:!1}function Nke(t,e){return e.serviceId?e.generation!==t.serviceGenerations.get(e.serviceId.toHexString()):e.generation!==t.generation}function xke(t,e){let r=e.topologyVersion,n=t.description.topologyVersion;return(0,pR.compareTopologyVersion)(n,r)<0}function fR(t,e){return t&&t.inTransaction()&&!(0,hR.isTransactionCommand)(e)}function gZ(t){return t.s.options.retryWrites!==!1}function Mke(t,e,r,n,i){let s=n?.session;return function(u,a){return a!=null?i(void 0,a):n?.noResponse===!0?i(void 0,null):u?(!(u instanceof Jt.MongoError)||Nke(t.s.pool,e)||(u instanceof Jt.MongoNetworkError?(s&&!s.hasEnded&&s.serverSession&&(s.serverSession.isDirty=!0),fR(s,r)&&!u.hasErrorLabel(Jt.MongoErrorLabel.TransientTransactionError)&&u.addErrorLabel(Jt.MongoErrorLabel.TransientTransactionError),(gZ(t.s.topology)||(0,hR.isTransactionCommand)(r))&&(0,SC.supportsRetryableWrites)(t)&&!fR(s,r)&&u.addErrorLabel(Jt.MongoErrorLabel.RetryableWriteError)):(gZ(t.s.topology)||(0,hR.isTransactionCommand)(r))&&(0,Jt.needsRetryableWriteLabel)(u,(0,SC.maxWireVersion)(t))&&!fR(s,r)&&u.addErrorLabel(Jt.MongoErrorLabel.RetryableWriteError),s&&s.isPinned&&u.hasErrorLabel(Jt.MongoErrorLabel.TransientTransactionError)&&s.unpin({force:!0}),t.handleError(u,e)),i(u)):i(new Jt.MongoUnexpectedServerResponseError("Empty response with no error"))}}});var yR=h(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.SrvPoller=af.SrvPollingEvent=void 0;var Fke=require("dns"),mR=require("timers"),_Z=re(),Bke=Ta(),qke=ei(),$ke=ye();function kke(t,e){let r=/^.*?\./,n=`.${t.replace(r,"")}`,i=`.${e.replace(r,"")}`;return n.endsWith(i)}var OC=class{constructor(e){this.srvRecords=e}hostnames(){return new Set(this.srvRecords.map(e=>$ke.HostAddress.fromSrvRecord(e).toString()))}};af.SrvPollingEvent=OC;var uf=class extends qke.TypedEventEmitter{constructor(e){var r,n,i;if(super(),!e||!e.srvHost)throw new _Z.MongoRuntimeError("Options for SrvPoller must exist and include srvHost");this.srvHost=e.srvHost,this.srvMaxHosts=(r=e.srvMaxHosts)!==null&&r!==void 0?r:0,this.srvServiceName=(n=e.srvServiceName)!==null&&n!==void 0?n:"mongodb",this.rescanSrvIntervalMS=6e4,this.heartbeatFrequencyMS=(i=e.heartbeatFrequencyMS)!==null&&i!==void 0?i:1e4,this.logger=new Bke.Logger("srvPoller",e),this.haMode=!1,this.generation=0,this._timeout=void 0}get srvAddress(){return`_${this.srvServiceName}._tcp.${this.srvHost}`}get intervalMS(){return this.haMode?this.heartbeatFrequencyMS:this.rescanSrvIntervalMS}start(){this._timeout||this.schedule()}stop(){this._timeout&&((0,mR.clearTimeout)(this._timeout),this.generation+=1,this._timeout=void 0)}schedule(){this._timeout&&(0,mR.clearTimeout)(this._timeout),this._timeout=(0,mR.setTimeout)(()=>{this._poll().catch(e=>{this.logger.error(`Unexpected ${new _Z.MongoRuntimeError(e).stack}`)})},this.intervalMS)}success(e){this.haMode=!1,this.schedule(),this.emit(uf.SRV_RECORD_DISCOVERY,new OC(e))}failure(e,r){this.logger.warn(e,r),this.haMode=!0,this.schedule()}parentDomainMismatch(e){this.logger.warn(`parent domain mismatch on SRV record (${e.name}:${e.port})`,e)}async _poll(){let e=this.generation,r;try{r=await Fke.promises.resolveSrv(this.srvAddress)}catch(i){this.failure("DNS error",i);return}if(e!==this.generation)return;let n=[];for(let i of r)kke(i.name,this.srvHost)?n.push(i):this.parentDomainMismatch(i);if(!n.length){this.failure("No valid addresses found at host");return}this.success(n)}};af.SrvPoller=uf;uf.SRV_RECORD_DISCOVERY="srvRecordDiscovery"});var TZ=h(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.ServerCapabilities=cf.Topology=void 0;var vC=require("timers"),EZ=require("util"),AZ=Lt(),SZ=jT(),li=yn(),Yu=re(),jke=ei(),Py=wr(),Yo=ye(),Ne=Wi(),yc=U6(),wZ=lR(),_R=kh(),gR=Ph(),CC=yR(),OZ=t8(),Lke=0,Ty=(0,Yo.makeStateMachine)({[Ne.STATE_CLOSED]:[Ne.STATE_CLOSED,Ne.STATE_CONNECTING],[Ne.STATE_CONNECTING]:[Ne.STATE_CONNECTING,Ne.STATE_CLOSING,Ne.STATE_CONNECTED,Ne.STATE_CLOSED],[Ne.STATE_CONNECTED]:[Ne.STATE_CONNECTED,Ne.STATE_CLOSING,Ne.STATE_CLOSED],[Ne.STATE_CLOSING]:[Ne.STATE_CLOSING,Ne.STATE_CLOSED]}),ER=Symbol("cancelled"),Ku=Symbol("waitQueue"),lt=class extends jke.TypedEventEmitter{constructor(e,r){var n;super(),this.selectServerAsync=(0,EZ.promisify)((c,l,d)=>this.selectServer(c,l,d)),this.bson=Object.create(null),this.bson.serialize=AZ.serialize,this.bson.deserialize=AZ.deserialize,r=r??{hosts:[Yo.HostAddress.fromString("localhost:27017")],...Object.fromEntries(SZ.DEFAULT_OPTIONS.entries()),...Object.fromEntries(SZ.FEATURE_FLAGS.entries())},typeof e=="string"?e=[Yo.HostAddress.fromString(e)]:Array.isArray(e)||(e=[e]);let i=[];for(let c of e)if(typeof c=="string")i.push(Yo.HostAddress.fromString(c));else if(c instanceof Yo.HostAddress)i.push(c);else throw new Yu.MongoRuntimeError(`Topology cannot be constructed from ${JSON.stringify(c)}`);let s=Uke(r),o=Lke++,u=r.srvMaxHosts==null||r.srvMaxHosts===0||r.srvMaxHosts>=i.length?i:(0,Yo.shuffle)(i,r.srvMaxHosts),a=new Map;for(let c of u)a.set(c.toString(),new _R.ServerDescription(c));this[Ku]=new Yo.List,this.s={id:o,options:r,seedlist:i,state:Ne.STATE_CLOSED,description:new OZ.TopologyDescription(s,a,r.replicaSet,void 0,void 0,void 0,r),serverSelectionTimeoutMS:r.serverSelectionTimeoutMS,heartbeatFrequencyMS:r.heartbeatFrequencyMS,minHeartbeatFrequencyMS:r.minHeartbeatFrequencyMS,servers:new Map,credentials:r?.credentials,clusterTime:void 0,connectionTimers:new Set,detectShardedTopology:c=>this.detectShardedTopology(c),detectSrvRecords:c=>this.detectSrvRecords(c)},r.srvHost&&!r.loadBalanced&&(this.s.srvPoller=(n=r.srvPoller)!==null&&n!==void 0?n:new CC.SrvPoller({heartbeatFrequencyMS:this.s.heartbeatFrequencyMS,srvHost:r.srvHost,srvMaxHosts:r.srvMaxHosts,srvServiceName:r.srvServiceName}),this.on(lt.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology))}detectShardedTopology(e){var r,n,i;let s=e.previousDescription.type,o=e.newDescription.type,u=s!==Ne.TopologyType.Sharded&&o===Ne.TopologyType.Sharded,a=(r=this.s.srvPoller)===null||r===void 0?void 0:r.listeners(CC.SrvPoller.SRV_RECORD_DISCOVERY),c=!!a?.includes(this.s.detectSrvRecords);u&&!c&&((n=this.s.srvPoller)===null||n===void 0||n.on(CC.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords),(i=this.s.srvPoller)===null||i===void 0||i.start())}detectSrvRecords(e){let r=this.s.description;this.s.description=this.s.description.updateFromSrvPollingEvent(e,this.s.options.srvMaxHosts),this.s.description!==r&&(CZ(this),this.emit(lt.TOPOLOGY_DESCRIPTION_CHANGED,new yc.TopologyDescriptionChangedEvent(this.s.id,r,this.s.description)))}get description(){return this.s.description}get loadBalanced(){return this.s.options.loadBalanced}get capabilities(){return new bC(this.lastHello())}connect(e,r){var n;if(typeof e=="function"&&(r=e,e={}),e=e??{},this.s.state===Ne.STATE_CONNECTED){typeof r=="function"&&r();return}Ty(this,Ne.STATE_CONNECTING),this.emit(lt.TOPOLOGY_OPENING,new yc.TopologyOpeningEvent(this.s.id)),this.emit(lt.TOPOLOGY_DESCRIPTION_CHANGED,new yc.TopologyDescriptionChangedEvent(this.s.id,new OZ.TopologyDescription(Ne.TopologyType.Unknown),this.s.description));let i=Array.from(this.s.description.servers.values());if(this.s.servers=new Map(i.map(u=>[u.address,IZ(this,u)])),this.s.options.loadBalanced)for(let u of i){let a=new _R.ServerDescription(u.hostAddress,void 0,{loadBalanced:this.s.options.loadBalanced});this.serverUpdateHandler(a)}let s=u=>r?r(u):this.emit(lt.ERROR,u),o=(n=e.readPreference)!==null&&n!==void 0?n:Py.ReadPreference.primary;this.selectServer((0,gR.readPreferenceServerSelector)(o),e,(u,a)=>{if(u)return this.close({force:!1},()=>s(u));if(!(this.s.options[Symbol.for("@@mdb.skipPingOnConnect")]===!0)&&a&&this.s.credentials){a.command((0,Yo.ns)("admin.$cmd"),{ping:1},{},l=>{if(l)return s(l);Ty(this,Ne.STATE_CONNECTED),this.emit(lt.OPEN,this),this.emit(lt.CONNECT,this),r?.(void 0,this)});return}Ty(this,Ne.STATE_CONNECTED),this.emit(lt.OPEN,this),this.emit(lt.CONNECT,this),r?.(void 0,this)})}close(e,r){if(e=e??{force:!1},this.s.state===Ne.STATE_CLOSED||this.s.state===Ne.STATE_CLOSING)return r?.();let n=Array.from(this.s.servers.values(),i=>(0,EZ.promisify)(bZ)(i,this,{force:!!e?.force}));Promise.all(n).then(()=>{this.s.servers.clear(),Ty(this,Ne.STATE_CLOSING),PZ(this[Ku],new Yu.MongoTopologyClosedError),(0,Ne.drainTimerQueue)(this.s.connectionTimers),this.s.srvPoller&&(this.s.srvPoller.stop(),this.s.srvPoller.removeListener(CC.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords)),this.removeListener(lt.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology),Ty(this,Ne.STATE_CLOSED),this.emit(lt.TOPOLOGY_CLOSED,new yc.TopologyClosedEvent(this.s.id))}).finally(()=>r?.())}selectServer(e,r,n){let i;if(typeof e!="function")if(typeof e=="string")i=(0,gR.readPreferenceServerSelector)(Py.ReadPreference.fromString(e));else{let l;e instanceof Py.ReadPreference?l=e:(Py.ReadPreference.translate(r),l=r.readPreference||Py.ReadPreference.primary),i=(0,gR.readPreferenceServerSelector)(l)}else i=e;r=Object.assign({},{serverSelectionTimeoutMS:this.s.serverSelectionTimeoutMS},r);let s=this.description.type===Ne.TopologyType.Sharded,o=r.session,u=o&&o.transaction;if(s&&u&&u.server){n(void 0,u.server);return}let a={serverSelector:i,transaction:u,callback:n},c=r.serverSelectionTimeoutMS;c&&(a.timer=(0,vC.setTimeout)(()=>{a[ER]=!0,a.timer=void 0;let l=new Yu.MongoServerSelectionError(`Server selection timed out after ${c} ms`,this.description);a.callback(l)},c)),this[Ku].push(a),vZ(this)}shouldCheckForSessionSupport(){return this.description.type===Ne.TopologyType.Single?!this.description.hasKnownServers:!this.description.hasDataBearingServers}hasSessionSupport(){return this.loadBalanced||this.description.logicalSessionTimeoutMinutes!=null}serverUpdateHandler(e){if(!this.s.description.hasServer(e.address)||zke(this.s.description,e))return;let r=this.s.description,n=this.s.description.servers.get(e.address);if(!n)return;let i=e.$clusterTime;i&&(0,Ne._advanceClusterTime)(this,i);let s=n&&n.equals(e);if(this.s.description=this.s.description.update(e),this.s.description.compatibilityError){this.emit(lt.ERROR,new Yu.MongoCompatibilityError(this.s.description.compatibilityError));return}if(!s){let o=this.s.description.servers.get(e.address);o&&this.emit(lt.SERVER_DESCRIPTION_CHANGED,new yc.ServerDescriptionChangedEvent(this.s.id,e.address,n,o))}CZ(this,e),this[Ku].length>0&&vZ(this),s||this.emit(lt.TOPOLOGY_DESCRIPTION_CHANGED,new yc.TopologyDescriptionChangedEvent(this.s.id,r,this.s.description))}auth(e,r){typeof e=="function"&&(r=e,e=void 0),typeof r=="function"&&r(void 0,!0)}get clientMetadata(){return this.s.options.metadata}isConnected(){return this.s.state===Ne.STATE_CONNECTED}isDestroyed(){return this.s.state===Ne.STATE_CLOSED}unref(){(0,Yo.emitWarning)("`unref` is a noop and will be removed in the next major version")}lastHello(){let e=Array.from(this.description.servers.values());return e.length===0?{}:e.filter(i=>i.type!==Ne.ServerType.Unknown)[0]||{maxWireVersion:this.description.commonWireVersion}}get commonWireVersion(){return this.description.commonWireVersion}get logicalSessionTimeoutMinutes(){return this.description.logicalSessionTimeoutMinutes}get clusterTime(){return this.s.clusterTime}set clusterTime(e){this.s.clusterTime=e}};cf.Topology=lt;lt.SERVER_OPENING=li.SERVER_OPENING;lt.SERVER_CLOSED=li.SERVER_CLOSED;lt.SERVER_DESCRIPTION_CHANGED=li.SERVER_DESCRIPTION_CHANGED;lt.TOPOLOGY_OPENING=li.TOPOLOGY_OPENING;lt.TOPOLOGY_CLOSED=li.TOPOLOGY_CLOSED;lt.TOPOLOGY_DESCRIPTION_CHANGED=li.TOPOLOGY_DESCRIPTION_CHANGED;lt.ERROR=li.ERROR;lt.OPEN=li.OPEN;lt.CONNECT=li.CONNECT;lt.CLOSE=li.CLOSE;lt.TIMEOUT=li.TIMEOUT;function bZ(t,e,r,n){r=r??{force:!1};for(let i of li.LOCAL_SERVER_EVENTS)t.removeAllListeners(i);t.destroy(r,()=>{e.emit(lt.SERVER_CLOSED,new yc.ServerClosedEvent(e.s.id,t.description.address));for(let i of li.SERVER_RELAY_EVENTS)t.removeAllListeners(i);typeof n=="function"&&n()})}function Uke(t){return t?.directConnection?Ne.TopologyType.Single:t?.replicaSet?Ne.TopologyType.ReplicaSetNoPrimary:t?.loadBalanced?Ne.TopologyType.LoadBalanced:Ne.TopologyType.Unknown}function IZ(t,e){t.emit(lt.SERVER_OPENING,new yc.ServerOpeningEvent(t.s.id,e.address));let r=new wZ.Server(t,e,t.s.options);for(let n of li.SERVER_RELAY_EVENTS)r.on(n,i=>t.emit(n,i));return r.on(wZ.Server.DESCRIPTION_RECEIVED,n=>t.serverUpdateHandler(n)),r.connect(),r}function CZ(t,e){if(e&&t.s.servers.has(e.address)){let r=t.s.servers.get(e.address);if(r){if(r.s.description=e,e.error instanceof Yu.MongoError&&e.error.hasErrorLabel(Yu.MongoErrorLabel.ResetPool)){let n=e.error.hasErrorLabel(Yu.MongoErrorLabel.InterruptInUseConnections);r.s.pool.clear({interruptInUseConnections:n})}else if(e.error==null){let n=t.s.description.type;(e.isDataBearing||e.type!==Ne.ServerType.Unknown&&n===Ne.TopologyType.Single)&&r.s.pool.ready()}}}for(let r of t.description.servers.values())if(!t.s.servers.has(r.address)){let n=IZ(t,r);t.s.servers.set(r.address,n)}for(let r of t.s.servers){let n=r[0];if(t.description.hasServer(n)||!t.s.servers.has(n))continue;let i=t.s.servers.get(n);t.s.servers.delete(n),i&&bZ(i,t)}}function PZ(t,e){for(;t.length;){let r=t.shift();r&&(r.timer&&(0,vC.clearTimeout)(r.timer),r[ER]||r.callback(e))}}function vZ(t){if(t.s.state===Ne.STATE_CLOSED){PZ(t[Ku],new Yu.MongoTopologyClosedError);return}let e=t.description.type===Ne.TopologyType.Sharded,r=Array.from(t.description.servers.values()),n=t[Ku].length;for(let i=0;i<n;++i){let s=t[Ku].shift();if(!s||s[ER])continue;let o;try{let c=s.serverSelector;o=c?c(t.description,r):r}catch(c){s.timer&&(0,vC.clearTimeout)(s.timer),s.callback(c);continue}let u;if(o.length===0){t[Ku].push(s);continue}else if(o.length===1)u=t.s.servers.get(o[0].address);else{let c=(0,Yo.shuffle)(o,2),l=t.s.servers.get(c[0].address),d=t.s.servers.get(c[1].address);u=l&&d&&l.s.operationCount<d.s.operationCount?l:d}if(!u){s.callback(new Yu.MongoServerSelectionError("server selection returned a server description but the server was not found in the topology",t.description));return}let a=s.transaction;e&&a&&a.isActive&&u&&a.pinServer(u),s.timer&&(0,vC.clearTimeout)(s.timer),s.callback(void 0,u)}if(t[Ku].length>0)for(let[,i]of t.s.servers)process.nextTick(function(){return i.requestCheck()})}function zke(t,e){let r=t.servers.get(e.address),n=r?.topologyVersion;return(0,_R.compareTopologyVersion)(n,e.topologyVersion)>0}var bC=class{constructor(e){this.minWireVersion=e.minWireVersion||0,this.maxWireVersion=e.maxWireVersion||0}get hasAggregationCursor(){return this.maxWireVersion>=1}get hasWriteCommands(){return this.maxWireVersion>=2}get hasTextSearch(){return this.minWireVersion>=0}get hasAuthCommands(){return this.maxWireVersion>=1}get hasListCollectionsCommand(){return this.maxWireVersion>=3}get hasListIndexesCommand(){return this.maxWireVersion>=3}get supportsSnapshotReads(){return this.maxWireVersion>=13}get commandsTakeWriteConcern(){return this.maxWireVersion>=5}get commandsTakeCollation(){return this.maxWireVersion>=5}};cf.ServerCapabilities=bC});var z1=h(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.MongoClient=df.ServerApiVersion=void 0;var DZ=require("util"),Vke=Lt(),Wke=Jd(),RZ=jT(),Hke=yn(),Gke=CE(),NZ=re(),Kke=MT(),Yke=ei(),xZ=wr(),Jke=Ph(),MZ=TZ(),FZ=Lh(),lf=ye();df.ServerApiVersion=Object.freeze({v1:"1"});var Hr=Symbol("options"),AR=class extends Yke.TypedEventEmitter{constructor(e,r){super(),this[Hr]=(0,RZ.parseOptions)(e,this,r),this.mongoLogger=new Kke.MongoLogger(this[Hr].mongoLoggerOptions);let n=this;this.s={url:e,bsonOptions:(0,Vke.resolveBSONOptions)(this[Hr]),namespace:(0,lf.ns)("admin"),hasBeenClosed:!1,sessionPool:new FZ.ServerSessionPool(this),activeSessions:new Set,get options(){return n[Hr]},get readConcern(){return n[Hr].readConcern},get writeConcern(){return n[Hr].writeConcern},get readPreference(){return n[Hr].readPreference},get logger(){return n[Hr].logger},get isMongoClient(){return!0}}}get options(){return Object.freeze({...this[Hr]})}get serverApi(){return this[Hr].serverApi&&Object.freeze({...this[Hr].serverApi})}get monitorCommands(){return this[Hr].monitorCommands}set monitorCommands(e){this[Hr].monitorCommands=e}get autoEncrypter(){return this[Hr].autoEncrypter}get readConcern(){return this.s.readConcern}get writeConcern(){return this.s.writeConcern}get readPreference(){return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get logger(){return this.s.logger}connect(e){if(e&&typeof e!="function")throw new NZ.MongoInvalidArgumentError("Method `connect` only accepts a callback");return(0,lf.maybeCallback)(async()=>{if(this.topology&&this.topology.isConnected())return this;let r=this[Hr];if(typeof r.srvHost=="string"){let s=await(0,RZ.resolveSRVRecord)(r);for(let[o,u]of s.entries())r.hosts[o]=u}let n=new MZ.Topology(r.hosts,r);this.topology=n,n.client=this,n.once(MZ.Topology.OPEN,()=>this.emit("open",this));for(let s of Hke.MONGO_CLIENT_EVENTS)n.on(s,(...o)=>this.emit(s,...o));let i=async()=>{try{await(0,DZ.promisify)(s=>n.connect(r,s))()}catch(s){throw n.close({force:!0}),s}};return this.autoEncrypter?(await(0,DZ.promisify)(o=>{var u;return(u=this.autoEncrypter)===null||u===void 0?void 0:u.init(o)})(),await i(),await r.encrypter.connectInternalClient()):await i(),this},e)}close(e,r){Object.defineProperty(this.s,"hasBeenClosed",{value:!0,enumerable:!0,configurable:!1,writable:!1}),typeof e=="function"&&(r=e);let n=typeof e=="boolean"?e:!1;return(0,lf.maybeCallback)(async()=>{let i=Array.from(this.s.activeSessions,l=>l.endSession());if(this.s.activeSessions.clear(),await Promise.all(i),this.topology==null)return;let s=(0,Jke.readPreferenceServerSelector)(xZ.ReadPreference.primaryPreferred),o=this.topology.description,u=Array.from(o.servers.values());if(s(o,u).length!==0){let l=Array.from(this.s.sessionPool.sessions,({id:d})=>d);l.length!==0&&await this.db("admin").command({endSessions:l},{readPreference:xZ.ReadPreference.primaryPreferred,noResponse:!0}).catch(()=>null)}let c=this.topology;this.topology=void 0,await new Promise((l,d)=>{c.close({force:n},f=>{if(f)return d(f);let{encrypter:p}=this[Hr];if(p)return p.close(this,n,m=>{if(m)return d(m);l()});l()})})},r)}db(e,r){r=r??{},e||(e=this.options.dbName);let n=Object.assign({},this[Hr],r);return new Gke.Db(this,e,n)}static connect(e,r,n){return n=typeof n=="function"?n:typeof r=="function"?r:void 0,(0,lf.maybeCallback)(async()=>(r=typeof r!="function"?r:void 0,new this(e,r).connect()),n)}startSession(e){let r=new FZ.ClientSession(this,this.s.sessionPool,{explicit:!0,...e},this[Hr]);return this.s.activeSessions.add(r),r.once("ended",()=>{this.s.activeSessions.delete(r)}),r}withSession(e,r){let n={owner:Symbol(),...typeof e=="object"?e:{}},i=typeof e=="function"?e:r;if(i==null)throw new NZ.MongoInvalidArgumentError("Missing required callback parameter");let s=this.startSession(n);return(0,lf.maybeCallback)(async()=>{try{await i(s)}finally{try{await s.endSession()}catch{}}},null)}watch(e=[],r={}){return Array.isArray(e)||(r=e,e=[]),new Wke.ChangeStream(this,e,(0,lf.resolveOptions)(this,r))}getLogger(){return this.s.logger}};df.MongoClient=AR});var Jd=h(PC=>{"use strict";Object.defineProperty(PC,"__esModule",{value:!0});PC.ChangeStream=void 0;var Qke=Zc(),Ks=yn(),Xke=k8(),Zke=CE(),Gs=re(),eje=z1(),tje=ei(),$l=ye(),ff=Symbol("cursorStream"),hf=Symbol("closed"),Dy=Symbol("mode"),rje=["resumeAfter","startAfter","startAtOperationTime","fullDocument","fullDocumentBeforeChange","showExpandedEvents"],kl={COLLECTION:Symbol("Collection"),DATABASE:Symbol("Database"),CLUSTER:Symbol("Cluster")},nje=[Ks.RESUME_TOKEN_CHANGED,Ks.END,Ks.CLOSE],ije="A change stream document has been received that lacks a resume token (_id).",IC="ChangeStream is closed",In=class extends tje.TypedEventEmitter{constructor(e,r=[],n={}){if(super(),this.pipeline=r,this.options=n,e instanceof Qke.Collection)this.type=kl.COLLECTION;else if(e instanceof Zke.Db)this.type=kl.DATABASE;else if(e instanceof eje.MongoClient)this.type=kl.CLUSTER;else throw new Gs.MongoChangeStreamError("Parent provided to ChangeStream constructor must be an instance of Collection, Db, or MongoClient");this.parent=e,this.namespace=e.s.namespace,!this.options.readPreference&&e.readPreference&&(this.options.readPreference=e.readPreference),this.cursor=this._createChangeStreamCursor(n),this[hf]=!1,this[Dy]=!1,this.on("newListener",i=>{i==="change"&&this.cursor&&this.listenerCount("change")===0&&this._streamEvents(this.cursor)}),this.on("removeListener",i=>{var s;i==="change"&&this.listenerCount("change")===0&&this.cursor&&((s=this[ff])===null||s===void 0||s.removeAllListeners("data"))})}get cursorStream(){return this[ff]}get resumeToken(){var e;return(e=this.cursor)===null||e===void 0?void 0:e.resumeToken}hasNext(e){return this._setIsIterator(),(0,$l.maybeCallback)(async()=>{for(;;)try{return await this.cursor.hasNext()}catch(r){try{await this._processErrorIteratorMode(r)}catch(n){try{await this.close()}catch{}throw n}}},e)}next(e){return this._setIsIterator(),(0,$l.maybeCallback)(async()=>{for(;;)try{let r=await this.cursor.next();return this._processChange(r??null)}catch(r){try{await this._processErrorIteratorMode(r)}catch(n){try{await this.close()}catch{}throw n}}},e)}tryNext(e){return this._setIsIterator(),(0,$l.maybeCallback)(async()=>{for(;;)try{let r=await this.cursor.tryNext();return r??null}catch(r){try{await this._processErrorIteratorMode(r)}catch(n){try{await this.close()}catch{}throw n}}},e)}async*[Symbol.asyncIterator](){if(!this.closed)try{for(;;)yield await this.next()}finally{try{await this.close()}catch{}}}get closed(){return this[hf]||this.cursor.closed}close(e){return this[hf]=!0,(0,$l.maybeCallback)(async()=>{let r=this.cursor;try{await r.close()}finally{this._endStream()}},e)}stream(e){if(this.closed)throw new Gs.MongoChangeStreamError(IC);return this.streamOptions=e,this.cursor.stream(e)}_setIsEmitter(){if(this[Dy]==="iterator")throw new Gs.MongoAPIError("ChangeStream cannot be used as an EventEmitter after being used as an iterator");this[Dy]="emitter"}_setIsIterator(){if(this[Dy]==="emitter")throw new Gs.MongoAPIError("ChangeStream cannot be used as an iterator after being used as an EventEmitter");this[Dy]="iterator"}_createChangeStreamCursor(e){let r=(0,$l.filterOptions)(e,rje);this.type===kl.CLUSTER&&(r.allChangesForCluster=!0);let n=[{$changeStream:r},...this.pipeline],i=this.type===kl.CLUSTER?this.parent:this.type===kl.DATABASE?this.parent.s.client:this.type===kl.COLLECTION?this.parent.s.db.s.client:null;if(i==null)throw new Gs.MongoRuntimeError(`Changestream type should only be one of cluster, database, collection. Found ${this.type.toString()}`);let s=new Xke.ChangeStreamCursor(i,this.namespace,n,e);for(let o of nje)s.on(o,u=>this.emit(o,u));return this.listenerCount(In.CHANGE)>0&&this._streamEvents(s),s}_closeEmitterModeWithError(e){this.emit(In.ERROR,e),this.close(()=>{})}_streamEvents(e){var r;this._setIsEmitter();let n=(r=this[ff])!==null&&r!==void 0?r:e.stream();this[ff]=n,n.on("data",i=>{try{let s=this._processChange(i);this.emit(In.CHANGE,s)}catch(s){this.emit(In.ERROR,s)}}),n.on("error",i=>this._processErrorStreamMode(i))}_endStream(){let e=this[ff];e&&(["data","close","end","error"].forEach(r=>e.removeAllListeners(r)),e.destroy()),this[ff]=void 0}_processChange(e){if(this[hf])throw new Gs.MongoAPIError(IC);if(e==null)throw new Gs.MongoRuntimeError(IC);if(e&&!e._id)throw new Gs.MongoChangeStreamError(ije);return this.cursor.cacheResumeToken(e._id),this.options.startAtOperationTime=void 0,e}_processErrorStreamMode(e){this[hf]||((0,Gs.isResumableError)(e,this.cursor.maxWireVersion)?(this._endStream(),this.cursor.close().catch(()=>null),(0,$l.getTopology)(this.parent).selectServer(this.cursor.readPreference,{},n=>{if(n)return this._closeEmitterModeWithError(e);this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)})):this._closeEmitterModeWithError(e))}async _processErrorIteratorMode(e){if(this[hf])throw new Gs.MongoAPIError(IC);if(!(0,Gs.isResumableError)(e,this.cursor.maxWireVersion)){try{await this.close()}catch{}throw e}await this.cursor.close().catch(()=>null);let r=(0,$l.getTopology)(this.parent);try{await r.selectServerAsync(this.cursor.readPreference,{}),this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)}catch{throw await this.close(),e}}};PC.ChangeStream=In;In.RESPONSE=Ks.RESPONSE;In.MORE=Ks.MORE;In.INIT=Ks.INIT;In.CLOSE=Ks.CLOSE;In.CHANGE=Ks.CHANGE;In.END=Ks.END;In.ERROR=Ks.ERROR;In.RESUME_TOKEN_CHANGED=Ks.RESUME_TOKEN_CHANGED});var SR=h(TC=>{"use strict";Object.defineProperty(TC,"__esModule",{value:!0});TC.GridFSBucketReadStream=void 0;var sje=require("stream"),Mi=re(),Qt=class extends sje.Readable{constructor(e,r,n,i,s){super(),this.s={bytesToTrim:0,bytesToSkip:0,bytesRead:0,chunks:e,expected:0,files:r,filter:i,init:!1,expectedEnd:0,options:{start:0,end:0,...s},readPreference:n}}_read(){this.destroyed||aje(this,()=>oje(this))}start(e=0){return BZ(this),this.s.options.start=e,this}end(e=0){return BZ(this),this.s.options.end=e,this}abort(e){this.push(null),this.destroyed=!0,this.s.cursor?this.s.cursor.close(r=>{this.emit(Qt.CLOSE),e&&e(r)}):(this.s.init||this.emit(Qt.CLOSE),e&&e())}};TC.GridFSBucketReadStream=Qt;Qt.ERROR="error";Qt.FILE="file";Qt.DATA="data";Qt.END="end";Qt.CLOSE="close";function BZ(t){if(t.s.init)throw new Mi.MongoGridFSStreamError("Options cannot be changed after the stream is initialized")}function oje(t){t.destroyed||t.s.cursor&&t.s.file&&t.s.cursor.next((e,r)=>{if(t.destroyed)return;if(e){t.emit(Qt.ERROR,e);return}if(!r){if(t.push(null),!t.s.cursor)return;t.s.cursor.close(d=>{if(d){t.emit(Qt.ERROR,d);return}t.emit(Qt.CLOSE)});return}if(!t.s.file)return;let n=t.s.file.length-t.s.bytesRead,i=t.s.expected++,s=Math.min(t.s.file.chunkSize,n);if(r.n>i)return t.emit(Qt.ERROR,new Mi.MongoGridFSChunkError(`ChunkIsMissing: Got unexpected n: ${r.n}, expected: ${i}`));if(r.n<i)return t.emit(Qt.ERROR,new Mi.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${r.n}, expected: ${i}`));let o=Buffer.isBuffer(r.data)?r.data:r.data.buffer;if(o.byteLength!==s)return n<=0?t.emit(Qt.ERROR,new Mi.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${r.n}, expected file length ${t.s.file.length} bytes but already read ${t.s.bytesRead} bytes`)):t.emit(Qt.ERROR,new Mi.MongoGridFSChunkError(`ChunkIsWrongSize: Got unexpected length: ${o.byteLength}, expected: ${s}`));if(t.s.bytesRead+=o.byteLength,o.byteLength===0)return t.push(null);let u=null,a=null;t.s.bytesToSkip!=null&&(u=t.s.bytesToSkip,t.s.bytesToSkip=0);let c=i===t.s.expectedEnd-1,l=t.s.options.end-t.s.bytesToSkip;c&&t.s.bytesToTrim!=null?a=t.s.file.chunkSize-t.s.bytesToTrim:t.s.options.end&&l<r.data.byteLength&&(a=l),(u!=null||a!=null)&&(o=o.slice(u||0,a||o.byteLength)),t.push(o)})}function uje(t){let e={};t.s.readPreference&&(e.readPreference=t.s.readPreference),t.s.options&&t.s.options.sort&&(e.sort=t.s.options.sort),t.s.options&&t.s.options.skip&&(e.skip=t.s.options.skip),t.s.files.findOne(t.s.filter,e,(r,n)=>{if(r)return t.emit(Qt.ERROR,r);if(!n){let o=`FileNotFound: file ${t.s.filter._id?t.s.filter._id.toString():t.s.filter.filename} was not found`,u=new Mi.MongoRuntimeError(o);return u.code="ENOENT",t.emit(Qt.ERROR,u)}if(n.length<=0){t.push(null);return}if(t.destroyed){t.emit(Qt.CLOSE);return}try{t.s.bytesToSkip=cje(t,n,t.s.options)}catch(s){return t.emit(Qt.ERROR,s)}let i={files_id:n._id};if(t.s.options&&t.s.options.start!=null){let s=Math.floor(t.s.options.start/n.chunkSize);s>0&&(i.n={$gte:s})}t.s.cursor=t.s.chunks.find(i).sort({n:1}),t.s.readPreference&&t.s.cursor.withReadPreference(t.s.readPreference),t.s.expectedEnd=Math.ceil(n.length/n.chunkSize),t.s.file=n;try{t.s.bytesToTrim=lje(t,n,t.s.cursor,t.s.options)}catch(s){return t.emit(Qt.ERROR,s)}t.emit(Qt.FILE,n)})}function aje(t,e){if(t.s.file)return e();t.s.init||(uje(t),t.s.init=!0),t.once("file",()=>{e()})}function cje(t,e,r){if(r&&r.start!=null){if(r.start>e.length)throw new Mi.MongoInvalidArgumentError(`Stream start (${r.start}) must not be more than the length of the file (${e.length})`);if(r.start<0)throw new Mi.MongoInvalidArgumentError(`Stream start (${r.start}) must not be negative`);if(r.end!=null&&r.end<r.start)throw new Mi.MongoInvalidArgumentError(`Stream start (${r.start}) must not be greater than stream end (${r.end})`);return t.s.bytesRead=Math.floor(r.start/e.chunkSize)*e.chunkSize,t.s.expected=Math.floor(r.start/e.chunkSize),r.start-t.s.bytesRead}throw new Mi.MongoInvalidArgumentError("Start option must be defined")}function lje(t,e,r,n){if(n&&n.end!=null){if(n.end>e.length)throw new Mi.MongoInvalidArgumentError(`Stream end (${n.end}) must not be more than the length of the file (${e.length})`);if(n.start==null||n.start<0)throw new Mi.MongoInvalidArgumentError(`Stream end (${n.end}) must not be negative`);let i=n.start!=null?Math.floor(n.start/e.chunkSize):0;return r.limit(Math.ceil(n.end/e.chunkSize)-i),t.s.expectedEnd=Math.ceil(n.end/e.chunkSize),Math.ceil(n.end/e.chunkSize)*e.chunkSize-n.end}throw new Mi.MongoInvalidArgumentError("End option must be defined")}});var vR=h(DC=>{"use strict";Object.defineProperty(DC,"__esModule",{value:!0});DC.GridFSBucketWriteStream=void 0;var dje=require("stream"),kZ=Lt(),jl=re(),fje=ye(),hje=Hi(),Ys=class extends dje.Writable{constructor(e,r,n){super(),n=n??{},this.bucket=e,this.chunks=e.s._chunksCollection,this.filename=r,this.files=e.s._filesCollection,this.options=n,this.writeConcern=hje.WriteConcern.fromOptions(n)||e.s.options.writeConcern,this.done=!1,this.id=n.id?n.id:new kZ.ObjectId,this.chunkSizeBytes=n.chunkSizeBytes||this.bucket.s.options.chunkSizeBytes,this.bufToStore=Buffer.alloc(this.chunkSizeBytes),this.length=0,this.n=0,this.pos=0,this.state={streamEnd:!1,outstandingRequests:0,errored:!1,aborted:!1},this.bucket.s.calledOpenUploadStream||(this.bucket.s.calledOpenUploadStream=!0,pje(this,()=>{this.bucket.s.checkedIndexes=!0,this.bucket.emit("index")}))}write(e,r,n){let i=typeof r=="function"?void 0:r;return n=typeof r=="function"?r:n,qZ(this,()=>yje(this,e,i,n))}abort(e){return(0,fje.maybeCallback)(async()=>{if(this.state.streamEnd)throw new jl.MongoAPIError("Cannot abort a stream that has already completed");if(this.state.aborted)throw new jl.MongoAPIError("Cannot call abort() on a stream twice");this.state.aborted=!0,await this.chunks.deleteMany({files_id:this.id})},e)}end(e,r,n){let i=typeof e=="function"?void 0:e,s=typeof r=="function"?void 0:r;return n=typeof e=="function"?e:typeof r=="function"?r:n,this.state.streamEnd||Ry(this,n)?this:(this.state.streamEnd=!0,n&&this.once(Ys.FINISH,o=>{n&&n(void 0,o)}),i?(this.write(i,s,()=>{$Z(this)}),this):(qZ(this,()=>!!$Z(this)),this))}};DC.GridFSBucketWriteStream=Ys;Ys.CLOSE="close";Ys.ERROR="error";Ys.FINISH="finish";function CR(t,e,r){if(!t.state.errored){if(t.state.errored=!0,r)return r(e);t.emit(Ys.ERROR,e)}}function jZ(t,e,r){return{_id:new kZ.ObjectId,files_id:t,n:e,data:r}}function wR(t,e){t.chunks.listIndexes().toArray((r,n)=>{let i;if(r){if(r instanceof jl.MongoError&&r.code===jl.MONGODB_ERROR_CODES.NamespaceNotFound){i={files_id:1,n:1},t.chunks.createIndex(i,{background:!1,unique:!0},o=>{if(o)return e(o);e()});return}return e(r)}let s=!1;if(n&&n.forEach(o=>{o.key&&Object.keys(o.key).length===2&&o.key.files_id===1&&o.key.n===1&&(s=!0)}),s)e();else{i={files_id:1,n:1};let o=Ny(t);t.chunks.createIndex(i,{...o,background:!0,unique:!0},e)}})}function OR(t,e){if(t.done)return!0;if(t.state.streamEnd&&t.state.outstandingRequests===0&&!t.state.errored){t.done=!0;let r=mje(t.id,t.length,t.chunkSizeBytes,t.filename,t.options.contentType,t.options.aliases,t.options.metadata);return Ry(t,e)?!1:(t.files.insertOne(r,Ny(t),n=>{if(n)return CR(t,n,e);t.emit(Ys.FINISH,r),t.emit(Ys.CLOSE)}),!0)}return!1}function pje(t,e){t.files.findOne({},{projection:{_id:1}},(r,n)=>{if(r)return e(r);if(n)return e();t.files.listIndexes().toArray((i,s)=>{let o;if(i){if(i instanceof jl.MongoError&&i.code===jl.MONGODB_ERROR_CODES.NamespaceNotFound){o={filename:1,uploadDate:1},t.files.createIndex(o,{background:!1},a=>{if(a)return e(a);wR(t,e)});return}return e(i)}let u=!1;if(s&&s.forEach(a=>{Object.keys(a.key).length===2&&a.key.filename===1&&a.key.uploadDate===1&&(u=!0)}),u)wR(t,e);else{o={filename:1,uploadDate:1};let a=Ny(t);t.files.createIndex(o,{...a,background:!1},c=>{if(c)return e(c);wR(t,e)})}})})}function mje(t,e,r,n,i,s,o){let u={_id:t,length:e,chunkSize:r,uploadDate:new Date,filename:n};return i&&(u.contentType=i),s&&(u.aliases=s),o&&(u.metadata=o),u}function yje(t,e,r,n){if(Ry(t,n))return!1;let i=Buffer.isBuffer(e)?e:Buffer.from(e,r);if(t.length+=i.length,t.pos+i.length<t.chunkSizeBytes)return i.copy(t.bufToStore,t.pos),t.pos+=i.length,n&&n(),!0;let s=i.length,o=t.chunkSizeBytes-t.pos,u=Math.min(o,i.length),a=0;for(;s>0;){let c=i.length-s;i.copy(t.bufToStore,t.pos,c,c+u),t.pos+=u,o-=u;let l;if(o===0){if(l=jZ(t.id,t.n,Buffer.from(t.bufToStore)),++t.state.outstandingRequests,++a,Ry(t,n))return!1;t.chunks.insertOne(l,Ny(t),d=>{if(d)return CR(t,d);--t.state.outstandingRequests,--a,a||(t.emit("drain",l),n&&n(),OR(t))}),o=t.chunkSizeBytes,t.pos=0,++t.n}s-=u,u=Math.min(o,s)}return!1}function Ny(t){let e={};return t.writeConcern&&(e.writeConcern={w:t.writeConcern.w,wtimeout:t.writeConcern.wtimeout,j:t.writeConcern.j}),e}function qZ(t,e){return t.bucket.s.checkedIndexes?e(!1):(t.bucket.once("index",()=>{e(!0)}),!0)}function $Z(t,e){if(t.pos===0)return OR(t,e);++t.state.outstandingRequests;let r=Buffer.alloc(t.pos);t.bufToStore.copy(r,0,0,t.pos);let n=jZ(t.id,t.n,r);return Ry(t,e)?!1:(t.chunks.insertOne(n,Ny(t),i=>{if(i)return CR(t,i);--t.state.outstandingRequests,OR(t)}),!0)}function Ry(t,e){return t.state.aborted?(typeof e=="function"&&e(new jl.MongoAPIError("Stream has been aborted")),!0):!1}});var VZ=h(NC=>{"use strict";Object.defineProperty(NC,"__esModule",{value:!0});NC.GridFSBucket=void 0;var LZ=re(),gje=ei(),bR=ye(),_je=Hi(),UZ=SR(),zZ=vR(),Eje={bucketName:"fs",chunkSizeBytes:255*1024},RC=class extends gje.TypedEventEmitter{constructor(e,r){super(),this.setMaxListeners(0);let n={...Eje,...r,writeConcern:_je.WriteConcern.fromOptions(r)};this.s={db:e,options:n,_chunksCollection:e.collection(n.bucketName+".chunks"),_filesCollection:e.collection(n.bucketName+".files"),checkedIndexes:!1,calledOpenUploadStream:!1}}openUploadStream(e,r){return new zZ.GridFSBucketWriteStream(this,e,r)}openUploadStreamWithId(e,r,n){return new zZ.GridFSBucketWriteStream(this,r,{...n,id:e})}openDownloadStream(e,r){return new UZ.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{_id:e},r)}delete(e,r){return(0,bR.maybeCallback)(async()=>{let{deletedCount:n}=await this.s._filesCollection.deleteOne({_id:e});if(await this.s._chunksCollection.deleteMany({files_id:e}),n===0)throw new LZ.MongoRuntimeError(`File not found for id ${e}`)},r)}find(e,r){return e??(e={}),r=r??{},this.s._filesCollection.find(e,r)}openDownloadStreamByName(e,r){let n={uploadDate:-1},i;return r&&r.revision!=null&&(r.revision>=0?(n={uploadDate:1},i=r.revision):i=-r.revision-1),new UZ.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{filename:e},{...r,sort:n,skip:i})}rename(e,r,n){return(0,bR.maybeCallback)(async()=>{let i={_id:e},s={$set:{filename:r}},{matchedCount:o}=await this.s._filesCollection.updateOne(i,s);if(o===0)throw new LZ.MongoRuntimeError(`File with id ${e} not found`)},n)}drop(e){return(0,bR.maybeCallback)(async()=>{await this.s._filesCollection.drop(),await this.s._chunksCollection.drop()},e)}getLogger(){return this.s.db.s.logger}};NC.GridFSBucket=RC;RC.INDEX="index"});var ku=h(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.AbstractCursor=A.MongoWriteConcernError=A.MongoUnexpectedServerResponseError=A.MongoTransactionError=A.MongoTopologyClosedError=A.MongoTailableCursorError=A.MongoSystemError=A.MongoServerSelectionError=A.MongoServerError=A.MongoServerClosedError=A.MongoRuntimeError=A.MongoParseError=A.MongoNotConnectedError=A.MongoNetworkTimeoutError=A.MongoNetworkError=A.MongoMissingDependencyError=A.MongoMissingCredentialsError=A.MongoKerberosError=A.MongoInvalidArgumentError=A.MongoGridFSStreamError=A.MongoGridFSChunkError=A.MongoExpiredSessionError=A.MongoError=A.MongoDriverError=A.MongoDecompressionError=A.MongoCursorInUseError=A.MongoCursorExhaustedError=A.MongoCompatibilityError=A.MongoChangeStreamError=A.MongoBatchReExecutionError=A.MongoAWSError=A.MongoAPIError=A.MongoBulkWriteError=A.ObjectID=A.ChangeStreamCursor=A.Timestamp=A.ObjectId=A.MinKey=A.MaxKey=A.Map=A.Long=A.Int32=A.Double=A.Decimal128=A.DBRef=A.Code=A.BSONSymbol=A.BSONRegExp=A.Binary=A.BSON=void 0;A.ConnectionPoolCreatedEvent=A.ConnectionPoolClosedEvent=A.ConnectionPoolClearedEvent=A.ConnectionCreatedEvent=A.ConnectionClosedEvent=A.ConnectionCheckOutStartedEvent=A.ConnectionCheckOutFailedEvent=A.ConnectionCheckedOutEvent=A.ConnectionCheckedInEvent=A.CommandSucceededEvent=A.CommandStartedEvent=A.CommandFailedEvent=A.WriteConcern=A.ReadPreference=A.ReadConcern=A.TopologyType=A.ServerType=A.ReadPreferenceMode=A.ReadConcernLevel=A.ProfilingLevel=A.ReturnDocument=A.BSONType=A.ServerApiVersion=A.LoggerLevel=A.ExplainVerbosity=A.MongoErrorLabel=A.AutoEncryptionLoggerLevel=A.CURSOR_FLAGS=A.Compressor=A.AuthMechanism=A.GSSAPICanonicalizationValue=A.BatchType=A.Promise=A.UnorderedBulkOperation=A.OrderedBulkOperation=A.MongoClient=A.Logger=A.ListIndexesCursor=A.ListCollectionsCursor=A.GridFSBucketWriteStream=A.GridFSBucketReadStream=A.GridFSBucket=A.FindCursor=A.Db=A.Collection=A.ClientSession=A.ChangeStream=A.CancellationToken=A.AggregationCursor=A.Admin=void 0;A.SrvPollingEvent=A.TopologyOpeningEvent=A.TopologyDescriptionChangedEvent=A.TopologyClosedEvent=A.ServerOpeningEvent=A.ServerHeartbeatSucceededEvent=A.ServerHeartbeatStartedEvent=A.ServerHeartbeatFailedEvent=A.ServerDescriptionChangedEvent=A.ServerClosedEvent=A.ConnectionReadyEvent=A.ConnectionPoolReadyEvent=A.ConnectionPoolMonitoringEvent=void 0;var Aje=N9();Object.defineProperty(A,"Admin",{enumerable:!0,get:function(){return Aje.Admin}});var Sje=Lt(),wje=H9();Object.defineProperty(A,"OrderedBulkOperation",{enumerable:!0,get:function(){return wje.OrderedBulkOperation}});var Oje=K9();Object.defineProperty(A,"UnorderedBulkOperation",{enumerable:!0,get:function(){return Oje.UnorderedBulkOperation}});var Cje=Jd();Object.defineProperty(A,"ChangeStream",{enumerable:!0,get:function(){return Cje.ChangeStream}});var vje=Zc();Object.defineProperty(A,"Collection",{enumerable:!0,get:function(){return vje.Collection}});var bje=va();Object.defineProperty(A,"AbstractCursor",{enumerable:!0,get:function(){return bje.AbstractCursor}});var Ije=B2();Object.defineProperty(A,"AggregationCursor",{enumerable:!0,get:function(){return Ije.AggregationCursor}});var Pje=m8();Object.defineProperty(A,"FindCursor",{enumerable:!0,get:function(){return Pje.FindCursor}});var Tje=j8();Object.defineProperty(A,"ListCollectionsCursor",{enumerable:!0,get:function(){return Tje.ListCollectionsCursor}});var Dje=w8();Object.defineProperty(A,"ListIndexesCursor",{enumerable:!0,get:function(){return Dje.ListIndexesCursor}});var Rje=CE();Object.defineProperty(A,"Db",{enumerable:!0,get:function(){return Rje.Db}});var Nje=VZ();Object.defineProperty(A,"GridFSBucket",{enumerable:!0,get:function(){return Nje.GridFSBucket}});var xje=SR();Object.defineProperty(A,"GridFSBucketReadStream",{enumerable:!0,get:function(){return xje.GridFSBucketReadStream}});var Mje=vR();Object.defineProperty(A,"GridFSBucketWriteStream",{enumerable:!0,get:function(){return Mje.GridFSBucketWriteStream}});var Fje=Ta();Object.defineProperty(A,"Logger",{enumerable:!0,get:function(){return Fje.Logger}});var Bje=z1();Object.defineProperty(A,"MongoClient",{enumerable:!0,get:function(){return Bje.MongoClient}});var qje=ei();Object.defineProperty(A,"CancellationToken",{enumerable:!0,get:function(){return qje.CancellationToken}});var $je=Td();Object.defineProperty(A,"Promise",{enumerable:!0,get:function(){return $je.PromiseProvider}});var kje=Lh();Object.defineProperty(A,"ClientSession",{enumerable:!0,get:function(){return kje.ClientSession}});var jje=Lt();Object.defineProperty(A,"BSON",{enumerable:!0,get:function(){return jje.BSON}});var di=Lt();Object.defineProperty(A,"Binary",{enumerable:!0,get:function(){return di.Binary}});Object.defineProperty(A,"BSONRegExp",{enumerable:!0,get:function(){return di.BSONRegExp}});Object.defineProperty(A,"BSONSymbol",{enumerable:!0,get:function(){return di.BSONSymbol}});Object.defineProperty(A,"Code",{enumerable:!0,get:function(){return di.Code}});Object.defineProperty(A,"DBRef",{enumerable:!0,get:function(){return di.DBRef}});Object.defineProperty(A,"Decimal128",{enumerable:!0,get:function(){return di.Decimal128}});Object.defineProperty(A,"Double",{enumerable:!0,get:function(){return di.Double}});Object.defineProperty(A,"Int32",{enumerable:!0,get:function(){return di.Int32}});Object.defineProperty(A,"Long",{enumerable:!0,get:function(){return di.Long}});Object.defineProperty(A,"Map",{enumerable:!0,get:function(){return di.Map}});Object.defineProperty(A,"MaxKey",{enumerable:!0,get:function(){return di.MaxKey}});Object.defineProperty(A,"MinKey",{enumerable:!0,get:function(){return di.MinKey}});Object.defineProperty(A,"ObjectId",{enumerable:!0,get:function(){return di.ObjectId}});Object.defineProperty(A,"Timestamp",{enumerable:!0,get:function(){return di.Timestamp}});var Lje=k8();Object.defineProperty(A,"ChangeStreamCursor",{enumerable:!0,get:function(){return Lje.ChangeStreamCursor}});A.ObjectID=Sje.ObjectId;var Uje=qh();Object.defineProperty(A,"MongoBulkWriteError",{enumerable:!0,get:function(){return Uje.MongoBulkWriteError}});var dt=re();Object.defineProperty(A,"MongoAPIError",{enumerable:!0,get:function(){return dt.MongoAPIError}});Object.defineProperty(A,"MongoAWSError",{enumerable:!0,get:function(){return dt.MongoAWSError}});Object.defineProperty(A,"MongoBatchReExecutionError",{enumerable:!0,get:function(){return dt.MongoBatchReExecutionError}});Object.defineProperty(A,"MongoChangeStreamError",{enumerable:!0,get:function(){return dt.MongoChangeStreamError}});Object.defineProperty(A,"MongoCompatibilityError",{enumerable:!0,get:function(){return dt.MongoCompatibilityError}});Object.defineProperty(A,"MongoCursorExhaustedError",{enumerable:!0,get:function(){return dt.MongoCursorExhaustedError}});Object.defineProperty(A,"MongoCursorInUseError",{enumerable:!0,get:function(){return dt.MongoCursorInUseError}});Object.defineProperty(A,"MongoDecompressionError",{enumerable:!0,get:function(){return dt.MongoDecompressionError}});Object.defineProperty(A,"MongoDriverError",{enumerable:!0,get:function(){return dt.MongoDriverError}});Object.defineProperty(A,"MongoError",{enumerable:!0,get:function(){return dt.MongoError}});Object.defineProperty(A,"MongoExpiredSessionError",{enumerable:!0,get:function(){return dt.MongoExpiredSessionError}});Object.defineProperty(A,"MongoGridFSChunkError",{enumerable:!0,get:function(){return dt.MongoGridFSChunkError}});Object.defineProperty(A,"MongoGridFSStreamError",{enumerable:!0,get:function(){return dt.MongoGridFSStreamError}});Object.defineProperty(A,"MongoInvalidArgumentError",{enumerable:!0,get:function(){return dt.MongoInvalidArgumentError}});Object.defineProperty(A,"MongoKerberosError",{enumerable:!0,get:function(){return dt.MongoKerberosError}});Object.defineProperty(A,"MongoMissingCredentialsError",{enumerable:!0,get:function(){return dt.MongoMissingCredentialsError}});Object.defineProperty(A,"MongoMissingDependencyError",{enumerable:!0,get:function(){return dt.MongoMissingDependencyError}});Object.defineProperty(A,"MongoNetworkError",{enumerable:!0,get:function(){return dt.MongoNetworkError}});Object.defineProperty(A,"MongoNetworkTimeoutError",{enumerable:!0,get:function(){return dt.MongoNetworkTimeoutError}});Object.defineProperty(A,"MongoNotConnectedError",{enumerable:!0,get:function(){return dt.MongoNotConnectedError}});Object.defineProperty(A,"MongoParseError",{enumerable:!0,get:function(){return dt.MongoParseError}});Object.defineProperty(A,"MongoRuntimeError",{enumerable:!0,get:function(){return dt.MongoRuntimeError}});Object.defineProperty(A,"MongoServerClosedError",{enumerable:!0,get:function(){return dt.MongoServerClosedError}});Object.defineProperty(A,"MongoServerError",{enumerable:!0,get:function(){return dt.MongoServerError}});Object.defineProperty(A,"MongoServerSelectionError",{enumerable:!0,get:function(){return dt.MongoServerSelectionError}});Object.defineProperty(A,"MongoSystemError",{enumerable:!0,get:function(){return dt.MongoSystemError}});Object.defineProperty(A,"MongoTailableCursorError",{enumerable:!0,get:function(){return dt.MongoTailableCursorError}});Object.defineProperty(A,"MongoTopologyClosedError",{enumerable:!0,get:function(){return dt.MongoTopologyClosedError}});Object.defineProperty(A,"MongoTransactionError",{enumerable:!0,get:function(){return dt.MongoTransactionError}});Object.defineProperty(A,"MongoUnexpectedServerResponseError",{enumerable:!0,get:function(){return dt.MongoUnexpectedServerResponseError}});Object.defineProperty(A,"MongoWriteConcernError",{enumerable:!0,get:function(){return dt.MongoWriteConcernError}});var zje=qh();Object.defineProperty(A,"BatchType",{enumerable:!0,get:function(){return zje.BatchType}});var Vje=q6();Object.defineProperty(A,"GSSAPICanonicalizationValue",{enumerable:!0,get:function(){return Vje.GSSAPICanonicalizationValue}});var Wje=Tl();Object.defineProperty(A,"AuthMechanism",{enumerable:!0,get:function(){return Wje.AuthMechanism}});var Hje=k6();Object.defineProperty(A,"Compressor",{enumerable:!0,get:function(){return Hje.Compressor}});var Gje=va();Object.defineProperty(A,"CURSOR_FLAGS",{enumerable:!0,get:function(){return Gje.CURSOR_FLAGS}});var Kje=j1();Object.defineProperty(A,"AutoEncryptionLoggerLevel",{enumerable:!0,get:function(){return Kje.AutoEncryptionLoggerLevel}});var Yje=re();Object.defineProperty(A,"MongoErrorLabel",{enumerable:!0,get:function(){return Yje.MongoErrorLabel}});var Jje=g9();Object.defineProperty(A,"ExplainVerbosity",{enumerable:!0,get:function(){return Jje.ExplainVerbosity}});var Qje=Ta();Object.defineProperty(A,"LoggerLevel",{enumerable:!0,get:function(){return Qje.LoggerLevel}});var Xje=z1();Object.defineProperty(A,"ServerApiVersion",{enumerable:!0,get:function(){return Xje.ServerApiVersion}});var Zje=ei();Object.defineProperty(A,"BSONType",{enumerable:!0,get:function(){return Zje.BSONType}});var eLe=P8();Object.defineProperty(A,"ReturnDocument",{enumerable:!0,get:function(){return eLe.ReturnDocument}});var tLe=V8();Object.defineProperty(A,"ProfilingLevel",{enumerable:!0,get:function(){return tLe.ProfilingLevel}});var rLe=Vi();Object.defineProperty(A,"ReadConcernLevel",{enumerable:!0,get:function(){return rLe.ReadConcernLevel}});var nLe=wr();Object.defineProperty(A,"ReadPreferenceMode",{enumerable:!0,get:function(){return nLe.ReadPreferenceMode}});var WZ=Wi();Object.defineProperty(A,"ServerType",{enumerable:!0,get:function(){return WZ.ServerType}});Object.defineProperty(A,"TopologyType",{enumerable:!0,get:function(){return WZ.TopologyType}});var iLe=Vi();Object.defineProperty(A,"ReadConcern",{enumerable:!0,get:function(){return iLe.ReadConcern}});var sLe=wr();Object.defineProperty(A,"ReadPreference",{enumerable:!0,get:function(){return sLe.ReadPreference}});var oLe=Hi();Object.defineProperty(A,"WriteConcern",{enumerable:!0,get:function(){return oLe.WriteConcern}});var IR=sD();Object.defineProperty(A,"CommandFailedEvent",{enumerable:!0,get:function(){return IR.CommandFailedEvent}});Object.defineProperty(A,"CommandStartedEvent",{enumerable:!0,get:function(){return IR.CommandStartedEvent}});Object.defineProperty(A,"CommandSucceededEvent",{enumerable:!0,get:function(){return IR.CommandSucceededEvent}});var Ss=rR();Object.defineProperty(A,"ConnectionCheckedInEvent",{enumerable:!0,get:function(){return Ss.ConnectionCheckedInEvent}});Object.defineProperty(A,"ConnectionCheckedOutEvent",{enumerable:!0,get:function(){return Ss.ConnectionCheckedOutEvent}});Object.defineProperty(A,"ConnectionCheckOutFailedEvent",{enumerable:!0,get:function(){return Ss.ConnectionCheckOutFailedEvent}});Object.defineProperty(A,"ConnectionCheckOutStartedEvent",{enumerable:!0,get:function(){return Ss.ConnectionCheckOutStartedEvent}});Object.defineProperty(A,"ConnectionClosedEvent",{enumerable:!0,get:function(){return Ss.ConnectionClosedEvent}});Object.defineProperty(A,"ConnectionCreatedEvent",{enumerable:!0,get:function(){return Ss.ConnectionCreatedEvent}});Object.defineProperty(A,"ConnectionPoolClearedEvent",{enumerable:!0,get:function(){return Ss.ConnectionPoolClearedEvent}});Object.defineProperty(A,"ConnectionPoolClosedEvent",{enumerable:!0,get:function(){return Ss.ConnectionPoolClosedEvent}});Object.defineProperty(A,"ConnectionPoolCreatedEvent",{enumerable:!0,get:function(){return Ss.ConnectionPoolCreatedEvent}});Object.defineProperty(A,"ConnectionPoolMonitoringEvent",{enumerable:!0,get:function(){return Ss.ConnectionPoolMonitoringEvent}});Object.defineProperty(A,"ConnectionPoolReadyEvent",{enumerable:!0,get:function(){return Ss.ConnectionPoolReadyEvent}});Object.defineProperty(A,"ConnectionReadyEvent",{enumerable:!0,get:function(){return Ss.ConnectionReadyEvent}});var Ju=U6();Object.defineProperty(A,"ServerClosedEvent",{enumerable:!0,get:function(){return Ju.ServerClosedEvent}});Object.defineProperty(A,"ServerDescriptionChangedEvent",{enumerable:!0,get:function(){return Ju.ServerDescriptionChangedEvent}});Object.defineProperty(A,"ServerHeartbeatFailedEvent",{enumerable:!0,get:function(){return Ju.ServerHeartbeatFailedEvent}});Object.defineProperty(A,"ServerHeartbeatStartedEvent",{enumerable:!0,get:function(){return Ju.ServerHeartbeatStartedEvent}});Object.defineProperty(A,"ServerHeartbeatSucceededEvent",{enumerable:!0,get:function(){return Ju.ServerHeartbeatSucceededEvent}});Object.defineProperty(A,"ServerOpeningEvent",{enumerable:!0,get:function(){return Ju.ServerOpeningEvent}});Object.defineProperty(A,"TopologyClosedEvent",{enumerable:!0,get:function(){return Ju.TopologyClosedEvent}});Object.defineProperty(A,"TopologyDescriptionChangedEvent",{enumerable:!0,get:function(){return Ju.TopologyDescriptionChangedEvent}});Object.defineProperty(A,"TopologyOpeningEvent",{enumerable:!0,get:function(){return Ju.TopologyOpeningEvent}});var uLe=yR();Object.defineProperty(A,"SrvPollingEvent",{enumerable:!0,get:function(){return uLe.SrvPollingEvent}})});var KZ=h((HZ,GZ)=>{"use strict";var aLe=ku().Binary;GZ.exports=HZ=aLe});var xy=h((eee,tee)=>{"use strict";var Jo=tee.exports=eee=Object.create(null),YZ="disconnected",JZ="connected",QZ="connecting",XZ="disconnecting",ZZ="uninitialized";Jo[0]=YZ;Jo[1]=JZ;Jo[2]=QZ;Jo[3]=XZ;Jo[99]=ZZ;Jo[YZ]=0;Jo[JZ]=1;Jo[QZ]=2;Jo[XZ]=3;Jo[ZZ]=99});var zn=h((xlt,ree)=>{"use strict";var cLe=typeof process<"u"&&typeof process.nextTick=="function"?process.nextTick.bind(process):t=>setTimeout(t,0);ree.exports=function(e){return cLe(e)}});var see=h((Mlt,iee)=>{"use strict";var lLe=require("events").EventEmitter,dLe=xy(),nee=zn();function Rt(t,e,r){r===void 0&&(r={}),this.opts=r,this.name=t,this.collectionName=t,this.conn=e,this.queue=[],this.buffer=!0,this.emitter=new lLe,dLe.connected===this.conn.readyState&&this.onOpen()}Rt.prototype.name;Rt.prototype.collectionName;Rt.prototype.conn;Rt.prototype.onOpen=function(){this.buffer=!1,nee(()=>this.doQueue())};Rt.prototype.onClose=function(){};Rt.prototype.addQueue=function(t,e){return this.queue.push([t,e]),this};Rt.prototype.removeQueue=function(t,e){let r=this.queue.findIndex(n=>n[0]===t&&n[1]===e);return r===-1?!1:(this.queue.splice(r,1),!0)};Rt.prototype.doQueue=function(){for(let e of this.queue)typeof e[0]=="function"?e[0].apply(this,e[1]):this[e[0]].apply(this,e[1]);this.queue=[];let t=this;return nee(function(){t.emitter.emit("queue")}),this};Rt.prototype.ensureIndex=function(){throw new Error("Collection#ensureIndex unimplemented by driver")};Rt.prototype.createIndex=function(){throw new Error("Collection#createIndex unimplemented by driver")};Rt.prototype.findAndModify=function(){throw new Error("Collection#findAndModify unimplemented by driver")};Rt.prototype.findOneAndUpdate=function(){throw new Error("Collection#findOneAndUpdate unimplemented by driver")};Rt.prototype.findOneAndDelete=function(){throw new Error("Collection#findOneAndDelete unimplemented by driver")};Rt.prototype.findOneAndReplace=function(){throw new Error("Collection#findOneAndReplace unimplemented by driver")};Rt.prototype.findOne=function(){throw new Error("Collection#findOne unimplemented by driver")};Rt.prototype.find=function(){throw new Error("Collection#find unimplemented by driver")};Rt.prototype.insert=function(){throw new Error("Collection#insert unimplemented by driver")};Rt.prototype.insertOne=function(){throw new Error("Collection#insertOne unimplemented by driver")};Rt.prototype.insertMany=function(){throw new Error("Collection#insertMany unimplemented by driver")};Rt.prototype.save=function(){throw new Error("Collection#save unimplemented by driver")};Rt.prototype.update=function(){throw new Error("Collection#update unimplemented by driver")};Rt.prototype.getIndexes=function(){throw new Error("Collection#getIndexes unimplemented by driver")};Rt.prototype.mapReduce=function(){throw new Error("Collection#mapReduce unimplemented by driver")};Rt.prototype.watch=function(){throw new Error("Collection#watch unimplemented by driver")};Rt.prototype._shouldBufferCommands=function(){let e=this.opts;return e.bufferCommands!=null?e.bufferCommands:e&&e.schemaUserProvidedOptions!=null&&e.schemaUserProvidedOptions.bufferCommands!=null?e.schemaUserProvidedOptions.bufferCommands:this.conn._shouldBufferCommands()};Rt.prototype._getBufferTimeoutMS=function(){let e=this.conn,r=this.opts;return r.bufferTimeoutMS!=null?r.bufferTimeoutMS:r&&r.schemaUserProvidedOptions!=null&&r.schemaUserProvidedOptions.bufferTimeoutMS!=null?r.schemaUserProvidedOptions.bufferTimeoutMS:e.config.bufferTimeoutMS!=null?e.config.bufferTimeoutMS:e.base!=null&&e.base.get("bufferTimeoutMS")!=null?e.base.get("bufferTimeoutMS"):1e4};iee.exports=Rt});var Sr=h((Flt,oee)=>{"use strict";var xC=class extends Error{};Object.defineProperty(xC.prototype,"name",{value:"MongooseError"});oee.exports=xC});var PR=h((uee,aee)=>{"use strict";var fLe=ku().ObjectId;aee.exports=uee=fLe});var Vn=h((Blt,cee)=>{"use strict";cee.exports=function(e){if(e!=null&&typeof e.constructor=="function")return e.constructor.name}});var MC=h((qlt,lee)=>{"use strict";lee.exports=xs().get().Decimal128});var pe=h(Fr=>{"use strict";Fr.arrayAtomicsBackupSymbol=Symbol("mongoose#Array#atomicsBackup");Fr.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics");Fr.arrayParentSymbol=Symbol("mongoose#Array#_parent");Fr.arrayPathSymbol=Symbol("mongoose#Array#_path");Fr.arraySchemaSymbol=Symbol("mongoose#Array#_schema");Fr.documentArrayParent=Symbol("mongoose:documentArrayParent");Fr.documentIsSelected=Symbol("mongoose#Document#isSelected");Fr.documentIsModified=Symbol("mongoose#Document#isModified");Fr.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths");Fr.documentSchemaSymbol=Symbol("mongoose#Document#schema");Fr.getSymbol=Symbol("mongoose#Document#get");Fr.modelSymbol=Symbol("mongoose#Model");Fr.objectIdSymbol=Symbol("mongoose#ObjectId");Fr.populateModelSymbol=Symbol("mongoose.PopulateOptions#Model");Fr.schemaTypeSymbol=Symbol("mongoose#schemaType");Fr.sessionNewDocuments=Symbol("mongoose:ClientSession#newDocuments");Fr.scopeSymbol=Symbol("mongoose#Document#scope");Fr.validatorErrorSymbol=Symbol("mongoose:validatorError")});var Ll=h((klt,dee)=>{"use strict";var My=xs().get().ObjectId,hLe=pe().objectIdSymbol;Object.defineProperty(My.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}});My.prototype.hasOwnProperty("valueOf")||(My.prototype.valueOf=function(){return this.toString()});My.prototype[hLe]=!0;dee.exports=My});var pf=h((jlt,fee)=>{"use strict";fee.exports=new Set(["__proto__","constructor","prototype"])});var TR=h(hee=>{"use strict";hee.isMongooseArray=function(t){return Array.isArray(t)&&t.isMongooseArray}});var mf=h((Ult,pee)=>{"use strict";var pLe=TR().isMongooseArray;pee.exports=function(t){return t!=null&&(pLe(t)||t.$__!=null||t.isMongooseBuffer||t.$isMongooseMap)}});var DR=h((zlt,mee)=>{"use strict";var mLe=/^function\s*([^\s(]+)/;mee.exports=function(t){return t.name||(t.toString().trim().match(mLe)||[])[1]}});var Wn=h((Vlt,yee)=>{"use strict";function yLe(t,e){return typeof t=="object"&&t!==null&&t._bsontype===e}yee.exports=yLe});var gc=h((Wlt,gee)=>{"use strict";gee.exports=function(t){return Buffer.isBuffer(t)||Object.prototype.toString.call(t)==="[object Object]"}});var yf=h(RR=>{"use strict";var _ee=Symbol("mongoose#trustedSymbol");RR.trustedSymbol=_ee;RR.trusted=function(e){return e==null||typeof e!="object"||(e[_ee]=!0),e}});var Aee=h((Glt,Eee)=>{var gf=1e3,_f=gf*60,Ef=_f*60,Ul=Ef*24,gLe=Ul*7,_Le=Ul*365.25;Eee.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return ELe(t);if(r==="number"&&isFinite(t))return e.long?SLe(t):ALe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function ELe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*_Le;case"weeks":case"week":case"w":return r*gLe;case"days":case"day":case"d":return r*Ul;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ef;case"minutes":case"minute":case"mins":case"min":case"m":return r*_f;case"seconds":case"second":case"secs":case"sec":case"s":return r*gf;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function ALe(t){var e=Math.abs(t);return e>=Ul?Math.round(t/Ul)+"d":e>=Ef?Math.round(t/Ef)+"h":e>=_f?Math.round(t/_f)+"m":e>=gf?Math.round(t/gf)+"s":t+"ms"}function SLe(t){var e=Math.abs(t);return e>=Ul?FC(t,e,Ul,"day"):e>=Ef?FC(t,e,Ef,"hour"):e>=_f?FC(t,e,_f,"minute"):e>=gf?FC(t,e,gf,"second"):t+" ms"}function FC(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var wee=h((Klt,See)=>{"use strict";See.exports=function(e){let r=[],n="",i="DEFAULT";for(let s=0;s<e.length;++s)i==="IN_SQUARE_BRACKETS"&&!/\d/.test(e[s])&&e[s]!=="]"&&(i="DEFAULT",n=r[r.length-1]+"["+n,r.splice(r.length-1,1)),e[s]==="["?(i!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(r.push(n),n=""),i="IN_SQUARE_BRACKETS"):e[s]==="]"?i==="IN_SQUARE_BRACKETS"?(i="IMMEDIATELY_AFTER_SQUARE_BRACKETS",r.push(n),n=""):(i="DEFAULT",n+=e[s]):e[s]==="."?(i!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(r.push(n),n=""),i="DEFAULT"):n+=e[s];return i!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&r.push(n),r}});var bee=h(Qu=>{var Fy=wee(),Oee=["__proto__","constructor","prototype"];Qu.get=function(t,e,r,n){var i;typeof r=="function"&&(r.length<2?(n=r,r=void 0):(i=r,r=void 0)),n||(n=vee);var s=typeof t=="string"?Fy(t):t;if(!Array.isArray(s))throw new TypeError("Invalid `path`. Must be either string or array");for(var o=e,u,a=0;a<s.length;++a){if(u=s[a],typeof s[a]!="string"&&typeof s[a]!="number")throw new TypeError("Each segment of path to `get()` must be a string or number, got "+typeof s[a]);if(Array.isArray(o)&&!/^\d+$/.test(u)){var c=s.slice(a);return[].concat(o).map(function(d){return d?Qu.get(c,d,r||i,n):n(void 0)})}if(i)o=i(o,u);else{var l=r&&o[r]?o[r]:o;o=l instanceof Map?l.get(u):l[u]}if(!o)return n(o)}return n(o)};Qu.has=function(t,e){var r=typeof t=="string"?Fy(t):t;if(!Array.isArray(r))throw new TypeError("Invalid `path`. Must be either string or array");for(var n=r.length,i=e,s=0;s<n;++s){if(typeof r[s]!="string"&&typeof r[s]!="number")throw new TypeError("Each segment of path to `has()` must be a string or number, got "+typeof r[s]);if(i==null||typeof i!="object"||!(r[s]in i))return!1;i=i[r[s]]}return!0};Qu.unset=function(t,e){var r=typeof t=="string"?Fy(t):t;if(!Array.isArray(r))throw new TypeError("Invalid `path`. Must be either string or array");for(var n=r.length,i=e,s=0;s<n;++s){if(i==null||typeof i!="object"||!(r[s]in i))return!1;if(typeof r[s]!="string"&&typeof r[s]!="number")throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+typeof r[s]);if(Oee.indexOf(r[s])!==-1)return!1;if(s===n-1)return delete i[r[s]],!0;i=i instanceof Map?i.get(r[s]):i[r[s]]}return!0};Qu.set=function(t,e,r,n,i,s){var o;typeof n=="function"&&(n.length<2?(i=n,n=void 0):(o=n,n=void 0)),i||(i=vee);var u=typeof t=="string"?Fy(t):t;if(!Array.isArray(u))throw new TypeError("Invalid `path`. Must be either string or array");if(r!=null){for(var a=0;a<u.length;++a){if(typeof u[a]!="string"&&typeof u[a]!="number")throw new TypeError("Each segment of path to `set()` must be a string or number, got "+typeof u[a]);if(Oee.indexOf(u[a])!==-1)return}for(var c=s||/\$/.test(t)&&s!==!1,l=r,d,a=0,f=u.length-1;a<f;++a){if(d=u[a],d=="$"){if(a==f-1)break;continue}if(Array.isArray(l)&&!/^\d+$/.test(d)){var p=u.slice(a);if(!c&&Array.isArray(e))for(var m=0;m<l.length&&m<e.length;++m)Qu.set(p,e[m],l[m],n||o,i,c);else for(var m=0;m<l.length;++m)Qu.set(p,e,l[m],n||o,i,c);return}if(o)l=o(l,d);else{var y=n&&l[n]?l[n]:l;l=y instanceof Map?y.get(d):y[d]}if(!l)return}if(d=u[f],n&&l[n]&&(l=l[n]),Array.isArray(l)&&!/^\d+$/.test(d))if(!c&&Array.isArray(e))Cee(l,e,d,o,n,i);else for(var m=0;m<l.length;++m){var _=l[m];_&&(o?o(_,d,i(e)):(_[n]&&(_=_[n]),_[d]=i(e)))}else o?o(l,d,i(e)):l instanceof Map?l.set(d,i(e)):l[d]=i(e)}};Qu.stringToParts=Fy;function Cee(t,e,r,n,i,s){for(var o,u=0;u<t.length&&u<e.length;++u)o=t[u],Array.isArray(o)&&Array.isArray(e[u])?Cee(o,e[u],r,n,i,s):o&&(n?n(o,r,s(e[u])):(o[i]&&(o=o[i]),o[r]=s(e[u])))}function vee(t){return t}});var Js=h((Iee,Pee)=>{"use strict";Pee.exports=Iee=bee()});var Dee=h((Jlt,Tee)=>{"use strict";var wLe=Qo(),NR=class{constructor(e){if(this._docs={},this._childDocs=[],e!=null&&(e=wLe(e),Object.assign(this,e),typeof e.subPopulate=="object"&&(this.populate=e.subPopulate),e.perDocumentLimit!=null&&e.limit!=null))throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+e.path+"`.")}};Tee.exports=NR});var Nee=h(Ree=>{"use strict";Ree.isMongooseDocumentArray=function(t){return Array.isArray(t)&&t.isMongooseDocumentArray}});var xee=h(pr=>{"use strict";var xR=["__proto__","constructor","prototype"],BC=pr.clone=function t(e,r){if(e==null)return e;if(Array.isArray(e))return pr.cloneArray(e,r);if(e.constructor){if(/ObjectI[dD]$/.test(e.constructor.name))return typeof e.clone=="function"?e.clone():new e.constructor(e.id);if(e.constructor.name==="ReadPreference")return new e.constructor(e.mode,t(e.tags,r));if(e._bsontype=="Binary"&&e.buffer&&e.value)return typeof e.clone=="function"?e.clone():new e.constructor(e.value(!0),e.sub_type);if(e.constructor.name==="Date"||e.constructor.name==="Function")return new e.constructor(+e);if(e.constructor.name==="RegExp")return new RegExp(e);if(e.constructor.name==="Buffer")return Buffer.from(e)}if(CLe(e))return pr.cloneObject(e,r);if(e.valueOf)return e.valueOf()};pr.cloneObject=function(e,r){let n=r&&r.minimize,i={},s=Object.keys(e),o=s.length,u=!1,a,c="",l=0;for(l=0;l<o;++l)c=s[l],xR.indexOf(c)===-1&&(a=BC(e[c],r),(!n||typeof a<"u")&&(u||(u=!0),i[c]=a));return n?u&&i:i};pr.cloneArray=function(e,r){let n=[],i=e.length,s=0;for(;s<i;s++)n.push(BC(e[s],r));return n};pr.tick=function(e){if(typeof e=="function")return function(){let r=arguments;bLe(function(){e.apply(this,r)})}};pr.merge=function t(e,r){let n=Object.keys(r);for(let i of n)xR.indexOf(i)===-1&&(typeof e[i]>"u"?e[i]=r[i]:pr.isObject(r[i])?t(e[i],r[i]):e[i]=r[i])};pr.mergeClone=function t(e,r){let n=Object.keys(r);for(let i of n)xR.indexOf(i)===-1&&(typeof e[i]>"u"?e[i]=BC(r[i]):pr.isObject(r[i])?t(e[i],r[i]):e[i]=BC(r[i]))};pr.readPref=function(e){switch(e){case"p":e="primary";break;case"pp":e="primaryPreferred";break;case"s":e="secondary";break;case"sp":e="secondaryPreferred";break;case"n":e="nearest";break}return e};pr.readConcern=function(e){if(typeof e=="string"){switch(e){case"l":e="local";break;case"a":e="available";break;case"m":e="majority";break;case"lz":e="linearizable";break;case"s":e="snapshot";break}e={level:e}}return e};var OLe=Object.prototype.toString;pr.toString=function(t){return OLe.call(t)};var CLe=pr.isObject=function(t){return pr.toString(t)=="[object Object]"};pr.keys=Object.keys;pr.create=typeof Object.create=="function"?Object.create:vLe;function vLe(t){if(arguments.length>1)throw new Error("Adding properties is not supported");function e(){}return e.prototype=t,new e}pr.inherits=function(t,e){t.prototype=pr.create(e.prototype),t.prototype.constructor=t};var bLe=pr.soon=typeof setImmediate=="function"?setImmediate:process.nextTick;pr.isArgumentsObject=function(t){return Object.prototype.toString.call(t)==="[object Arguments]"}});var Fee=h((Zlt,Mee)=>{var Af=1e3,Sf=Af*60,wf=Sf*60,zl=wf*24,ILe=zl*7,PLe=zl*365.25;Mee.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return TLe(t);if(r==="number"&&isFinite(t))return e.long?RLe(t):DLe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function TLe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*PLe;case"weeks":case"week":case"w":return r*ILe;case"days":case"day":case"d":return r*zl;case"hours":case"hour":case"hrs":case"hr":case"h":return r*wf;case"minutes":case"minute":case"mins":case"min":case"m":return r*Sf;case"seconds":case"second":case"secs":case"sec":case"s":return r*Af;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function DLe(t){var e=Math.abs(t);return e>=zl?Math.round(t/zl)+"d":e>=wf?Math.round(t/wf)+"h":e>=Sf?Math.round(t/Sf)+"m":e>=Af?Math.round(t/Af)+"s":t+"ms"}function RLe(t){var e=Math.abs(t);return e>=zl?qC(t,e,zl,"day"):e>=wf?qC(t,e,wf,"hour"):e>=Sf?qC(t,e,Sf,"minute"):e>=Af?qC(t,e,Af,"second"):t+" ms"}function qC(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var MR=h((edt,Bee)=>{function NLe(t){r.debug=r,r.default=r,r.coerce=a,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Fee(),r.destroy=c,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let d=0;for(let f=0;f<l.length;f++)d=(d<<5)-d+l.charCodeAt(f),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(l){let d,f=null,p,m;function y(..._){if(!y.enabled)return;let g=y,E=Number(new Date),O=E-(d||E);g.diff=O,g.prev=d,g.curr=E,d=E,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let w=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(M,T)=>{if(M==="%%")return"%";w++;let G=r.formatters[T];if(typeof G=="function"){let ee=_[w];M=G.call(g,ee),_.splice(w,1),w--}return M}),r.formatArgs.call(g,_),(g.log||r.log).apply(g,_)}return y.namespace=l,y.useColors=r.useColors(),y.color=r.selectColor(l),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(p!==r.namespaces&&(p=r.namespaces,m=r.enabled(l)),m),set:_=>{f=_}}),typeof r.init=="function"&&r.init(y),y}function n(l,d){let f=r(this.namespace+(typeof d>"u"?":":d)+l);return f.log=this.log,f}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let d,f=(typeof l=="string"?l:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(l=f[d].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function s(){let l=[...r.names.map(u),...r.skips.map(u).map(d=>"-"+d)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let d,f;for(d=0,f=r.skips.length;d<f;d++)if(r.skips[d].test(l))return!1;for(d=0,f=r.names.length;d<f;d++)if(r.names[d].test(l))return!0;return!1}function u(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function a(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Bee.exports=NLe});var qee=h((Fi,$C)=>{Fi.formatArgs=MLe;Fi.save=FLe;Fi.load=BLe;Fi.useColors=xLe;Fi.storage=qLe();Fi.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Fi.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function xLe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function MLe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+$C.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Fi.log=console.debug||console.log||(()=>{});function FLe(t){try{t?Fi.storage.setItem("debug",t):Fi.storage.removeItem("debug")}catch{}}function BLe(){let t;try{t=Fi.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function qLe(){try{return localStorage}catch{}}$C.exports=MR()(Fi);var{formatters:$Le}=$C.exports;$Le.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var kee=h((tdt,$ee)=>{"use strict";$ee.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var Uee=h((rdt,Lee)=>{"use strict";var kLe=require("os"),jee=require("tty"),ws=kee(),{env:Gr}=process,_c;ws("no-color")||ws("no-colors")||ws("color=false")||ws("color=never")?_c=0:(ws("color")||ws("colors")||ws("color=true")||ws("color=always"))&&(_c=1);"FORCE_COLOR"in Gr&&(Gr.FORCE_COLOR==="true"?_c=1:Gr.FORCE_COLOR==="false"?_c=0:_c=Gr.FORCE_COLOR.length===0?1:Math.min(parseInt(Gr.FORCE_COLOR,10),3));function FR(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function BR(t,e){if(_c===0)return 0;if(ws("color=16m")||ws("color=full")||ws("color=truecolor"))return 3;if(ws("color=256"))return 2;if(t&&!e&&_c===void 0)return 0;let r=_c||0;if(Gr.TERM==="dumb")return r;if(process.platform==="win32"){let n=kLe.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Gr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Gr)||Gr.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Gr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Gr.TEAMCITY_VERSION)?1:0;if(Gr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Gr){let n=parseInt((Gr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Gr.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Gr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Gr.TERM)||"COLORTERM"in Gr?1:r}function jLe(t){let e=BR(t,t&&t.isTTY);return FR(e)}Lee.exports={supportsColor:jLe,stdout:FR(BR(!0,jee.isatty(1))),stderr:FR(BR(!0,jee.isatty(2)))}});var Vee=h((an,jC)=>{var LLe=require("tty"),kC=require("util");an.init=KLe;an.log=WLe;an.formatArgs=zLe;an.save=HLe;an.load=GLe;an.useColors=ULe;an.destroy=kC.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");an.colors=[6,2,3,4,5,1];try{let t=Uee();t&&(t.stderr||t).level>=2&&(an.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}an.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function ULe(){return"colors"in an.inspectOpts?Boolean(an.inspectOpts.colors):LLe.isatty(process.stderr.fd)}function zLe(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+jC.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=VLe()+e+" "+t[0]}function VLe(){return an.inspectOpts.hideDate?"":new Date().toISOString()+" "}function WLe(...t){return process.stderr.write(kC.format(...t)+`
`)}function HLe(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function GLe(){return process.env.DEBUG}function KLe(t){t.inspectOpts={};let e=Object.keys(an.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=an.inspectOpts[e[r]]}jC.exports=MR()(an);var{formatters:zee}=jC.exports;zee.o=function(t){return this.inspectOpts.colors=this.useColors,kC.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};zee.O=function(t){return this.inspectOpts.colors=this.useColors,kC.inspect(t,this.inspectOpts)}});var Wee=h((ndt,qR)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?qR.exports=qee():qR.exports=Vee()});var Gee=h(Hee=>{"use strict";var vt=Hee;vt.distinct=function(t){if(t._fields&&Object.keys(t._fields).length>0)return"field selection and slice";let e=Object.keys(vt.distinct),r;return e.every(function(n){return t.options[n]?(r=n,!1):!0}),r};vt.distinct.select=vt.distinct.slice=vt.distinct.sort=vt.distinct.limit=vt.distinct.skip=vt.distinct.batchSize=vt.distinct.maxScan=vt.distinct.snapshot=vt.distinct.hint=vt.distinct.tailable=!0;vt.findOneAndUpdate=vt.findOneAndRemove=function(t){let e=Object.keys(vt.findOneAndUpdate),r;return e.every(function(n){return t.options[n]?(r=n,!1):!0}),r};vt.findOneAndUpdate.limit=vt.findOneAndUpdate.skip=vt.findOneAndUpdate.batchSize=vt.findOneAndUpdate.maxScan=vt.findOneAndUpdate.snapshot=vt.findOneAndUpdate.tailable=!0;vt.count=function(t){if(t._fields&&Object.keys(t._fields).length>0)return"field selection and slice";let e=Object.keys(vt.count),r;return e.every(function(n){return t.options[n]?(r=n,!1):!0}),r};vt.count.slice=vt.count.batchSize=vt.count.maxScan=vt.count.snapshot=vt.count.tailable=!0});var $R=h((Qs,Kee)=>{"use strict";Qs.isNode=typeof process<"u"&&typeof Kee=="object"&&typeof global=="object"&&typeof Buffer=="function"&&process.argv;Qs.isMongo=!Qs.isNode&&typeof printjson=="function"&&typeof ObjectId=="function"&&typeof rs=="function"&&typeof sh=="function";Qs.isBrowser=!Qs.isNode&&!Qs.isMongo&&typeof window<"u";Qs.type=Qs.isNode?"node":Qs.isMongo?"mongo":Qs.isBrowser?"browser":"unknown"});var By=h((Yee,Jee)=>{"use strict";var kR=["find","findOne","update","updateMany","updateOne","replaceOne","remove","count","distinct","findOneAndDelete","findOneAndUpdate","aggregate","findCursor","deleteOne","deleteMany"];function jR(){}for(let t=0,e=kR.length;t<e;++t){let r=kR[t];jR.prototype[r]=YLe(r)}Jee.exports=Yee=jR;jR.methods=kR;function YLe(t){return function(){throw new Error("collection."+t+" not implemented")}}});var Zee=h((Qee,Xee)=>{"use strict";var JLe=By(),LR=class extends JLe{constructor(e){super(),this.collection=e,this.collectionName=e.collectionName}find(e,r,n){let i=this.collection.find(e,r);try{i.toArray(n)}catch(s){n(s)}}findOne(e,r,n){this.collection.findOne(e,r,n)}count(e,r,n){this.collection.count(e,r,n)}distinct(e,r,n,i){this.collection.distinct(e,r,n,i)}update(e,r,n,i){this.collection.update(e,r,n,i)}updateMany(e,r,n,i){this.collection.updateMany(e,r,n,i)}updateOne(e,r,n,i){this.collection.updateOne(e,r,n,i)}replaceOne(e,r,n,i){this.collection.replaceOne(e,r,n,i)}deleteOne(e,r,n){this.collection.deleteOne(e,r,n)}deleteMany(e,r,n){this.collection.deleteMany(e,r,n)}remove(e,r,n){this.collection.remove(e,r,n)}findOneAndDelete(e,r,n){this.collection.findOneAndDelete(e,r,n)}findOneAndUpdate(e,r,n,i){this.collection.findOneAndUpdate(e,r,n,i)}findCursor(e,r){return this.collection.find(e,r)}};Xee.exports=Qee=LR});var tte=h((sdt,ete)=>{"use strict";var UR=$R();if(UR.type=="unknown")throw new Error("Unknown environment");ete.exports=UR.isNode?Zee():UR.isMongo?By():By()});var UC=h((nte,ite)=>{"use strict";var QLe=require("assert"),XLe=require("util"),Oe=xee(),Xo=Wee()("mquery");function B(t,e){if(!(this instanceof B))return new B(t,e);let r=this.constructor.prototype;this.op=r.op||void 0,this.options=Object.assign({},r.options),this._conditions=r._conditions?Oe.clone(r._conditions):{},this._fields=r._fields?Oe.clone(r._fields):void 0,this._update=r._update?Oe.clone(r._update):void 0,this._path=r._path||void 0,this._distinct=r._distinct||void 0,this._collection=r._collection||void 0,this._traceFunction=r._traceFunction||void 0,e&&this.setOptions(e),t&&(t.find&&t.remove&&t.update?this.collection(t):this.find(t))}var Vl="$geoWithin";Object.defineProperty(B,"use$geoWithin",{get:function(){return Vl=="$geoWithin"},set:function(t){t===!0?Vl="$geoWithin":Vl="$within"}});B.prototype.toConstructor=function(){function e(n,i){if(!(this instanceof e))return new e(n,i);B.call(this,n,i)}Oe.inherits(e,B);let r=e.prototype;return r.options={},r.setOptions(this.options),r.op=this.op,r._conditions=Oe.clone(this._conditions),r._fields=Oe.clone(this._fields),r._update=Oe.clone(this._update),r._path=this._path,r._distinct=this._distinct,r._collection=this._collection,r._traceFunction=this._traceFunction,e};B.prototype.setOptions=function(t){if(!(t&&Oe.isObject(t)))return this;let e=Oe.keys(t),r;for(let n=0;n<e.length;++n)if(r=e[n],typeof this[r]=="function"){let i=Array.isArray(t[r])?t[r]:[t[r]];this[r].apply(this,i)}else this.options[r]=t[r];return this};B.prototype.collection=function(e){return this._collection=new B.Collection(e),this};B.prototype.collation=function(t){return this.options.collation=t,this};B.prototype.$where=function(t){return this._conditions.$where=t,this};B.prototype.where=function(){if(!arguments.length)return this;this.op||(this.op="find");let t=typeof arguments[0];if(t=="string")return this._path=arguments[0],arguments.length===2&&(this._conditions[this._path]=arguments[1]),this;if(t=="object"&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw new TypeError("path must be a string or object")};B.prototype.equals=function(e){this._ensurePath("equals");let r=this._path;return this._conditions[r]=e,this};B.prototype.eq=function(e){this._ensurePath("eq");let r=this._path;return this._conditions[r]=e,this};B.prototype.or=function(e){let r=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(e)||(e=[e]),r.push.apply(r,e),this};B.prototype.nor=function(e){let r=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(e)||(e=[e]),r.push.apply(r,e),this};B.prototype.and=function(e){let r=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(e)||(e=[e]),r.push.apply(r,e),this};"gt gte lt lte ne in nin all regex size maxDistance minDistance".split(" ").forEach(function(t){B.prototype[t]=function(){let e,r;arguments.length===1?(this._ensurePath(t),r=arguments[0],e=this._path):(r=arguments[1],e=arguments[0]);let n=this._conditions[e]===null||typeof this._conditions[e]=="object"?this._conditions[e]:this._conditions[e]={};return n["$"+t]=r,this}});B.prototype.mod=function(){let t,e;arguments.length===1?(this._ensurePath("mod"),t=arguments[0],e=this._path):arguments.length===2&&!Array.isArray(arguments[1])?(this._ensurePath("mod"),t=[arguments[0],arguments[1]],e=this._path):arguments.length===3?(t=[arguments[1],arguments[2]],e=arguments[0]):(t=arguments[1],e=arguments[0]);let r=this._conditions[e]||(this._conditions[e]={});return r.$mod=t,this};B.prototype.exists=function(){let t,e;arguments.length===0?(this._ensurePath("exists"),t=this._path,e=!0):arguments.length===1?typeof arguments[0]=="boolean"?(this._ensurePath("exists"),t=this._path,e=arguments[0]):(t=arguments[0],e=!0):arguments.length===2&&(t=arguments[0],e=arguments[1]);let r=this._conditions[t]||(this._conditions[t]={});return r.$exists=e,this};B.prototype.elemMatch=function(){if(arguments[0]==null)throw new TypeError("Invalid argument");let t,e,r;if(typeof arguments[0]=="function")this._ensurePath("elemMatch"),e=this._path,t=arguments[0];else if(Oe.isObject(arguments[0]))this._ensurePath("elemMatch"),e=this._path,r=arguments[0];else if(typeof arguments[1]=="function")e=arguments[0],t=arguments[1];else if(arguments[1]&&Oe.isObject(arguments[1]))e=arguments[0],r=arguments[1];else throw new TypeError("Invalid argument");t&&(r=new B,t(r),r=r._conditions);let n=this._conditions[e]||(this._conditions[e]={});return n.$elemMatch=r,this};B.prototype.within=function(){if(this._ensurePath("within"),this._geoComparison=Vl,arguments.length===0)return this;if(arguments.length===2)return this.box.apply(this,arguments);if(2<arguments.length)return this.polygon.apply(this,arguments);let e=arguments[0];if(!e)throw new TypeError("Invalid argument");if(e.center)return this.circle(e);if(e.box)return this.box.apply(this,e.box);if(e.polygon)return this.polygon.apply(this,e.polygon);if(e.type&&e.coordinates)return this.geometry(e);throw new TypeError("Invalid argument")};B.prototype.box=function(){let t,e;if(arguments.length===3)t=arguments[0],e=[arguments[1],arguments[2]];else if(arguments.length===2)this._ensurePath("box"),t=this._path,e=[arguments[0],arguments[1]];else throw new TypeError("Invalid argument");let r=this._conditions[t]||(this._conditions[t]={});return r[this._geoComparison||Vl]={$box:e},this};B.prototype.polygon=function(){let t,e;typeof arguments[0]=="string"?(t=Array.from(arguments),e=t.shift()):(this._ensurePath("polygon"),e=this._path,t=Array.from(arguments));let r=this._conditions[e]||(this._conditions[e]={});return r[this._geoComparison||Vl]={$polygon:t},this};B.prototype.circle=function(){let t,e;if(arguments.length===1)this._ensurePath("circle"),t=this._path,e=arguments[0];else if(arguments.length===2)t=arguments[0],e=arguments[1];else throw new TypeError("Invalid argument");if(!("radius"in e&&e.center))throw new Error("center and radius are required");let r=this._conditions[t]||(this._conditions[t]={}),n=e.spherical?"$centerSphere":"$center",i=this._geoComparison||Vl;return r[i]={},r[i][n]=[e.center,e.radius],"unique"in e&&(r[i].$uniqueDocs=!!e.unique),this};B.prototype.near=function(){let e,r;if(this._geoComparison="$near",arguments.length===0)return this;if(arguments.length===1)this._ensurePath("near"),e=this._path,r=arguments[0];else if(arguments.length===2)e=arguments[0],r=arguments[1];else throw new TypeError("Invalid argument");if(!r.center)throw new Error("center is required");let n=this._conditions[e]||(this._conditions[e]={}),i=r.spherical?"$nearSphere":"$near";if(Array.isArray(r.center)){n[i]=r.center;let s="maxDistance"in r?r.maxDistance:null;s!=null&&(n.$maxDistance=s),r.minDistance!=null&&(n.$minDistance=r.minDistance)}else{if(r.center.type!="Point"||!Array.isArray(r.center.coordinates))throw new Error(XLe.format("Invalid GeoJSON specified for %s",i));n[i]={$geometry:r.center},"maxDistance"in r&&(n[i].$maxDistance=r.maxDistance),"minDistance"in r&&(n[i].$minDistance=r.minDistance)}return this};B.prototype.intersects=function(){if(this._ensurePath("intersects"),this._geoComparison="$geoIntersects",arguments.length===0)return this;let e=arguments[0];if(e!=null&&e.type&&e.coordinates)return this.geometry(e);throw new TypeError("Invalid argument")};B.prototype.geometry=function(){if(!(this._geoComparison=="$within"||this._geoComparison=="$geoWithin"||this._geoComparison=="$near"||this._geoComparison=="$geoIntersects"))throw new Error("geometry() must come after `within()`, `intersects()`, or `near()");let e,r;if(arguments.length===1)this._ensurePath("geometry"),r=this._path,e=arguments[0];else throw new TypeError("Invalid argument");if(!(e.type&&Array.isArray(e.coordinates)))throw new TypeError("Invalid argument");let n=this._conditions[r]||(this._conditions[r]={});return n[this._geoComparison]={$geometry:e},this};B.prototype.select=function(){let e=arguments[0];if(!e)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");let r=this._fields||(this._fields={}),n=typeof e,i,s;if((n=="string"||Oe.isArgumentsObject(e))&&typeof e.length=="number"||Array.isArray(e)){for(n=="string"&&(e=e.split(/\s+/)),i=0,s=e.length;i<s;++i){let o=e[i];if(!o)continue;let u=o[0]=="-"?0:1;u===0&&(o=o.substring(1)),r[o]=u}return this}if(Oe.isObject(e)){let o=Oe.keys(e);for(i=0;i<o.length;++i)r[o[i]]=e[o[i]];return this}throw new TypeError("Invalid select() argument. Must be string or object.")};B.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let t,e;if(arguments.length===1){let n=arguments[0];if(typeof n=="object"&&!Array.isArray(n)){let i=Object.keys(n),s=i.length;for(let o=0;o<s;++o)this.slice(i[o],n[i[o]]);return this}this._ensurePath("slice"),t=this._path,e=arguments[0]}else arguments.length===2?typeof arguments[0]=="number"?(this._ensurePath("slice"),t=this._path,e=[arguments[0],arguments[1]]):(t=arguments[0],e=arguments[1]):arguments.length===3&&(t=arguments[0],e=[arguments[1],arguments[2]]);let r=this._fields||(this._fields={});return r[t]={$slice:e},this};B.prototype.sort=function(t){if(!t)return this;let e,r,n;this._validate("sort");let i=typeof t;if(Array.isArray(t)){for(r=t.length,e=0;e<t.length;++e){if(!Array.isArray(t[e]))throw new Error("Invalid sort() argument, must be array of arrays");ZLe(this.options,t[e][0],t[e][1])}return this}if(arguments.length===1&&i=="string"){for(t=t.split(/\s+/),r=t.length,e=0;e<r;++e){if(n=t[e],!n)continue;let s=n[0]=="-"?-1:1;s===-1&&(n=n.substring(1)),rte(this.options,n,s)}return this}if(Oe.isObject(t)){let s=Oe.keys(t);for(e=0;e<s.length;++e)n=s[e],rte(this.options,n,t[n]);return this}if(typeof Map<"u"&&t instanceof Map)return eUe(this.options,t),this;throw new TypeError("Invalid sort() argument. Must be a string, object, or array.")};var zR={1:1,"-1":-1,asc:1,ascending:1,desc:-1,descending:-1};function rte(t,e,r){if(Array.isArray(t.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");let n;if(r&&r.$meta){n=t.sort||(t.sort={}),n[e]={$meta:r.$meta};return}n=t.sort||(t.sort={});let i=String(r||1).toLowerCase();if(i=zR[i],!i)throw new TypeError("Invalid sort value: { "+e+": "+r+" }");n[e]=i}function ZLe(t,e,r){if(t.sort=t.sort||[],!Array.isArray(t.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");let n=String(r||1).toLowerCase();if(n=zR[n],!n)throw new TypeError("Invalid sort value: [ "+e+", "+r+" ]");t.sort.push([e,n])}function eUe(t,e){if(t.sort=t.sort||new Map,!(t.sort instanceof Map))throw new TypeError("Can't mix sort syntaxes. Use either array or object or map consistently");e.forEach(function(r,n){let i=String(r||1).toLowerCase();if(i=zR[i],!i)throw new TypeError("Invalid sort value: < "+n+": "+r+" >");t.sort.set(n,i)})}["limit","skip","maxScan","batchSize","comment"].forEach(function(t){B.prototype[t]=function(e){return this._validate(t),this.options[t]=e,this}});B.prototype.maxTime=B.prototype.maxTimeMS=function(t){return this._validate("maxTime"),this.options.maxTimeMS=t,this};B.prototype.snapshot=function(){return this._validate("snapshot"),this.options.snapshot=arguments.length?!!arguments[0]:!0,this};B.prototype.hint=function(){if(arguments.length===0)return this;this._validate("hint");let t=arguments[0];if(Oe.isObject(t)){let e=this.options.hint||(this.options.hint={});for(let r in t)e[r]=t[r];return this}if(typeof t=="string")return this.options.hint=t,this;throw new TypeError("Invalid hint. "+t)};B.prototype.j=function(e){return this.options.j=e,this};B.prototype.slaveOk=function(t){return this.options.slaveOk=arguments.length?!!t:!0,this};B.prototype.read=B.prototype.setReadPreference=function(t){return arguments.length>1&&!B.prototype.read.deprecationWarningIssued&&(console.error("Deprecation warning: 'tags' argument is not supported anymore in Query.read() method. Please use mongodb.ReadPreference object instead."),B.prototype.read.deprecationWarningIssued=!0),this.options.readPreference=Oe.readPref(t),this};B.prototype.readConcern=B.prototype.r=function(t){return this.options.readConcern=Oe.readConcern(t),this};B.prototype.tailable=function(){return this._validate("tailable"),this.options.tailable=arguments.length?!!arguments[0]:!0,this};B.prototype.writeConcern=B.prototype.w=function(e){return typeof e=="object"?(typeof e.j<"u"&&(this.options.j=e.j),typeof e.w<"u"&&(this.options.w=e.w),typeof e.wtimeout<"u"&&(this.options.wtimeout=e.wtimeout)):this.options.w=e==="m"?"majority":e,this};B.prototype.wtimeout=B.prototype.wTimeout=function(e){return this.options.wtimeout=e,this};B.prototype.merge=function(t){if(!t)return this;if(!B.canMerge(t))throw new TypeError("Invalid argument. Expected instanceof mquery or plain object");return t instanceof B?(t._conditions&&Oe.merge(this._conditions,t._conditions),t._fields&&(this._fields||(this._fields={}),Oe.merge(this._fields,t._fields)),t.options&&(this.options||(this.options={}),Oe.merge(this.options,t.options)),t._update&&(this._update||(this._update={}),Oe.mergeClone(this._update,t._update)),t._distinct&&(this._distinct=t._distinct),this):(Oe.merge(this._conditions,t),this)};B.prototype.find=function(t,e){if(this.op="find",typeof t=="function"?(e=t,t=void 0):B.canMerge(t)&&this.merge(t),!e)return this;let r=this._conditions,n=this._optionsForExec();return this.$useProjection?n.projection=this._fieldsForExec():n.fields=this._fieldsForExec(),Xo("find",this._collection.collectionName,r,n),e=this._wrapCallback("find",e,{conditions:r,options:n}),this._collection.find(r,n,Oe.tick(e)),this};B.prototype.cursor=function(e){if(this.op){if(this.op!=="find")throw new TypeError(".cursor only support .find method")}else this.find(e);let r=this._conditions,n=this._optionsForExec();return this.$useProjection?n.projection=this._fieldsForExec():n.fields=this._fieldsForExec(),Xo("findCursor",this._collection.collectionName,r,n),this._collection.findCursor(r,n)};B.prototype.findOne=function(t,e){if(this.op="findOne",typeof t=="function"?(e=t,t=void 0):B.canMerge(t)&&this.merge(t),!e)return this;let r=this._conditions,n=this._optionsForExec();return this.$useProjection?n.projection=this._fieldsForExec():n.fields=this._fieldsForExec(),Xo("findOne",this._collection.collectionName,r,n),e=this._wrapCallback("findOne",e,{conditions:r,options:n}),this._collection.findOne(r,n,Oe.tick(e)),this};B.prototype.count=function(t,e){if(this.op="count",this._validate(),typeof t=="function"?(e=t,t=void 0):B.canMerge(t)&&this.merge(t),!e)return this;let r=this._conditions,n=this._optionsForExec();return Xo("count",this._collection.collectionName,r,n),e=this._wrapCallback("count",e,{conditions:r,options:n}),this._collection.count(r,n,Oe.tick(e)),this};B.prototype.distinct=function(t,e,r){if(this.op="distinct",this._validate(),!r){switch(typeof e){case"function":r=e,typeof t=="string"&&(e=t,t=void 0);break;case"undefined":case"string":break;default:throw new TypeError("Invalid `field` argument. Must be string or function")}switch(typeof t){case"function":r=t,t=e=void 0;break;case"string":e=t,t=void 0;break}}if(typeof e=="string"&&(this._distinct=e),B.canMerge(t)&&this.merge(t),!r)return this;if(!this._distinct)throw new Error("No value for `distinct` has been declared");let n=this._conditions,i=this._optionsForExec();return Xo("distinct",this._collection.collectionName,n,i),r=this._wrapCallback("distinct",r,{conditions:n,options:i}),this._collection.distinct(this._distinct,n,i,Oe.tick(r)),this};B.prototype.update=function(e,r,n,i){let s;switch(arguments.length){case 3:typeof n=="function"&&(i=n,n=void 0);break;case 2:typeof r=="function"&&(i=r,r=e,e=void 0);break;case 1:switch(typeof e){case"function":i=e,e=n=r=void 0;break;case"boolean":s=e,e=void 0;break;default:r=e,e=n=void 0;break}}return LC(this,"update",e,r,n,s,i)};B.prototype.updateMany=function(e,r,n,i){let s;switch(arguments.length){case 3:typeof n=="function"&&(i=n,n=void 0);break;case 2:typeof r=="function"&&(i=r,r=e,e=void 0);break;case 1:switch(typeof e){case"function":i=e,e=n=r=void 0;break;case"boolean":s=e,e=void 0;break;default:r=e,e=n=void 0;break}}return LC(this,"updateMany",e,r,n,s,i)};B.prototype.updateOne=function(e,r,n,i){let s;switch(arguments.length){case 3:typeof n=="function"&&(i=n,n=void 0);break;case 2:typeof r=="function"&&(i=r,r=e,e=void 0);break;case 1:switch(typeof e){case"function":i=e,e=n=r=void 0;break;case"boolean":s=e,e=void 0;break;default:r=e,e=n=void 0;break}}return LC(this,"updateOne",e,r,n,s,i)};B.prototype.replaceOne=function(e,r,n,i){let s;switch(arguments.length){case 3:typeof n=="function"&&(i=n,n=void 0);break;case 2:typeof r=="function"&&(i=r,r=e,e=void 0);break;case 1:switch(typeof e){case"function":i=e,e=n=r=void 0;break;case"boolean":s=e,e=void 0;break;default:r=e,e=n=void 0;break}}return this.setOptions({overwrite:!0}),LC(this,"replaceOne",e,r,n,s,i)};function LC(t,e,r,n,i,s,o){return t.op=e,B.canMerge(r)&&t.merge(r),n&&t._mergeUpdate(n),Oe.isObject(i)&&t.setOptions(i),s||o?!t._update||!t.options.overwrite&&Oe.keys(t._update).length===0?(o&&Oe.soon(o.bind(null,null,0)),t):(i=t._optionsForExec(),o||(i.safe=!1),r=t._conditions,n=t._updateForExec(),Xo("update",t._collection.collectionName,r,n,i),o=t._wrapCallback(e,o,{conditions:r,doc:n,options:i}),t._collection[e](r,n,i,Oe.tick(o)),t):t}B.prototype.remove=function(t,e){this.op="remove";let r;if(typeof t=="function"?(e=t,t=void 0):B.canMerge(t)?this.merge(t):t===!0&&(r=t,t=void 0),!(r||e))return this;let n=this._optionsForExec();e||(n.safe=!1);let i=this._conditions;return Xo("remove",this._collection.collectionName,i,n),e=this._wrapCallback("remove",e,{conditions:i,options:n}),this._collection.remove(i,n,Oe.tick(e)),this};B.prototype.deleteOne=function(t,e){this.op="deleteOne";let r;if(typeof t=="function"?(e=t,t=void 0):B.canMerge(t)?this.merge(t):t===!0&&(r=t,t=void 0),!(r||e))return this;let n=this._optionsForExec();e||(n.safe=!1),delete n.justOne;let i=this._conditions;return Xo("deleteOne",this._collection.collectionName,i,n),e=this._wrapCallback("deleteOne",e,{conditions:i,options:n}),this._collection.deleteOne(i,n,Oe.tick(e)),this};B.prototype.deleteMany=function(t,e){this.op="deleteMany";let r;if(typeof t=="function"?(e=t,t=void 0):B.canMerge(t)?this.merge(t):t===!0&&(r=t,t=void 0),!(r||e))return this;let n=this._optionsForExec();e||(n.safe=!1),delete n.justOne;let i=this._conditions;return Xo("deleteOne",this._collection.collectionName,i,n),e=this._wrapCallback("deleteOne",e,{conditions:i,options:n}),this._collection.deleteMany(i,n,Oe.tick(e)),this};B.prototype.findOneAndUpdate=function(t,e,r,n){switch(this.op="findOneAndUpdate",this._validate(),arguments.length){case 3:typeof r=="function"&&(n=r,r={});break;case 2:typeof e=="function"&&(n=e,e=t,t=void 0),r=void 0;break;case 1:typeof t=="function"?(n=t,t=r=e=void 0):(e=t,t=r=void 0)}if(B.canMerge(t)&&this.merge(t),e&&this._mergeUpdate(e),r&&this.setOptions(r),!n)return this;let i=this._conditions,s=this._updateForExec();return r=this._optionsForExec(),this._collection.findOneAndUpdate(i,s,r,Oe.tick(n))};B.prototype.findOneAndRemove=B.prototype.findOneAndDelete=function(t,e,r){if(this.op="findOneAndRemove",this._validate(),typeof e=="function"?(r=e,e=void 0):typeof t=="function"&&(r=t,t=void 0),B.canMerge(t)&&this.merge(t),e&&this.setOptions(e),!r)return this;e=this._optionsForExec();let n=this._conditions;return this._collection.findOneAndDelete(n,e,Oe.tick(r))};B.prototype._wrapCallback=function(t,e,r){let n=this._traceFunction||B.traceFunction;if(n){r.collectionName=this._collection.collectionName;let i=n&&n.call(null,t,r,this),s=new Date().getTime();return function(u,a){if(i){let c=new Date().getTime()-s;i.call(null,u,a,c)}e&&e.apply(null,arguments)}}return e};B.prototype.setTraceFunction=function(t){return this._traceFunction=t,this};B.prototype.exec=function(e,r){switch(typeof e){case"function":r=e,e=null;break;case"string":this.op=e;break}QLe.ok(this.op,"Missing query type: (find, update, etc)"),(this.op=="update"||this.op=="remove")&&(r||(r=!0));let n=this;if(typeof r=="function")this[this.op](r);else return new B.Promise(function(i,s){n[n.op](function(o,u){o?s(o):i(u),i=s=null})})};B.prototype.thunk=function(){let t=this;return function(e){t.exec(e)}};B.prototype.then=function(t,e){let r=this;return new B.Promise(function(i,s){r.exec(function(o,u){o?s(o):i(u),i=s=null})}).then(t,e)};B.prototype.cursor=function(){if(this.op!="find")throw new Error("cursor() is only available for find");let t=this._conditions,e=this._optionsForExec();return this.$useProjection?e.projection=this._fieldsForExec():e.fields=this._fieldsForExec(),Xo("cursor",this._collection.collectionName,t,e),this._collection.findCursor(t,e)};B.prototype.selected=function(){return!!(this._fields&&Object.keys(this._fields).length>0)};B.prototype.selectedInclusively=function(){if(!this._fields)return!1;let e=Object.keys(this._fields);if(e.length===0)return!1;for(let r=0;r<e.length;++r){let n=e[r];if(this._fields[n]===0||this._fields[n]&&typeof this._fields[n]=="object"&&this._fields[n].$meta)return!1}return!0};B.prototype.selectedExclusively=function(){if(!this._fields)return!1;let e=Object.keys(this._fields);if(e.length===0)return!1;for(let r=0;r<e.length;++r){let n=e[r];if(this._fields[n]===0)return!0}return!1};B.prototype._mergeUpdate=function(t){this._update||(this._update={}),t instanceof B?t._update&&Oe.mergeClone(this._update,t._update):Oe.mergeClone(this._update,t)};B.prototype._optionsForExec=function(){return Oe.clone(this.options)};B.prototype._fieldsForExec=function(){return Oe.clone(this._fields)};B.prototype._updateForExec=function(){let t=Oe.clone(this._update),e=Oe.keys(t),r={};for(let n of e){if(this.options.overwrite){r[n]=t[n];continue}n[0]!=="$"?(r.$set||(t.$set?r.$set=t.$set:r.$set={}),r.$set[n]=t[n],~e.indexOf("$set")||e.push("$set")):n==="$set"&&r.$set||(r[n]=t[n])}return this._compiledUpdate=r,r};B.prototype._ensurePath=function(t){if(!this._path){let e=t+"() must be used after where() when called with these arguments";throw new Error(e)}};B.permissions=Gee();B._isPermitted=function(t,e){let r=B.permissions[e];return r?r[t]!==!0:!0};B.prototype._validate=function(t){let e,r;if(t===void 0){if(r=B.permissions[this.op],typeof r!="function")return!0;e=r(this)}else B._isPermitted(t,this.op)||(e=t);if(e)throw new Error(e+" cannot be used with "+this.op)};B.canMerge=function(t){return t instanceof B||Oe.isObject(t)};B.setGlobalTraceFunction=function(t){B.traceFunction=t};B.utils=Oe;B.env=$R();B.Collection=tte();B.BaseCollection=By();B.Promise=Promise;ite.exports=nte=B});var qy=h((odt,ste)=>{"use strict";var tUe=require("assert"),rUe=UC(),Of={_promise:null};Of.get=function(){return Of._promise};Of.set=function(t){tUe.ok(typeof t=="function",`mongoose.Promise must be a function, got ${t}`),Of._promise=t,rUe.Promise=t};Of.set(global.Promise);ste.exports=Of});var Bi=h((udt,ote)=>{"use strict";var nUe=qy(),iUe=zn(),Cf=Symbol("mongoose:emitted");ote.exports=function(e,r,n,i){if(typeof e=="function")try{return r(function(s){if(s!=null){n!=null&&n.listeners!=null&&n.listeners("error").length>0&&!s[Cf]&&(s[Cf]=!0,n.emit("error",s));try{e(s)}catch(o){return iUe(()=>{throw o})}return}e.apply(this,arguments)})}catch(s){return n!=null&&n.listeners!=null&&n.listeners("error").length>0&&!s[Cf]&&(s[Cf]=!0,n.emit("error",s)),e(s)}return i=i||nUe.get(),new i((s,o)=>{r(function(u,a){if(u!=null)return n!=null&&n.listeners!=null&&n.listeners("error").length>0&&!u[Cf]&&(u[Cf]=!0,n.emit("error",u)),o(u);if(arguments.length>2)return s(Array.prototype.slice.call(arguments,1));s(a)})})}});var zC=h((adt,ute)=>{"use strict";ute.exports=function(e,r,n){let i=Object.keys(r.tree),s={};for(let o of i)n&&(e.paths[o]||e.nested[o]||e.singleNestedPaths[o])||(s[o]=r.tree[o]);e.add(s),e.callQueue=e.callQueue.concat(r.callQueue),e.method(r.methods),e.static(r.statics);for(let o in r.query)e.query[o]=r.query[o];for(let o in r.virtuals)e.virtuals[o]=r.virtuals[o].clone();e._indexes=e._indexes.concat(r._indexes||[]),e.s.hooks.merge(r.s.hooks,!1)}});var lte=h((ate,cte)=>{"use strict";var cdt=we(),Xs=cte.exports=ate=function(){};Xs.ctor=function(){let t=[...arguments],e=function(){Xs.apply(this,arguments),this.paths={},this.states={}};return e.prototype=new Xs,e.prototype.stateNames=t,t.forEach(function(r){e.prototype[r]=function(n){this._changeState(n,r)}}),e};Xs.prototype._changeState=function(e,r){let n=this.states[this.paths[e]];n&&delete n[e],this.paths[e]=r,this.states[r]=this.states[r]||{},this.states[r][e]=!0};Xs.prototype.clear=function(e){if(this.states[e]==null)return;let r=Object.keys(this.states[e]),n=r.length,i;for(;n--;)i=r[n],delete this.states[e][i],delete this.paths[i]};Xs.prototype.clearPath=function(e){let r=this.paths[e];r&&(delete this.paths[e],delete this.states[r][e])};Xs.prototype.getStatePaths=function(e){return this.states[e]!=null?this.states[e]:{}};Xs.prototype.some=function(){let e=this,r=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(r,function(n){return e.states[n]==null?!1:Object.keys(e.states[n]).length})};Xs.prototype._iter=function(e){return function(){let r=[...arguments],n=r.pop();r.length||(r=this.stateNames);let i=this;return r.reduce(function(o,u){return i.states[u]==null?o:o.concat(Object.keys(i.states[u]))},[])[e](function(o,u,a){return n(o,u,a)})}};Xs.prototype.forEach=function(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)};Xs.prototype.map=function(){return this.map=this._iter("map"),this.map.apply(this,arguments)}});var hte=h((dte,fte)=>{"use strict";var sUe=lte(),oUe=sUe.ctor("require","modify","init","default","ignore");fte.exports=dte=mr;function mr(){this.activePaths=new oUe}mr.prototype.strictMode=!0;mr.prototype.fullPath=void 0;mr.prototype.selected=void 0;mr.prototype.shardval=void 0;mr.prototype.saveError=void 0;mr.prototype.validationError=void 0;mr.prototype.adhocPaths=void 0;mr.prototype.removing=void 0;mr.prototype.inserting=void 0;mr.prototype.saving=void 0;mr.prototype.version=void 0;mr.prototype._id=void 0;mr.prototype.ownerDocument=void 0;mr.prototype.populate=void 0;mr.prototype.populated=void 0;mr.prototype.primitiveAtomics=void 0;mr.prototype.wasPopulated=!1;mr.prototype.scope=void 0;mr.prototype.session=null;mr.prototype.pathsToScopes=null;mr.prototype.cachedRequired=null});var yte=h((pte,mte)=>{"use strict";var Pn=mte.exports=pte={};Pn.DocumentNotFoundError=null;Pn.general={};Pn.general.default="Validator failed for path `{PATH}` with value `{VALUE}`";Pn.general.required="Path `{PATH}` is required.";Pn.Number={};Pn.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).";Pn.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).";Pn.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";Pn.Date={};Pn.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).";Pn.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).";Pn.String={};Pn.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.";Pn.String.match="Path `{PATH}` is invalid ({VALUE}).";Pn.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).";Pn.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."});var WC=h((ldt,_te)=>{"use strict";var gte=kt(),uUe=require("util"),VC=class extends gte{constructor(e,r,n,i){let s,o=gte.messages;o.DocumentNotFoundError!=null?s=typeof o.DocumentNotFoundError=="function"?o.DocumentNotFoundError(e,r):o.DocumentNotFoundError:s='No document found for query "'+uUe.inspect(e)+'" on model "'+r+'"',super(s),this.result=i,this.numAffected=n,this.filter=e,this.query=e}};Object.defineProperty(VC.prototype,"name",{value:"DocumentNotFoundError"});_te.exports=VC});var fi=h((ddt,wte)=>{"use strict";var aUe=Sr(),cUe=require("util"),HC=class extends aUe{constructor(e,r,n,i,s){if(arguments.length>0){let o=Ete(r),u=Ate(r),a=Ste(s),c=VR(null,e,o,n,a,u,i);super(c),this.init(e,r,n,i,s)}else super(VR())}toJSON(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}init(e,r,n,i,s){this.stringValue=Ete(r),this.messageFormat=Ste(s),this.kind=e,this.value=r,this.path=n,this.reason=i,this.valueType=Ate(r)}copy(e){this.messageFormat=e.messageFormat,this.stringValue=e.stringValue,this.kind=e.kind,this.value=e.value,this.path=e.path,this.reason=e.reason,this.message=e.message,this.valueType=e.valueType}setModel(e){this.model=e,this.message=VR(e,this.kind,this.stringValue,this.path,this.messageFormat,this.valueType)}};Object.defineProperty(HC.prototype,"name",{value:"CastError"});function Ete(t){let e=cUe.inspect(t);return e=e.replace(/^'|'$/g,'"'),e.startsWith('"')||(e='"'+e+'"'),e}function Ate(t){if(t==null)return""+t;let e=typeof t;return e!=="object"||typeof t.constructor!="function"?e:t.constructor.name}function Ste(t){let e=t&&t.options&&t.options.cast||null;if(typeof e=="string")return e}function VR(t,e,r,n,i,s,o){if(i!=null){let u=i.replace("{KIND}",e).replace("{VALUE}",r).replace("{PATH}",n);return t!=null&&(u=u.replace("{MODEL}",t.modelName)),u}else{let u=s?" (type "+s+")":"",a="Cast to "+e+" failed for value "+r+u+' at path "'+n+'"';return t!=null&&(a+=' for model "'+t.modelName+'"'),o!=null&&typeof o.constructor=="function"&&o.constructor.name!=="AssertionError"&&o.constructor.name!=="Error"&&(a+=' because of "'+o.constructor.name+'"'),a}}wte.exports=HC});var WR=h((fdt,Ote)=>{"use strict";Ote.exports=function(e){let r=Object.keys(e.errors||{}),n=r.length,i=[],s;for(let o=0;o<n;++o)s=r[o],e!==e.errors[s]&&i.push(s+": "+e.errors[s].message);return i.join(", ")}});var Wl=h((hdt,bte)=>{"use strict";var lUe=Sr(),dUe=Vn(),Cte=require("util"),vte=WR(),Xu=class extends lUe{constructor(e){let r;dUe(e)==="model"?r=e.constructor.modelName+" validation failed":r="Validation failed",super(r),this.errors={},this._message=r,e&&(e.$errors=this.errors)}toString(){return this.name+": "+vte(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(e,r){if(r instanceof Xu){let{errors:n}=r;for(let i of Object.keys(n))this.addError(`${e}.${i}`,n[i]);return}this.errors[e]=r,this.message=this._message+": "+vte(this)}};Cte.inspect.custom&&(Xu.prototype[Cte.inspect.custom]=Xu.prototype.inspect);Object.defineProperty(Xu.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(Xu.prototype,"name",{value:"ValidationError"});bte.exports=Xu});var HR=h((pdt,Tte)=>{"use strict";var Ite=kt(),vf=class extends Ite{constructor(e,r){let n=e.message;n||(n=Ite.messages.general.default);let i=Pte(n,e,r);super(i),e=Object.assign({},e,{message:i}),this.properties=e,this.kind=e.type,this.path=e.path,this.value=e.value,this.reason=e.reason}toString(){return this.message}toJSON(){return Object.assign({name:this.name,message:this.message},this)}};Object.defineProperty(vf.prototype,"name",{value:"ValidatorError"});Object.defineProperty(vf.prototype,"properties",{enumerable:!1,writable:!0,value:null});vf.prototype.formatMessage=Pte;function Pte(t,e,r){if(typeof t=="function")return t(e,r);let n=Object.keys(e);for(let i of n)i!=="message"&&(t=t.replace("{"+i.toUpperCase()+"}",e[i]));return t}Tte.exports=vf});var GR=h((mdt,Dte)=>{"use strict";var fUe=kt(),GC=class extends fUe{constructor(e,r,n){let i=n.join(", ");super('No matching document found for id "'+e._id+'" version '+r+' modifiedPaths "'+i+'"'),this.version=r,this.modifiedPaths=n}};Object.defineProperty(GC.prototype,"name",{value:"VersionError"});Dte.exports=GC});var KR=h((ydt,Rte)=>{"use strict";var hUe=kt(),KC=class extends hUe{constructor(e){let r="Can't save() the same doc multiple times in parallel. Document: ";super(r+e._id)}};Object.defineProperty(KC.prototype,"name",{value:"ParallelSaveError"});Rte.exports=KC});var YR=h((gdt,Nte)=>{"use strict";var pUe=kt(),YC=class extends pUe{constructor(e){super("Cannot overwrite `"+e+"` model once compiled.")}};Object.defineProperty(YC.prototype,"name",{value:"OverwriteModelError"});Nte.exports=YC});var Mte=h((_dt,xte)=>{"use strict";var mUe=kt(),JC=class extends mUe{constructor(e){let r=`Schema hasn't been registered for model "`+e+`".
Use mongoose.model(name, schema)`;super(r)}};Object.defineProperty(JC.prototype,"name",{value:"MissingSchemaError"});xte.exports=JC});var Bte=h((Edt,Fte)=>{"use strict";var yUe=Vn();Fte.exports=function(e){if(yUe(e)!=="TopologyDescription")return!1;let r=Array.from(e.servers.values());return r.length>0&&r.every(n=>n.type==="Unknown")}});var $te=h((Adt,qte)=>{"use strict";var gUe=Vn();qte.exports=function(e){if(gUe(e)!=="TopologyDescription"||e.servers.size===0)return!1;for(let r of e.servers.values())if(r.host.endsWith(".mongodb.net")===!1||r.port!==27017)return!1;return!0}});var jte=h((Sdt,kte)=>{"use strict";var _Ue=Vn(),EUe="Client network socket disconnected before secure TLS connection was established";kte.exports=function(e){if(_Ue(e)!=="TopologyDescription")return!1;let r=Array.from(e.servers.values());return r.length>0&&r.every(n=>n.error&&n.error.message.indexOf(EUe)!==-1)}});var XC=h((wdt,Lte)=>{"use strict";var AUe=Sr(),SUe=Bte(),wUe=$te(),OUe=jte();var CUe="Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/",vUe="Mongoose is connecting with SSL enabled, but the server is not accepting SSL connections. Please ensure that the MongoDB server you are connecting to is configured to accept SSL connections. Learn more: https://mongoosejs.com/docs/tutorials/ssl.html",QC=class extends AUe{assimilateError(e){let r=e.reason;wUe(r)&&SUe(r)&&e.message.indexOf("bad auth")===-1&&e.message.indexOf("Authentication failed")===-1?this.message=CUe:OUe(r)?this.message=vUe:this.message=e.message;for(let i in e)i!=="name"&&(this[i]=e[i]);return this}};Object.defineProperty(QC.prototype,"name",{value:"MongooseServerSelectionError"});Lte.exports=QC});var JR=h((Odt,Ute)=>{"use strict";var bUe=kt(),ZC=class extends bUe{constructor(e){let r="For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+e.join(`
  `)+`
Use Model.update() to update these arrays instead.`;super(r)}};Object.defineProperty(ZC.prototype,"name",{value:"DivergentArrayError"});Ute.exports=ZC});var Ec=h((Cdt,zte)=>{"use strict";var IUe=kt(),e4=class extends IUe{constructor(e,r,n){r=r||"Field `"+e+"` is not in schema and strict mode is set to throw.",super(r),this.isImmutableError=!!n,this.path=e}};Object.defineProperty(e4.prototype,"name",{value:"StrictModeError"});zte.exports=e4});var QR=h((vdt,Vte)=>{"use strict";var PUe=kt(),t4=class extends PUe{constructor(e,r){r=r||"Cannot populate path `"+e+"` because it is not in your schema. Set the `strictPopulate` option to false to override.",super(r),this.path=e}};Object.defineProperty(t4.prototype,"name",{value:"StrictPopulateError"});Vte.exports=t4});var kt=h((Wte,Hte)=>{"use strict";var Tn=Sr();Hte.exports=Wte=Tn;Tn.messages=yte();Tn.Messages=Tn.messages;Tn.DocumentNotFoundError=WC();Tn.CastError=fi();Tn.ValidationError=Wl();Tn.ValidatorError=HR();Tn.VersionError=GR();Tn.ParallelSaveError=KR();Tn.OverwriteModelError=YR();Tn.MissingSchemaError=Mte();Tn.MongooseServerSelectionError=XC();Tn.DivergentArrayError=JR();Tn.StrictModeError=Ec();Tn.StrictPopulateError=QR()});var Os=h((bdt,Gte)=>{"use strict";Gte.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})});var qi=h((Idt,Kte)=>{"use strict";var TUe=Qo(),cn=class{constructor(e){if(e==null)return this;Object.assign(this,TUe(e))}},hi=Os();Object.defineProperty(cn.prototype,"type",hi);Object.defineProperty(cn.prototype,"validate",hi);Object.defineProperty(cn.prototype,"cast",hi);Object.defineProperty(cn.prototype,"required",hi);Object.defineProperty(cn.prototype,"default",hi);Object.defineProperty(cn.prototype,"ref",hi);Object.defineProperty(cn.prototype,"refPath",hi);Object.defineProperty(cn.prototype,"select",hi);Object.defineProperty(cn.prototype,"index",hi);Object.defineProperty(cn.prototype,"unique",hi);Object.defineProperty(cn.prototype,"immutable",hi);Object.defineProperty(cn.prototype,"sparse",hi);Object.defineProperty(cn.prototype,"text",hi);Object.defineProperty(cn.prototype,"transform",hi);Kte.exports=cn});var r4=h((Pdt,bf)=>{"use strict";var DUe=fi();bf.exports=function(e,r){if(bf.exports.convertToTrue.has(e))return!0;if(bf.exports.convertToFalse.has(e))return!1;if(e==null)return e;throw new DUe("boolean",e,r)};bf.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]);bf.exports.convertToFalse=new Set([!1,"false",0,"0","no"])});var n4=h((Tdt,Yte)=>{"use strict";var RUe=r4();Yte.exports=function(t){let e=this!=null?this.path:null;return RUe(t,e)}});var XR=h((Ddt,Jte)=>{"use strict";Jte.exports=function(t){if(Array.isArray(t)){if(!t.every(e=>typeof e=="number"||typeof e=="string"))throw new Error("$type array values must be strings or numbers");return t}if(typeof t!="number"&&typeof t!="string")throw new Error("$type parameter must be number, string, or array of numbers and strings");return t}});var Xte=h((Rdt,Qte)=>{"use strict";var NUe=Ec();Qte.exports=function(t){t.$immutable?(t.$immutableSetter=xUe(t.path,t.options.immutable),t.set(t.$immutableSetter)):t.$immutableSetter&&(t.setters=t.setters.filter(e=>e!==t.$immutableSetter),delete t.$immutableSetter)};function xUe(t,e){return function(n,i,s,o){if(this==null||this.$__==null||this.isNew||o&&o.overwriteImmutable||!(typeof e=="function"?e.call(this,this):e))return n;let a=this.$__.priorDoc!=null?this.$__.priorDoc.$__getValue(t):this.$__getValue(t);if(this.$__.strictMode==="throw"&&n!==a)throw new NUe(t,"Path `"+t+"` is immutable and strict mode is set to throw.",!0);return a}}});var ere=h((Ndt,Zte)=>{"use strict";Zte.exports=function(e){return typeof e=="function"&&e.constructor&&e.constructor.name==="AsyncFunction"}});var rre=h((xdt,tre)=>{"use strict";tre.exports=function(e){let r=Object.keys(e),n=!0;for(let i=0,s=r.length;i<s;++i)if(typeof e[r[i]]=="object"&&e[r[i]]!==null){n=!1;break}return n}});var Dn=h((i4,lre)=>{"use strict";var $y=kt(),ure=qi(),MUe=n4(),FUe=XR(),ZR=Xte(),BUe=ere(),eN=rre(),nre=zn(),qUe=pe().schemaTypeSymbol,Zs=we(),are=pe().validatorErrorSymbol,$Ue=pe().documentIsModified,kUe=pe().populateModelSymbol,cre=$y.CastError,tN=$y.ValidatorError,jUe={_skipMarkModified:!0};function ze(t,e,r){this[qUe]=!0,this.path=t,this.instance=r,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=[],this.splitPath(),e=e||{};let n=this.constructor.defaultOptions||{},i=Object.keys(n);for(let u of i)n.hasOwnProperty(u)&&!Object.prototype.hasOwnProperty.call(e,u)&&(e[u]=n[u]);e.select==null&&delete e.select;let s=this.OptionsConstructor||ure;this.options=new s(e),this._index=null,Zs.hasUserDefinedProperty(this.options,"immutable")&&(this.$immutable=this.options.immutable,ZR(this));let o=Object.keys(this.options);for(let u of o){if(u==="cast"){this.castFunction(this.options[u]);continue}if(Zs.hasUserDefinedProperty(this.options,u)&&typeof this[u]=="function"){if(u==="index"&&this._index){if(e.index===!1){let l=this._index;if(typeof l=="object"&&l!=null){if(l.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(l.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}let a=e[u];if(u==="default"){this.default(a);continue}let c=Array.isArray(a)?a:[a];this[u].apply(this,c)}}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})}ze.prototype.OptionsConstructor=ure;ze.prototype.path;ze.prototype.validators;ze.prototype.validators;ze.prototype.splitPath=function(){if(this._presplitPath!=null)return this._presplitPath;if(this.path!=null)return this._presplitPath=this.path.indexOf(".")===-1?[this.path]:this.path.split("."),this._presplitPath};ze.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=r=>r),this._cast=e,this._cast)};ze.prototype.castFunction=function(e){return arguments.length===0?this._castFunction:(e===!1&&(e=this.constructor._defaultCaster||(r=>r)),this._castFunction=e,this._castFunction)};ze.prototype.cast=function(){throw new Error("Base SchemaType class does not implement a `cast()` function")};ze.set=function(e,r){this.hasOwnProperty("defaultOptions")||(this.defaultOptions=Object.assign({},this.defaultOptions)),this.defaultOptions[e]=r};ze.get=function(t){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(t)};ze.prototype.default=function(t){if(arguments.length===1){if(t===void 0){this.defaultValue=void 0;return}if(t!=null&&t.instanceOfSchema)throw new $y("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=t,this.defaultValue}else arguments.length>1&&(this.defaultValue=[...arguments]);return this.defaultValue};ze.prototype.index=function(t){return this._index=t,Zs.expires(this._index),this};ze.prototype.unique=function(t){if(this._index===!1){if(!t)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}return!this.options.hasOwnProperty("index")&&t===!1?this:(this._index==null||this._index===!0?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.unique=t,this)};ze.prototype.text=function(t){if(this._index===!1){if(!t)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}return!this.options.hasOwnProperty("index")&&t===!1?this:(this._index===null||this._index===void 0||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.text=t,this)};ze.prototype.sparse=function(t){if(this._index===!1){if(!t)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}return!this.options.hasOwnProperty("index")&&t===!1?this:(this._index==null||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.sparse=t,this)};ze.prototype.immutable=function(t){return this.$immutable=t,ZR(this),this};ze.prototype.transform=function(t){return this.options.transform=t,this};ze.prototype.set=function(t){if(typeof t!="function")throw new TypeError("A setter must be a function.");return this.setters.push(t),this};ze.prototype.get=function(t){if(typeof t!="function")throw new TypeError("A getter must be a function.");return this.getters.push(t),this};ze.prototype.validate=function(t,e,r){if(typeof t=="function"||t&&Zs.getFunctionName(t.constructor)==="RegExp"){let o;return typeof e=="function"?(o={validator:t,message:e},o.type=r||"user defined"):e instanceof Object&&!r?(o=eN(e)?Object.assign({},e):Zs.clone(e),o.message||(o.message=o.msg),o.validator=t,o.type=o.type||"user defined"):(e==null&&(e=$y.messages.general.default),r||(r="user defined"),o={message:e,type:r,validator:t}),this.validators.push(o),this}let n,i,s;for(n=0,i=arguments.length;n<i;n++){if(s=arguments[n],!Zs.isPOJO(s)){let o="Invalid validator. Received ("+typeof s+") "+s+". See https://mongoosejs.com/docs/api/schematype.html#schematype_SchemaType-validate";throw new Error(o)}this.validate(s.validator,s)}return this};ze.prototype.required=function(t,e){let r={};if(arguments.length>0&&t==null)return this.validators=this.validators.filter(function(s){return s.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if(typeof t=="object"&&(r=t,e=r.message||e,t=t.isRequired),t===!1)return this.validators=this.validators.filter(function(s){return s.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;let n=this;this.isRequired=!0,this.requiredValidator=function(s){let o=this&&this.$__&&this.$__.cachedRequired;if(o!=null&&!this.$__isSelected(n.path)&&!this[$Ue](n.path))return!0;if(o!=null&&n.path in o){let u=o[n.path]?n.checkRequired(s,this):!0;return delete o[n.path],u}else if(typeof t=="function")return t.apply(this)?n.checkRequired(s,this):!0;return n.checkRequired(s,this)},this.originalRequiredValue=t,typeof t=="string"&&(e=t,t=void 0);let i=e||$y.messages.general.required;return this.validators.unshift(Object.assign({},r,{validator:this.requiredValidator,message:i,type:"required"})),this};ze.prototype.ref=function(t){return this.options.ref=t,this};ze.prototype.getDefault=function(t,e,r){let n;if(typeof this.defaultValue=="function"?this.defaultValue===Date.now||this.defaultValue===Array||this.defaultValue.name.toLowerCase()==="objectid"?n=this.defaultValue.call(t):n=this.defaultValue.call(t,t):n=this.defaultValue,n!=null){if(typeof n=="object"&&(!this.options||!this.options.shared)&&(n=Zs.clone(n)),r&&r.skipCast)return this._applySetters(n,t);let i=this.applySetters(n,t,e,void 0,jUe);return i&&!Array.isArray(i)&&i.$isSingleNested&&(i.$__parent=t),i}return n};ze.prototype._applySetters=function(t,e,r,n,i){let s=t;if(r)return s;let o=this.setters;for(let u=o.length-1;u>=0;u--)s=o[u].call(e,s,n,this,i);return s};ze.prototype._castNullish=function(e){return e};ze.prototype.applySetters=function(t,e,r,n,i){let s=this._applySetters(t,e,r,n,i);return s==null?this._castNullish(s):(s=this.cast(s,e,r,n,i),s)};ze.prototype.applyGetters=function(t,e){let r=t,n=this.getters,i=n.length;if(i===0)return r;for(let s=0;s<i;++s)r=n[s].call(e,r,this);return r};ze.prototype.select=function(e){return this.selected=!!e,this};ze.prototype.doValidate=function(t,e,r,n){let i=!1,s=this.path,o=this.validators.filter(c=>typeof c=="object"&&c!==null),u=o.length;if(!u)return e(null);for(let c=0,l=o.length;c<l&&!i;++c){let d=o[c],f=d.validator,p,m=eN(d)?Object.assign({},d):Zs.clone(d);if(m.path=n&&n.path?n.path:s,m.value=t,f instanceof RegExp){a(f.test(t),m,r);continue}if(typeof f=="function"){if(t===void 0&&f!==this.requiredValidator){a(!0,m,r);continue}try{m.propsParameter?p=f.call(r,t,m):p=f.call(r,t)}catch(y){p=!1,m.reason=y,y.message&&(m.message=y.message)}p!=null&&typeof p.then=="function"?p.then(function(y){a(y,m,r)},function(y){m.reason=y,m.message=y.message,p=!1,a(p,m,r)}):a(p,m,r)}}function a(c,l,d){if(!i)if(c===void 0||c)--u<=0&&nre(function(){e(null)});else{let f=l.ErrorConstructor||tN;i=new f(l,d),i[are]=!0,nre(function(){e(i)})}}};function ire(t,e){if(t!==void 0&&!t){let r=e.ErrorConstructor||tN,n=new r(e);return n[are]=!0,n}}ze.prototype.doValidateSync=function(t,e,r){let n=this.path;if(!this.validators.length)return null;let s=this.validators;if(t===void 0)if(this.validators.length!==0&&this.validators[0].type==="required")s=[this.validators[0]];else return null;let o=null,u=0,a=s.length;for(u=0;u<a;++u){let c=s[u];if(c===null||typeof c!="object")continue;let l=c.validator,d=eN(c)?Object.assign({},c):Zs.clone(c);d.path=r&&r.path?r.path:n,d.value=t;let f=!1;if(!BUe(l)){if(l instanceof RegExp){o=ire(l.test(t),d);continue}if(typeof l=="function"){try{d.propsParameter?f=l.call(e,t,d):f=l.call(e,t)}catch(p){f=!1,d.reason=p}if(!(f!=null&&typeof f.then=="function")&&(o=ire(f,d),o))break}}}return o};ze._isRef=function(t,e,r,n){let i=n&&t.options&&(t.options.ref||t.options.refPath);if(!i&&r&&r.$__!=null){let s=r.$__fullPath(t.path,!0),o=r.ownerDocument();i=s!=null&&o.$populated(s)||r.$populated(t.path)}return i?e==null||!Buffer.isBuffer(e)&&e._bsontype!=="Binary"&&Zs.isObject(e)?!0:n:!1};ze.prototype._castRef=function(e,r,n){if(e==null)return e;if(e.$__!=null)return e.$__.wasPopulated=e.$__.wasPopulated||!0,e;if(Buffer.isBuffer(e)||!Zs.isObject(e)){if(n)return e;throw new cre(this.instance,e,this.path,null,this)}let i=r.$__fullPath(this.path,!0),o=r.ownerDocument().$populated(i,!0),u=e;return(!r.$__.populated||!r.$__.populated[i]||!r.$__.populated[i].options||!r.$__.populated[i].options.options||!r.$__.populated[i].options.options.lean)&&(u=new o.options[kUe](e),u.$__.wasPopulated=!0),u};function sre(t){return this.castForQuery(t)}function LUe(t){let e=this;return Array.isArray(t)?t.map(function(r){return e.castForQuery(r)}):[this.castForQuery(t)]}function ore(t){let e=this;return Array.isArray(t)?t.map(function(r){return Array.isArray(r)&&r.length===0?r:e.castForQuery(r)}):[this.castForQuery(t)]}ze.prototype.$conditionalHandlers={$all:LUe,$eq:sre,$in:ore,$ne:sre,$nin:ore,$exists:MUe,$type:FUe};ze.prototype.castForQueryWrapper=function(t){if(this.$$context=t.context,"$conditional"in t){let r=this.castForQuery(t.$conditional,t.val);return this.$$context=null,r}if(t.$skipQueryCastForUpdate||t.$applySetters){let r=this._castForQuery(t.val);return this.$$context=null,r}let e=this.castForQuery(t.val);return this.$$context=null,e};ze.prototype.castForQuery=function(t,e){let r;if(arguments.length===2){if(r=this.$conditionalHandlers[t],!r)throw new Error("Can't use "+t);return r.call(this,e)}return e=t,this._castForQuery(e)};ze.prototype._castForQuery=function(t){return this.applySetters(t,this.$$context)};ze.checkRequired=function(t){return arguments.length!==0&&(this._checkRequired=t),this._checkRequired};ze.prototype.checkRequired=function(t){return t!=null};ze.prototype.clone=function(){let t=Object.assign({},this.options),e=new this.constructor(this.path,t,this.instance);return e.validators=this.validators.slice(),this.requiredValidator!==void 0&&(e.requiredValidator=this.requiredValidator),this.defaultValue!==void 0&&(e.defaultValue=this.defaultValue),this.$immutable!==void 0&&this.options.immutable===void 0&&(e.$immutable=this.$immutable,ZR(e)),this._index!==void 0&&(e._index=this._index),this.selected!==void 0&&(e.selected=this.selected),this.isRequired!==void 0&&(e.isRequired=this.isRequired),this.originalRequiredValue!==void 0&&(e.originalRequiredValue=this.originalRequiredValue),e.getters=this.getters.slice(),e.setters=this.setters.slice(),e};lre.exports=i4=ze;i4.CastError=cre;i4.ValidatorError=tN});var Hl=h(rN=>{"use strict";rN.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed");rN.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")});var Gl=h((Fdt,dre)=>{"use strict";var s4=Dn(),UUe=Hl(),zUe=gc(),VUe=we();function Zo(t,e){if(e&&e.default){let r=e.default;Array.isArray(r)&&r.length===0?e.default=Array:!e.shared&&zUe(r)&&Object.keys(r).length===0&&(e.default=function(){return{}})}s4.call(this,t,e,"Mixed"),this[UUe.schemaMixedSymbol]=!0}Zo.schemaName="Mixed";Zo.defaultOptions={};Zo.prototype=Object.create(s4.prototype);Zo.prototype.constructor=Zo;Zo.get=s4.get;Zo.set=s4.set;Zo.prototype.cast=function(t){return t instanceof Error?VUe.errorToPOJO(t):t};Zo.prototype.castForQuery=function(t,e){return arguments.length===2?e:t};dre.exports=Zo});var nN=h((Bdt,fre)=>{"use strict";var WUe=kt(),o4=class extends WUe{constructor(e,r){let n=Array.isArray(r)?"array":"primitive value";super("Tried to set nested object field `"+e+`\` to ${n} \``+r+"`"),this.path=e}};Object.defineProperty(o4.prototype,"name",{value:"ObjectExpectedError"});fre.exports=o4});var iN=h((qdt,hre)=>{"use strict";var HUe=kt(),u4=class extends HUe{constructor(e,r,n){super('Parameter "'+r+'" to '+n+"() must be an object, got "+e.toString())}};Object.defineProperty(u4.prototype,"name",{value:"ObjectParameterError"});hre.exports=u4});var mre=h(($dt,pre)=>{"use strict";var GUe=Sr(),a4=class extends GUe{constructor(e){let r="Can't validate() the same doc multiple times in parallel. Document: ";super(r+e._id)}};Object.defineProperty(a4.prototype,"name",{value:"ParallelValidateError"});pre.exports=a4});var d4=h((kdt,_re)=>{"use strict";function mt(){this._pres=new Map,this._posts=new Map}mt.skipWrappedFunction=function(){if(!(this instanceof mt.skipWrappedFunction))return new mt.skipWrappedFunction(...arguments);this.args=[...arguments]};mt.overwriteResult=function(){if(!(this instanceof mt.overwriteResult))return new mt.overwriteResult(...arguments);this.args=[...arguments]};mt.prototype.execPre=function(t,e,r,n){arguments.length===3&&(n=r,r=[]);let i=this._pres.get(t)||[],s=i.length,o=i.numAsync||0,u=0,a=o,c=!1,l=r,d=null;if(!s)return jy(function(){n(null)});function f(){if(u>=s)return;let m=i[u];if(m.isAsync){let y=[ky(p),ky(function(_){if(_){if(c)return;if(_ instanceof mt.skipWrappedFunction)d=_;else return c=!0,n(_)}if(--a===0&&u>=s)return n(d)})];c4(m.fn,e,y,y[0])}else if(m.fn.length>0){let y=[ky(p)],_=arguments.length>=2?arguments:[null].concat(l);for(let g=1;g<_.length;++g)g===_.length-1&&typeof _[g]=="function"||y.push(_[g]);c4(m.fn,e,y,y[0])}else{let y=null;try{y=m.fn.call(e)}catch(_){if(_!=null)return n(_)}if(l4(y))y.then(()=>p(),_=>p(_));else{if(++u>=s)return a>0?void 0:jy(function(){n(d)});f()}}}f.apply(null,[null].concat(r));function p(m){if(m){if(c)return;if(m instanceof mt.skipWrappedFunction)d=m;else return c=!0,n(m)}if(++u>=s)return a>0?void 0:n(d);f.apply(e,arguments)}};mt.prototype.execPreSync=function(t,e,r){let n=this._pres.get(t)||[],i=n.length;for(let s=0;s<i;++s)n[s].fn.apply(e,r||[])};mt.prototype.execPost=function(t,e,r,n,i){arguments.length<5&&(i=n,n=null);let s=this._posts.get(t)||[],o=s.length,u=0,a=null;if(n&&n.error&&(a=n.error),!o)return jy(function(){i.apply(null,[a].concat(r))});function c(){let l=s[u].fn,d=0,f=r.length,p=[];for(let m=0;m<f;++m)d+=r[m]&&r[m]._kareemIgnore?0:1,(!r[m]||!r[m]._kareemIgnore)&&p.push(r[m]);if(a)if(gre(s[u],d)){let m=ky(function(y){if(y){if(y instanceof mt.overwriteResult)return r=y.args,++u>=o?i.call(null,a):c();a=y}if(++u>=o)return i.call(null,a);c()});c4(l,e,[a].concat(p).concat([m]),m)}else{if(++u>=o)return i.call(null,a);c()}else{let m=ky(function(y){if(y)return y instanceof mt.overwriteResult?(r=y.args,++u>=o?i.apply(null,[null].concat(r)):c()):(a=y,c());if(++u>=o)return i.apply(null,[null].concat(r));c()});if(gre(s[u],d))return++u>=o?i.apply(null,[null].concat(r)):c();if(l.length===d+1)c4(l,e,p.concat([m]),m);else{let y,_;try{_=l.apply(e,p)}catch(g){y=g,a=g}if(l4(_))return _.then(g=>{m(g instanceof mt.overwriteResult?g:null)},g=>m(g));if(_ instanceof mt.overwriteResult&&(r=_.args),++u>=o)return i.apply(null,[y].concat(r));c()}}}c()};mt.prototype.execPostSync=function(t,e,r){let n=this._posts.get(t)||[],i=n.length;for(let s=0;s<i;++s){let o=n[s].fn.apply(e,r||[]);o instanceof mt.overwriteResult&&(r=o.args)}return r};mt.prototype.createWrapperSync=function(t,e){let r=this;return function(){r.execPreSync(t,this,arguments);let i=e.apply(this,arguments);return r.execPostSync(t,this,[i])[0]}};function yre(t,e,r,n,i,s,o){return s.useErrorHandlers?t.execPost(r,n,i,{error:e},function(u){return typeof o=="function"&&o(u)}):typeof o=="function"&&o(e)}mt.prototype.wrap=function(t,e,r,n,i){let s=n.length>0?n[n.length-1]:null,o=Array.from(n);typeof s=="function"&&o.pop();let u=this;i=i||{};let a=i.checkForPromise;this.execPre(t,r,n,function(c){if(c&&!(c instanceof mt.skipWrappedFunction)){let p=i.numCallbackParams||0,m=i.contextParameter?[r]:[];for(let y=m.length;y<p;++y)m.push(null);return yre(u,c,t,r,m,i,s)}let l=e.length,d;if(c instanceof mt.skipWrappedFunction)return d=c.args[0],f(null,...c.args);try{d=e.apply(r,o.concat(f))}catch(p){return f(p)}if(a){if(l4(d))return d.then(p=>f(null,p),p=>f(p));if(l<o.length+1)return f(null,d)}function f(){let p=Array.from(arguments);if(p.shift(),i.nullResultByDefault&&p.length===0&&p.push(null),arguments[0])return yre(u,arguments[0],t,r,p,i,s);u.execPost(t,r,p,function(){s!==null&&(arguments[0]?s(arguments[0]):s.apply(r,arguments))})}})};mt.prototype.filter=function(t){let e=this.clone(),r=Array.from(e._pres.keys());for(let i of r){let s=this._pres.get(i).map(o=>Object.assign({},o,{name:i})).filter(t);if(s.length===0){e._pres.delete(i);continue}s.numAsync=s.filter(o=>o.isAsync).length,e._pres.set(i,s)}let n=Array.from(e._posts.keys());for(let i of n){let s=this._posts.get(i).map(o=>Object.assign({},o,{name:i})).filter(t);if(s.length===0){e._posts.delete(i);continue}e._posts.set(i,s)}return e};mt.prototype.hasHooks=function(t){return this._pres.has(t)||this._posts.has(t)};mt.prototype.createWrapper=function(t,e,r,n){let i=this;return this.hasHooks(t)?function(){let s=r||this;i.wrap(t,e,s,Array.from(arguments),n)}:function(){jy(()=>e.apply(this,arguments))}};mt.prototype.pre=function(t,e,r,n,i){let s={};typeof e=="object"&&e!==null?(s=e,e=s.isAsync):typeof arguments[1]!="boolean"&&(r=e,e=!1);let o=this._pres.get(t)||[];if(this._pres.set(t,o),e&&(o.numAsync=o.numAsync||0,++o.numAsync),typeof r!="function")throw new Error('pre() requires a function, got "'+typeof r+'"');return i?o.unshift(Object.assign({},s,{fn:r,isAsync:e})):o.push(Object.assign({},s,{fn:r,isAsync:e})),this};mt.prototype.post=function(t,e,r,n){let i=this._posts.get(t)||[];if(typeof e=="function"&&(n=!!r,r=e,e={}),typeof r!="function")throw new Error('post() requires a function, got "'+typeof r+'"');return n?i.unshift(Object.assign({},e,{fn:r})):i.push(Object.assign({},e,{fn:r})),this._posts.set(t,i),this};mt.prototype.clone=function(){let t=new mt;for(let e of this._pres.keys()){let r=this._pres.get(e).slice();r.numAsync=this._pres.get(e).numAsync,t._pres.set(e,r)}for(let e of this._posts.keys())t._posts.set(e,this._posts.get(e).slice());return t};mt.prototype.merge=function(t,e){e=arguments.length===1?!0:e;let r=e?this.clone():this;for(let n of t._pres.keys()){let i=r._pres.get(n)||[],s=t._pres.get(n).filter(u=>i.map(a=>a.fn).indexOf(u.fn)===-1),o=i.concat(s);o.numAsync=i.numAsync||0,o.numAsync+=s.filter(u=>u.isAsync).length,r._pres.set(n,o)}for(let n of t._posts.keys()){let i=r._posts.get(n)||[],s=t._posts.get(n).filter(o=>i.indexOf(o)===-1);r._posts.set(n,i.concat(s))}return r};function c4(t,e,r,n){let i;try{i=t.apply(e,r)}catch(s){return n(s)}l4(i)&&i.then(()=>n(),s=>n(s))}function l4(t){return typeof t=="object"&&t!==null&&typeof t.then=="function"}function ky(t){let e=!1,r=this;return function(){if(!e)return e=!0,jy(()=>t.apply(r,arguments))}}var jy=typeof process=="object"&&process!==null&&process.nextTick||function(e){setTimeout(e,0)};function gre(t,e){return t.errorHandler?!0:t.fn.length===e+2}_re.exports=mt});var Are=h((jdt,Ere)=>{"use strict";var eo=Os(),pi=class{constructor(e){Object.assign(this,e),e!=null&&e.options!=null&&(this.options=Object.assign({},e.options))}};Object.defineProperty(pi.prototype,"ref",eo);Object.defineProperty(pi.prototype,"refPath",eo);Object.defineProperty(pi.prototype,"localField",eo);Object.defineProperty(pi.prototype,"foreignField",eo);Object.defineProperty(pi.prototype,"justOne",eo);Object.defineProperty(pi.prototype,"count",eo);Object.defineProperty(pi.prototype,"match",eo);Object.defineProperty(pi.prototype,"options",eo);Object.defineProperty(pi.prototype,"skip",eo);Object.defineProperty(pi.prototype,"limit",eo);Object.defineProperty(pi.prototype,"perDocumentLimit",eo);Ere.exports=pi});var f4=h((Ldt,Sre)=>{"use strict";var KUe=we();function Ac(t,e){this.path=e,this.getters=[],this.setters=[],this.options=Object.assign({},t)}Ac.prototype._applyDefaultGetters=function(){if(this.getters.length>0||this.setters.length>0)return;let e="$"+this.path;this.getters.push(function(){return this.$locals[e]}),this.setters.push(function(r){this.$locals[e]=r})};Ac.prototype.clone=function(){let t=new Ac(this.options,this.path);return t.getters=[].concat(this.getters),t.setters=[].concat(this.setters),t};Ac.prototype.get=function(t){return this.getters.push(t),this};Ac.prototype.set=function(t){return this.setters.push(t),this};Ac.prototype.applyGetters=function(t,e){KUe.hasUserDefinedProperty(this.options,["ref","refPath"])&&e.$$populatedVirtuals&&e.$$populatedVirtuals.hasOwnProperty(this.path)&&(t=e.$$populatedVirtuals[this.path]);let r=t;for(let n of this.getters)r=n.call(e,r,this,e);return r};Ac.prototype.applySetters=function(t,e){let r=t;for(let n of this.setters)r=n.call(e,r,this,e);return r};Sre.exports=Ac});var sN=h((Udt,wre)=>{"use strict";wre.exports=function(e){let r={_id:{auto:!0}};r._id[e.options.typeKey]="ObjectId",e.add(r)}});var Xt=h((zdt,Ore)=>{"use strict";Ore.exports=function(e,r,n){let i,s=!1;if(typeof r=="string"){if(r.indexOf(".")===-1){let a=oN(e,r);return a??n}i=r.split(".")}else if(s=!0,i=r,i.length===1){let a=oN(e,i[0]);return a??n}let o=r,u=e;for(let a of i){if(u==null)return n;if(!s&&u[o]!=null)return u[o];u=oN(u,a),s||(o=o.substr(a.length+1))}return u??n};function oN(t,e){return t==null?t:t instanceof Map?t.get(e):t[e]}});var uN=h((Vdt,Cre)=>{"use strict";Cre.exports=function(e,r){let n=e.discriminatorMapping&&e.discriminatorMapping.value;if(n&&!("sparse"in r)){let i=e.options.discriminatorKey;r.partialFilterExpression=r.partialFilterExpression||{},r.partialFilterExpression[i]=n}return r}});var bre=h((Wdt,vre)=>{"use strict";var aN=Xt(),YUe=gc(),JUe=uN();vre.exports=function(e){let r=[],n=new WeakMap,i=e.constructor.indexTypes,s=new Map;return o(e),r;function o(a,c,l){if(n.has(a))return;n.set(a,!0),c=c||"";let d=Object.keys(a.paths);for(let f of d){let p=a.paths[f];if(l!=null&&l.paths[f])continue;if(p.$isMongooseDocumentArray||p.$isSingleNested){if(aN(p,"options.excludeIndexes")!==!0&&aN(p,"schemaOptions.excludeIndexes")!==!0&&aN(p,"schema.options.excludeIndexes")!==!0&&o(p.schema,c+f+"."),p.schema.discriminators!=null){let y=p.schema.discriminators,_=Object.keys(y);for(let g of _)o(y[g],c+f+".",p.schema)}if(p.$isMongooseDocumentArray)continue}let m=p._index||p.caster&&p.caster._index;if(m!==!1&&m!==null&&m!==void 0){let y={},_=YUe(m),g=_?m:{},E=typeof m=="string"?m:_?m.type:!1;if(E&&i.indexOf(E)!==-1)y[c+f]=E;else if(g.text)y[c+f]="text",delete g.text;else{let w=Number(m)===-1;y[c+f]=w?-1:1}delete g.type,"background"in g||(g.background=!0),a.options.autoIndex!=null&&(g._autoIndex=a.options.autoIndex);let O=g&&g.name;typeof O=="string"?s.has(O)?Object.assign(s.get(O),y):(r.push([y,g]),s.set(O,y)):(r.push([y,g]),s.set(O,y))}}n.delete(a),c?u(a,c):(a._indexes.forEach(function(f){let p=f[1];"background"in p||(p.background=!0),JUe(a,p)}),r=r.concat(a._indexes))}function u(a,c){let l=a._indexes,d=l.length;for(let f=0;f<d;++f){let p=l[f][0],m=l[f][1],y=Object.keys(p),_=y.length,g={};for(let O=0;O<_;++O){let w=y[O];g[c+w]=p[w]}let E=Object.assign({},m);if(m!=null&&m.partialFilterExpression!=null){E.partialFilterExpression={};let O=m.partialFilterExpression;for(let w of Object.keys(O))E.partialFilterExpression[c+w]=O[w]}r.push([g,E])}}}});var Pre=h((Hdt,Ire)=>{"use strict";Ire.exports=function(e){return!e.paths.id&&e.paths._id&&e.options.id&&e.virtual("id").get(QUe),e};function QUe(){return this._id!=null?String(this._id):null}});var Ly=h((Gdt,Tre)=>{"use strict";Tre.exports=function(e){return e.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}});var cN=h((Kdt,Dre)=>{"use strict";Dre.exports=XUe;function XUe(t,e){return t==null?null:typeof t=="boolean"?e:typeof t[e]=="boolean"?t[e]?e:null:e in t?t[e]:e}});var dN=h((Ydt,Rre)=>{"use strict";var ZUe=Ly(),Zu=cN();Rre.exports=Kl;function Kl(t,e,r){if(e==null)return;if(Object.keys(e).some(u=>u[0]==="$")){if(e.$push&&o(e.$push),e.$addToSet&&o(e.$addToSet),e.$set!=null){let u=Object.keys(e.$set);for(let a of u)lN(r,a,e.$set,t)}if(e.$setOnInsert!=null){let u=Object.keys(e.$setOnInsert);for(let a of u)lN(r,a,e.$setOnInsert,t)}}let s=Object.keys(e).filter(u=>u[0]!=="$");for(let u of s)lN(r,u,e,t);function o(u){for(let a of Object.keys(u)){let c=r.path(a.replace(/\.\$\./i,".").replace(/.\$$/,""));if(u[a]&&c&&c.$isMongooseDocumentArray&&c.schema.options.timestamps){let l=c.schema.options.timestamps,d=Zu(l,"createdAt"),f=Zu(l,"updatedAt");u[a].$each?u[a].$each.forEach(function(p){f!=null&&(p[f]=t),d!=null&&(p[d]=t),Kl(t,p,c.schema)}):(f!=null&&(u[a][f]=t),d!=null&&(u[a][d]=t),Kl(t,u[a],c.schema))}}}}function eze(t,e,r){let n=e.schema.options.timestamps,i=t.length;if(!n){for(let u=0;u<i;++u)Kl(r,t[u],e.schema);return}let s=Zu(n,"createdAt"),o=Zu(n,"updatedAt");for(let u=0;u<i;++u)o!=null&&(t[u][o]=r),s!=null&&(t[u][s]=r),Kl(r,t[u],e.schema)}function tze(t,e,r){let n=e.schema.options.timestamps;if(!n){Kl(r,t,e.schema);return}let i=Zu(n,"createdAt"),s=Zu(n,"updatedAt");s!=null&&(t[s]=r),i!=null&&(t[i]=r),Kl(r,t,e.schema)}function lN(t,e,r,n){let i=ZUe(e),s=t.path(i);if(!s)return;let o=[],u=i.split(".");for(let a=u.length-1;a>0;--a){let c=t.path(u.slice(0,a).join("."));c!=null&&(c.$isMongooseDocumentArray||c.$isSingleNested)&&o.push({parentPath:e.split(".").slice(0,a).join("."),parentSchemaType:c})}if(Array.isArray(r[e])&&s.$isMongooseDocumentArray)eze(r[e],s,n);else if(r[e]&&s.$isSingleNested)tze(r[e],s,n);else if(o.length>0)for(let a of o){let c=a.parentPath,l=a.parentSchemaType,d=l.schema.options.timestamps,f=Zu(d,"updatedAt");if(!(!d||f==null)){if(l.$isSingleNested)r[c+"."+f]=n;else if(l.$isMongooseDocumentArray){let p=e.substring(c.length+1);if(/^\d+$/.test(p)){r[c+"."+p][f]=n;continue}let m=p.indexOf(".");p=m!==-1?p.substring(0,m):p,r[c+"."+p+"."+f]=n}}}else if(s.schema!=null&&s.schema!=t&&r[e]){let a=s.schema.options.timestamps,c=Zu(a,"createdAt"),l=Zu(a,"updatedAt");if(!a)return;l!=null&&(r[e][l]=n),c!=null&&(r[e][c]=n)}}});var fN=h((Jdt,xre)=>{"use strict";var Nre=Xt();xre.exports=rze;function rze(t,e,r,n,i){let s=n,o=s,u=Nre(i,"overwrite",!1),a=Nre(i,"timestamps",!0);if(!a||s==null)return n;let c=a!=null&&a.createdAt===!1,l=a!=null&&a.updatedAt===!1;if(u)return n&&n.$set&&(n=n.$set,s.$set={},o=s.$set),!l&&r&&!n[r]&&(o[r]=t),!c&&e&&!n[e]&&(o[e]=t),s;if(n=n||{},Array.isArray(s))return s.push({$set:{[r]:t}}),s;if(s.$set=s.$set||{},!l&&r&&(!n.$currentDate||!n.$currentDate[r])){let d=!1;if(r.indexOf(".")!==-1){let f=r.split(".");for(let p=1;p<f.length;++p){let m=f.slice(-p).join("."),y=f.slice(0,-p).join(".");if(n[y]!=null){n[y][m]=t,d=!0;break}else if(n.$set&&n.$set[y]){n.$set[y][m]=t,d=!0;break}}}d||(s.$set[r]=t),s.hasOwnProperty(r)&&delete s[r]}if(!c&&e){n[e]&&delete n[e],n.$set&&n.$set[e]&&delete n.$set[e];let d=!1;if(e.indexOf(".")!==-1){let f=e.split(".");for(let p=1;p<f.length;++p){let m=f.slice(-p).join("."),y=f.slice(0,-p).join(".");if(n[y]!=null){n[y][m]=t,d=!0;break}else if(n.$set&&n.$set[y]){n.$set[y][m]=t,d=!0;break}}}d||(s.$setOnInsert=s.$setOnInsert||{},s.$setOnInsert[e]=t)}return Object.keys(s.$set).length===0&&delete s.$set,s}});var Fre=h((Qdt,Mre)=>{"use strict";Mre.exports=function(e,r,n,i,s){let o=r!=null&&r.updatedAt===!1,u=r!=null&&r.createdAt===!1,a=n!=null?n():e.ownerDocument().constructor.base.now();if(!u&&(e.isNew||e.$isSubdocument)&&i&&!e.$__getValue(i)&&e.$__isSelected(i)&&e.$set(i,a,void 0,{overwriteImmutable:!0}),!o&&s&&(e.isNew||e.$isModified())){let c=a;e.isNew&&i!=null&&(c=e.$__getValue(i)),e.$set(s,c)}}});var $re=h((Xdt,qre)=>{"use strict";var nze=dN(),ize=fN(),sze=Xt(),Bre=cN(),oze=Fre(),uze=Hl();qre.exports=function(e,r){let n=e.childSchemas.find(i);function i(d){return!!d.schema.options.timestamps}if(!r&&!n)return;let s=Bre(r,"createdAt"),o=Bre(r,"updatedAt"),u=r!=null&&r.hasOwnProperty("currentTime")?r.currentTime:null,a={};if(e.$timestamps={createdAt:s,updatedAt:o},s&&!e.paths[s]){let d=e.base!=null?e.base.get("timestamps.createdAt.immutable"):null,f=d??!0;a[s]={[e.options.typeKey||"type"]:Date,immutable:f}}o&&!e.paths[o]&&(a[o]=Date),e.add(a),e.pre("save",function(f){let p=sze(this,"$__.saveOptions.timestamps");if(p===!1)return f();oze(this,p,u,s,o),f()}),e.methods.initializeTimestamps=function(){let d=u!=null?u():this.constructor.base.now();if(s&&!this.get(s)&&this.$set(s,d),o&&!this.get(o)&&this.$set(o,d),this.$isSubdocument)return this;let f=this.$getAllSubdocs();for(let p of f)p.initializeTimestamps&&p.initializeTimestamps();return this},l[uze.builtInMiddleware]=!0;let c={query:!0,model:!1};e.pre("findOneAndReplace",c,l),e.pre("findOneAndUpdate",c,l),e.pre("replaceOne",c,l),e.pre("update",c,l),e.pre("updateOne",c,l),e.pre("updateMany",c,l);function l(d){let f=u!=null?u():this.model.base.now();this.op==="findOneAndReplace"&&this.getUpdate()==null&&this.setUpdate({}),ize(f,s,o,this.getUpdate(),this.options,this.schema),nze(f,this.getUpdate(),this.model.schema),d()}}});var jre=h((Zdt,kre)=>{"use strict";var aze=Sr(),cze=require("util");kre.exports=lze;function lze(t,e){if(typeof t!="string"&&typeof t!="function")throw new aze('Invalid ref at path "'+e+'". Got '+cze.inspect(t,{depth:0}))}});var hN=h((e1t,Lre)=>{"use strict";Lre.exports=Object.freeze(["count","countDocuments","distinct","estimatedDocumentCount","find","findOne","findOneAndReplace","findOneAndUpdate","replaceOne","update","updateMany","updateOne","deleteMany","deleteOne","findOneAndDelete","findOneAndRemove","remove"])});var h4=h((t1t,Ure)=>{"use strict";Ure.exports=pN;var dze=hN();pN.middlewareFunctions=dze.concat(["validate"]);function pN(t,e){let r={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0},n=e.hooks.filter(i=>{let s=fze(i);return i.name==="updateOne"?s.query==null||!!s.query:i.name==="deleteOne"?!!s.query||Object.keys(s).length===0:i.name==="validate"||i.name==="remove"?!!s.query:i.query!=null||i.document!=null?!!i.query:!0});t.prototype._execUpdate=n.createWrapper("update",t.prototype._execUpdate,null,r),t.prototype.__distinct=n.createWrapper("distinct",t.prototype.__distinct,null,r),t.prototype.validate=n.createWrapper("validate",t.prototype.validate,null,r),pN.middlewareFunctions.filter(i=>i!=="update"&&i!=="distinct"&&i!=="validate").forEach(i=>{t.prototype[`_${i}`]=n.createWrapper(i,t.prototype[`_${i}`],null,r)})}function fze(t){let e={};return t.hasOwnProperty("query")&&(e.query=t.query),t.hasOwnProperty("document")&&(e.document=t.document),e}});var p4=h((r1t,zre)=>{"use strict";var hze=Hl(),pze=Bi();zre.exports=Uy;Uy.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"];var mze=new Set(Uy.middlewareFunctions.flatMap(t=>[t,`$__${t}`]));function Uy(t,e,r){r=r||{};let n={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},i=r.decorateDoc?t:t.prototype;t.$appliedHooks=!0;for(let a of Object.keys(e.paths)){let c=e.paths[a],l=null;if(c.$isSingleNested)l=c.caster;else if(c.$isMongooseDocumentArray)l=c.Constructor;else continue;if(!l.$appliedHooks&&(Uy(l,c.schema,r),l.discriminators!=null)){let d=Object.keys(l.discriminators);for(let f of d)Uy(l.discriminators[f],l.discriminators[f].schema,r)}}let s=e.s.hooks.filter(a=>a.name==="updateOne"||a.name==="deleteOne"?!!a.document:a.name==="remove"||a.name==="init"?a.document==null||!!a.document:a.query!=null||a.document!=null?a.document!==!1:!0).filter(a=>e.methods[a.name]?!a.fn[hze.builtInMiddleware]:!0);t._middleware=s,i.$__originalValidate=i.$__originalValidate||i.$__validate;for(let a of["save","validate","remove","deleteOne"]){let c=a==="validate"?"$__originalValidate":`$__${a}`,l=s.createWrapper(a,i[c],null,n);i[`$__${a}`]=l}i.$__init=s.createWrapperSync("init",i.$__init,null,n);let o=Object.keys(e.methods),u=Object.assign({},n,{checkForPromise:!0});for(let a of o){if(mze.has(a)||!s.hasHooks(a))continue;let c=i[a];i[a]=function(){let l=Array.prototype.slice.call(arguments),d=l.slice(-1).pop(),f=typeof d=="function"?l.slice(0,l.length-1):l;return pze(d,p=>this[`$__${a}`].apply(this,f.concat([p])),t.events)},i[`$__${a}`]=s.createWrapper(a,c,null,u)}}});var Sc=h(Vre=>{"use strict";Vre.internalToObjectOptions={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1}});var m4=h((i1t,Hre)=>{"use strict";var wc=mi(),yze=zn(),gze=Sc().internalToObjectOptions,_ze=Bi(),Wre=require("util"),Eze=we();Hre.exports=Nt;function Nt(t,e,r,n,i){if(r!=null){let s={isNew:r.isNew};"defaults"in r.$__&&(s.defaults=r.$__.defaults),i=Object.assign(s,i)}i!=null&&i.path!=null&&(this.$basePath=i.path),wc.call(this,t,e,n,i),delete this.$__.priorDoc}Nt.prototype=Object.create(wc.prototype);Object.defineProperty(Nt.prototype,"$isSubdocument",{configurable:!1,writable:!1,value:!0});Object.defineProperty(Nt.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!0});Nt.prototype.toBSON=function(){return this.toObject(gze)};Nt.prototype.save=function(t,e){return typeof t=="function"&&(e=t,t={}),t=t||{},t.suppressWarning||Eze.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),_ze(e,r=>{this.$__save(r)})};Nt.prototype.$__fullPath=function(t){return this.$__.fullPath||this.ownerDocument(),t?this.$__.fullPath+"."+t:this.$__.fullPath};Nt.prototype.$__pathRelativeToParent=function(t){return t==null?this.$basePath:[this.$basePath,t].join(".")};Nt.prototype.$__save=function(t){return yze(()=>t(null,this))};Nt.prototype.$isValid=function(t){let e=this.$parent(),r=this.$__pathRelativeToParent(t);return e!=null&&r!=null?e.$isValid(r):wc.prototype.$isValid.call(this,t)};Nt.prototype.markModified=function(t){wc.prototype.markModified.call(this,t);let e=this.$parent(),r=this.$__pathRelativeToParent(t);if(e==null||r==null)return;let n=this.$__pathRelativeToParent().replace(/\.$/,"");e.isDirectModified(n)||this.isNew||this.$__parent.markModified(r,this)};Nt.prototype.isModified=function(t,e){let r=this.$parent();return r!=null?(Array.isArray(t)||typeof t=="string"?(t=Array.isArray(t)?t:t.split(" "),t=t.map(n=>this.$__pathRelativeToParent(n)).filter(n=>n!=null)):t||(t=this.$__pathRelativeToParent()),r.$isModified(t,e)):wc.prototype.isModified.call(this,t,e)};Nt.prototype.$markValid=function(t){wc.prototype.$markValid.call(this,t);let e=this.$parent(),r=this.$__pathRelativeToParent(t);e!=null&&r!=null&&e.$markValid(r)};Nt.prototype.invalidate=function(t,e,r){wc.prototype.invalidate.call(this,t,e,r);let n=this.$parent(),i=this.$__pathRelativeToParent(t);if(n!=null&&i!=null)n.invalidate(i,e,r);else if(e.kind==="cast"||e.name==="CastError"||i==null)throw e;return this.ownerDocument().$__.validationError};Nt.prototype.$ignore=function(t){wc.prototype.$ignore.call(this,t);let e=this.$parent(),r=this.$__pathRelativeToParent(t);e!=null&&r!=null&&e.$ignore(r)};Nt.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;let t=this,e=[],r=new Set([t]);for(;typeof t.$__pathRelativeToParent=="function";){e.unshift(t.$__pathRelativeToParent(void 0,!0));let n=t.$parent();if(n==null)break;if(t=n,r.has(t))throw new Error("Infinite subdocument loop: subdoc with _id "+t._id+" is a parent of itself");r.add(t)}return this.$__.fullPath=e.join("."),this.$__.ownerDocument=t,this.$__.ownerDocument};Nt.prototype.$__fullPathWithIndexes=function(){let t=this,e=[],r=new Set([t]);for(;typeof t.$__pathRelativeToParent=="function";){e.unshift(t.$__pathRelativeToParent(void 0,!1));let n=t.$parent();if(n==null)break;if(t=n,r.has(t))throw new Error("Infinite subdocument loop: subdoc with _id "+t._id+" is a parent of itself");r.add(t)}return e.join(".")};Nt.prototype.parent=function(){return this.$__parent};Nt.prototype.$parent=Nt.prototype.parent;Nt.prototype.$__remove=function(t){if(t!=null)return t(null,this)};Nt.prototype.$__removeFromParent=function(){this.$__parent.set(this.$basePath,null)};Nt.prototype.remove=function(t,e){return typeof t=="function"&&(e=t,t=null),Aze(this),(!t||!t.noop)&&this.$__removeFromParent(),this.$__remove(e)};Nt.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')};Nt.prototype.inspect=function(){return this.toObject({transform:!1,virtuals:!1,flattenDecimals:!1})};Wre.inspect.custom&&(Nt.prototype[Wre.inspect.custom]=Nt.prototype.inspect);function Aze(t){let e=t.ownerDocument();function r(){e.$removeListener("save",r),e.$removeListener("remove",r),t.emit("remove",t),t.constructor.emit("remove",t),e=t=null}e.$on("save",r),e.$on("remove",r)}});var If=h((s1t,Yre)=>{"use strict";var Gre=require("events").EventEmitter,Kre=m4(),Sze=we(),zy=pe().documentArrayParent;function yi(t,e,r,n,i){Sze.isMongooseDocumentArray(e)?(this.__parentArray=e,this[zy]=e.$parent()):(this.__parentArray=void 0,this[zy]=void 0),this.$setIndex(i),this.$__parent=this[zy],Kre.call(this,t,n,this[zy],r,{isNew:!0})}yi.prototype=Object.create(Kre.prototype);yi.prototype.constructor=yi;Object.defineProperty(yi.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!1});Object.defineProperty(yi.prototype,"$isDocumentArrayElement",{configurable:!1,writable:!1,value:!0});for(let t in Gre.prototype)yi[t]=Gre.prototype[t];yi.prototype.$setIndex=function(t){if(this.__index=t,this.$__!=null&&this.$__.validationError!=null){let e=Object.keys(this.$__.validationError.errors);for(let r of e)this.invalidate(r,this.$__.validationError.errors[r])}};yi.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')};yi.prototype.$__removeFromParent=function(){let t=this._doc._id;if(!t)throw new Error("For your own good, Mongoose does not know how to remove an ArraySubdocument that has no _id");this.__parentArray.pull({_id:t})};yi.prototype.$__fullPath=function(t,e){return this.__index==null?null:(this.$__.fullPath||this.ownerDocument(),e?t?this.$__.fullPath+"."+t:this.$__.fullPath:t?this.$__.fullPath+"."+this.__index+"."+t:this.$__.fullPath+"."+this.__index)};yi.prototype.$__pathRelativeToParent=function(t,e){return this.__index==null?null:e?t==null?this.__parentArray.$path():this.__parentArray.$path()+"."+t:t==null?this.__parentArray.$path()+"."+this.__index:this.__parentArray.$path()+"."+this.__index+"."+t};yi.prototype.$parent=function(){return this[zy]};yi.prototype.parentArray=function(){return this.__parentArray};Yre.exports=yi});var mN=h((o1t,Jre)=>{"use strict";Jre.exports=function(e,r,n){n=n||{};let i=n.skipDocArrays,s=0;if(!e)return s;for(let o of Object.keys(e.$__.activePaths.getStatePaths("modify"))){if(i){let u=e.$__schema.path(o);if(u&&u.$isMongooseDocumentArray)continue}if(o.startsWith(r+".")&&(e.$__.activePaths.clearPath(o),++s,e.$isSubdocument)){let u=e.ownerDocument(),a=e.$__fullPath(o);u.$__.activePaths.clearPath(a)}}return s}});var _4=h((u1t,ine)=>{"use strict";var gN=mi(),yN=If(),Qre=Sr(),Xre=mN(),Zre=Sc().internalToObjectOptions,tne=Js(),Hn=we(),ene=Wn(),ea=pe().arrayAtomicsSymbol,to=pe().arrayParentSymbol,Yl=pe().arrayPathSymbol,$i=pe().arraySchemaSymbol,rne=pe().populateModelSymbol,wze=Symbol("mongoose#Array#sliced"),Oze=Array.prototype.push;var g4={$__getAtomics(){let t=[],e=Object.keys(this[ea]||{}),r=e.length,n=Object.assign({},Zre,{_isNested:!0});if(r===0)return t[0]=["$set",this.toObject(n)],t;for(;r--;){let i=e[r],s=this[ea][i];Hn.isMongooseObject(s)?s=s.toObject(n):Array.isArray(s)?s=this.toObject.call(s,n):s!=null&&Array.isArray(s.$each)?s.$each=this.toObject.call(s.$each,n):s!=null&&typeof s.valueOf=="function"&&(s=s.valueOf()),i==="$addToSet"&&(s={$each:s}),t.push([i,s])}return t},$atomics(){return this[ea]},$parent(){return this[to]},$path(){return this[Yl]},$shift(){this._registerAtomic("$pop",-1),this._markModified();let t=this.__array;if(!t._shifted)return t._shifted=!0,[].shift.call(t)},$pop(){if(this._registerAtomic("$pop",1),this._markModified(),!this._popped)return this._popped=!0,[].pop.call(this)},$schema(){return this[$i]},_cast(t){let e=!1,r,n=this[to];return n&&(e=n.$populated(this[Yl],!0)),e&&t!==null&&t!==void 0?(r=e.options[rne],(Buffer.isBuffer(t)||ene(t,"ObjectID")||!Hn.isObject(t))&&(t={_id:t}),t.schema&&t.schema.discriminatorMapping&&t.schema.discriminatorMapping.key!==void 0||(t=new r(t)),this[$i].caster.applySetters(t,n,!0)):this[$i].caster.applySetters(t,n,!1)},_mapCast(t,e){return this._cast(t,this.length+e)},_markModified(t){let e=this[to],r;if(e){if(r=this[Yl],arguments.length&&(r=r+"."+t),r!=null&&r.endsWith(".$"))return this;e.markModified(r,arguments.length!==0?t:e)}return this},_registerAtomic(t,e){if(this[wze])return;if(t==="$set")return this[ea]={$set:e},Xre(this[to],this[Yl]),this._markModified(),this;let r=this[ea];if(t==="$pop"&&!("$pop"in r)){let i=this;this[to].once("save",function(){i._popped=i._shifted=null})}if(r.$set||Object.keys(r).length&&!(t in r))return this[ea]={$set:this},this;let n;if(t==="$pullAll"||t==="$addToSet")r[t]||(r[t]=[]),r[t]=r[t].concat(e);else if(t==="$pullDocs"){let i=r.$pull||(r.$pull={});e[0]instanceof yN?(n=i.$or||(i.$or=[]),Array.prototype.push.apply(n,e.map(s=>s.toObject({transform:(o,u)=>(s==null||s.$__==null||Object.keys(s.$__.activePaths.getStatePaths("default")).forEach(a=>{tne.unset(a,u),nne(u,a)}),u),virtuals:!1})))):(n=i._id||(i._id={$in:[]}),n.$in=n.$in.concat(e))}else t==="$push"?(r.$push=r.$push||{$each:[]},e!=null&&Hn.hasUserDefinedProperty(e,"$each")?r.$push=e:r.$push.$each=r.$push.$each.concat(e)):r[t]=e;return this},addToSet(){y4(this,arguments);let t=[].map.call(arguments,this._mapCast,this);t=this[$i].applySetters(t,this[to]);let e=[],r="";t[0]instanceof yN?r="doc":t[0]instanceof Date&&(r="date");let n=Hn.isMongooseArray(t)?t.__array:this,i=Hn.isMongooseArray(this)?this.__array:this;return n.forEach(function(s){let o,u=+s;switch(r){case"doc":o=this.some(function(a){return a.equals(s)});break;case"date":o=this.some(function(a){return+a===u});break;default:o=~this.indexOf(s)}o||(this._markModified(),i.push(s),this._registerAtomic("$addToSet",s),[].push.call(e,s))},this),e},hasAtomics(){return Hn.isPOJO(this[ea])?Object.keys(this[ea]).length:0},includes(t,e){return this.indexOf(t,e)!==-1},indexOf(t,e){ene(t,"ObjectID")&&(t=t.toString()),e=e??0;let r=this.length;for(let n=e;n<r;++n)if(t==this[n])return n;return-1},inspect(){return JSON.stringify(this)},nonAtomicPush(){let t=[].map.call(arguments,this._mapCast,this);this._markModified();let e=[].push.apply(this,t);return this._registerAtomic("$set",this),e},pop(){this._markModified();let t=[].pop.call(this);return this._registerAtomic("$set",this),t},pull(){let t=[].map.call(arguments,this._cast,this),e=this[to].get(this[Yl]),r=e.length,n;for(this._markModified();r--;)n=e[r],n instanceof gN?t.some(function(s){return n.equals(s)})&&[].splice.call(e,r,1):~e.indexOf.call(t,n)&&[].splice.call(e,r,1);return t[0]instanceof yN?this._registerAtomic("$pullDocs",t.map(function(i){let s=i.$__getValue("_id");return s===void 0||i.$isDefault("_id")?i:s})):this._registerAtomic("$pullAll",t),Xre(this[to],this[Yl])>0&&this._registerAtomic("$set",this),this},push(){let t=arguments,e=t,r=t[0]!=null&&Hn.hasUserDefinedProperty(t[0],"$each"),n=Hn.isMongooseArray(this)?this.__array:this;if(r&&(e=t[0],t=t[0].$each),this[$i]==null)return Oze.apply(this,t);y4(this,t);let i=this[to];t=[].map.call(t,this._mapCast,this),t=this[$i].applySetters(t,i,void 0,void 0,{skipDocumentArrayCast:!0});let s,o=this[ea];if(this._markModified(),r){if(e.$each=t,(o.$push&&o.$push.$each&&o.$push.$each.length||0)!==0&&o.$push.$position!=e.$position)throw new Qre("Cannot call `Array#push()` multiple times with different `$position`");e.$position!=null?([].splice.apply(n,[e.$position,0].concat(t)),s=this.length):s=[].push.apply(n,t)}else{if((o.$push&&o.$push.$each&&o.$push.$each.length||0)!==0&&o.$push.$position!=null)throw new Qre("Cannot call `Array#push()` multiple times with different `$position`");e=t,s=[].push.apply(n,t)}return this._registerAtomic("$push",e),s},remove(){return this.pull.apply(this,arguments)},set(t,e,r){let n=this.__array;if(r)return n[t]=e,this;let i=g4._cast.call(this,e,t);return g4._markModified.call(this,t),n[t]=i,this},shift(){let t=Hn.isMongooseArray(this)?this.__array:this;this._markModified();let e=[].shift.call(t);return this._registerAtomic("$set",this),e},sort(){let t=Hn.isMongooseArray(this)?this.__array:this,e=[].sort.apply(t,arguments);return this._registerAtomic("$set",this),e},splice(){let t,e=Hn.isMongooseArray(this)?this.__array:this;if(this._markModified(),y4(this,Array.prototype.slice.call(arguments,2)),arguments.length){let r;if(this[$i]==null)r=arguments;else{r=[];for(let n=0;n<arguments.length;++n)r[n]=n<2?arguments[n]:this._cast(arguments[n],arguments[0]+(n-2))}t=[].splice.apply(e,r),this._registerAtomic("$set",this)}return t},toBSON(){return this.toObject(Zre)},toObject(t){let e=Hn.isMongooseArray(this)?this.__array:this;return t&&t.depopulate?(t=Hn.clone(t),t._isNested=!0,[].concat(e).map(function(r){return r instanceof gN?r.toObject(t):r})):[].concat(e)},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},unshift(){y4(this,arguments);let t;this[$i]==null?t=arguments:(t=[].map.call(arguments,this._cast,this),t=this[$i].applySetters(t,this[to]));let e=Hn.isMongooseArray(this)?this.__array:this;return this._markModified(),[].unshift.apply(e,t),this._registerAtomic("$set",this),this.length}};function Cze(t,e){if(!e)return!1;for(let r of t){if(r==null)return!1;let n=r.constructor;if(!(r instanceof gN)||n.modelName!==e&&n.baseModelName!==e)return!1}return!0}function nne(t,e,r){if(typeof e=="string"){if(e.indexOf(".")===-1)return;e=tne.stringToParts(e)}r=r||0,!(r>=e.length)&&(t==null||typeof t!="object"||(nne(t[e[0]],e,r+1),t[e[0]]!=null&&typeof t[e[0]]=="object"&&Object.keys(t[e[0]]).length===0&&delete t[e[0]]))}function y4(t,e){let r=t==null?null:t[$i]&&t[$i].caster&&t[$i].caster.options&&t[$i].caster.options.ref||null;t.length===0&&e.length!==0&&Cze(e,r)&&t[to].$populated(t[Yl],[],{[rne]:e[0].constructor})}var vze=["filter","flat","flatMap","map","slice"];for(let t of vze)Array.prototype[t]!=null&&(g4[t]=function(){let e=Hn.isMongooseArray(this)?this.__array:this,r=[].concat(e);return r[t].apply(r,arguments)});ine.exports=g4});var EN=h((ane,cne)=>{"use strict";var bze=mi(),_N=_4(),E4=pe().arrayAtomicsSymbol,Ize=pe().arrayAtomicsBackupSymbol,sne=pe().arrayParentSymbol,Pze=pe().arrayPathSymbol,one=pe().arraySchemaSymbol,une=Array.prototype.push,Tze=/^\d+$/;function Dze(t,e,r,n){let i;if(Array.isArray(t)){let u=t.length;if(u===0)i=new Array;else if(u===1)i=new Array(1),i[0]=t[0];else if(u<1e4)i=new Array,une.apply(i,t);else{i=new Array;for(let a=0;a<u;++a)une.call(i,t[a])}}else i=[];let s={[E4]:{},[Ize]:void 0,[Pze]:e,[one]:n,[sne]:void 0,isMongooseArray:!0,isMongooseArrayProxy:!0,__array:i};t&&t[E4]!=null&&(s[E4]=t[E4]),r!=null&&r instanceof bze&&(s[sne]=r,s[one]=n||r.schema.path(e));let o=new Proxy(i,{get:function(u,a){return s.hasOwnProperty(a)?s[a]:_N.hasOwnProperty(a)?_N[a]:i[a]},set:function(u,a,c){return typeof a=="string"&&Tze.test(a)?_N.set.call(o,a,c,!1):s.hasOwnProperty(a)?s[a]=c:i[a]=c,!0}});return o}cne.exports=ane=Dze});var Vy=h((a1t,fne)=>{"use strict";var AN=xs().get().Binary,lne=we();function gi(t,e,r){let n=t;t==null&&(n=0);let i,s,o;Array.isArray(e)?(s=e[0],o=e[1]):i=e;let u;return typeof n=="number"||n instanceof Number?u=Buffer.alloc(n):u=Buffer.from(n,i,r),lne.decorate(u,gi.mixin),u.isMongooseBuffer=!0,u[gi.pathSymbol]=s,u[dne]=o,u._subtype=0,u}var Rze=Symbol.for("mongoose#Buffer#_path"),dne=Symbol.for("mongoose#Buffer#_parent");gi.pathSymbol=Rze;gi.mixin={_subtype:void 0,_markModified:function(){let t=this[dne];return t&&t.markModified(this[gi.pathSymbol]),this},write:function(){let t=Buffer.prototype.write.apply(this,arguments);return t>0&&this._markModified(),t},copy:function(t){let e=Buffer.prototype.copy.apply(this,arguments);return t&&t.isMongooseBuffer&&t._markModified(),e}};lne.each(["writeUInt8","writeUInt16","writeUInt32","writeInt8","writeInt16","writeInt32","writeFloat","writeDouble","fill","utf8Write","binaryWrite","asciiWrite","set","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE"],function(t){Buffer.prototype[t]&&(gi.mixin[t]=function(){let e=Buffer.prototype[t].apply(this,arguments);return this._markModified(),e})});gi.mixin.toObject=function(t){let e=typeof t=="number"?t:this._subtype||0;return new AN(Buffer.from(this),e)};gi.mixin.$toObject=gi.mixin.toObject;gi.mixin.toBSON=function(){return new AN(this,this._subtype||0)};gi.mixin.equals=function(t){if(!Buffer.isBuffer(t)||this.length!==t.length)return!1;for(let e=0;e<this.length;++e)if(this[e]!==t[e])return!1;return!0};gi.mixin.subtype=function(t){if(typeof t!="number")throw new TypeError("Invalid subtype. Expected a number");this._subtype!==t&&this._markModified(),this._subtype=t};gi.Binary=AN;fne.exports=gi});var wN=h((c1t,pne)=>{"use strict";var hne=Wn(),SN=xs().get().ObjectId;pne.exports=function(e){if(e==null||hne(e,"ObjectID"))return e;if(e._id){if(hne(e._id,"ObjectID"))return e._id;if(e._id.toString instanceof Function)return new SN(e._id.toString())}return e.toString instanceof Function?new SN(e.toString()):new SN(e)}});var ON=h((l1t,yne)=>{"use strict";var mne=Wn();yne.exports=function(e,r){return typeof e=="string"&&typeof r=="string"||typeof e=="number"&&typeof r=="number"?e===r:mne(e,"ObjectID")&&mne(r,"ObjectID")?e.toString()===r.toString():!1}});var ro=h((d1t,gne)=>{"use strict";var Nze=ON();gne.exports=function(e,r){if(e==null)return null;for(let n of Object.keys(e)){let i=e[n];if(i.schema&&i.schema.discriminatorMapping&&Nze(i.schema.discriminatorMapping.value,r))return i}return null}});var Sne=h((f1t,Ane)=>{"use strict";var A4=_4(),xze=mi(),Mze=wN(),_ne=ro(),Fze=Sc().internalToObjectOptions,S4=we(),CN=Wn(),O4=pe().arrayParentSymbol,bN=pe().arrayPathSymbol,vN=pe().arraySchemaSymbol,Ene=pe().documentArrayParent,IN={toBSON(){return this.toObject(Fze)},getArrayParent(){return this[O4]},_cast(t,e){if(this[vN]==null)return t;let r=this[vN].casterConstructor;if((r.$isMongooseDocumentArray?S4.isMongooseDocumentArray(t):t instanceof r)||t&&t.constructor&&t.constructor.baseCasterConstructor===r)return t[Ene]&&t.__parentArray||(t[Ene]=this[O4],t.__parentArray=this),t.$setIndex(e),t;if(t==null)return null;if((Buffer.isBuffer(t)||CN(t,"ObjectID")||!S4.isObject(t))&&(t={_id:t}),t&&r.discriminators&&r.schema&&r.schema.options&&r.schema.options.discriminatorKey)if(typeof t[r.schema.options.discriminatorKey]=="string"&&r.discriminators[t[r.schema.options.discriminatorKey]])r=r.discriminators[t[r.schema.options.discriminatorKey]];else{let s=_ne(r.discriminators,t[r.schema.options.discriminatorKey]);s&&(r=s)}if(r.$isMongooseDocumentArray)return r.cast(t,this,void 0,void 0,e);let i=new r(t,this,void 0,void 0,e);return i.isNew=!0,i},id(t){let e,r,n;try{e=Mze(t).toString()}catch{e=null}for(let i of this)if(i&&(n=i.get("_id"),!(n===null||typeof n>"u"))){if(n instanceof xze){if(r||(r=String(t)),r==n._id)return i}else if(!CN(t,"ObjectID")&&!CN(n,"ObjectID")){if(t==n||S4.deepEqual(t,n))return i}else if(e==n)return i}return null},toObject(t){return[].concat(this.map(function(e){return e==null?null:typeof e.toObject!="function"?e:e.toObject(t)}))},$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)},push(){let t=A4.push.apply(this,arguments);return w4(this),t},pull(){let t=A4.pull.apply(this,arguments);return w4(this),t},shift(){let t=A4.shift.apply(this,arguments);return w4(this),t},splice(){let t=A4.splice.apply(this,arguments);return w4(this),t},inspect(){return this.toObject()},create(t){let e=this[vN].casterConstructor;if(t&&e.discriminators&&e.schema&&e.schema.options&&e.schema.options.discriminatorKey)if(typeof t[e.schema.options.discriminatorKey]=="string"&&e.discriminators[t[e.schema.options.discriminatorKey]])e=e.discriminators[t[e.schema.options.discriminatorKey]];else{let r=_ne(e.discriminators,t[e.schema.options.discriminatorKey]);r&&(e=r)}return new e(t,this)},notify(t){let e=this;return function r(n,i){i=i||e;let s=i.length;for(;s--;)if(i[s]!=null){switch(t){case"save":n=e[s];break;default:break}S4.isMongooseArray(i[s])?r(n,i[s]):i[s]&&i[s].emit(t,n)}}},set(t,e,r){let n=this.__array;if(r)return n[t]=e,this;let i=IN._cast.call(this,e,t);return IN._markModified.call(this,t),n[t]=i,this},_markModified(t,e){let r=this[O4],n;if(r){if(n=this[bN],arguments.length)if(e!=null){let i=t.__index;n=n+"."+i+"."+e}else n=n+"."+t;if(n!=null&&n.endsWith(".$"))return this;r.markModified(n,arguments.length!==0?t:r)}return this}};Ane.exports=IN;function w4(t){let e=t[O4];if(!e||e.$__.populated==null)return;let r=Object.keys(e.$__.populated).filter(n=>n.startsWith(t[bN]+"."));for(let n of r){let i=n.slice((t[bN]+".").length);Array.isArray(e.$__.populated[n].value)&&(e.$__.populated[n].value=t.map(s=>s.$populated(i)))}}});var Ql=h((h1t,One)=>{"use strict";var wne=_4(),PN=Sne(),Bze=mi(),TN=pe().arrayAtomicsSymbol,qze=pe().arrayAtomicsBackupSymbol,DN=pe().arrayParentSymbol,RN=pe().arrayPathSymbol,Jl=pe().arraySchemaSymbol,$ze=Array.prototype.push,kze=/^\d+$/;function jze(t,e,r){let n=[],i={[TN]:{},[qze]:void 0,[RN]:e,[Jl]:void 0,[DN]:void 0};if(Array.isArray(t)&&(t[RN]===e&&t[DN]===r&&(i[TN]=Object.assign({},t[TN])),t.forEach(o=>{$ze.call(n,o)})),i[RN]=e,i.__array=n,r&&r instanceof Bze)for(i[DN]=r,i[Jl]=r.$__schema.path(e);i[Jl]!=null&&i[Jl].$isMongooseArray&&!i[Jl].$isMongooseDocumentArray;)i[Jl]=i[Jl].casterConstructor;let s=new Proxy(n,{get:function(o,u){return u==="isMongooseArray"||u==="isMongooseArrayProxy"||u==="isMongooseDocumentArray"||u==="isMongooseDocumentArrayProxy"?!0:i.hasOwnProperty(u)?i[u]:PN.hasOwnProperty(u)?PN[u]:wne.hasOwnProperty(u)?wne[u]:n[u]},set:function(o,u,a){return typeof u=="string"&&kze.test(u)?PN.set.call(s,u,a,!1):i.hasOwnProperty(u)?i[u]=a:n[u]=a,!0}});return s}One.exports=jze});var C4=h((p1t,Cne)=>{"use strict";var Lze=we(),Uze=new Set(["__index","__parentArray","_doc"]);Cne.exports=function(e,r){if(Lze.isPOJO(e)&&e.$__!=null&&e._doc!=null){if(r){let n={};for(let i of Object.keys(e))typeof i!="symbol"&&i[0]!=="$"&&(Uze.has(i)||(n[i]=e[i]));return{...e._doc,...n}}return e._doc}return e}});var v4=h((m1t,Tne)=>{"use strict";var zze=Gl(),Vze=Sr(),vne=Qo(),Wze=we().deepEqual,Hze=Vn(),Gze=C4(),bne=require("util"),Kze=pf(),NN=Wn(),Ine=pe().populateModelSymbol;var no=class extends Map{constructor(e,r,n,i){Hze(e)==="Object"&&(e=Object.keys(e).reduce((s,o)=>s.concat([[o,e[o]]]),[])),super(e),this.$__parent=n!=null&&n.$__!=null?n:null,this.$__path=r,this.$__schemaType=i??new zze(r),this.$__runDeferred()}$init(e,r){Pne(e),super.set(e,r),r!=null&&r.$isSingleNested&&(r.$basePath=this.$__path+"."+e)}$__set(e,r){super.set(e,r)}get(e,r){return NN(e,"ObjectID")&&(e=e.toString()),r=r||{},r.getters===!1?super.get(e):this.$__schemaType.applyGetters(super.get(e),this.$__parent)}set(e,r){if(NN(e,"ObjectID")&&(e=e.toString()),Pne(e),r=Gze(r),this.$__schemaType==null){this.$__deferred=this.$__deferred||[],this.$__deferred.push({key:e,value:r});return}let n=this.$__path+"."+e,i=this.$__parent!=null&&this.$__parent.$__?this.$__parent.$populated(n,!0)||this.$__parent.$populated(this.$__path,!0):null,s=this.get(e);if(i!=null){if(this.$__schemaType.$isSingleNested)throw new Vze(`Cannot manually populate single nested subdoc underneath Map at path "${this.$__path}". Try using an array instead of a Map.`);Array.isArray(r)&&this.$__schemaType.$isMongooseArray?r=r.map(u=>(u.$__==null&&(u=new i.options[Ine](u)),u.$__.wasPopulated={value:u._id},u)):(r.$__==null&&(r=new i.options[Ine](r)),r.$__.wasPopulated={value:r._id})}else try{r=this.$__schemaType.applySetters(r,this.$__parent,!1,this.get(e),{path:n})}catch(u){if(this.$__parent!=null&&this.$__parent.$__!=null){this.$__parent.invalidate(n,u);return}throw u}super.set(e,r),r!=null&&r.$isSingleNested&&(r.$basePath=this.$__path+"."+e);let o=this.$__parent;o!=null&&o.$__!=null&&!Wze(r,s)&&o.markModified(this.$__path+"."+e)}clear(){super.clear();let e=this.$__parent;e?.markModified(this.$__path)}delete(e){return NN(e,"ObjectID")&&(e=e.toString()),this.set(e,void 0),super.delete(e)}toBSON(){return new Map(this)}toObject(e){if(e&&e.flattenMaps){let r={},n=this.keys();for(let i of n)r[i]=vne(this.get(i),e);return r}return new Map(this)}$toObject(){return this.constructor.prototype.toObject.apply(this,arguments)}toJSON(e){if(typeof(e&&e.flattenMaps)!="boolean"||e.flattenMaps){let r={},n=this.keys();for(let i of n)r[i]=vne(this.get(i),e);return r}return new Map(this)}inspect(){return new Map(this)}$__runDeferred(){if(this.$__deferred){for(let e of this.$__deferred)this.set(e.key,e.value);this.$__deferred=null}}};bne.inspect.custom&&Object.defineProperty(no.prototype,bne.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:no.prototype.inspect});Object.defineProperty(no.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(no.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(no.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(no.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1});Object.defineProperty(no.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0});Object.defineProperty(no.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0});function Pne(t){let e=typeof t;if(e!=="string")throw new TypeError(`Mongoose maps only support string keys, got ${e}`);if(t.startsWith("$"))throw new Error(`Mongoose maps do not support keys that start with "$", got "${t}"`);if(t.includes("."))throw new Error(`Mongoose maps do not support keys that contain ".", got "${t}"`);if(Kze.has(t))throw new Error(`Mongoose maps do not support reserved key name "${t}"`)}Tne.exports=no});var Pf=h(eu=>{"use strict";eu.Array=EN();eu.Buffer=Vy();eu.Document=eu.Embedded=If();eu.DocumentArray=Ql();eu.Decimal128=MC();eu.ObjectId=Ll();eu.Map=v4();eu.Subdocument=m4()});var Rne=h((g1t,Dne)=>{"use strict";var Yze=qi(),ki=class extends Yze{},tu=Os();Object.defineProperty(ki.prototype,"enum",tu);Object.defineProperty(ki.prototype,"match",tu);Object.defineProperty(ki.prototype,"lowercase",tu);Object.defineProperty(ki.prototype,"trim",tu);Object.defineProperty(ki.prototype,"uppercase",tu);Object.defineProperty(ki.prototype,"minLength",tu);Object.defineProperty(ki.prototype,"minlength",tu);Object.defineProperty(ki.prototype,"maxLength",tu);Object.defineProperty(ki.prototype,"maxlength",tu);Object.defineProperty(ki.prototype,"populate",tu);Dne.exports=ki});var xN=h((_1t,Nne)=>{"use strict";var Jze=fi();Nne.exports=function(e,r){if(e==null)return e;if(e._id&&typeof e._id=="string")return e._id;if(e.toString&&e.toString!==Object.prototype.toString&&!Array.isArray(e))return e.toString();throw new Jze("string",e,r)}});var Fne=h((E1t,Mne)=>{"use strict";var ta=Dn(),Hy=kt(),Qze=Rne(),Xze=xN(),MN=we(),Zze=Wn(),eVe=ta.CastError;function ft(t,e){this.enumValues=[],this.regExp=null,ta.call(this,t,e,"String")}ft.schemaName="String";ft.defaultOptions={};ft.prototype=Object.create(ta.prototype);ft.prototype.constructor=ft;Object.defineProperty(ft.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:Qze});ft._cast=Xze;ft.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};ft._defaultCaster=t=>{if(t!=null&&typeof t!="string")throw new Error;return t};ft.get=ta.get;ft.set=ta.set;ft._checkRequired=t=>(t instanceof String||typeof t=="string")&&t.length;ft.checkRequired=ta.checkRequired;ft.prototype.enum=function(){if(this.enumValidator&&(this.validators=this.validators.filter(function(n){return n.validator!==this.enumValidator},this),this.enumValidator=!1),arguments[0]===void 0||arguments[0]===!1)return this;let t,e;MN.isObject(arguments[0])?Array.isArray(arguments[0].values)?(t=arguments[0].values,e=arguments[0].message):(t=MN.object.vals(arguments[0]),e=Hy.messages.String.enum):(t=arguments,e=Hy.messages.String.enum);for(let n of t)n!==void 0&&this.enumValues.push(this.cast(n));let r=this.enumValues;return this.enumValidator=function(n){return n===void 0||~r.indexOf(n)},this.validators.push({validator:this.enumValidator,message:e,type:"enum",enumValues:r}),this};ft.prototype.lowercase=function(t){return arguments.length>0&&!t?this:this.set(e=>(typeof e!="string"&&(e=this.cast(e)),e&&e.toLowerCase()))};ft.prototype.uppercase=function(t){return arguments.length>0&&!t?this:this.set(e=>(typeof e!="string"&&(e=this.cast(e)),e&&e.toUpperCase()))};ft.prototype.trim=function(t){return arguments.length>0&&!t?this:this.set(e=>(typeof e!="string"&&(e=this.cast(e)),e&&e.trim()))};ft.prototype.minlength=function(t,e){if(this.minlengthValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.minlengthValidator},this)),t!=null){let r=e||Hy.messages.String.minlength;r=r.replace(/{MINLENGTH}/,t),this.validators.push({validator:this.minlengthValidator=function(n){return n===null||n.length>=t},message:r,type:"minlength",minlength:t})}return this};ft.prototype.minLength=ft.prototype.minlength;ft.prototype.maxlength=function(t,e){if(this.maxlengthValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.maxlengthValidator},this)),t!=null){let r=e||Hy.messages.String.maxlength;r=r.replace(/{MAXLENGTH}/,t),this.validators.push({validator:this.maxlengthValidator=function(n){return n===null||n.length<=t},message:r,type:"maxlength",maxlength:t})}return this};ft.prototype.maxLength=ft.prototype.maxlength;ft.prototype.match=function(e,r){let n=r||Hy.messages.String.match,i=function(s){return e?(e.lastIndex=0,s!=null&&s!==""?e.test(s):!0):!1};return this.validators.push({validator:i,message:n,type:"regexp",regexp:e}),this};ft.prototype.checkRequired=function(e,r){return typeof e=="object"&&ta._isRef(this,e,r,!0)?e!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():ft.checkRequired())(e)};ft.prototype.cast=function(t,e,r){if(typeof t!="string"&&ta._isRef(this,t,e,r))return this._castRef(t,e,r);let n;typeof this._castFunction=="function"?n=this._castFunction:typeof this.constructor.cast=="function"?n=this.constructor.cast():n=ft.cast();try{return n(t)}catch{throw new eVe("string",t,this.path,null,this)}};function Wy(t){return this.castForQuery(t)}function tVe(t){let e=this;return Array.isArray(t)?t.map(function(r){return e.castForQuery(r)}):[this.castForQuery(t)]}function xne(t){return t==null?this._castNullish(t):this.cast(t,this)}var rVe=MN.options(ta.prototype.$conditionalHandlers,{$all:tVe,$gt:Wy,$gte:Wy,$lt:Wy,$lte:Wy,$options:xne,$regex:function(e){return Object.prototype.toString.call(e)==="[object RegExp]"?e:xne.call(this,e)},$not:Wy});Object.defineProperty(ft.prototype,"$conditionalHandlers",{configurable:!1,enumerable:!1,writable:!1,value:Object.freeze(rVe)});ft.prototype.castForQuery=function(t,e){let r;if(arguments.length===2){if(r=this.$conditionalHandlers[t],!r)throw new Error("Can't use "+t+" with String.");return r.call(this,e)}return e=t,Object.prototype.toString.call(e)==="[object RegExp]"||Zze(e,"BSONRegExp")?e:this._castForQuery(e)};Mne.exports=ft});var qne=h((A1t,Bne)=>{"use strict";var nVe=qi(),Xl=class extends nVe{},b4=Os();Object.defineProperty(Xl.prototype,"min",b4);Object.defineProperty(Xl.prototype,"max",b4);Object.defineProperty(Xl.prototype,"enum",b4);Object.defineProperty(Xl.prototype,"populate",b4);Bne.exports=Xl});var Tf=h((S1t,kne)=>{"use strict";var $ne=require("assert");kne.exports=function(e){if(e==null)return e;if(e==="")return null;if((typeof e=="string"||typeof e=="boolean")&&(e=Number(e)),$ne.ok(!isNaN(e)),e instanceof Number)return e.valueOf();if(typeof e=="number")return e;if(!Array.isArray(e)&&typeof e.valueOf=="function")return Number(e.valueOf());if(e.toString&&!Array.isArray(e)&&e.toString()==Number(e))return Number(e);$ne.ok(!1)}});var I4=h((w1t,Lne)=>{"use strict";var iVe=fi();function sVe(t){let e=this;return Array.isArray(t)?t.map(function(r){return jne(e.path,r)}):Buffer.isBuffer(t)?t:jne(e.path,t)}function jne(t,e){let r=Number(e);if(isNaN(r))throw new iVe("number",e,t);return r}Lne.exports=sVe});var FN=h((O1t,zne)=>{"use strict";var D4=kt(),oVe=qne(),ra=Dn(),uVe=Tf(),P4=I4(),R4=we(),Une=ra.CastError;function cr(t,e){ra.call(this,t,e,"Number")}cr.get=ra.get;cr.set=ra.set;cr._cast=uVe;cr.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};cr._defaultCaster=t=>{if(typeof t!="number")throw new Error;return t};cr.schemaName="Number";cr.defaultOptions={};cr.prototype=Object.create(ra.prototype);cr.prototype.constructor=cr;cr.prototype.OptionsConstructor=oVe;cr._checkRequired=t=>typeof t=="number"||t instanceof Number;cr.checkRequired=ra.checkRequired;cr.prototype.checkRequired=function(e,r){return typeof e=="object"&&ra._isRef(this,e,r,!0)?e!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():cr.checkRequired())(e)};cr.prototype.min=function(t,e){if(this.minValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.minValidator},this)),t!=null){let r=e||D4.messages.Number.min;r=r.replace(/{MIN}/,t),this.validators.push({validator:this.minValidator=function(n){return n==null||n>=t},message:r,type:"min",min:t})}return this};cr.prototype.max=function(t,e){if(this.maxValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.maxValidator},this)),t!=null){let r=e||D4.messages.Number.max;r=r.replace(/{MAX}/,t),this.validators.push({validator:this.maxValidator=function(n){return n==null||n<=t},message:r,type:"max",max:t})}return this};cr.prototype.enum=function(t,e){return this.enumValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.enumValidator},this)),Array.isArray(t)||(R4.isPOJO(t)&&t.values!=null?(e=t.message,t=t.values):typeof t=="number"&&(t=Array.prototype.slice.call(arguments),e=null),R4.isPOJO(t)&&(t=Object.values(t)),e=e||D4.messages.Number.enum),e=e??D4.messages.Number.enum,this.enumValidator=r=>r==null||t.indexOf(r)!==-1,this.validators.push({validator:this.enumValidator,message:e,type:"enum",enumValues:t}),this};cr.prototype.cast=function(t,e,r){if(typeof t!="number"&&ra._isRef(this,t,e,r)&&(t==null||R4.isNonBuiltinObject(t)))return this._castRef(t,e,r);let n=t&&typeof t._id<"u"?t._id:t,i;typeof this._castFunction=="function"?i=this._castFunction:typeof this.constructor.cast=="function"?i=this.constructor.cast():i=cr.cast();try{return i(n)}catch(s){throw new Une("Number",n,this.path,s,this)}};function T4(t){return this.cast(t)}function aVe(t){let e=this;return Array.isArray(t)?t.map(function(r){return e.cast(r)}):[this.cast(t)]}cr.prototype.$conditionalHandlers=R4.options(ra.prototype.$conditionalHandlers,{$bitsAllClear:P4,$bitsAnyClear:P4,$bitsAllSet:P4,$bitsAnySet:P4,$gt:T4,$gte:T4,$lt:T4,$lte:T4,$mod:aVe});cr.prototype.castForQuery=function(t,e){let r;if(arguments.length===2){if(r=this.$conditionalHandlers[t],!r)throw new Une("number",e,this.path,null,this);return r.call(this,e)}return e=this._castForQuery(t),e};zne.exports=cr});var Wne=h((C1t,Vne)=>{"use strict";var cVe=fi(),Ky=Dn(),Gy=r4(),lVe=we();function yr(t,e){Ky.call(this,t,e,"Boolean")}yr.schemaName="Boolean";yr.defaultOptions={};yr.prototype=Object.create(Ky.prototype);yr.prototype.constructor=yr;yr._cast=Gy;yr.set=Ky.set;yr.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};yr._defaultCaster=t=>{if(t!=null&&typeof t!="boolean")throw new Error;return t};yr._checkRequired=t=>t===!0||t===!1;yr.checkRequired=Ky.checkRequired;yr.prototype.checkRequired=function(t){return this.constructor._checkRequired(t)};Object.defineProperty(yr,"convertToTrue",{get:()=>Gy.convertToTrue,set:t=>{Gy.convertToTrue=t}});Object.defineProperty(yr,"convertToFalse",{get:()=>Gy.convertToFalse,set:t=>{Gy.convertToFalse=t}});yr.prototype.cast=function(t){let e;typeof this._castFunction=="function"?e=this._castFunction:typeof this.constructor.cast=="function"?e=this.constructor.cast():e=yr.cast();try{return e(t)}catch(r){throw new cVe("Boolean",t,this.path,r,this)}};yr.$conditionalHandlers=lVe.options(Ky.prototype.$conditionalHandlers,{});yr.prototype.castForQuery=function(t,e){let r;return arguments.length===2?(r=yr.$conditionalHandlers[t],r?r.call(this,e):this._castForQuery(e)):this._castForQuery(t)};yr.prototype._castNullish=function(e){if(typeof e>"u")return e;let r=typeof this.constructor.cast=="function"?this.constructor.cast():yr.cast();return r==null?e:r.convertToFalse instanceof Set&&r.convertToFalse.has(e)?!1:r.convertToTrue instanceof Set&&r.convertToTrue.has(e)?!0:e};Vne.exports=yr});var Gne=h((v1t,Hne)=>{"use strict";var dVe=qi(),Df=class extends dVe{},BN=Os();Object.defineProperty(Df.prototype,"enum",BN);Object.defineProperty(Df.prototype,"of",BN);Object.defineProperty(Df.prototype,"castNonArrays",BN);Hne.exports=Df});var Yne=h((b1t,Kne)=>{"use strict";Kne.exports=qN;function qN(t){if(!Array.isArray(t))return{min:0,max:0,containsNonArrayItem:!0};if(t.length===0)return{min:1,max:1,containsNonArrayItem:!1};if(t.length===1&&!Array.isArray(t[0]))return{min:1,max:1,containsNonArrayItem:!1};let e=qN(t[0]);for(let r=1;r<t.length;++r){let n=qN(t[r]);n.min<e.min&&(e.min=n.min),n.max>e.max&&(e.max=n.max),e.containsNonArrayItem=e.containsNonArrayItem||n.containsNonArrayItem}return e.min=e.min+1,e.max=e.max+1,e}});var Zne=h((I1t,Xne)=>{"use strict";var Jy=fi(),Qne=Ec(),N4=Tf(),fVe=new Set(["$and","$or"]),hVe=new Set(["$cmp","$eq","$lt","$lte","$gt","$gte"]),pVe=new Set(["$multiply","$divide","$log","$mod","$trunc","$avg","$max","$min","$stdDevPop","$stdDevSamp","$sum"]),mVe=new Set(["$abs","$exp","$ceil","$floor","$ln","$log10","$round","$sqrt","$sin","$cos","$tan","$asin","$acos","$atan","$atan2","$asinh","$acosh","$atanh","$sinh","$cosh","$tanh","$degreesToRadians","$radiansToDegrees"]),yVe=new Set(["$arrayElemAt","$first","$last"]),gVe=new Set(["$year","$month","$week","$dayOfMonth","$dayOfYear","$hour","$minute","$second","$isoDayOfWeek","$isoWeekYear","$isoWeek","$millisecond"]),_Ve=new Set(["$not"]);Xne.exports=function(e,r,n){if(typeof e!="object"||e===null)throw new Error("`$expr` must be an object");return Cs(e,r,n)};function Cs(t,e,r){if(Yy(t)||t===null)return t;t.$cond!=null?Array.isArray(t.$cond)?t.$cond=t.$cond.map(i=>Cs(i,e,r)):(t.$cond.if=Cs(t.$cond.if,e,r),t.$cond.then=Cs(t.$cond.then,e,r),t.$cond.else=Cs(t.$cond.else,e,r)):t.$ifNull!=null?t.$ifNull.map(i=>Cs(i,e,r)):t.$switch!=null&&(t.branches.map(i=>Cs(i,e,r)),t.default=Cs(t.default,e,r));let n=Object.keys(t);for(let i of n)fVe.has(i)?t[i]=t[i].map(s=>Cs(s,e,r)):hVe.has(i)?t[i]=wVe(t[i],e,r):pVe.has(i)?t[i]=SVe(t[i],e,r):mVe.has(i)?t[i]=Jne(t[i],e,r):_Ve.has(i)&&(t[i]=Cs(t[i],e,r));return t.$in&&(t.$in=AVe(t.$in,e,r)),t.$size&&(t.$size=Jne(t.$size,e,r)),EVe(t),t}function EVe(t){let e=Object.keys(t);for(let r=0,n=e.length;r<n;++r)t[e[r]]===void 0&&delete t[e[r]]}function Jne(t){if(!x4(t))return t;try{return N4(t)}catch{throw new Jy("Number",t)}}function AVe(t,e,r){let n=t[1];if(!Yy(n))return t;let i=t[0],s=e.path(n.slice(1));if(s===null){if(r===!1)return t;if(r==="throw")throw new Qne("$in");return}if(!s.$isMongooseArray)throw new Error("Path must be an array for $in");return[s.$isMongooseDocumentArray?s.$embeddedSchemaType.cast(i):s.caster.cast(i),n]}function SVe(t){if(!Array.isArray(t)){if(!x4(t))return t;try{return N4(t)}catch{throw new Jy("Number",t)}}return t.map(e=>{if(!x4(e))return e;try{return N4(e)}catch{throw new Jy("Number",e)}})}function wVe(t,e,r){if(!Array.isArray(t)||t.length!==2)throw new Error("Comparison operator must be an array of length 2");t[0]=Cs(t[0],e,r);let n=t[0];if(x4(t[1])){let i=null,s=null,o=null;if(Yy(n))i=n.slice(1),s=e.path(i);else if(typeof n=="object"&&n!=null)for(let a of Object.keys(n))gVe.has(a)&&Yy(n[a])?(i=n[a].slice(1)+"."+a,o=N4):yVe.has(a)&&Yy(n[a])&&(i=n[a].slice(1)+"."+a,s=e.path(n[a].slice(1)),s!=null&&(s.$isMongooseDocumentArray?s=s.$embeddedSchemaType:s.$isMongooseArray&&(s=s.caster)));let u=typeof t[1]=="object"&&t[1]!=null&&t[1].$literal!=null;if(s!=null)u?t[1]={$literal:s.cast(t[1].$literal)}:t[1]=s.cast(t[1]);else if(o!=null)if(u)try{t[1]={$literal:o(t[1].$literal)}}catch{throw new Jy(o.name.replace(/^cast/,""),t[1],i+".$literal")}else try{t[1]=o(t[1])}catch{throw new Jy(o.name.replace(/^cast/,""),t[1],i)}else{if(i!=null&&r===!0)return;if(i!=null&&r==="throw")throw new Qne(i)}}else t[1]=Cs(t[1]);return t}function Yy(t){return typeof t=="string"&&t[0]==="$"}function x4(t){return typeof t=="string"&&t[0]==="$"?!1:typeof t=="object"&&t!==null&&Object.keys(t).find(e=>e[0]==="$")?t.$literal!=null:!0}});var nie=h((P1t,rie)=>{"use strict";var OVe=fi(),eie=r4(),tie=xN();rie.exports=function(t,e){if(t==null||typeof t!="object")throw new OVe("$text",t,e);return t.$search!=null&&(t.$search=tie(t.$search,e+".$search")),t.$language!=null&&(t.$language=tie(t.$language,e+".$language")),t.$caseSensitive!=null&&(t.$caseSensitive=eie(t.$caseSensitive,e+".$castSensitive")),t.$diacriticSensitive!=null&&(t.$diacriticSensitive=eie(t.$diacriticSensitive,e+".$diacriticSensitive")),t}});var M4=h((T1t,iie)=>{"use strict";var CVe=ON();iie.exports=function(e,r){if(e==null||e.discriminators==null)return null;for(let n of Object.keys(e.discriminators)){let i=e.discriminators[n];if(i.discriminatorMapping!=null&&CVe(i.discriminatorMapping.value,r))return i}return null}});var F4=h((D1t,sie)=>{"use strict";var vVe=new Set(["$ref","$id","$db"]);sie.exports=function(e){return e[0]==="$"&&!vVe.has(e)}});var Rf=h((R1t,aie)=>{"use strict";var oie=fi(),$N=Ec(),bVe=Qy(),IVe=Zne(),PVe=nie(),TVe=Xt(),DVe=Vn(),RVe=M4(),uie=F4(),NVe=require("util"),jN=gc(),kN=mf(),xVe=["Polygon","MultiPolygon"];aie.exports=function t(e,r,n,i){if(Array.isArray(r))throw new Error("Query filter must be an object, got an array ",NVe.inspect(r));if(r==null)return r;e!=null&&e.discriminators!=null&&r[e.options.discriminatorKey]!=null&&(e=RVe(e,r[e.options.discriminatorKey])||e);let s=Object.keys(r),o=s.length,u,a,c,l,d,f,p;for(n=n||{};o--;)if(d=s[o],p=r[d],d==="$or"||d==="$nor"||d==="$and"){if(!Array.isArray(p))throw new oie("Array",p,d);for(let m=p.length-1;m>=0;m--){if(p[m]==null||typeof p[m]!="object")throw new oie("Object",p[m],d+"."+m);p[m]=t(e,p[m],n,i),Object.keys(p[m]).length===0&&p.splice(m,1)}p.length===0&&delete r[d]}else if(d==="$where"){if(f=typeof p,f!=="string"&&f!=="function")throw new Error("Must have a string or function for $where");f==="function"&&(r[d]=p.toString());continue}else if(d==="$expr"){p=IVe(p,e);continue}else if(d==="$elemMatch")p=t(e,p,n,i);else if(d==="$text")p=PVe(p,d);else{if(!e)continue;if(c=e.path(d),!c){let m=d.split("."),y=m.length;for(;y--;){let _=m.slice(0,y).join("."),g=m.slice(y).join("."),E=e.path(_),O=E&&E.schema&&E.schema.options&&E.schema.options.discriminatorKey;if(E!=null&&(E.schema&&E.schema.discriminators)!=null&&O!=null&&g!==O){let w=TVe(r,_+"."+O);w!=null&&(c=E.schema.discriminators[w].path(g))}}}if(c){if(p==null)continue;if(DVe(p)==="Object")if(a=Object.keys(p).some(uie),!a)r[d]=c.castForQueryWrapper({val:p,context:i});else{let m=Object.keys(p),y,_=m.length;for(;_--;)if(y=m[_],l=p[y],y==="$not"){if(l&&c){if(u=Object.keys(l),u.length&&uie(u[0]))for(let g in l)l[g]=c.castForQueryWrapper({$conditional:g,val:l[g],context:i});else p[y]=c.castForQueryWrapper({$conditional:y,val:l,context:i});continue}}else p[y]=c.castForQueryWrapper({$conditional:y,val:l,context:i})}else if(Array.isArray(p)&&["Buffer","Array"].indexOf(c.instance)===-1){let m=[],y=p;for(let _ of y)m.push(c.castForQueryWrapper({val:_,context:i}));r[d]={$in:m}}else r[d]=c.castForQueryWrapper({val:p,context:i})}else{let m=d.split("."),y=m.length,_,g,E;for(;y--&&(_=m.slice(0,y).join("."),c=e.path(_),!c););if(c){if(c.caster&&c.caster.schema){E={},g=m.slice(y).join("."),E[g]=p;let b=t(c.caster.schema,E,n,i)[g];b===void 0?delete r[d]:r[d]=b}else r[d]=p;continue}if(jN(p)){let b="";if(p.$near?b="$near":p.$nearSphere?b="$nearSphere":p.$within?b="$within":p.$geoIntersects?b="$geoIntersects":p.$geoWithin&&(b="$geoWithin"),b){let M=new bVe.Number("__QueryCasting__"),T=p[b];if(p.$maxDistance!=null&&(p.$maxDistance=M.castForQueryWrapper({val:p.$maxDistance,context:i})),p.$minDistance!=null&&(p.$minDistance=M.castForQueryWrapper({val:p.$minDistance,context:i})),b==="$within"){let G=T.$center||T.$centerSphere||T.$box||T.$polygon;if(!G)throw new Error("Bad $within parameter: "+JSON.stringify(p));T=G}else if(b==="$near"&&typeof T.type=="string"&&Array.isArray(T.coordinates))T=T.coordinates;else if((b==="$near"||b==="$nearSphere"||b==="$geoIntersects")&&T.$geometry&&typeof T.$geometry.type=="string"&&Array.isArray(T.$geometry.coordinates))T.$maxDistance!=null&&(T.$maxDistance=M.castForQueryWrapper({val:T.$maxDistance,context:i})),T.$minDistance!=null&&(T.$minDistance=M.castForQueryWrapper({val:T.$minDistance,context:i})),kN(T.$geometry)&&(T.$geometry=T.$geometry.toObject({transform:!1,virtuals:!1})),T=T.$geometry.coordinates;else if(b==="$geoWithin")if(T.$geometry){kN(T.$geometry)&&(T.$geometry=T.$geometry.toObject({virtuals:!1}));let G=T.$geometry.type;if(xVe.indexOf(G)===-1)throw new Error('Invalid geoJSON type for $geoWithin "'+G+'", must be "Polygon" or "MultiPolygon"');T=T.$geometry.coordinates}else T=T.$box||T.$polygon||T.$center||T.$centerSphere,kN(T)&&(T=T.toObject({virtuals:!1}));LN(T,M,i);continue}}if(e.nested[d])continue;let O="strict"in n?n.strict:e.options.strict,w=MVe(n,e._userProvidedOptions,e.options,i);if(n.upsert&&O)throw O==="throw"?new $N(d):new $N(d,'Path "'+d+'" is not in schema, strict mode is `true`, and upsert is `true`.');if(w==="throw")throw new $N(d,'Path "'+d+`" is not in schema and strictQuery is 'throw'.`);w&&delete r[d]}}return r};function LN(t,e,r){if(Array.isArray(t))t.forEach(function(n,i){if(Array.isArray(n)||jN(n))return LN(n,e,r);t[i]=e.castForQueryWrapper({val:n,context:r})});else{let n=Object.keys(t),i=n.length;for(;i--;){let s=n[i],o=t[s];Array.isArray(o)||jN(o)?(LN(o,e,r),t[s]=o):t[s]=e.castForQuery({val:o,context:r})}}}function MVe(t,e,r,n){if("strictQuery"in t)return t.strictQuery;if("strict"in t)return t.strict;if("strictQuery"in e)return e.strictQuery;if("strict"in e)return e.strict;let i=n&&n.mongooseCollection&&n.mongooseCollection.conn&&n.mongooseCollection.conn.base&&n.mongooseCollection.conn.base.options;if(i){if("strictQuery"in i)return i.strictQuery;if("strict"in i)return i.strict}return r.strictQuery}});var Xy=h(UN=>{"use strict";var FVe=FN();UN.castToNumber=cie;UN.castArraysOfNumbers=lie;function cie(t){return FVe.cast()(t)}function lie(t,e){t.forEach(function(r,n){Array.isArray(r)?lie(r,e):t[n]=cie.call(e,r)})}});var WN=h(B4=>{"use strict";var die=Xy().castArraysOfNumbers,Zy=Xy().castToNumber;B4.cast$geoIntersects=$Ve;B4.cast$near=BVe;B4.cast$within=qVe;function BVe(t){let e=q4();if(Array.isArray(t))return die(t,this),t;if(VN(this,t),t&&t.$geometry)return zN(t,this);if(!Array.isArray(t))throw new TypeError("$near must be either an array or an object with a $geometry property");return e.prototype.castForQuery.call(this,t)}function zN(t,e){switch(t.$geometry.type){case"Polygon":case"LineString":case"Point":die(t.$geometry.coordinates,e);break;default:break}return VN(e,t),t}function qVe(t){if(VN(this,t),t.$box||t.$polygon){let e=t.$box?"$box":"$polygon";t[e].forEach(r=>{if(!Array.isArray(r)){let n="Invalid $within $box argument. Expected an array, received "+r;throw new TypeError(n)}r.forEach((n,i)=>{r[i]=Zy.call(this,n)})})}else if(t.$center||t.$centerSphere){let e=t.$center?"$center":"$centerSphere";t[e].forEach((r,n)=>{Array.isArray(r)?r.forEach((i,s)=>{r[s]=Zy.call(this,i)}):t[e][n]=Zy.call(this,r)})}else t.$geometry&&zN(t,this);return t}function $Ve(t){if(t.$geometry)return zN(t,this),t}function VN(t,e){e.$maxDistance&&(e.$maxDistance=Zy.call(t,e.$maxDistance)),e.$minDistance&&(e.$minDistance=Zy.call(t,e.$minDistance))}});var q4=h((M1t,hie)=>{"use strict";var kVe=n4(),jVe=XR(),LVe=Sr(),UVe=Gne(),io=Dn(),k4=io.CastError,j4=Gl(),zVe=Yne(),tg=Rf(),VVe=F4(),L4=require("util"),na=we(),WVe=Xy().castToNumber,HN=WN(),HVe=ro(),eg,$4,fie=Symbol("mongoose#isNestedArray"),GVe=Object.freeze({});function bt(t,e,r,n){$4||($4=Pf().Embedded);let i="type";if(n&&n.typeKey&&(i=n.typeKey),this.schemaOptions=n,e){let u={};na.isPOJO(e)&&(e[i]?(u=na.clone(e),delete u[i],e=e[i]):e=j4),r!=null&&r.ref!=null&&u.ref==null&&(u.ref=r.ref),e===Object&&(e=j4);let a=typeof e=="string"?e:na.getFunctionName(e),c=Qy(),l=c.hasOwnProperty(a)?c[a]:e;if(this.casterConstructor=l,this.casterConstructor instanceof bt&&(this.casterConstructor[fie]=!0),typeof l=="function"&&!l.$isArraySubdocument&&!l.$isSchemaMap){let d=this.caster instanceof $4?null:t;this.caster=new l(d,u)}else this.caster=l,this.caster instanceof $4||(this.caster.path=t);this.$embeddedSchemaType=this.caster}this.$isMongooseArray=!0,io.call(this,t,r,"Array");let s,o;if(this.defaultValue!=null&&(s=this.defaultValue,o=typeof s=="function"),!("defaultValue"in this)||this.defaultValue!==void 0){let u=function(){return o?s.call(this):s!=null?[].concat(s):[]};u.$runBeforeSetters=!o,this.default(u)}}bt.schemaName="Array";bt.options={castNonArrays:!0};bt.defaultOptions={};bt.set=io.set;bt.prototype=Object.create(io.prototype);bt.prototype.constructor=bt;bt.prototype.OptionsConstructor=UVe;bt._checkRequired=io.prototype.checkRequired;bt.checkRequired=io.checkRequired;bt.prototype.checkRequired=function(e,r){return typeof e=="object"&&io._isRef(this,e,r,!0)?!!e:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():bt.checkRequired())(e)};bt.prototype.enum=function(){let t=this;for(;;){let r=t&&t.caster&&t.caster.instance;if(r==="Array"){t=t.caster;continue}if(r!=="String"&&r!=="Number")throw new Error("`enum` can only be set on an array of strings or numbers , not "+r);break}let e=arguments;return!Array.isArray(arguments)&&na.isObject(arguments)&&(e=na.object.vals(e)),t.caster.enum.apply(t.caster,e),this};bt.prototype.applyGetters=function(t,e){if(e!=null&&e.$__!=null&&e.$populated(this.path))return t;let r=io.prototype.applyGetters.call(this,t,e);if(Array.isArray(r)){let n=na.isMongooseArray(r)?r.__array:r,i=n.length;for(let s=0;s<i;++s)n[s]=this.caster.applyGetters(n[s],e)}return r};bt.prototype._applySetters=function(t,e,r,n){if(this.casterConstructor.$isMongooseArray&&bt.options.castNonArrays&&!this[fie]){let i=0,s=this;for(;s!=null&&s.$isMongooseArray&&!s.$isMongooseDocumentArray;)++i,s=s.casterConstructor;if(t!=null&&t.length!==0){let o=zVe(t);if(o.min===o.max&&o.max<i&&o.containsNonArrayItem)for(let u=o.max;u<i;++u)t=[t]}}return io.prototype._applySetters.call(this,t,e,r,n)};bt.prototype.cast=function(t,e,r,n,i){eg||(eg=Pf().Array);let s,o;if(Array.isArray(t)){if(!t.length&&e){let f=e.schema.indexedPaths(),p=this.path;for(s=0,o=f.length;s<o;++s){let y=f[s][0][p];if(y==="2dsphere"||y==="2d")return}let m=this.path.endsWith(".coordinates")?this.path.substring(0,this.path.lastIndexOf(".")):null;if(m!=null){for(s=0,o=f.length;s<o;++s)if(f[s][0][m]==="2dsphere")return}}i=i||GVe;let c=na.isMongooseArray(t)?t.__array:t;if(t=eg(c,i.path||this._arrayPath||this.path,e,this),c=t.__array,r&&e!=null&&e.$__!=null&&e.$populated(this.path))return t;let l=this.caster,d=l.$isMongooseArray;if(l&&this.casterConstructor!==j4)try{let f=c.length;for(s=0;s<f;s++){let p={};d&&(i.arrayPath!=null||l._arrayParentPath!=null)&&(p.arrayPathIndex=s),c[s]=l.applySetters(c[s],e,r,void 0,p)}}catch(f){throw new k4("["+f.kind+"]",L4.inspect(t),this.path+"."+s,f,this)}return t}let u=this.options.castNonArrays!=null?this.options.castNonArrays:bt.options.castNonArrays;if(r||u)return e&&r&&e.markModified(this.path),this.cast([t],e,r);throw new k4("Array",L4.inspect(t),this.path,null,this)};bt.prototype._castForPopulate=function(e,r){if(eg||(eg=Pf().Array),Array.isArray(e)){let n,i=e.__array?e.__array:e,s=i.length,o=this.caster;if(o&&this.casterConstructor!==j4)try{for(n=0;n<s;n++){let u={};o.$isMongooseArray&&o._arrayParentPath!=null&&(u.arrayPathIndex=n),i[n]=o.cast(i[n],r,!1,void 0,u)}}catch(u){throw new k4("["+u.kind+"]",L4.inspect(e),this.path+"."+n,u,this)}return e}throw new k4("Array",L4.inspect(e),this.path,null,this)};bt.prototype.$toObject=bt.prototype.toObject;bt.prototype.discriminator=function(t,e){let r=this;for(;r.$isMongooseArray&&!r.$isMongooseDocumentArray;)if(r=r.casterConstructor,r==null||typeof r=="function")throw new LVe("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return r.discriminator(t,e)};bt.prototype.clone=function(){let t=Object.assign({},this.options),e=new this.constructor(this.path,this.caster,t,this.schemaOptions);return e.validators=this.validators.slice(),this.requiredValidator!==void 0&&(e.requiredValidator=this.requiredValidator),e};bt.prototype.castForQuery=function(t,e){let r,n;if(arguments.length===2){if(r=this.$conditionalHandlers[t],!r)throw new Error("Can't use "+t+" with Array.");n=r.call(this,e)}else{n=t;let i=this.casterConstructor;if(n&&i.discriminators&&i.schema&&i.schema.options&&i.schema.options.discriminatorKey)if(typeof n[i.schema.options.discriminatorKey]=="string"&&i.discriminators[n[i.schema.options.discriminatorKey]])i=i.discriminators[n[i.schema.options.discriminatorKey]];else{let a=HVe(i.discriminators,n[i.schema.options.discriminatorKey]);a&&(i=a)}let s=this.casterConstructor.prototype,o=s&&(s.castForQuery||s.cast);!o&&i.castForQuery&&(o=i.castForQuery);let u=this.caster;Array.isArray(n)?(this.setters.reverse().forEach(a=>{n=a.call(this,n,this)}),n=n.map(function(a){return na.isObject(a)&&a.$elemMatch?a:o?(a=o.call(u,a),a):(a!=null&&(a=new i(a)),a)})):o?n=o.call(u,n):n!=null&&(n=new i(n))}return n};function KVe(t){return Array.isArray(t)||(t=[t]),t=t.map(e=>{if(!na.isObject(e))return e;if(e.$elemMatch!=null)return{$elemMatch:tg(this.casterConstructor.schema,e.$elemMatch,null,this&&this.$$context)};let r={};return r[this.path]=e,tg(this.casterConstructor.schema,r,null,this&&this.$$context)[this.path]},this),this.castForQuery(t)}function YVe(t){let e=Object.keys(t),r=e.length;for(let s=0;s<r;++s){let o=e[s],u=t[o];VVe(o)&&u!=null&&(t[o]=this.castForQuery(o,u))}let n=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.options&&this.casterConstructor.schema.options.discriminatorKey,i=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.discriminators||{};return n!=null&&t[n]!=null&&i[t[n]]!=null?tg(i[t[n]],t,null,this&&this.$$context):tg(this.casterConstructor.schema,t,null,this&&this.$$context)}var jt=bt.prototype.$conditionalHandlers={};jt.$all=KVe;jt.$options=String;jt.$elemMatch=YVe;jt.$geoIntersects=HN.cast$geoIntersects;jt.$or=GN("$or");jt.$and=GN("$and");jt.$nor=GN("$nor");function GN(t){return function(r){if(!Array.isArray(r))throw new TypeError("conditional "+t+" requires an array");let n=[];for(let i of r)n.push(tg(this.casterConstructor.schema,i,null,this&&this.$$context));return n}}jt.$near=jt.$nearSphere=HN.cast$near;jt.$within=jt.$geoWithin=HN.cast$within;jt.$size=jt.$minDistance=jt.$maxDistance=WVe;jt.$exists=kVe;jt.$type=jVe;jt.$eq=jt.$gt=jt.$gte=jt.$lt=jt.$lte=jt.$ne=jt.$not=jt.$regex=bt.prototype.castForQuery;jt.$nin=io.prototype.$conditionalHandlers.$nin;jt.$in=io.prototype.$conditionalHandlers.$in;hie.exports=bt});var yie=h((F1t,mie)=>{"use strict";var JVe=qi(),rg=class extends JVe{},pie=Os();Object.defineProperty(rg.prototype,"excludeIndexes",pie);Object.defineProperty(rg.prototype,"_id",pie);mie.exports=rg});var _ie=h((B1t,gie)=>{"use strict";var QVe=qi(),U4=class extends QVe{},XVe=Os();Object.defineProperty(U4.prototype,"_id",XVe);gie.exports=U4});var z4=h((q1t,Eie)=>{"use strict";Eie.exports=function(e,r,n,i,s,o){let u=Object.keys(e.$__schema.paths),a=u.length;for(let c=0;c<a;++c){let l,d="",f=u[c];if(f==="_id"&&e.$__.skipId)continue;let p=e.$__schema.paths[f],m=p.splitPath(),y=m.length,_=!1,g=e._doc;for(let E=0;E<y&&g!=null;++E){let O=m[E];if(d+=(d.length?".":"")+O,n===!0){if(d in r)break}else if(n===!1&&r&&!_){let w=p.$isSingleNested||p.$isMongooseDocumentArray;if(d in r||w&&i!=null&&i[d])_=!0;else if(i!=null&&!i[d])break}if(E===y-1){if(g[O]!==void 0)break;if(s!=null){if(typeof p.defaultValue=="function"){if(!p.defaultValue.$runBeforeSetters&&s||p.defaultValue.$runBeforeSetters&&!s)break}else if(!s)continue}if(o&&o[d])break;if(r&&n!==null){if(n===!0){if(f in r)continue;try{l=p.getDefault(e,!1)}catch(w){e.invalidate(f,w);break}typeof l<"u"&&(g[O]=l,KN(e,f))}else if(_){try{l=p.getDefault(e,!1)}catch(w){e.invalidate(f,w);break}typeof l<"u"&&(g[O]=l,KN(e,f))}}else{try{l=p.getDefault(e,!1)}catch(w){e.invalidate(f,w);break}typeof l<"u"&&(g[O]=l,KN(e,f))}}else g=g[O]}}};function KN(t,e){t.$__.activePaths.default(e),t.$isSubdocument&&t.$isSingleNested&&t.$parent()!=null&&t.$parent().$__.activePaths.default(t.$__pathRelativeToParent(e))}});var V4=h(($1t,Aie)=>{"use strict";Aie.exports=function(e,r,n){if(e.length===0)return n();let i=e.length,s=null;for(let o of e)r(o,function(u){if(s==null){if(u!=null)return s=u,n(s);if(--i<=0)return n()}})}});var wie=h((k1t,Sie)=>{"use strict";var ZVe=V4();Sie.exports=function(e){e.s.hooks.pre("remove",!1,function(i){if(this.$isSubdocument){i();return}let s=this,o=this.$getAllSubdocs();ZVe(o,function(u,a){u.$__remove(a)},function(u){if(u)return s.$__schema.s.hooks.execPost("remove:error",s,[s],{error:u},function(a){i(a)});i()})},null,!0)}});var vie=h((j1t,Cie)=>{"use strict";var Oie=V4();Cie.exports=function(e){e.s.hooks.pre("save",!1,function(i){if(this.$isSubdocument){i();return}let s=this,o=this.$getAllSubdocs();if(!o.length){i();return}Oie(o,function(u,a){u.$__schema.s.hooks.execPre("save",u,function(c){a(c)})},function(u){if(u)return s.$__schema.s.hooks.execPost("save:error",s,[s],{error:u},function(a){i(a)});i()})},null,!0),e.s.hooks.post("save",function(i,s){if(this.$isSubdocument){s();return}let o=this,u=this.$getAllSubdocs();if(!u.length){s();return}Oie(u,function(a,c){a.$__schema.s.hooks.execPost("save",a,[a],function(l){c(l)})},function(a){if(a)return o.$__schema.s.hooks.execPost("save:error",o,[o],{error:a},function(c){s(c)});s()})},null,!0)}});var Pie=h((L1t,JN)=>{"use strict";var eWe=pe().objectIdSymbol,bie=we();JN.exports=function(e){e.post("init",function(){return YN.call(this),this}),e.pre("save",function(n){Iie.call(this),n()}),e.pre("remove",function(n){Iie.call(this),n()}),e.post("save",function(){YN.call(this)})};function Iie(){let t,e;if(this.$__.shardval){t=Object.keys(this.$__.shardval),e=t.length,this.$where=this.$where||{};for(let r=0;r<e;++r)this.$where[t[r]]=this.$__.shardval[t[r]]}}JN.exports.storeShard=YN;function YN(){let t=this.$__schema.options.shardKey||this.$__schema.options.shardkey;if(!bie.isPOJO(t))return;let e=this.$__.shardval={},r=Object.keys(t),n=r.length,i;for(let s=0;s<n;++s)i=this.$__getValue(r[s]),i==null?e[r[s]]=i:bie.isMongooseObject(i)?e[r[s]]=i.toObject({depopulate:!0,_isNested:!0}):i instanceof Date||i[eWe]?e[r[s]]=i:typeof i.valueOf=="function"?e[r[s]]=i.valueOf():e[r[s]]=i}});var Nie=h((U1t,Rie)=>{"use strict";var Nf=pe().arrayAtomicsSymbol,W4=pe().sessionNewDocuments,tWe=we();Rie.exports=function(e){e.pre("save",function(){let n=this.$session();if(n!=null&&!(n.transaction==null||n[W4]==null))if(n[W4].has(this)){let i=n[W4].get(this);for(let s of Object.keys(this.$__.activePaths.getStatePaths("modify")))i.modifiedPaths.add(s);i.atomics=Tie(this,i.atomics)}else{let i={};this.isNew&&(i.isNew=!0),this.$__schema.options.versionKey&&(i.versionKey=this.get(this.$__schema.options.versionKey)),i.modifiedPaths=new Set(Object.keys(this.$__.activePaths.getStatePaths("modify"))),i.atomics=Tie(this),n[W4].set(this,i)}})};function Tie(t,e){let r=new Map;e=e||new Map;let n=Object.keys(t.$__.activePaths.init).concat(Object.keys(t.$__.activePaths.modify));for(let s of n){let o=t.$__getValue(s);if(o!=null&&Array.isArray(o)&&tWe.isMongooseDocumentArray(o)&&o.length&&o[Nf]!=null&&Object.keys(o[Nf]).length!==0){let u=e.get(s)||{};r.set(s,Die(u,o[Nf]))}}let i=t.$__dirty();for(let s of i){let o=s.path,u=s.value;if(u!=null&&u[Nf]!=null&&Object.keys(u[Nf]).length!==0){let a=e.get(o)||{};r.set(o,Die(a,u[Nf]))}}return r}function Die(t,e){return t=t||{},e.$pullAll!=null&&(t.$pullAll=(t.$pullAll||[]).concat(e.$pullAll)),e.$push!=null&&(t.$push=t.$push||{},t.$push.$each=(t.$push.$each||[]).concat(e.$push.$each)),e.$addToSet!=null&&(t.$addToSet=(t.$addToSet||[]).concat(e.$addToSet)),e.$set!=null&&(t.$set=Object.assign(t.$set||{},e.$set)),t}});var Mie=h((z1t,xie)=>{"use strict";xie.exports=function(e){e.pre("save",!1,function(i,s){let o=this;if(this.$isSubdocument)return i();let u=s&&typeof s=="object"&&"validateBeforeSave"in s,a;if(u?a=!!s.validateBeforeSave:a=this.$__schema.options.validateBeforeSave,a){let l=s&&typeof s=="object"&&"validateModifiedOnly"in s?{validateModifiedOnly:s.validateModifiedOnly}:null;this.$validate(l,function(d){return o.$__schema.s.hooks.execPost("save:error",o,[o],{error:d},function(f){o.$op="save",i(f)})})}else i()},null,!0)}});var QN=h(xf=>{"use strict";xf.removeSubdocs=wie();xf.saveSubdocs=vie();xf.sharding=Pie();xf.trackTransaction=Nie();xf.validateBeforeSave=Mie()});var qie=h((W1t,Bie)=>{"use strict";var Fie=QN();Bie.exports=function(e){for(let r of Object.values(Fie))r(e,{deduplicate:!0});e.plugins=Object.values(Fie).map(r=>({fn:r,opts:{deduplicate:!0}})).concat(e.plugins)}});var G4=h(XN=>{"use strict";var rWe=pe().documentSchemaSymbol,nWe=Sc().internalToObjectOptions,kie=we(),Mf,iWe=pe().getSymbol,H4=pe().scopeSymbol,$ie=kie.isPOJO;XN.compile=jie;XN.defineKey=Lie;var sWe=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1});function jie(t,e,r,n){Mf=Mf||mi();let i=n.typeKey;for(let s of Object.keys(t)){let o=t[s],a=$ie(o)&&Object.keys(o).length>0&&(!o[i]||i==="type"&&$ie(o.type)&&o.type.type)?o:null;Lie({prop:s,subprops:a,prototype:e,prefix:r,options:n})}}function Lie({prop:t,subprops:e,prototype:r,prefix:n,options:i}){Mf=Mf||mi();let s=(n?n+".":"")+t;n=n||"",e?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,get:function(){let o=this;if(this.$__.getters||(this.$__.getters={}),!this.$__.getters[s]){let u=Object.create(Mf.prototype,oWe(this));n||(u.$__[H4]=this),u.$__.nestedPath=s,Object.defineProperty(u,"schema",{enumerable:!1,configurable:!0,writable:!1,value:r.schema}),Object.defineProperty(u,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:r.schema}),Object.defineProperty(u,rWe,{enumerable:!1,configurable:!0,writable:!1,value:r.schema}),Object.defineProperty(u,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return kie.clone(o.get(s,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null}))}}),Object.defineProperty(u,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return o.get(s,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null})}}),Object.defineProperty(u,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return o.get(s,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toJSON&&this.schema.options.toJSON.virtuals||null})}}),Object.defineProperty(u,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0}),Object.defineProperty(u,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Object.keys(this.get(s,null,sWe)||{}).length===0}}),Object.defineProperty(u,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),jie(e,u,s,i),this.$__.getters[s]=u}return this.$__.getters[s]},set:function(o){o!=null&&o.$__isNested?o=o.$__get():o instanceof Mf&&!o.$__isNested&&(o=o.$toObject(nWe)),(this.$__[H4]||this).$set(s,o)}}):Object.defineProperty(r,t,{enumerable:!0,configurable:!0,get:function(){return this[iWe].call(this.$__[H4]||this,s)},set:function(o){this.$set.call(this.$__[H4]||this,s,o)}})}function oWe(t){let e={};return Object.getOwnPropertyNames(t).forEach(function(r){["isNew","$__","$errors","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(r)!==-1&&(e[r]=Object.getOwnPropertyDescriptor(t,r),e[r].enumerable=!1)}),e}});var Vie=h((G1t,zie)=>{"use strict";var uWe=zC(),aWe=pf(),cWe=Wn(),lWe=Ll(),Uie=gc();zie.exports=function t(e,r,n){let i=Object.keys(r),s=0,o=i.length,u;for(n=n||"";s<o;)if(u=i[s++],!(u==="discriminators"||u==="base"||u==="_applyDiscriminators")&&!(n==="tree"&&r!=null&&r.instanceOfSchema)&&!aWe.has(u)){if(e[u]==null)e[u]=r[u];else if(Uie(r[u])){if(Uie(e[u])||(e[u]={}),r[u]!=null){if(r[u].$isSingleNested&&e[u].$isMongooseDocumentArray||r[u].$isMongooseDocumentArray&&e[u].$isSingleNested)continue;if(r[u].instanceOfSchema){e[u].instanceOfSchema?uWe(e[u],r[u].clone(),!0):e[u]=r[u].clone();continue}else if(cWe(r[u],"ObjectID")){e[u]=new lWe(r[u]);continue}}t(e[u],r[u],n?n+"."+u:u)}}}});var Y4=h((K1t,Gie)=>{"use strict";var Wie=Gl(),dWe=qie(),fWe=G4().defineKey,hWe=Xt(),K4=we(),pWe=Vie(),Hie={toJSON:!0,toObject:!0,_id:!0,id:!0,virtuals:!0,methods:!0};Gie.exports=function(e,r,n,i,s,o){if(!(n&&n.instanceOfSchema))throw new Error("You must pass a valid discriminator Schema");if(o=o??!0,e.schema.discriminatorMapping&&!e.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+r+'" can only be a discriminator of the root model');if(s){let d=hWe(e.base,"options.applyPluginsToDiscriminators",!1)||!o;e.base._applyPlugins(n,{skipTopLevel:!d})}else o||dWe(n);let u=e.schema.options.discriminatorKey,a=e.schema.path(u);if(a!=null)K4.hasUserDefinedProperty(a.options,"select")||(a.options.select=!0),a.options.$skipDiscriminatorCheck=!0;else{let d={};d[u]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},d[u][e.schema.options.typeKey]=String,e.schema.add(d),fWe({prop:u,prototype:e.prototype,options:e.schema.options})}if(n.path(u)&&n.path(u).options.$skipDiscriminatorCheck!==!0)throw new Error('Discriminator "'+r+'" cannot have field with name "'+u+'"');let c=r;(typeof i=="string"&&i.length||i!=null)&&(c=i);function l(d,f){d._baseSchema=f,f.paths._id&&f.paths._id.options&&!f.paths._id.options.auto&&d.remove("_id");let p=Object.keys(f.paths),m=[];for(let b of p){if(d.nested[b]){m.push(b);continue}if(b.indexOf(".")===-1)continue;let M=b.split(".").slice(0,-1),T="";for(let G of M)T+=(T.length?".":"")+G,(d.paths[T]instanceof Wie||d.singleNestedPaths[T]instanceof Wie)&&m.push(b)}pWe(d,f,{omit:{discriminators:!0,base:!0,_applyDiscriminators:!0},omitNested:m.reduce((b,M)=>(b["tree."+M]=!0,b),{})});for(let b of m)delete d.paths[b];d.childSchemas.forEach(b=>{b.model.prototype.$__setSchema(b.schema)});let y={};y[u]={default:c,select:!0,set:function(b){if(b===c||Array.isArray(c)&&K4.deepEqual(b,c))return c;throw new Error(`Can't set discriminator key "`+u+'"')},$skipDiscriminatorCheck:!0},y[u][d.options.typeKey]=a?a.options[d.options.typeKey]:String,d.add(y),d.discriminatorMapping={key:u,value:c,isRoot:!1},f.options.collection&&(d.options.collection=f.options.collection);let _=d.options.toJSON,g=d.options.toObject,E=d.options._id,O=d.options.id,w=Object.keys(d.options);d.options.discriminatorKey=f.options.discriminatorKey;for(let b of w)if(!Hie[b]){if(b==="pluralization"&&d.options[b]==!0&&f.options[b]==null)continue;if(!K4.deepEqual(d.options[b],f.options[b]))throw new Error("Can't customize discriminator option "+b+" (can only modify "+Object.keys(Hie).join(", ")+")")}d.options=K4.clone(f.options),_&&(d.options.toJSON=_),g&&(d.options.toObject=g),typeof E<"u"&&(d.options._id=E),d.options.id=O,o&&(d.s.hooks=e.schema.s.hooks.merge(d.s.hooks)),s&&(d.plugins=Array.prototype.slice.call(f.plugins)),d.callQueue=f.callQueue.concat(d.callQueue),delete d._requiredpaths}if(l(n,e.schema),e.discriminators||(e.discriminators={}),e.schema.discriminatorMapping||(e.schema.discriminatorMapping={key:u,value:null,isRoot:!0}),e.schema.discriminators||(e.schema.discriminators={}),e.schema.discriminators[r]=n,e.discriminators[r]&&!n.options.overwriteModels)throw new Error('Discriminator with name "'+r+'" already exists');return n}});var ZN=h((Y1t,Kie)=>{"use strict";var mWe=ro();Kie.exports=function(e,r){let n=e.schema.options.discriminatorKey;if(r!=null&&e.discriminators&&r[n]!=null)if(e.discriminators[r[n]])e=e.discriminators[r[n]];else{let i=mWe(e.discriminators,r[n]);i&&(e=i)}return e}});var ex=h((J1t,Yie)=>{"use strict";var yWe=sN();Yie.exports=function(e,r){return r==null||r._id==null||(e=e.clone(),r._id?e.paths._id||(yWe(e),e.options._id=!0):(e.remove("_id"),e.options._id=!1)),e}});var ix=h((Q1t,Zie)=>{"use strict";var Jie=fi(),tx=require("events").EventEmitter,gWe=nN(),_We=_ie(),ng=Dn(),EWe=z4(),AWe=n4(),Qie=Xy().castToNumber,SWe=Y4(),rx=WN(),nx=ZN(),wWe=ex(),OWe=Sc().internalToObjectOptions,CWe=we(),J4;Zie.exports=Wt;function Wt(t,e,r){let n=Wt.defaultOptions&&Wt.defaultOptions._id;n!=null&&(r=r||{},r._id=n),t=wWe(t,r),this.caster=Xie(t),this.caster.path=e,this.caster.prototype.$basePath=e,this.schema=t,this.$isSingleNested=!0,this.base=t.base,ng.call(this,e,r,"Embedded")}Wt.prototype=Object.create(ng.prototype);Wt.prototype.constructor=Wt;Wt.prototype.OptionsConstructor=_We;function Xie(t,e){J4||(J4=m4());let r=function(s,o,u){this.$__parent=u,J4.apply(this,arguments),u!=null&&this.$session(u.$session())};t._preCompile();let n=e!=null?e.prototype:J4.prototype;r.prototype=Object.create(n),r.prototype.$__setSchema(t),r.prototype.constructor=r,r.schema=t,r.$isSingleNested=!0,r.events=new tx,r.prototype.toBSON=function(){return this.toObject(OWe)};for(let i in t.methods)r.prototype[i]=t.methods[i];for(let i in t.statics)r[i]=t.statics[i];for(let i in tx.prototype)r[i]=tx.prototype[i];return r}Wt.prototype.$conditionalHandlers.$geoWithin=function(e){return{$geometry:this.castForQuery(e.$geometry)}};Wt.prototype.$conditionalHandlers.$near=Wt.prototype.$conditionalHandlers.$nearSphere=rx.cast$near;Wt.prototype.$conditionalHandlers.$within=Wt.prototype.$conditionalHandlers.$geoWithin=rx.cast$within;Wt.prototype.$conditionalHandlers.$geoIntersects=rx.cast$geoIntersects;Wt.prototype.$conditionalHandlers.$minDistance=Qie;Wt.prototype.$conditionalHandlers.$maxDistance=Qie;Wt.prototype.$conditionalHandlers.$exists=AWe;Wt.prototype.cast=function(t,e,r,n,i){if(t&&t.$isSingleNested&&t.parent===e)return t;if(t!=null&&(typeof t!="object"||Array.isArray(t)))throw new gWe(this.path,t);let s=nx(this.caster,t),o,u=e&&e.$__&&e.$__.selected||{},a=this.path,c=Object.keys(u).reduce((l,d)=>(d.startsWith(a+".")&&(l=l||{},l[d.substring(a.length+1)]=u[d]),l),null);if(i=Object.assign({},i,{priorDoc:n}),r)o=new s(void 0,c,e,!1,{defaults:!1}),delete o.$__.defaults,o.$init(t),EWe(o,c);else return Object.keys(t).length===0?new s({},c,e,void 0,i):new s(t,c,e,void 0,i);return o};Wt.prototype.castForQuery=function(t,e,r){let n;if(arguments.length===2){if(n=this.$conditionalHandlers[t],!n)throw new Error("Can't use "+t);return n.call(this,e)}if(e=t,e==null)return e;this.options.runSetters&&(e=this._applySetters(e));let i=nx(this.caster,e),s=r!=null&&r.strict!=null?r.strict:void 0;try{e=new i(e,s)}catch(o){throw o instanceof Jie?o:new Jie("Embedded",e,this.path,o,this)}return e};Wt.prototype.doValidate=function(t,e,r,n){let i=nx(this.caster,t);if(t&&!(t instanceof i)&&(t=new i(t,null,r!=null&&r.$__!=null?r:null)),n&&n.skipSchemaValidators)return t?t.validate(e):e(null);ng.prototype.doValidate.call(this,t,function(s){if(s)return e(s);if(!t)return e(null);t.validate(e)},r,n)};Wt.prototype.doValidateSync=function(t,e,r){if(!r||!r.skipSchemaValidators){let n=ng.prototype.doValidateSync.call(this,t,e);if(n)return n}if(t)return t.validateSync()};Wt.prototype.discriminator=function(t,e,r){r=r||{};let n=CWe.isPOJO(r)?r.value:r,i=typeof r.clone=="boolean"?r.clone:!0;return e.instanceOfSchema&&i&&(e=e.clone()),e=SWe(this.caster,t,e,n),this.caster.discriminators[t]=Xie(e,this.caster),this.caster.discriminators[t]};Wt.defaultOptions={};Wt.set=ng.set;Wt.prototype.toJSON=function(){return{path:this.path,options:this.options}};Wt.prototype.clone=function(){let t=Object.assign({},this.options),e=new this.constructor(this.schema,this.path,t);return e.validators=this.validators.slice(),this.requiredValidator!==void 0&&(e.requiredValidator=this.requiredValidator),e.caster.discriminators=Object.assign({},this.caster.discriminators),e}});var use=h((X1t,ose)=>{"use strict";var ise=q4(),ese=fi(),sx=require("events").EventEmitter,vWe=yie(),ig=Dn(),bWe=ix(),IWe=Y4(),tse=ex(),PWe=C4(),Ff=we(),sg=ZN(),rse=pe().arrayAtomicsSymbol,ox=pe().arrayPathSymbol,TWe=pe().documentArrayParent,ia,Zl;function Br(t,e,r,n){let i=Br.defaultOptions&&Br.defaultOptions._id;i!=null&&(n=n||{},n._id=i),n!=null&&n._id!=null?e=tse(e,n):r!=null&&r._id!=null&&(e=tse(e,r));let s=sse(e,r);s.prototype.$basePath=t,ise.call(this,t,s,r),this.schema=e,this.schemaOptions=n||{},this.$isMongooseDocumentArray=!0,this.Constructor=s,s.base=e.base;let o=this.defaultValue;(!("defaultValue"in this)||o!==void 0)&&this.default(function(){let a=o.call(this);return a!=null&&!Array.isArray(a)&&(a=[a]),a});let u=this;this.$embeddedSchemaType=new ig(t+".$",{required:this&&this.schemaOptions&&this.schemaOptions.required||!1}),this.$embeddedSchemaType.cast=function(a,c,l){return u.cast(a,c,l)[0]},this.$embeddedSchemaType.doValidate=function(a,c,l,d){let f=sg(this.caster,a);return a&&!(a instanceof f)&&(a=new f(a,l,null,null,d&&d.index!=null?d.index:null)),bWe.prototype.doValidate.call(this,a,c,l,d)},this.$embeddedSchemaType.$isMongooseDocumentArrayElement=!0,this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema}Br.schemaName="DocumentArray";Br.options={castNonArrays:!0};Br.prototype=Object.create(ise.prototype);Br.prototype.constructor=Br;Br.prototype.OptionsConstructor=vWe;function sse(t,e,r){Zl||(Zl=If());function n(){Zl.apply(this,arguments),!(this.__parentArray==null||this.__parentArray.getArrayParent()==null)&&this.$session(this.__parentArray.getArrayParent().$session())}t._preCompile();let i=r!=null?r.prototype:Zl.prototype;n.prototype=Object.create(i),n.prototype.$__setSchema(t),n.schema=t,n.prototype.constructor=n,n.$isArraySubdocument=!0,n.events=new sx,n.base=t.base;for(let s in t.methods)n.prototype[s]=t.methods[s];for(let s in t.statics)n[s]=t.statics[s];for(let s in sx.prototype)n[s]=sx.prototype[s];return n.options=e,n}Br.prototype.discriminator=function(t,e,r){typeof t=="function"&&(t=Ff.getFunctionName(t)),r=r||{};let n=Ff.isPOJO(r)?r.value:r,i=typeof r.clone=="boolean"?r.clone:!0;e.instanceOfSchema&&i&&(e=e.clone()),e=IWe(this.casterConstructor,t,e,n);let s=sse(e,null,this.casterConstructor);s.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(s,"name",{value:t})}catch{}return this.casterConstructor.discriminators[t]=s,this.casterConstructor.discriminators[t]};Br.prototype.doValidate=function(t,e,r,n){ia||(ia=Ql());let i=this;try{ig.prototype.doValidate.call(this,t,s,r)}catch(o){return e(o)}function s(o){if(o)return e(o);let u=t&&t.length,a;if(!u||n&&n.updateValidator)return e();Ff.isMongooseDocumentArray(t)||(t=new ia(t,i.path,r));function c(l){l!=null&&(a=l),--u||e(a)}for(let l=0,d=u;l<d;++l){let f=t[l];if(f==null){--u||e(a);continue}if(!(f instanceof Zl)){let p=sg(i.casterConstructor,t[l]);f=t[l]=new p(f,t,void 0,void 0,l)}if(n!=null&&n.validateModifiedOnly&&!f.$isModified()){--u||e(a);continue}f.$__validate(c)}}};Br.prototype.doValidateSync=function(t,e,r){let n=ig.prototype.doValidateSync.call(this,t,e);if(n!=null)return n;let i=t&&t.length,s=null;if(i){for(let o=0,u=i;o<u;++o){let a=t[o];if(!a)continue;if(!(a instanceof Zl)){let l=sg(this.casterConstructor,t[o]);a=t[o]=new l(a,t,void 0,void 0,o)}if(r!=null&&r.validateModifiedOnly&&!a.$isModified())continue;let c=a.validateSync();c&&s==null&&(s=c)}return s}};Br.prototype.getDefault=function(t,e,r){let n=typeof this.defaultValue=="function"?this.defaultValue.call(t):this.defaultValue;if(n==null||r&&r.skipCast)return n;ia||(ia=Ql()),Array.isArray(n)||(n=[n]),n=new ia(n,this.path,t);for(let i=0;i<n.length;++i){let s=sg(this.casterConstructor,n[i]),o=new s({},n,void 0,void 0,i);o.$init(n[i]),o.isNew=!0,Object.assign(o.$__.activePaths.default,o.$__.activePaths.init),o.$__.activePaths.init={},n[i]=o}return n};var DWe=Object.freeze({transform:!1,virtuals:!1}),nse=Object.freeze({skipId:!1,willInit:!0});Br.prototype.cast=function(t,e,r,n,i){if(ia||(ia=Ql()),t!=null&&t[ox]!=null&&t===n)return t;let s,o;if(i=i||{},!Array.isArray(t)){if(!r&&!Br.options.castNonArrays)throw new ese("DocumentArray",t,this.path,null,this);return e&&r&&e.markModified(this.path),this.cast([t],e,r,n,i)}(!i.skipDocumentArrayCast||Ff.isMongooseDocumentArray(t))&&(t=new ia(t,this.path,e)),n!=null&&(t[rse]=n[rse]||{}),i.arrayPathIndex!=null&&(t[ox]=this.path+"."+i.arrayPathIndex);let u=Ff.isMongooseDocumentArray(t)?t.__array:t,a=u.length;for(let c=0;c<a;++c){if(!u[c])continue;let l=sg(this.casterConstructor,u[c]);if(u[c].$__!=null&&!(u[c]instanceof l)){let d=PWe(u[c],!0);u[c]!==d?u[c]=d:u[c]=u[c].toObject({transform:!1,virtuals:u[c].schema===l.schema})}if(u[c]instanceof Zl){if(u[c][TWe]!==e)if(r){let d=new l(null,t,nse,s,c);u[c]=d.$init(u[c])}else{let d=new l(u[c],t,void 0,void 0,c);u[c]=d}u[c].__index==null&&u[c].$setIndex(c)}else if(u[c]!=null)if(r)e?s||(s=RWe(this,e.$__.selected,r)):s=!0,o=new l(null,t,nse,s,c),u[c]=o.$init(u[c]);else if(n&&typeof n.id=="function"&&(o=n.id(u[c]._id)),n&&o&&Ff.deepEqual(o.toObject(DWe),u[c]))o.set(u[c]),u[c]=o;else try{o=new l(u[c],t,void 0,void 0,c),u[c]=o}catch(d){throw new ese("embedded",u[c],t[ox],d,this)}}return t};Br.prototype.clone=function(){let t=Object.assign({},this.options),e=new this.constructor(this.path,this.schema,t,this.schemaOptions);return e.validators=this.validators.slice(),this.requiredValidator!==void 0&&(e.requiredValidator=this.requiredValidator),e.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),e};Br.prototype.applyGetters=function(t,e){return ig.prototype.applyGetters.call(this,t,e)};function RWe(t,e,r){if(!(r&&e))return;let n=t.path+".",i=Object.keys(e),s=i.length,o={},u,a,c;for(;s--;)if(a=i[s],a.startsWith(n)){if(c=a.substring(n.length),c==="$")continue;c.startsWith("$.")&&(c=c.substring(2)),u||(u=!0),o[c]=e[a]}return u&&o||void 0}Br.defaultOptions={};Br.set=ig.set;ose.exports=Br});var cse=h((Z1t,ase)=>{"use strict";var NWe=qi(),Q4=class extends NWe{},xWe=Os();Object.defineProperty(Q4.prototype,"subtype",xWe);ase.exports=Q4});var hse=h((eft,fse)=>{"use strict";var Bf=Vy(),MWe=cse(),Oc=Dn(),X4=I4(),dse=we(),lse=Bf.Binary,ux=Oc.CastError;function Gn(t,e){Oc.call(this,t,e,"Buffer")}Gn.schemaName="Buffer";Gn.defaultOptions={};Gn.prototype=Object.create(Oc.prototype);Gn.prototype.constructor=Gn;Gn.prototype.OptionsConstructor=MWe;Gn._checkRequired=t=>!!(t&&t.length);Gn.set=Oc.set;Gn.checkRequired=Oc.checkRequired;Gn.prototype.checkRequired=function(t,e){return Oc._isRef(this,t,e,!0)?!!t:this.constructor._checkRequired(t)};Gn.prototype.cast=function(t,e,r){let n;if(Oc._isRef(this,t,e,r)){if(t&&t.isMongooseBuffer)return t;if(Buffer.isBuffer(t))return(!t||!t.isMongooseBuffer)&&(t=new Bf(t,[this.path,e]),this.options.subtype!=null&&(t._subtype=this.options.subtype)),t;if(t instanceof lse){if(n=new Bf(t.value(!0),[this.path,e]),typeof t.sub_type!="number")throw new ux("Buffer",t,this.path,null,this);return n._subtype=t.sub_type,n}if(t==null||dse.isNonBuiltinObject(t))return this._castRef(t,e,r)}if(t&&t._id&&(t=t._id),t&&t.isMongooseBuffer)return t;if(Buffer.isBuffer(t))return(!t||!t.isMongooseBuffer)&&(t=new Bf(t,[this.path,e]),this.options.subtype!=null&&(t._subtype=this.options.subtype)),t;if(t instanceof lse){if(n=new Bf(t.value(!0),[this.path,e]),typeof t.sub_type!="number")throw new ux("Buffer",t,this.path,null,this);return n._subtype=t.sub_type,n}if(t===null)return t;let i=typeof t;if(i==="string"||i==="number"||Array.isArray(t)||i==="object"&&t.type==="Buffer"&&Array.isArray(t.data))return i==="number"&&(t=[t]),n=new Bf(t,[this.path,e]),this.options.subtype!=null&&(n._subtype=this.options.subtype),n;throw new ux("Buffer",t,this.path,null,this)};Gn.prototype.subtype=function(t){return this.options.subtype=t,this};function Z4(t){return this.castForQuery(t)}Gn.prototype.$conditionalHandlers=dse.options(Oc.prototype.$conditionalHandlers,{$bitsAllClear:X4,$bitsAnyClear:X4,$bitsAllSet:X4,$bitsAnySet:X4,$gt:Z4,$gte:Z4,$lt:Z4,$lte:Z4});Gn.prototype.castForQuery=function(t,e){let r;if(arguments.length===2){if(r=this.$conditionalHandlers[t],!r)throw new Error("Can't use "+t+" with Buffer.");return r.call(this,e)}e=t;let n=this._castForQuery(e);return n&&n.toObject({transform:!1,virtuals:!1})};fse.exports=Gn});var mse=h((tft,pse)=>{"use strict";var FWe=qi(),qf=class extends FWe{},ax=Os();Object.defineProperty(qf.prototype,"min",ax);Object.defineProperty(qf.prototype,"max",ax);Object.defineProperty(qf.prototype,"expires",ax);pse.exports=qf});var gse=h((rft,yse)=>{"use strict";var cx=require("assert");yse.exports=function(e){if(e==null||e==="")return null;if(e instanceof Date)return cx.ok(!isNaN(e.valueOf())),e;let r;if(cx.ok(typeof e!="boolean"),e instanceof Number||typeof e=="number"?r=new Date(e):typeof e=="string"&&!isNaN(Number(e))&&(Number(e)>=275761||Number(e)<-271820)?r=new Date(Number(e)):typeof e.valueOf=="function"?r=new Date(e.valueOf()):r=new Date(e),!isNaN(r.valueOf()))return r;cx.ok(!1)}});var Sse=h((nft,Ase)=>{"use strict";var _se=kt(),BWe=mse(),ed=Dn(),qWe=gse(),$We=Vn(),Ese=we(),kWe=ed.CastError;function gr(t,e){ed.call(this,t,e,"Date")}gr.schemaName="Date";gr.defaultOptions={};gr.prototype=Object.create(ed.prototype);gr.prototype.constructor=gr;gr.prototype.OptionsConstructor=BWe;gr._cast=qWe;gr.set=ed.set;gr.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};gr._defaultCaster=t=>{if(t!=null&&!(t instanceof Date))throw new Error;return t};gr.prototype.expires=function(t){return $We(this._index)!=="Object"&&(this._index={}),this._index.expires=t,Ese.expires(this._index),this};gr._checkRequired=t=>t instanceof Date;gr.checkRequired=ed.checkRequired;gr.prototype.checkRequired=function(t,e){return typeof t=="object"&&ed._isRef(this,t,e,!0)?t!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():gr.checkRequired())(t)};gr.prototype.min=function(t,e){if(this.minValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.minValidator},this)),t){let r=e||_se.messages.Date.min;typeof r=="string"&&(r=r.replace(/{MIN}/,t===Date.now?"Date.now()":t.toString()));let n=this;this.validators.push({validator:this.minValidator=function(i){let s=t;typeof t=="function"&&t!==Date.now&&(s=s.call(this));let o=s===Date.now?s():n.cast(s);return i===null||i.valueOf()>=o.valueOf()},message:r,type:"min",min:t})}return this};gr.prototype.max=function(t,e){if(this.maxValidator&&(this.validators=this.validators.filter(function(r){return r.validator!==this.maxValidator},this)),t){let r=e||_se.messages.Date.max;typeof r=="string"&&(r=r.replace(/{MAX}/,t===Date.now?"Date.now()":t.toString()));let n=this;this.validators.push({validator:this.maxValidator=function(i){let s=t;typeof s=="function"&&s!==Date.now&&(s=s.call(this));let o=s===Date.now?s():n.cast(s);return i===null||i.valueOf()<=o.valueOf()},message:r,type:"max",max:t})}return this};gr.prototype.cast=function(t){let e;typeof this._castFunction=="function"?e=this._castFunction:typeof this.constructor.cast=="function"?e=this.constructor.cast():e=gr.cast();try{return e(t)}catch(r){throw new kWe("date",t,this.path,r,this)}};function ev(t){return this.cast(t)}gr.prototype.$conditionalHandlers=Ese.options(ed.prototype.$conditionalHandlers,{$gt:ev,$gte:ev,$lt:ev,$lte:ev});gr.prototype.castForQuery=function(t,e){if(arguments.length!==2)return this._castForQuery(t);let r=this.$conditionalHandlers[t];if(!r)throw new Error("Can't use "+t+" with Date.");return r.call(this,e)};Ase.exports=gr});var Cse=h((ift,Ose)=>{"use strict";var jWe=qi(),og=class extends jWe{},wse=Os();Object.defineProperty(og.prototype,"auto",wse);Object.defineProperty(og.prototype,"populate",wse);Ose.exports=og});var Ise=h((sft,bse)=>{"use strict";var LWe=Cse(),sa=Dn(),UWe=wN(),zWe=Vn(),dx=Ll(),fx=Wn(),hx=we(),VWe=sa.CastError,lx;function Nr(t,e){let r=typeof t=="string"&&t.length===24&&/^[a-f0-9]+$/i.test(t),n=e&&e.suppressWarning;(r||typeof t>"u")&&!n&&hx.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema."),sa.call(this,t,e,"ObjectID")}Nr.schemaName="ObjectId";Nr.defaultOptions={};Nr.prototype=Object.create(sa.prototype);Nr.prototype.constructor=Nr;Nr.prototype.OptionsConstructor=LWe;Nr.get=sa.get;Nr.set=sa.set;Nr.prototype.auto=function(t){return t&&(this.default(vse),this.set(WWe)),this};Nr._checkRequired=t=>fx(t,"ObjectID");Nr._cast=UWe;Nr.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};Nr._defaultCaster=t=>{if(!fx(t,"ObjectID"))throw new Error(t+" is not an instance of ObjectId");return t};Nr.checkRequired=sa.checkRequired;Nr.prototype.checkRequired=function(e,r){return sa._isRef(this,e,r,!0)?!!e:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():Nr.checkRequired())(e)};Nr.prototype.cast=function(t,e,r){if(!fx(t,"ObjectID")&&sa._isRef(this,t,e,r)){if((zWe(t)||"").toLowerCase()==="objectid")return new dx(t.toHexString());if(t==null||hx.isNonBuiltinObject(t))return this._castRef(t,e,r)}let n;typeof this._castFunction=="function"?n=this._castFunction:typeof this.constructor.cast=="function"?n=this.constructor.cast():n=Nr.cast();try{return n(t)}catch(i){throw new VWe("ObjectId",t,this.path,i,this)}};function tv(t){return this.cast(t)}Nr.prototype.$conditionalHandlers=hx.options(sa.prototype.$conditionalHandlers,{$gt:tv,$gte:tv,$lt:tv,$lte:tv});function vse(){return new dx}vse.$runBeforeSetters=!0;function WWe(t){return lx||(lx=mi()),this instanceof lx&&t===void 0?new dx:t}bse.exports=Nr});var Tse=h((oft,Pse)=>{"use strict";var $f=MC(),HWe=require("assert");Pse.exports=function(e){if(e==null)return e;if(typeof e=="object"&&typeof e.$numberDecimal=="string")return $f.fromString(e.$numberDecimal);if(e instanceof $f)return e;if(typeof e=="string")return $f.fromString(e);if(Buffer.isBuffer(e))return new $f(e);if(typeof e=="number")return $f.fromString(String(e));if(typeof e.valueOf=="function"&&typeof e.valueOf()=="string")return $f.fromString(e.valueOf());HWe.ok(!1)}});var Rse=h((uft,Dse)=>{"use strict";var Cc=Dn(),GWe=Cc.CastError,KWe=Tse(),YWe=we(),px=Wn();function ln(t,e){Cc.call(this,t,e,"Decimal128")}ln.schemaName="Decimal128";ln.defaultOptions={};ln.prototype=Object.create(Cc.prototype);ln.prototype.constructor=ln;ln._cast=KWe;ln.set=Cc.set;ln.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};ln._defaultCaster=t=>{if(t!=null&&!px(t,"Decimal128"))throw new Error;return t};ln._checkRequired=t=>px(t,"Decimal128");ln.checkRequired=Cc.checkRequired;ln.prototype.checkRequired=function(e,r){return Cc._isRef(this,e,r,!0)?!!e:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():ln.checkRequired())(e)};ln.prototype.cast=function(t,e,r){if(Cc._isRef(this,t,e,r))return px(t,"Decimal128")?t:this._castRef(t,e,r);let n;typeof this._castFunction=="function"?n=this._castFunction:typeof this.constructor.cast=="function"?n=this.constructor.cast():n=ln.cast();try{return n(t)}catch(i){throw new GWe("Decimal128",t,this.path,i,this)}};function rv(t){return this.cast(t)}ln.prototype.$conditionalHandlers=YWe.options(Cc.prototype.$conditionalHandlers,{$gt:rv,$gte:rv,$lt:rv,$lte:rv});Dse.exports=ln});var xse=h((aft,Nse)=>{"use strict";var JWe=qi(),nv=class extends JWe{},QWe=Os();Object.defineProperty(nv.prototype,"of",QWe);Nse.exports=nv});var Bse=h((cft,Fse)=>{"use strict";var mx=v4(),XWe=xse(),Mse=Dn();var kf=class extends Mse{constructor(e,r){super(e,r,"Map"),this.$isSchemaMap=!0}set(e,r){return Mse.set(e,r)}cast(e,r,n){if(e instanceof mx)return e;let i=this.path;if(n){let s=new mx({},i,r,this.$__schemaType);if(e instanceof global.Map)for(let o of e.keys()){let u=e.get(o);u==null?u=s.$__schemaType._castNullish(u):u=s.$__schemaType.cast(u,r,!0,null,{path:i+"."+o}),s.$init(o,u)}else for(let o of Object.keys(e)){let u=e[o];u==null?u=s.$__schemaType._castNullish(u):u=s.$__schemaType.cast(u,r,!0,null,{path:i+"."+o}),s.$init(o,u)}return s}return new mx(e,i,r,this.$__schemaType)}clone(){let e=super.clone();return this.$__schemaType!=null&&(e.$__schemaType=this.$__schemaType.clone()),e}};kf.schemaName="Map";kf.prototype.OptionsConstructor=XWe;kf.defaultOptions={};Fse.exports=kf});var kse=h((lft,$se)=>{"use strict";var Ex=Vy(),td=Dn(),gx=td.CastError,ZWe=we(),eHe=Wn(),iv=I4(),_x=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,tHe=Ex.Binary;function rHe(t){return t!=null&&Buffer.from(t,"hex")}function nHe(t){return t!=null&&t.toString("hex")}function qse(t){typeof t!="string"&&(t="");let e=t.replace(/[{}-]/g,""),r=rHe(e),n=new Ex(r);return n._subtype=4,n}function iHe(t){let e;return typeof t!="string"&&t!=null?(e=nHe(t),e.substring(0,8)+"-"+e.substring(8,8+4)+"-"+e.substring(12,12+4)+"-"+e.substring(16,16+4)+"-"+e.substring(20,20+12)):t}function qr(t,e){td.call(this,t,e,"UUID"),this.getters.push(iHe)}qr.schemaName="UUID";qr.defaultOptions={};qr.prototype=Object.create(td.prototype);qr.prototype.constructor=qr;qr._cast=function(t){if(t===null)return t;function e(r){let n=new Ex(r);return n._subtype=4,n}if(typeof t=="string"){if(_x.test(t))return qse(t);throw new gx(qr.schemaName,t,this.path)}if(Buffer.isBuffer(t))return e(t);if(t instanceof tHe)return e(t.value(!0));if(t.toString&&t.toString!==Object.prototype.toString&&_x.test(t.toString()))return qse(t.toString());throw new gx(qr.schemaName,t,this.path)};qr.set=td.set;qr.cast=function(e){return arguments.length===0?this._cast:(e===!1&&(e=this._defaultCaster),this._cast=e,this._cast)};qr._checkRequired=t=>t!=null;qr.checkRequired=td.checkRequired;qr.prototype.checkRequired=function(e){return _x.test(e)};qr.prototype.cast=function(t,e,r){if(td._isRef(this,t,e,r))return eHe(t,"UUID")?t:this._castRef(t,e,r);let n;typeof this._castFunction=="function"?n=this._castFunction:typeof this.constructor.cast=="function"?n=this.constructor.cast():n=qr.cast();try{return n(t)}catch(i){throw new gx(qr.schemaName,t,this.path,i,this)}};function ug(t){return this.cast(t)}function yx(t){return t.map(e=>this.cast(e))}qr.prototype.$conditionalHandlers=ZWe.options(td.prototype.$conditionalHandlers,{$bitsAllClear:iv,$bitsAnyClear:iv,$bitsAllSet:iv,$bitsAnySet:iv,$all:yx,$gt:ug,$gte:ug,$in:yx,$lt:ug,$lte:ug,$ne:ug,$nin:yx});qr.prototype.castForQuery=function(t,e){let r;if(arguments.length===2){if(r=this.$conditionalHandlers[t],!r)throw new Error("Can't use "+t+" with UUID.");return r.call(this,e)}else return this.cast(t)};$se.exports=qr});var Qy=h(lr=>{"use strict";lr.String=Fne();lr.Number=FN();lr.Boolean=Wne();lr.DocumentArray=use();lr.Subdocument=ix();lr.Array=q4();lr.Buffer=hse();lr.Date=Sse();lr.ObjectId=Ise();lr.Mixed=Gl();lr.Decimal128=lr.Decimal=Rse();lr.Map=Bse();lr.UUID=kse();lr.Oid=lr.ObjectId;lr.Object=lr.Mixed;lr.Bool=lr.Boolean;lr.ObjectID=lr.ObjectId});var Lf=h((vx,Qse)=>{"use strict";var sHe=require("events").EventEmitter,oHe=d4(),jf=Sr(),jse=Dn(),Lse=qi(),uHe=Are(),Ox=f4(),Use=sN(),zse=Xt(),aHe=Vn(),cHe=bre(),lHe=Pre(),dHe=zC(),Ax=Js(),Vse=xs().get().ReadPreference,fHe=$re(),qe=we(),hHe=jre(),pHe=require("util"),vc,mHe=h4().middlewareFunctions,yHe=p4().middlewareFunctions,Wse=mHe.concat(yHe).reduce((t,e)=>t.add(e),new Set),Sx=qe.isPOJO,Hse=0;function oe(t,e){if(!(this instanceof oe))return new oe(t,e);if(this.obj=t,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this.methods=e&&e.methods||{},this.methodOptions={},this.statics=e&&e.statics||{},this.tree={},this.query=e&&e.query||{},this.childSchemas=[],this.plugins=[],this.$id=++Hse,this.mapPaths=[],this.s={hooks:new oHe},this.options=this.defaultOptions(e),Array.isArray(t))for(let i of t)this.add(i);else t&&this.add(t);if(e&&e.virtuals){let i=e.virtuals,s=Object.keys(i);for(let o of s){let u=i[o].options?i[o].options:void 0,a=this.virtual(o,u);i[o].get&&a.get(i[o].get),i[o].set&&a.set(i[o].set)}}let r=t&&t._id&&qe.isObject(t._id);!this.paths._id&&this.options._id&&!r&&Use(this),this.setupTimestamp(this.options.timestamps)}function Gse(t,e){for(let r of Object.keys(e)){let n=null;if(e[r]!=null)n=e[r];else{let s=zse(t.paths[r],"options");if(s==null)continue;n=s.alias}if(!n)continue;let i=t.paths[r].path;if(Array.isArray(n)){for(let s of n){if(typeof s!="string")throw new Error("Invalid value for alias option on "+i+", got "+s);t.aliases[s]=i,t.virtual(s).get(function(o){return function(){return typeof this.get=="function"?this.get(o):this[o]}}(i)).set(function(o){return function(u){return this.$set(o,u)}}(i))}continue}if(typeof n!="string")throw new Error("Invalid value for alias option on "+i+", got "+n);t.aliases[n]=i,t.virtual(n).get(function(s){return function(){return typeof this.get=="function"?this.get(s):this[s]}}(i)).set(function(s){return function(o){return this.$set(s,o)}}(i))}}oe.prototype=Object.create(sHe.prototype);oe.prototype.constructor=oe;oe.prototype.instanceOfSchema=!0;Object.defineProperty(oe.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0});Object.defineProperty(oe.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(oe.prototype,"virtuals",{configurable:!1,enumerable:!0,writable:!0});oe.prototype.obj;oe.prototype.paths;oe.prototype.tree;oe.prototype.clone=function(){let t=this._clone();return t.on("init",e=>this.emit("init",e)),t};oe.prototype._clone=function(e){e=e||(this.base==null?oe:this.base.Schema);let r=new e({},this._userProvidedOptions);return r.base=this.base,r.obj=this.obj,r.options=qe.clone(this.options),r.callQueue=this.callQueue.map(function(n){return n}),r.methods=qe.clone(this.methods),r.methodOptions=qe.clone(this.methodOptions),r.statics=qe.clone(this.statics),r.query=qe.clone(this.query),r.plugins=Array.prototype.slice.call(this.plugins),r._indexes=qe.clone(this._indexes),r.s.hooks=this.s.hooks.clone(),r.tree=qe.clone(this.tree),r.paths=qe.clone(this.paths),r.nested=qe.clone(this.nested),r.subpaths=qe.clone(this.subpaths),r.singleNestedPaths=qe.clone(this.singleNestedPaths),r.childSchemas=gHe(r),r.virtuals=qe.clone(this.virtuals),r.$globalPluginsApplied=this.$globalPluginsApplied,r.$isRootDiscriminator=this.$isRootDiscriminator,r.$implicitlyCreated=this.$implicitlyCreated,r.$id=++Hse,r.$originalSchemaId=this.$id,r.mapPaths=[].concat(this.mapPaths),this.discriminatorMapping!=null&&(r.discriminatorMapping=Object.assign({},this.discriminatorMapping)),this.discriminators!=null&&(r.discriminators=Object.assign({},this.discriminators)),this._applyDiscriminators!=null&&(r._applyDiscriminators=Object.assign({},this._applyDiscriminators)),r.aliases=Object.assign({},this.aliases),r};oe.prototype.pick=function(t,e){let r=new oe({},e||this.options);if(!Array.isArray(t))throw new jf('Schema#pick() only accepts an array argument, got "'+typeof t+'"');for(let n of t)if(this.nested[n])r.add({[n]:zse(this.tree,n)});else{let i=this.path(n);if(i==null)throw new jf("Path `"+n+"` is not in the schema");r.add({[n]:i})}return r};oe.prototype.defaultOptions=function(t){this._userProvidedOptions=t==null?{}:qe.clone(t);let e=this.base&&this.base.options||{},r="strict"in e?e.strict:!0,n="id"in e?e.id:!0;if(t=qe.options({strict:r,strictQuery:"strict"in this._userProvidedOptions?this._userProvidedOptions.strict:"strictQuery"in e?e.strictQuery:r,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,minimize:!0,autoIndex:null,discriminatorKey:"__t",shardKey:null,read:null,validateBeforeSave:!0,_id:!0,id:n,typeKey:"type"},qe.clone(t)),t.read&&(t.read=Vse(t.read)),t.versionKey&&typeof t.versionKey!="string")throw new jf("`versionKey` must be falsy or string, got `"+typeof t.versionKey+"`");if(t.optimisticConcurrency&&!t.versionKey)throw new jf("Must set `versionKey` if using `optimisticConcurrency`");return t};oe.prototype.discriminator=function(t,e){return this._applyDiscriminators=Object.assign(this._applyDiscriminators||{},{[t]:e}),this};oe.prototype.add=function(e,r){if(e instanceof oe||e!=null&&e.instanceOfSchema)return dHe(this,e),this;if(e._id===!1&&r==null&&(this.options._id=!1),r=r||"",r==="__proto__."||r==="constructor."||r==="prototype.")return this;let n=Object.keys(e),i=this.options.typeKey;for(let o of n){if(qe.specialProperties.has(o))continue;let u=r+o,a=e[o];if(a==null)throw new TypeError("Invalid value for schema path `"+u+'`, got value "'+a+'"');if(!(o==="_id"&&a===!1)){if(a instanceof Ox||(a.constructor&&a.constructor.name||null)==="VirtualType"){this.virtual(a);continue}if(Array.isArray(a)&&a.length===1&&a[0]==null)throw new TypeError("Invalid value for schema Array path `"+u+'`, got value "'+a[0]+'"');if(Sx(a)||a instanceof Lse)if(Object.keys(a).length<1)r&&(this.nested[r.substring(0,r.length-1)]=!0),this.path(u,a);else if(!a[i]||i==="type"&&Sx(a.type)&&a.type.type)this.nested[u]=!0,this.add(a,u+".");else{let c=a[i];if(Sx(c)&&Object.keys(c).length>0){r&&(this.nested[r.substring(0,r.length-1)]=!0);let l=new oe(c),d=Object.assign({},a,{type:l});this.path(r+o,d)}else if(r&&(this.nested[r.substring(0,r.length-1)]=!0),this.path(r+o,a),a!=null&&!a.instanceOfSchema&&qe.isPOJO(a.discriminators)){let l=this.path(r+o);for(let d in a.discriminators)l.discriminator(d,a.discriminators[d])}}else if(r&&(this.nested[r.substring(0,r.length-1)]=!0),this.path(r+o,a),a[0]!=null&&!a[0].instanceOfSchema&&qe.isPOJO(a[0].discriminators)){let c=this.path(r+o);for(let l in a[0].discriminators)c.discriminator(l,a[0].discriminators[l])}else if(a[0]!=null&&a[0].instanceOfSchema&&qe.isPOJO(a[0]._applyDiscriminators)){let c=a[0]._applyDiscriminators||[],l=this.path(r+o);for(let d in c)l.discriminator(d,c[d])}else if(a!=null&&a.instanceOfSchema&&qe.isPOJO(a._applyDiscriminators)){let c=a._applyDiscriminators||[],l=this.path(r+o);for(let d in c)l.discriminator(d,c[d])}}}let s=Object.fromEntries(Object.entries(e).map(([o])=>[r+o,null]));return Gse(this,s),this};oe.prototype.alias=function(t,e){return Gse(this,{[t]:e}),this};oe.prototype.removeIndex=function(e){if(arguments.length>1)throw new Error("removeIndex() takes only 1 argument");if(typeof e!="object"&&typeof e!="string")throw new Error("removeIndex() may only take either an object or a string as an argument");if(typeof e=="object")for(let r=this._indexes.length-1;r>=0;--r)pHe.isDeepStrictEqual(this._indexes[r][0],e)&&this._indexes.splice(r,1);else for(let r=this._indexes.length-1;r>=0;--r)this._indexes[r][1]!=null&&this._indexes[r][1].name===e&&this._indexes.splice(r,1);return this};oe.prototype.clearIndexes=function(){return this._indexes.length=0,this};oe.reserved=Object.create(null);oe.prototype.reserved=oe.reserved;var dn=oe.reserved;dn.prototype=dn.emit=dn.listeners=dn.removeListener=dn.collection=dn.errors=dn.get=dn.init=dn.isModified=dn.isNew=dn.populated=dn.remove=dn.save=dn.toObject=dn.validate=1;dn.collection=1;oe.prototype.path=function(t,e){let r=Kse(t);if(e===void 0){let c=_He(this,t,r);if(c!=null)return c;let l=Yse(this,t);return l??(c=this.hasMixedParent(r),c??(/\.\d+\.?.*$/.test(t)?AHe(this,t):void 0))}let n=t.split(".")[0];if(dn[n]&&!this.options.supressReservedKeysWarning){let c=`\`${n}\` is a reserved schema pathname and may break some functionality. You are allowed to use it, but use at your own risk. To disable this warning pass \`supressReservedKeysWarning\` as a schema option.`;qe.warn(c)}typeof e=="object"&&qe.hasUserDefinedProperty(e,"ref")&&hHe(e.ref,t);let i=t.split(/\./),s=i.pop(),o=this.tree,u="";for(let c of i){if(qe.specialProperties.has(c))throw new Error("Cannot set special property `"+c+"` on a schema");if(u=u+=(u.length>0?".":"")+c,o[c]||(this.nested[u]=!0,o[c]={}),typeof o[c]!="object"){let l="Cannot set nested path `"+t+"`. Parent path `"+u+"` already set to type "+o[c].name+".";throw new Error(l)}o=o[c]}o[s]=qe.clone(e),this.paths[t]=this.interpretAsType(t,e,this.options);let a=this.paths[t];if(a.$isSchemaMap){let c=t+".$*";this.paths[c]=a.$__schemaType,this.mapPaths.push(this.paths[c])}if(a.$isSingleNested){for(let c of Object.keys(a.schema.paths))this.singleNestedPaths[t+"."+c]=a.schema.paths[c];for(let c of Object.keys(a.schema.singleNestedPaths))this.singleNestedPaths[t+"."+c]=a.schema.singleNestedPaths[c];for(let c of Object.keys(a.schema.subpaths))this.singleNestedPaths[t+"."+c]=a.schema.subpaths[c];for(let c of Object.keys(a.schema.nested))this.singleNestedPaths[t+"."+c]="nested";Object.defineProperty(a.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),a.caster.base=this.base,this.childSchemas.push({schema:a.schema,model:a.caster})}else a.$isMongooseDocumentArray&&(Object.defineProperty(a.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),a.casterConstructor.base=this.base,this.childSchemas.push({schema:a.schema,model:a.casterConstructor}));if(a.$isMongooseArray&&a.caster instanceof jse){let c=t,l=a,d=[];for(;l.$isMongooseArray;)c=c+".$",l.$isMongooseDocumentArray?(l.$embeddedSchemaType._arrayPath=c,l.$embeddedSchemaType._arrayParentPath=t,l=l.$embeddedSchemaType.clone()):(l.caster._arrayPath=c,l.caster._arrayParentPath=t,l=l.caster.clone()),l.path=c,d.push(l);for(let f of d)this.subpaths[f.path]=f}if(a.$isMongooseDocumentArray){for(let c of Object.keys(a.schema.paths)){let l=a.schema.paths[c];this.subpaths[t+"."+c]=l,typeof l=="object"&&l!=null&&(l.$isUnderneathDocArray=!0)}for(let c of Object.keys(a.schema.subpaths)){let l=a.schema.subpaths[c];this.subpaths[t+"."+c]=l,typeof l=="object"&&l!=null&&(l.$isUnderneathDocArray=!0)}for(let c of Object.keys(a.schema.singleNestedPaths)){let l=a.schema.singleNestedPaths[c];this.subpaths[t+"."+c]=l,typeof l=="object"&&l!=null&&(l.$isUnderneathDocArray=!0)}}return this};function gHe(t){let e=[];for(let r of Object.keys(t.paths)){let n=t.paths[r];(n.$isMongooseDocumentArray||n.$isSingleNested)&&e.push({schema:n.schema,model:n.caster})}return e}function _He(t,e,r){return t.paths.hasOwnProperty(e)?t.paths[e]:t.subpaths.hasOwnProperty(r)?t.subpaths[r]:t.singleNestedPaths.hasOwnProperty(r)&&typeof t.singleNestedPaths[r]=="object"?t.singleNestedPaths[r]:null}function Kse(t){return/\.\d+/.test(t)?t.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$"):t}function Yse(t,e){if(t.mapPaths.length===0)return null;for(let r of t.mapPaths){let n=r.path;if(new RegExp("^"+n.replace(/\.\$\*/g,"\\.[^.]+")+"$").test(e))return t.paths[n]}return null}Object.defineProperty(oe.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null});oe.prototype.interpretAsType=function(t,e,r){if(e instanceof jse){if(e.path===t)return e;let a=e.clone();return a.path=t,a}let n=this.base!=null?this.base.Schema.Types:oe.Types,i=this.base!=null?this.base.Types:Pf();if(!qe.isPOJO(e)&&!(e instanceof Lse)&&qe.getFunctionName(e.constructor)!=="Object"){let c=e;e={},e[r.typeKey]=c}let s=e[r.typeKey]&&(e[r.typeKey]instanceof Function||r.typeKey!=="type"||!e.type.type)?e[r.typeKey]:{},o;if(qe.isPOJO(s)||s==="mixed")return new n.Mixed(t,e);if(Array.isArray(s)||s===Array||s==="array"||s===n.Array){let a=s===Array||s==="array"?e.cast||e.of:s[0];if(a&&a.instanceOfSchema){if(!(a instanceof oe))throw new TypeError("Schema for array path `"+t+`\` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with \`npm list mongoose\`. If you are still getting this error, please add \`new Schema()\` around the path: ${t}: new Schema(...)`);return new n.DocumentArray(t,a,e)}if(a&&a[r.typeKey]&&a[r.typeKey].instanceOfSchema){if(!(a[r.typeKey]instanceof oe))throw new TypeError("Schema for array path `"+t+`\` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with \`npm list mongoose\`. If you are still getting this error, please add \`new Schema()\` around the path: ${t}: new Schema(...)`);return new n.DocumentArray(t,a[r.typeKey],e,a)}if(Array.isArray(a))return new n.Array(t,this.interpretAsType(t,a,r),e);let c=a!=null&&a[r.typeKey]&&(r.typeKey!=="type"||!a.type.type)?a[r.typeKey]:a;if(typeof a=="string")a=n[a.charAt(0).toUpperCase()+a.substring(1)];else if(qe.isPOJO(c))if(Object.keys(c).length){let l={minimize:r.minimize};r.typeKey&&(l.typeKey=r.typeKey),r.hasOwnProperty("strict")&&(l.strict=r.strict),r.hasOwnProperty("strictQuery")&&(l.strictQuery=r.strictQuery),this._userProvidedOptions.hasOwnProperty("_id")?l._id=this._userProvidedOptions._id:oe.Types.DocumentArray.defaultOptions._id!=null&&(l._id=oe.Types.DocumentArray.defaultOptions._id);let d=new oe(c,l);return d.$implicitlyCreated=!0,new n.DocumentArray(t,d,e)}else return new n.Array(t,n.Mixed,e);if(a){if(s=a[r.typeKey]&&(r.typeKey!=="type"||!a.type.type)?a[r.typeKey]:a,Array.isArray(s))return new n.Array(t,this.interpretAsType(t,s,r),e);if(o=typeof s=="string"?s:s.schemaName||qe.getFunctionName(s),o==="ClockDate"&&(o="Date"),o===void 0)throw new TypeError(`Invalid schema configuration: Could not determine the embedded type for array \`${t}\`. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.`);if(!n.hasOwnProperty(o))throw new TypeError(`Invalid schema configuration: \`${o}\` is not a valid type within the array \`${t}\`.See https://bit.ly/mongoose-schematypes for a list of valid schema types.`)}return new n.Array(t,a||n.Mixed,e,r)}if(s&&s.instanceOfSchema)return new n.Subdocument(s,t,e);if(Buffer.isBuffer(s)?o="Buffer":typeof s=="function"||typeof s=="object"?o=s.schemaName||qe.getFunctionName(s):s===i.ObjectId?o="ObjectId":s===i.Decimal128?o="Decimal128":o=s==null?""+s:s.toString(),o&&(o=o.charAt(0).toUpperCase()+o.substring(1)),o==="ObjectID"&&(o="ObjectId"),o==="ClockDate"&&(o="Date"),o===void 0)throw new TypeError(`Invalid schema configuration: \`${t}\` schematype definition is invalid. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.`);if(n[o]==null)throw new TypeError(`Invalid schema configuration: \`${o}\` is not a valid type at path \`${t}\`. See https://bit.ly/mongoose-schematypes for a list of valid schema types.`);let u=new n[o](t,e);return u.$isSchemaMap&&EHe(this,u,t,e,r),u};function EHe(t,e,r,n,i){let s=r+".$*",o={type:{}};qe.hasUserDefinedProperty(n,"of")&&(qe.isPOJO(n.of)&&Object.keys(n.of).length>0&&!qe.hasUserDefinedProperty(n.of,t.options.typeKey)?o={[t.options.typeKey]:new oe(n.of)}:qe.isPOJO(n.of)?o=Object.assign({},n.of):o={[t.options.typeKey]:n.of},o[t.options.typeKey]&&o[t.options.typeKey].instanceOfSchema&&o[t.options.typeKey].eachPath((c,l)=>{if(l.options.select===!0||l.options.select===!1)throw new jf('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path "'+r+"."+c+'"')}),qe.hasUserDefinedProperty(n,"ref")&&(o.ref=n.ref)),e.$__schemaType=t.interpretAsType(s,o,i)}oe.prototype.eachPath=function(t){let e=Object.keys(this.paths),r=e.length;for(let n=0;n<r;++n)t(e[n],this.paths[e[n]]);return this};oe.prototype.requiredPaths=function(e){if(this._requiredpaths&&!e)return this._requiredpaths;let r=Object.keys(this.paths),n=r.length,i=[];for(;n--;){let s=r[n];this.paths[s].isRequired&&i.push(s)}return this._requiredpaths=i,this._requiredpaths};oe.prototype.indexedPaths=function(){return this._indexedpaths?this._indexedpaths:(this._indexedpaths=this.indexes(),this._indexedpaths)};oe.prototype.pathType=function(t){let e=Kse(t);if(this.paths.hasOwnProperty(t))return"real";if(this.virtuals.hasOwnProperty(t))return"virtual";if(this.nested.hasOwnProperty(t))return"nested";if(this.subpaths.hasOwnProperty(e)||this.subpaths.hasOwnProperty(t))return"real";let r=this.singleNestedPaths.hasOwnProperty(e)||this.singleNestedPaths.hasOwnProperty(t);return r?r==="nested"?"nested":"real":Yse(this,t)!=null?"real":/\.\d+\.|\.\d+$/.test(t)?Jse(this,t):"adhocOrUndefined"};oe.prototype.hasMixedParent=function(t){let e=t.split(/\./g);t="";for(let r=0;r<e.length;++r)if(t=r>0?t+"."+e[r]:e[r],this.paths.hasOwnProperty(t)&&this.paths[t]instanceof vc.Mixed)return this.paths[t];return null};oe.prototype.setupTimestamp=function(t){return fHe(this,t)};function Jse(t,e){let r=e.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(r.length<2)return t.paths.hasOwnProperty(r[0])?t.paths[r[0]]:"adhocOrUndefined";let n=t.path(r[0]),i=!1;if(!n)return"adhocOrUndefined";let s=r.length-1;for(let o=1;o<r.length;++o){i=!1;let u=r[o];if(o===s&&n&&!/\D/.test(u)){n.$isMongooseDocumentArray?n=n.$embeddedSchemaType:n instanceof vc.Array?n=n.caster:n=void 0;break}if(!/\D/.test(u)){n instanceof vc.Array&&o!==s&&(n=n.caster);continue}if(!(n&&n.schema)){n=void 0;break}i=n.schema.pathType(u)==="nested",n=n.schema.path(u)}return t.subpaths[e]=n,n?"real":i?"nested":"adhocOrUndefined"}function AHe(t,e){return Jse(t,e),t.subpaths[e]}oe.prototype.queue=function(t,e){return this.callQueue.push([t,e]),this};oe.prototype.pre=function(t){if(t instanceof RegExp){let e=Array.prototype.slice.call(arguments,1);for(let r of Wse)t.test(r)&&this.pre.apply(this,[r].concat(e));return this}if(Array.isArray(t)){let e=Array.prototype.slice.call(arguments,1);for(let r of t)this.pre.apply(this,[r].concat(e));return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this};oe.prototype.post=function(t){if(t instanceof RegExp){let e=Array.prototype.slice.call(arguments,1);for(let r of Wse)t.test(r)&&this.post.apply(this,[r].concat(e));return this}if(Array.isArray(t)){let e=Array.prototype.slice.call(arguments,1);for(let r of t)this.post.apply(this,[r].concat(e));return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this};oe.prototype.plugin=function(t,e){if(typeof t!="function")throw new Error('First param to `schema.plugin()` must be a function, got "'+typeof t+'"');if(e&&e.deduplicate){for(let r of this.plugins)if(r.fn===t)return this}return this.plugins.push({fn:t,opts:e}),t(this,e),this};oe.prototype.method=function(t,e,r){if(typeof t!="string")for(let n in t)this.methods[n]=t[n],this.methodOptions[n]=qe.clone(r);else this.methods[t]=e,this.methodOptions[t]=qe.clone(r);return this};oe.prototype.static=function(t,e){if(typeof t!="string")for(let r in t)this.statics[r]=t[r];else this.statics[t]=e;return this};oe.prototype.index=function(t,e){return t||(t={}),e||(e={}),e.expires&&qe.expires(e),this._indexes.push([t,e]),this};oe.prototype.set=function(t,e,r){if(arguments.length===1)return this.options[t];switch(t){case"read":this.options[t]=Vse(e,r),this._userProvidedOptions[t]=this.options[t];break;case"timestamps":this.setupTimestamp(e),this.options[t]=e,this._userProvidedOptions[t]=this.options[t];break;case"_id":this.options[t]=e,this._userProvidedOptions[t]=this.options[t],e&&!this.paths._id?Use(this):!e&&this.paths._id!=null&&this.paths._id.auto&&this.remove("_id");break;default:this.options[t]=e,this._userProvidedOptions[t]=this.options[t];break}return this};oe.prototype.get=function(t){return this.options[t]};var SHe="2d 2dsphere hashed text".split(" ");Object.defineProperty(oe,"indexTypes",{get:function(){return SHe},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}});oe.prototype.indexes=function(){return cHe(this)};oe.prototype.virtual=function(t,e){if(t instanceof Ox||aHe(t)==="VirtualType")return this.virtual(t.path,t.options);if(e=new uHe(e),qe.hasUserDefinedProperty(e,["ref","refPath"])){if(e.localField==null)throw new Error("Reference virtuals require `localField` option");if(e.foreignField==null)throw new Error("Reference virtuals require `foreignField` option");this.pre("init",function(a){if(Ax.has(t,a)){let c=Ax.get(t,a);this.$$populatedVirtuals||(this.$$populatedVirtuals={}),e.justOne||e.count?this.$$populatedVirtuals[t]=Array.isArray(c)?c[0]:c:this.$$populatedVirtuals[t]=Array.isArray(c)?c:c==null?[]:[c],Ax.unset(t,a)}});let i=this.virtual(t);i.options=e,i.set(function(u){this.$$populatedVirtuals||(this.$$populatedVirtuals={}),e.justOne||e.count?(this.$$populatedVirtuals[t]=Array.isArray(u)?u[0]:u,typeof this.$$populatedVirtuals[t]!="object"&&(this.$$populatedVirtuals[t]=e.count?u:null)):(this.$$populatedVirtuals[t]=Array.isArray(u)?u:u==null?[]:[u],this.$$populatedVirtuals[t]=this.$$populatedVirtuals[t].filter(function(a){return a&&typeof a=="object"}))}),typeof e.get=="function"&&i.get(e.get);let s=t.split("."),o=s[0];for(let u=0;u<s.length-1;++u){if(this.paths[o]!=null&&this.paths[o].$isMongooseDocumentArray){let a=s.slice(u+1).join(".");this.paths[o].schema.virtual(a,e);break}o+="."+s[u+1]}return i}let r=this.virtuals,n=t.split(".");if(this.pathType(t)==="real")throw new Error('Virtual path "'+t+'" conflicts with a real path in the schema');return r[t]=n.reduce(function(i,s,o){return i[s]||(i[s]=o===n.length-1?new Ox(e,t):{}),i[s]},this.tree),r[t]};oe.prototype.virtualpath=function(t){return this.virtuals.hasOwnProperty(t)?this.virtuals[t]:null};oe.prototype.remove=function(t){return typeof t=="string"&&(t=[t]),Array.isArray(t)&&t.forEach(function(e){if(!(this.path(e)==null&&!this.nested[e])){if(this.nested[e]){let r=Object.keys(this.paths).concat(Object.keys(this.nested));for(let n of r)n.startsWith(e+".")&&(delete this.paths[n],delete this.nested[n],wx(this,n));delete this.nested[e],wx(this,e);return}delete this.paths[e],wx(this,e)}},this),this};function wx(t,e){let r=e.split("."),n=r.pop(),i=t.tree;for(let s of r)i=i[s];delete i[n]}oe.prototype.removeVirtual=function(t){if(typeof t=="string"&&(t=[t]),Array.isArray(t)){for(let e of t)if(this.virtuals[e]==null)throw new jf(`Attempting to remove virtual "${e}" that does not exist.`);for(let e of t)delete this.paths[e],delete this.virtuals[e]}return this};oe.prototype.loadClass=function(t,e){return t===Object.prototype||t===Function.prototype||t.prototype.hasOwnProperty("$isMongooseModelPrototype")||t.prototype.hasOwnProperty("$isMongooseDocumentPrototype")?this:(this.loadClass(Object.getPrototypeOf(t),e),e||Object.getOwnPropertyNames(t).forEach(function(r){if(r.match(/^(length|name|prototype|constructor|__proto__)$/))return;let n=Object.getOwnPropertyDescriptor(t,r);n.hasOwnProperty("value")&&this.static(r,n.value)},this),Object.getOwnPropertyNames(t.prototype).forEach(function(r){if(r.match(/^(constructor)$/))return;let n=Object.getOwnPropertyDescriptor(t.prototype,r);e||typeof n.value=="function"&&this.method(r,n.value),typeof n.get=="function"&&(this.virtuals[r]&&(this.virtuals[r].getters=[]),this.virtual(r).get(n.get)),typeof n.set=="function"&&(this.virtuals[r]&&(this.virtuals[r].setters=[]),this.virtual(r).set(n.set))},this),this)};oe.prototype._getSchema=function(t){let e=this,r=e.path(t),n=[];if(r)return r.$fullPath=t,r;function i(o,u){let a=o.length+1,c,l;for(;a--;)if(l=o.slice(0,a).join("."),c=u.path(l),c){if(n.push(l),c.caster){if(c.caster instanceof vc.Mixed)return c.caster.$fullPath=n.join("."),c.caster;if(a!==o.length&&c.schema){let d;return o[a]==="$"||Cx(o[a])?a+1===o.length?c:(d=i(o.slice(a+1),c.schema),d&&(d.$isUnderneathDocArray=d.$isUnderneathDocArray||!c.schema.$isSingleNested),d):(d=i(o.slice(a),c.schema),d&&(d.$isUnderneathDocArray=d.$isUnderneathDocArray||!c.schema.$isSingleNested),d)}}else if(c.$isSchemaMap){if(a>=o.length)return c;if(a+1>=o.length||c.$__schemaType instanceof vc.Mixed)return c.$__schemaType;if(c.$__schemaType.schema!=null)return i(o.slice(a+1),c.$__schemaType.schema)}return c.$fullPath=n.join("."),c}}let s=t.split(".");for(let o=0;o<s.length;++o)(s[o]==="$"||Cx(s[o]))&&(s[o]="0");return i(s,e)};oe.prototype._getPathType=function(t){let e=this;if(e.path(t))return"real";function n(i,s){let o=i.length+1,u,a;for(;o--;){if(a=i.slice(0,o).join("."),u=s.path(a),u)return u.caster?u.caster instanceof vc.Mixed?{schema:u,pathType:"mixed"}:o!==i.length&&u.schema?i[o]==="$"||Cx(i[o])?o===i.length-1?{schema:u,pathType:"nested"}:n(i.slice(o+1),u.schema):n(i.slice(o),u.schema):{schema:u,pathType:u.$isSingleNested?"nested":"array"}:{schema:u,pathType:"real"};if(o===i.length&&s.nested[a])return{schema:s,pathType:"nested"}}return{schema:u||s,pathType:"undefined"}}return n(t.split("."),e)};function Cx(t){return t.startsWith("$[")&&t.endsWith("]")}oe.prototype._preCompile=function(){lHe(this)};Qse.exports=vx=oe;oe.Types=vc=Qy();vx.ObjectId=vc.ObjectId});var bx=h((fft,Xse)=>{"use strict";Xse.exports=function(e){let r={},n=Object.keys(e);for(let i of n){if(i.indexOf(".")===-1){r[i]=1;continue}let s=i.split("."),o=s[0];for(let u=0;u<s.length;++u)r[o]=1,u+1<s.length&&(o=o+"."+s[u+1])}return r}});var Uf=h(Ix=>{"use strict";var wHe=xs().get().Binary,Zse=Wn(),eoe=mf(),OHe=kt(),CHe=require("util");Ix.flatten=toe;Ix.modifiedPaths=roe;function toe(t,e,r,n){let i;t&&eoe(t)&&!Buffer.isBuffer(t)?i=Object.keys(t.toObject({transform:!1,virtuals:!1})||{}):i=Object.keys(t||{});let s=i.length,o={};e=e?e+".":"";for(let u=0;u<s;++u){let a=i[u],c=t[a];o[e+a]=c;let l=n&&n.path&&n.path(e+a),d=n&&n.nested&&n.nested[e+a];if(!(l&&l.instance==="Mixed")){if(noe(c)){if(r&&r.skipArrays&&Array.isArray(c))continue;let f=toe(c,e+a,r,n);for(let p in f)o[p]=f[p];Array.isArray(c)&&(o[e+a]=c)}if(d){let f=Object.keys(n.paths);for(let p of f)p.startsWith(e+a+".")&&!o.hasOwnProperty(p)&&(o[p]=void 0)}}}return o}function roe(t,e,r,n=null){if(t==null||typeof t!="object")return;if(n==null&&(n={raw:{update:t,path:e},trace:new WeakSet}),n.trace.has(t))throw new OHe(`a circular reference in the update value, updateValue:
${CHe.inspect(n.raw.update,{showHidden:!1,depth:1})}
updatePath: '${n.raw.path}'`);n.trace.add(t);let i=Object.keys(t||{}),s=i.length;r=r||{},e=e?e+".":"";for(let o=0;o<s;++o){let u=i[o],a=t[u],c=e+u;r[c]=!0,!Buffer.isBuffer(a)&&eoe(a)&&(a=a.toObject({transform:!1,virtuals:!1})),noe(a)&&roe(a,e+u,r,n)}return n.trace.delete(t),r}function noe(t){return t&&typeof t=="object"&&!(t instanceof Date)&&!Zse(t,"ObjectID")&&(!Array.isArray(t)||t.length!==0)&&!(t instanceof Buffer)&&!Zse(t,"Decimal128")&&!(t instanceof wHe)}});var sv=h((pft,ioe)=>{"use strict";var Px=pf();ioe.exports=function(e,r,n){if(r.indexOf(".")===-1){if(Px.has(r))return;e[r]=n;return}let i=r.split("."),s=i.pop(),o=e;for(let u of i)Px.has(u)||(o[u]==null&&(o[u]={}),o=o[u]);Px.has(s)||(o[s]=n)}});var ooe=h((mft,soe)=>{"use strict";var vHe=Sr(),bHe=mf(),IHe=sv(),PHe=require("util");soe.exports=function t(e){if(e==null||typeof e!="object"||Array.isArray(e)||bHe(e))return;let r=Object.keys(e);for(let n of r){let i=e[n];if(n.indexOf(".")!==-1){try{delete e[n],IHe(e,n,i)}catch(s){throw s instanceof TypeError?new vHe(`Conflicting dotted paths when setting document path, key: "${n}", value: ${PHe.inspect(i)}`):s}continue}t(e[n])}}});var aoe=h((yft,uoe)=>{"use strict";var THe=Xt(),DHe=M4();uoe.exports=function t(e,r,n){n=n||{};let i=n.typeOnly,s=r.indexOf(".")===-1?[r]:r.split("."),o=null,u="adhocOrUndefined",a=DHe(e.schema,e.get(e.schema.options.discriminatorKey))||e.schema;for(let c=0;c<s.length;++c){let l=s.slice(0,c+1).join(".");if(o=a.path(l),o==null){u="adhocOrUndefined";continue}if(o.instance==="Mixed")return i?"real":o;if(u=a.pathType(l),(o.$isSingleNested||o.$isMongooseDocumentArrayElement)&&o.schema.discriminators!=null){let d=o.schema.discriminators,f=e.get(l+"."+THe(o,"schema.options.discriminatorKey"));if(f==null||d[f]==null)continue;let p=s.slice(c+1).join(".");return t(e.get(l),p,n)}}return i?u:o}});var loe=h((gft,coe)=>{"use strict";var RHe=Xt();coe.exports=function(e,r,n){let i=n!=null?Object.keys(RHe(e.tree,n,{})):Object.keys(e.tree),s=new Set(Object.keys(r)),o;if(s.size>1){o=new Set;for(let u of i)s.has(u)&&o.add(u);for(let u of s)o.has(u)||o.add(u);o=Array.from(o)}else o=Array.from(s);return o}});var zf=h((_ft,doe)=>{"use strict";doe.exports=function(e){return e==null?!0:typeof e=="object"?!("$meta"in e)&&!("$slice"in e):!0}});var ag=h((Eft,foe)=>{"use strict";var NHe=zf();foe.exports=function t(e){if(e==null)return null;let r=Object.keys(e),n=r.length,i=null;if(n===1&&r[0]==="_id")i=!e._id;else for(;n--;){let s=r[n];if(s!=="_id"&&NHe(e[s])){i=e[s]!=null&&typeof e[s]=="object"?t(e[s]):!e[s];break}}return i}});var Tx=h((Aft,hoe)=>{"use strict";var xHe=we();hoe.exports=function(e,r){if(e._id==null||r==null||r.length===0)return;let n=String(e._id);for(let i of r){if(i.isVirtual)continue;let o=i.path.split(".");for(let u=0;u<o.length-1;++u){let a=o.slice(0,u+1).join("."),c=o.slice(u+1).join("."),l=e.get(a);if(l!=null&&xHe.isMongooseDocumentArray(l)){for(let d=0;d<l.length;++d)l[d].populated(c,i._docs[n]==null?void 0:i._docs[n][d],i);break}}}}});var moe=h((Sft,poe)=>{"use strict";poe.exports=function(e,r,n,i,s){let o=Object.keys(e).reduce((a,c)=>a||c.startsWith(r+"."),!1),u=r+"."+n.options.discriminatorKey;!o&&s.length===1&&s[0]===u&&i.splice(i.indexOf(u),1)}});var Vf=h(bc=>{"use strict";var MHe=moe(),yoe=Xt(),FHe=ro(),BHe=zf(),qHe=Qo();bc.preparePopulationOptions=function(e,r){let n=e.options.populate,i=Object.keys(n).reduce((s,o)=>s.concat([n[o]]),[]);return r.lean!=null&&i.filter(s=>(s&&s.options&&s.options.lean)==null).forEach(goe(r.lean)),i.forEach(s=>{s._localModel=e.model}),i};bc.preparePopulationOptionsMQ=function(e,r){let n=e._mongooseOptions.populate,i=Object.keys(n).reduce((u,a)=>u.concat([n[a]]),[]);r.lean!=null&&i.filter(u=>(u&&u.options&&u.options.lean)==null).forEach(goe(r.lean));let s=e&&e.options&&e.options.session||null;s!=null&&i.forEach(u=>{if(u.options==null){u.options={session:s};return}"session"in u.options||(u.options.session=s)});let o=e._fieldsForExec();return i.forEach(u=>{u._queryProjection=o}),i.forEach(u=>{u._localModel=e.model}),i};bc.createModel=function(e,r,n,i,s){e.hooks.execPreSync("createModel",r);let o=e.schema?e.schema.discriminatorMapping:null,u=o&&o.isRoot?o.key:null,a=r[u];if(u&&a&&e.discriminators){let l=e.discriminators[a]||FHe(e.discriminators,a);if(l){let d=qHe(i);return bc.applyPaths(d,l.schema),new l(void 0,d,!0)}}let c={skipId:!0,isNew:!1,willInit:!0};return s!=null&&"defaults"in s&&(c.defaults=s.defaults),new e(void 0,n,c)};bc.createModelAndInit=function(e,r,n,i,s,o,u){let a=o?{populated:o}:void 0,c=bc.createModel(e,r,n,i,s);try{c.$init(r,a,u)}catch(l){u(l,c)}};bc.applyPaths=function(e,r){let n,i,s;if(e)for(i=Object.keys(e),s=i.length;s--;){if(i[s][0]==="+")continue;let d=e[i[s]];if(BHe(d)&&!(i[s]==="_id"&&i.length>1)){n=!d;break}}let o=[],u=[],a=[];switch(c(r),n){case!0:for(let d of u)e[d]=0;break;case!1:r&&r.paths._id&&r.paths._id.options&&r.paths._id.options.select===!1&&(e._id=0);for(let d of o)e[d]=e[d]||1;break;case void 0:if(e==null)break;for(let d of Object.keys(e||{}))d.startsWith("+")&&delete e[d];for(let d of u)e[d]==null&&(e[d]=0);break}function c(d,f){if(f||(f=""),a.indexOf(d)!==-1)return[];a.push(d);let p=[];return d.eachPath(function(m,y){if(f&&(m=f+"."+m),y.$isSchemaMap||m.endsWith(".$*")){let g="+"+m,E=e&&g in e;y.options&&y.options.select===!1&&!E&&u.push(m);return}let _=l(m,y);if(_==null&&!Array.isArray(y)&&y.$isMongooseArray&&!y.$isMongooseDocumentArray&&(_=l(m,y.caster)),_!=null&&p.push(_),y.schema){let g=c(y.schema,m);n===!1&&MHe(e,m,y.schema,o,g)}}),a.pop(),p}function l(d,f){let p="+"+d,m=e&&p in e;if(m&&delete e[p],typeof f.selected!="boolean")return;if(n&&f.selected&&d===r.options.discriminatorKey&&e[d]!=null&&!e[d]){delete e[d];return}if(m){delete e[p],n===!1&&i.length>1&&!~i.indexOf(d)&&(e[d]=1);return}let y=d.split("."),_="";for(let g=0;g<y.length;++g)if(_+=_.length?"."+y[g]:y[g],u.indexOf(_)!==-1)return;if(!n&&(f&&f.options&&f.options.$skipDiscriminatorCheck)){let g="";for(let E=0;E<y.length;++E){g+=(g.length===0?"":".")+y[E];let O=yoe(e,g,!1)||yoe(e,g+".$",!1);if(O&&typeof O!="object")return}}return(f.selected?o:u).push(d),d}};function goe(t){return function(e){e.options||(e.options={}),t!=null&&Array.isArray(t.virtuals)&&(t=Object.assign({},t),t.virtuals=t.virtuals.filter(r=>typeof r=="string"&&r.startsWith(e.path+".")).map(r=>r.slice(e.path.length+1))),e.options.lean=t}}});var Eoe=h((Oft,_oe)=>{"use strict";function $He(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}_oe.exports=$He});var ov=h((Cft,Aoe)=>{"use strict";var kHe=/\./g;Aoe.exports=function(e){if(e.indexOf(".")===-1)return[e];let r=e.split(kHe),n=r.length,i=new Array(n),s="";for(let o=0;o<n;++o)s+=s.length!==0?"."+r[o]:r[o],i[o]=s;return i}});var mi=h((Loe,Uoe)=>{"use strict";var Nx=require("events").EventEmitter,jHe=hte(),vs=kt(),Ioe=Gl(),LHe=nN(),UHe=iN(),Soe=mre(),zHe=Lf(),xx=Ec(),cv=Wl(),Poe=HR(),VHe=f4(),Toe=bx(),WHe=Bi(),HHe=Tf(),Mx=z4(),Dx=mN(),GHe=G4().compile,KHe=G4().defineKey,YHe=Uf().flatten,JHe=ooe(),QHe=Xt(),Rx=aoe(),woe=loe(),XHe=C4(),Ooe=zn(),Doe=zf(),ZHe=ag(),Fx=require("util").inspect,Roe=Sc().internalToObjectOptions,eGe=Tx(),tGe=Js(),rGe=Vf(),xe=we(),nGe=Eoe(),oa=xe.clone,uv=xe.deepEqual,iGe=xe.isMongooseObject,Wf=pe().arrayAtomicsBackupSymbol,bs=pe().arrayAtomicsSymbol,sGe=pe().documentArrayParent,oGe=pe().documentIsModified,Noe=pe().documentModifiedPaths,Bx=pe().documentSchemaSymbol,uGe=pe().getSymbol,Coe=pe().populateModelSymbol,aGe=pe().scopeSymbol,cGe=Hl().schemaMixedSymbol,xoe=ov(),av,voe,rd,lGe=xe.specialProperties;function F(t,e,r,n){if(typeof r=="object"&&r!=null&&(n=r,r=n.skipId),n=Object.assign({},n),this.$__schema==null){let c=xe.isObject(e)&&!e.instanceOfSchema?new zHe(e):e;this.$__setSchema(c),e=r,r=n,n=arguments[4]||{}}if(this.$__=new jHe,n.isNew!=null&&n.isNew!==!0&&(this.$isNew=n.isNew),n.priorDoc!=null&&(this.$__.priorDoc=n.priorDoc),r&&(this.$__.skipId=r),t!=null&&typeof t!="object")throw new UHe(t,"obj","Document");let i=!0;n.defaults!==void 0&&(this.$__.defaults=n.defaults,i=n.defaults);let s=this.$__schema;typeof e=="boolean"||e==="throw"?(e!==!0&&(this.$__.strictMode=e),e=void 0):s.options.strict!==!0&&(this.$__.strictMode=s.options.strict);let o=s.requiredPaths(!0);for(let c of o)this.$__.activePaths.require(c);let u=null;xe.isPOJO(e)&&Object.keys(e).length>0&&(u=ZHe(e),this.$__.selected=e,this.$__.exclude=u);let a=u===!1&&e?Toe(e):null;if(this._doc==null&&(this.$__buildDoc(t,e,r,u,a,!1),i&&Mx(this,e,u,a,!0,null)),t&&(this.$__original_set?this.$__original_set(t,void 0,!0,n):this.$set(t,void 0,!0,n),t instanceof F&&(this.$isNew=t.$isNew)),n.willInit&&i?n.skipDefaults&&(this.$__.skipDefaults=n.skipDefaults):i&&Mx(this,e,u,a,!1,n.skipDefaults),!this.$__.strictMode&&t){let c=this;Object.keys(this._doc).forEach(function(d){!(d in s.tree)&&!(d in s.methods)&&!(d in s.virtuals)&&!d.startsWith("$")&&KHe({prop:d,subprops:null,prototype:c})})}yGe(this)}F.prototype.$isMongooseDocumentPrototype=!0;Object.defineProperty(F.prototype,"isNew",{get:function(){return this.$isNew},set:function(t){this.$isNew=t}});Object.defineProperty(F.prototype,"errors",{get:function(){return this.$errors},set:function(t){this.$errors=t}});F.prototype.$isNew=!0;xe.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(t){F.prototype[t]=function(){if(!this.$__.emitter){if(t==="emit")return;this.$__.emitter=new Nx,this.$__.emitter.setMaxListeners(0)}return this.$__.emitter[t].apply(this.$__.emitter,arguments)},F.prototype[`$${t}`]=F.prototype[t]});F.prototype.constructor=F;for(let t in Nx.prototype)F[t]=Nx.prototype[t];F.prototype.$__schema;F.prototype.schema;Object.defineProperty(F.prototype,"$locals",{configurable:!1,enumerable:!1,get:function(){return this.$__.locals==null&&(this.$__.locals={}),this.$__.locals},set:function(t){this.$__.locals=t}});F.prototype.isNew;Object.defineProperty(F.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0});F.prototype.id;F.prototype.$errors;Object.defineProperty(F.prototype,"$op",{get:function(){return this.$__.op||null},set:function(t){this.$__.op=t}});function dGe(t,e,r){if(t==null)return;JHe(t);let n=Object.keys(r.$__schema.paths),i=n.length,s=e.indexOf(".")===-1?[e]:e.split(".");for(let o=0;o<i;++o){let u="",a=n[o];if(!a.startsWith(e+"."))continue;let c=r.$__schema.paths[a],l=c.splitPath().slice(s.length),d=l.length;if(c.defaultValue===void 0)continue;let f=t;for(let p=0;p<d&&f!=null;++p){let m=l[p];if(p===d-1){if(f[m]!==void 0)break;try{let y=c.getDefault(r,!1);y!==void 0&&(f[m]=y)}catch(y){r.invalidate(e+"."+u,y);break}break}u+=(u.length?".":"")+m,f[m]=f[m]||{},f=f[m]}}}F.prototype.$__buildDoc=function(t,e,r,n,i){let s={},o=Object.keys(this.$__schema.paths).filter(c=>!c.includes("$*")),u=o.length,a=0;for(;a<u;++a){let c=o[a];if(c==="_id"&&(r||t&&"_id"in t))continue;let l=this.$__schema.paths[c].splitPath(),d=l.length,f=d-1,p="",m=s,y=!1;for(let _=0;_<d;++_){let g=l[_];if(p.length?p+="."+g:p=g,n===!0){if(p in e)break}else if(n===!1&&e&&!y){if(p in e)y=!0;else if(!i[p])break}_<f&&(m=m[g]||(m[g]={}))}}this._doc=s};F.prototype.toBSON=function(){return this.toObject(Roe)};F.prototype.init=function(t,e,r){return typeof e=="function"&&(r=e,e=null),this.$__init(t,e),r&&r(null,this),this};F.prototype.$init=function(){return this.constructor.prototype.init.apply(this,arguments)};F.prototype.$__init=function(t,e){if(this.$isNew=!1,e=e||{},t._id!=null&&e.populated&&e.populated.length){let n=String(t._id);for(let i of e.populated)if(i.isVirtual?this.$populated(i.path,xe.getValue(i.path,t),i):this.$populated(i.path,i._docs[n],i),i._childDocs!=null){for(let s of i._childDocs)s==null||s.$__==null||(s.$__.parent=this);i._childDocs=[]}}Moe(this,t,this._doc,e),eGe(this,e.populated),this.$emit("init",this),this.constructor.emit("init",this);let r=this.$__.exclude===!1&&this.$__.selected?Toe(this.$__.selected):null;return Mx(this,this.$__.selected,this.$__.exclude,r,!1,this.$__.skipDefaults),this};function Moe(t,e,r,n,i){i=i||"";let s=Object.keys(e),o=s.length,u,a,c,l=0,d=t.$__.strictMode,f=t.$__schema;for(;l<o;)p(l++);function p(m){if(c=s[m],a=i+c,u=f.path(a),!(f.$isRootDiscriminator&&!t.$__isSelected(a)))if(!u&&xe.isPOJO(e[c]))r[c]||(r[c]={},!d&&!(c in f.tree)&&!(c in f.methods)&&!(c in f.virtuals)&&(t[c]=r[c])),Moe(t,e[c],r[c],n,a+".");else if(!u)r[c]=e[c],!d&&!i&&(t[c]=e[c]);else{if(r.hasOwnProperty(c)&&e[c]!==void 0&&delete r[c],e[c]===null)r[c]=u._castNullish(null);else if(e[c]!==void 0){let y=e[c].$__==null?null:e[c].$__.wasPopulated;if(u&&!y)try{n&&n.setters?r[c]=u.applySetters(e[c],t,!1):r[c]=u.cast(e[c],t,!0)}catch(_){t.invalidate(_.path,new Poe({path:_.path,message:_.message,type:"cast",value:_.value,reason:_}))}else r[c]=e[c]}t.$isModified(a)||t.$__.activePaths.init(a)}}}F.prototype.update=function(){let e=[...arguments];e.unshift({_id:this._id});let r=this.constructor.update.apply(this.constructor,e);return this.$session()!=null&&("session"in r.options||(r.options.session=this.$session())),r};F.prototype.updateOne=function(e,r,n){let i=this.constructor.updateOne({_id:this._id},e,r),s=this;return i.pre(function(u){s.constructor._middleware.execPre("updateOne",s,[s],u)}),i.post(function(u){s.constructor._middleware.execPost("updateOne",s,[s],{},u)}),this.$session()!=null&&("session"in i.options||(i.options.session=this.$session())),n!=null?i.exec(n):i};F.prototype.replaceOne=function(){let e=[...arguments];return e.unshift({_id:this._id}),this.constructor.replaceOne.apply(this.constructor,e)};F.prototype.$session=function(e){if(arguments.length===0)return this.$__.session!=null&&this.$__.session.hasEnded?(this.$__.session=null,null):this.$__.session;if(e!=null&&e.hasEnded)throw new vs("Cannot set a document's session to a session that has ended. Make sure you haven't called `endSession()` on the session you are passing to `$session()`.");if(!(e==null&&this.$__.session==null)){if(this.$__.session=e,!this.$isSubdocument){let r=this.$getAllSubdocs();for(let n of r)n.$session(e)}return e}};F.prototype.$timestamps=function(e){if(arguments.length===0)return this.$__.timestamps!=null?this.$__.timestamps:this.$__schema?this.$__schema.options.timestamps:void 0;let r=this.$timestamps();return e!==r&&(this.$__.timestamps=e),this};F.prototype.overwrite=function(e){let r=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(e))));for(let n of r)n!=="_id"&&(this.$__schema.options.versionKey&&n===this.$__schema.options.versionKey||this.$__schema.options.discriminatorKey&&n===this.$__schema.options.discriminatorKey||this.$set(n,e[n]));return this};F.prototype.$set=function(e,r,n,i){xe.isPOJO(n)&&(i=n,n=void 0);let s=i&&i.merge,o=n&&n!==!0,u=n===!0,a,c,l=0,d,f,p,m=i&&"strict"in i?i.strict:this.$__.strictMode;if(o&&(a=this.$__.adhocPaths||(this.$__.adhocPaths={}),a[e]=this.$__schema.interpretAsType(e,n,this.$__schema.options)),e==null)[e,r]=[r,e];else if(typeof e!="string"){e instanceof F&&(e.$__isNested?e=e.toObject():e=e._doc),e==null&&([e,r]=[r,e]),p=r?r+".":"",c=woe(this.$__schema,e);let T=c.length,G=i&&i._skipMinimizeTopLevel||!1;if(T===0&&G)return delete i._skipMinimizeTopLevel,r&&this.$set(r,{}),this;for(let k=0;k<T;++k){f=c[k];let q=p+f;d=this.$__schema.pathType(q);let U=e[f];if(n===!0&&!p&&U!=null&&d==="nested"&&this._doc[f]!=null?(delete this._doc[f],i=Object.assign({},i,{_skipMinimizeTopLevel:!0})):i=Object.assign({},i,{_skipMinimizeTopLevel:!1}),xe.isNonBuiltinObject(U)&&d==="nested"){this.$set(p+f,e[f],u,Object.assign({},i,{_skipMarkModified:!0})),dGe(this.$get(p+f),p+f,this);continue}else if(m){if(u&&e[f]===void 0&&this.$get(q)!==void 0)continue;if(d==="adhocOrUndefined"&&(d=Rx(this,q,{typeOnly:!0})),d==="real"||d==="virtual"){let ue=e[f];this.$set(p+f,ue,u,i)}else if(d==="nested"&&e[f]instanceof F)this.$set(p+f,e[f].toObject({transform:!1}),u,i);else if(m==="throw")throw d==="nested"?new LHe(f,e[f]):new xx(f)}else e[f]!==void 0&&this.$set(p+f,e[f],u,i)}let ee={},J=Object.keys(this.$__schema.tree);for(let k=0,q=J.length;k<q;++k)(f=J[k])&&this._doc.hasOwnProperty(f)&&(ee[f]=void 0);return this._doc=Object.assign(ee,this._doc),this}let y=this.$__schema.pathType(e);y==="adhocOrUndefined"&&(y=Rx(this,e,{typeOnly:!0})),r=XHe(r);let _=(()=>{if(this.$__.priorDoc!=null)return this.$__.priorDoc.$__getValue(e);if(!u)return this.$__getValue(e)})();if(y==="nested"&&r){if(typeof r=="object"&&r!=null){if(r.$__!=null&&(r=r.toObject(Roe)),r==null)return this.invalidate(e,new vs.CastError("Object",r,e)),this;let T=this.$__.savedState!=null&&this.$__.savedState.hasOwnProperty(e);if(this.$__.savedState!=null&&!this.$isNew&&!this.$__.savedState.hasOwnProperty(e)){let ee=this.$__getValue(e);this.$__.savedState[e]=ee;let J=Object.keys(ee||{});for(let k of J)this.$__.savedState[e+"."+k]=ee[k]}if(!s)this.$__setValue(e,null),Dx(this,e);else return this.$set(r,e,u);let G=woe(this.$__schema,r,e);this.$__setValue(e,{});for(let ee of G)this.$set(e+"."+ee,r[ee],u,i);return _!=null&&xe.deepEqual(T?this.$__.savedState[e]:_,r)?this.unmarkModified(e):this.markModified(e),this}return this.invalidate(e,new vs.CastError("Object",r,e)),this}let g,E=e.indexOf(".")===-1?[e]:e.split(".");if(typeof this.$__schema.aliases[E[0]]=="string"&&(E[0]=this.$__schema.aliases[E[0]]),y==="adhocOrUndefined"&&m){let T;for(l=0;l<E.length;++l){let G=E.slice(0,l+1).join(".");if(l+1<E.length&&this.$__schema.pathType(G)==="virtual")return tGe.set(e,r,this),this;if(g=this.$__schema.path(G),g!=null&&g instanceof Ioe){T=!0;break}}if(g==null&&(g=Rx(this,e)),!T&&!g){if(m==="throw")throw new xx(e);return this}}else{if(y==="virtual")return g=this.$__schema.virtualpath(e),g.applySetters(r,this),this;g=this.$__path(e)}let O=this._doc,w="";for(l=0;l<E.length-1;++l)O=O[E[l]],w+=(w.length!==0?".":"")+E[l],O||(this.$set(w,{}),this.$__isSelected(w)||this.unmarkModified(w),O=this.$__getValue(w));let b;if(E.length<=1)b=e;else{let T=E.length;for(l=0;l<T;++l){let G=E.slice(0,l+1).join(".");if(this.$get(G,null,{getters:!1})===null){b=G;break}}b||(b=e)}if(!g)return this.$__set(b,e,i,u,E,g,r,_),y==="nested"&&r==null&&Dx(this,e),this;if((g.$isSingleNested||g.$isMongooseArray)&&pGe(this,e),r!=null&&s&&g.$isSingleNested){r instanceof F&&(r=r.toObject({virtuals:!1,transform:!1}));let T=Object.keys(r);for(let G of T)this.$set(e+"."+G,r[G],u,i);return this}let M=!0;try{let T=(()=>{if(g.options==null||!(r instanceof F))return!1;let k=r.constructor,q=g.options.ref;if(q!=null&&(q===k.modelName||q===k.baseModelName))return!0;let U=g.options.refPath;if(U==null)return!1;let ue=r.get(U);return ue===k.modelName||ue===k.baseModelName})(),G=!1;if(T&&r instanceof F&&(!r.$__.wasPopulated||xe.deepEqual(r.$__.wasPopulated.value,r._id))){let k=g&&g.$isSingleNested?g.cast(r,this):r._id;this.$populated(e,k,{[Coe]:r.constructor}),r.$__.wasPopulated={value:k},G=!0}let ee,J=this.$__schema.options.typeKey;if(g.options&&Array.isArray(g.options[J])&&g.options[J].length&&g.options[J][0].ref&&fGe(r,g.options[J][0].ref)){ee={[Coe]:r[0].constructor},this.$populated(e,r.map(function(k){return k._id}),ee);for(let k of r)k.$__.wasPopulated={value:k._id};G=!0}if(this.$__schema.singleNestedPaths[e]==null&&(!T||!g.$isSingleNested||!r.$__)&&(i!=null&&i.overwriteImmutable?r=g.applySetters(r,this,!1,_,{overwriteImmutable:!0}):r=g.applySetters(r,this,!1,_)),Array.isArray(r)&&!Array.isArray(g)&&g.$isMongooseDocumentArray&&r.length!==0&&r[0]!=null&&r[0].$__!=null&&r[0].$__.populated!=null){let k=Object.keys(r[0].$__.populated);for(let q of k)this.$populated(e+"."+q,r.map(U=>U.$populated(q)),r[0].$__.populated[q].options);G=!0}if(!G&&this.$__.populated){if(Array.isArray(r)&&this.$__.populated[e])for(let k=0;k<r.length;++k)r[k]instanceof F&&r.set(k,r[k]._id,!0);delete this.$__.populated[e]}r!=null&&g.$isSingleNested&&mGe(r,g,_),this.$markValid(e)}catch(T){T instanceof vs.StrictModeError&&T.isImmutableError?this.invalidate(e,T):T instanceof vs.CastError?(this.invalidate(T.path,T),T.$originalErrorPath&&this.invalidate(e,new vs.CastError(g.instance,r,e,T.$originalErrorPath))):this.invalidate(e,new vs.CastError(g.instance,r,e,T)),M=!1}if(M){let T=null,G=null;if(!u){let ee=this.$isSubdocument?this.ownerDocument():this;T=ee.$__.savedState,G=this.$isSubdocument?this.$__.fullPath+"."+e:e,ee.$__saveInitialState(G)}this.$__set(b,e,i,u,E,g,r,_),T!=null&&T.hasOwnProperty(G)&&xe.deepEqual(r,T[G])&&this.unmarkModified(e)}return g.$isSingleNested&&(this.isDirectModified(e)||r==null)&&Dx(this,e),this};function fGe(t,e){if(!Array.isArray(t)||t.length===0)return!1;for(let r of t)if(!(r instanceof F)||r.constructor.modelName==null||r.constructor.modelName!=e&&r.constructor.baseModelName!=e)return!1;return!0}F.prototype.set=F.prototype.$set;F.prototype.$__shouldModify=function(t,e,r,n,i,s,o,u){return r&&r._skipMarkModified?!1:this.$isNew||e in this.$__.activePaths.getStatePaths("modify")?!0:this.$__schema.singleNestedPaths[e]!=null?!1:o===void 0&&!this.$__isSelected(e)?!0:o===void 0&&e in this.$__.activePaths.getStatePaths("default")||this.$populated(e)&&o instanceof F&&uv(o._id,u)?!1:!!(!uv(o,u!==void 0?u:xe.getValue(e,this))||!n&&o!==null&&o!==void 0&&e in this.$__.activePaths.getStatePaths("default")&&uv(o,s.getDefault(this,n)))};F.prototype.$__set=function(t,e,r,n,i,s,o,u){rd=rd||If(),this.$__shouldModify(t,e,r,n,i,s,o,u)?(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[e]&&(delete this.$__.primitiveAtomics[e],Object.keys(this.$__.primitiveAtomics).length===0&&delete this.$__.primitiveAtomics),this.markModified(t),voe||(voe=EN()),o&&xe.isMongooseArray(o)&&(o._registerAtomic("$set",o),xe.isMongooseDocumentArray(o)&&o.forEach(function(p){p&&p.__parentArray&&(p.__parentArray=o)}))):Array.isArray(o)&&Array.isArray(u)&&xe.isMongooseArray(o)&&xe.isMongooseArray(u)&&(o[bs]=u[bs],o[Wf]=u[Wf],xe.isMongooseDocumentArray(o)&&o.forEach(p=>{p.isNew=!1}));let c=this._doc,l=0,d=i.length,f="";for(;l<d;l++){let m=l+1===d;if(f+=f?"."+i[l]:i[l],lGe.has(i[l]))return;m?c instanceof Map?c.set(i[l],o):c[i[l]]=o:(xe.isPOJO(c[i[l]])||c[i[l]]&&c[i[l]]instanceof rd||c[i[l]]&&!Array.isArray(c[i[l]])&&c[i[l]].$isSingleNested||c[i[l]]&&Array.isArray(c[i[l]])||(c[i[l]]=c[i[l]]||{}),c=c[i[l]])}};F.prototype.$__getValue=function(t){return xe.getValue(t,this._doc)};F.prototype.$inc=function(e,r){if(r==null&&(r=1),Array.isArray(e))return e.forEach(s=>this.$inc(s,r)),this;let n=this.$__path(e);if(n==null){if(this.$__.strictMode==="throw")throw new xx(e);if(this.$__.strictMode===!0)return this}else if(n.instance!=="Number")return this.invalidate(e,new vs.CastError(n.instance,r,e)),this;try{r=HHe(r)}catch(s){this.invalidate(e,new vs.CastError("number",r,e,s))}let i=this.$__getValue(e)||0;return this.$__.primitiveAtomics=this.$__.primitiveAtomics||{},this.$__.primitiveAtomics[e]={$inc:r},this.markModified(e),this.$__setValue(e,i+r),this};F.prototype.$__setValue=function(t,e){return xe.setValue(t,e,this._doc),this};F.prototype.get=function(t,e,r){let n;r=r||{},e&&(n=this.$__schema.interpretAsType(t,e,this.$__schema.options));let i=this.$__path(t);if(i==null&&(i=this.$__schema.virtualpath(t)),i instanceof Ioe){let u=this.$__schema.virtualpath(t);u!=null&&(i=u)}let s=t.indexOf(".")===-1?[t]:t.split("."),o=this._doc;if(i instanceof VHe)return i.applyGetters(void 0,this);typeof this.$__schema.aliases[s[0]]=="string"&&(s[0]=this.$__schema.aliases[s[0]]);for(let u=0,a=s.length;u<a;u++)o&&o._doc&&(o=o._doc),o==null?o=void 0:o instanceof Map?o=o.get(s[u],{getters:!1}):u===a-1?o=xe.getValue(s[u],o):o=o[s[u]];if(n&&(o=n.cast(o)),i!=null&&r.getters!==!1)o=i.applyGetters(o,this);else if(this.$__schema.nested[t]&&r.virtuals)return joe(this,xe.clone(o)||{},{path:t});return o};F.prototype[uGe]=F.prototype.get;F.prototype.$get=F.prototype.get;F.prototype.$__path=function(t){let e=this.$__.adhocPaths,r=e&&e.hasOwnProperty(t)?e[t]:null;return r||this.$__schema.path(t)};F.prototype.markModified=function(t,e){this.$__saveInitialState(t),this.$__.activePaths.modify(t),e!=null&&!this.$isSubdocument&&(this.$__.pathsToScopes=this.$__pathsToScopes||{},this.$__.pathsToScopes[t]=e)};F.prototype.$__saveInitialState=function(e){let r=this.$__.savedState,n=e;if(r!=null){let i=n.indexOf("."),s=i===-1?n:n.slice(0,i);r.hasOwnProperty(s)||(r[s]=xe.clone(this.$__getValue(s)))}};F.prototype.unmarkModified=function(t){this.$__.activePaths.init(t),this.$__.pathsToScopes!=null&&delete this.$__.pathsToScopes[t]};F.prototype.$ignore=function(t){this.$__.activePaths.ignore(t)};F.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.getStatePaths("modify"))};F.prototype.$isEmpty=function(t){let e={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length!==0){let r=this.$get(t);return r==null?!0:typeof r!="object"?!1:xe.isPOJO(r)?Foe(r):Object.keys(r.toObject(e)).length===0}return Object.keys(this.toObject(e)).length===0};function Foe(t){if(t==null)return!0;if(typeof t!="object"||Array.isArray(t))return!1;for(let e of Object.keys(t))if(!Foe(t[e]))return!1;return!0}F.prototype.modifiedPaths=function(t){t=t||{};let e=Object.keys(this.$__.activePaths.getStatePaths("modify")),r=new Set,n=0,i=0,s=e.length;for(n=0;n<s;++n){let o=e[n],u=xoe(o),a=u.length;for(i=0;i<a;++i)r.add(u[i]);if(!t.includeChildren)continue;let c=0,l=this.$get(o);if(typeof l=="object"&&l!==null){l._doc&&(l=l._doc);let d=l.length;if(Array.isArray(l))for(c=0;c<d;++c){let f=o+"."+c;if(!r.has(f)&&(r.add(f),l[c]!=null&&l[c].$__)){let p=l[c].modifiedPaths(),m=0,y=p.length;for(m=0;m<y;++m)r.add(f+"."+p[m])}}else{let f=Object.keys(l),p=0,m=f.length;for(p=0;p<m;++p)r.add(o+"."+f[p])}}}return Array.from(r)};F.prototype[Noe]=F.prototype.modifiedPaths;F.prototype.isModified=function(t,e){if(t){let r=Object.keys(this.$__.activePaths.getStatePaths("modify"));if(r.length===0)return!1;Array.isArray(t)||(t=t.indexOf(" ")===-1?[t]:t.split(" "));let n=e||this[Noe]();return t.some(function(s){return!!~n.indexOf(s)})||t.some(function(s){return r.some(function(o){return o===s||s.startsWith(o+".")})})}return this.$__.activePaths.some("modify")};F.prototype.$isModified=F.prototype.isModified;F.prototype[oGe]=F.prototype.isModified;F.prototype.$isDefault=function(t){if(t==null)return this.$__.activePaths.some("default");if(typeof t=="string"&&t.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("default").hasOwnProperty(t);let e=t;return Array.isArray(e)||(e=e.split(" ")),e.some(r=>this.$__.activePaths.getStatePaths("default").hasOwnProperty(r))};F.prototype.$isDeleted=function(t){return arguments.length===0?!!this.$__.isDeleted:(this.$__.isDeleted=!!t,this)};F.prototype.isDirectModified=function(t){if(t==null)return this.$__.activePaths.some("modify");if(typeof t=="string"&&t.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("modify").hasOwnProperty(t);let e=t;return Array.isArray(e)||(e=e.split(" ")),e.some(r=>this.$__.activePaths.getStatePaths("modify").hasOwnProperty(r))};F.prototype.isInit=function(t){if(t==null)return this.$__.activePaths.some("init");if(typeof t=="string"&&t.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("init").hasOwnProperty(t);let e=t;return Array.isArray(e)||(e=e.split(" ")),e.some(r=>this.$__.activePaths.getStatePaths("init").hasOwnProperty(r))};F.prototype.isSelected=function(e){if(this.$__.selected==null)return!0;if(!e)return!1;if(e==="_id")return this.$__.selected._id!==0;if(e.indexOf(" ")!==-1&&(e=e.split(" ")),Array.isArray(e))return e.some(s=>this.$__isSelected(s));let r=Object.keys(this.$__.selected),n=null;if(r.length===1&&r[0]==="_id")return this.$__.selected._id===0;for(let s of r)if(s!=="_id"&&Doe(this.$__.selected[s])){n=!!this.$__.selected[s];break}if(n===null)return!0;if(e in this.$__.selected)return n;let i=e+".";for(let s of r)if(s!=="_id"){if(s.startsWith(i))return n||s!==i;if(i.startsWith(s+"."))return n}return!n};F.prototype.$__isSelected=F.prototype.isSelected;F.prototype.isDirectSelected=function(e){if(this.$__.selected==null)return!0;if(e==="_id")return this.$__.selected._id!==0;if(e.indexOf(" ")!==-1&&(e=e.split(" ")),Array.isArray(e))return e.some(i=>this.isDirectSelected(i));let r=Object.keys(this.$__.selected),n=null;if(r.length===1&&r[0]==="_id")return this.$__.selected._id===0;for(let i of r)if(i!=="_id"&&Doe(this.$__.selected[i])){n=!!this.$__.selected[i];break}return n===null?!0:this.$__.selected.hasOwnProperty(e)?n:!n};F.prototype.validate=function(t,e,r){let n;if(this.$op="validate",this.$isSubdocument!=null||(this.$__.validating?n=new Soe(this,{parentStack:e&&e.parentStack,conflictStack:this.$__.validating.stack}):this.$__.validating=new Soe(this,{parentStack:e&&e.parentStack})),arguments.length===1?typeof arguments[0]=="object"&&!Array.isArray(arguments[0])?(e=arguments[0],r=null,t=null):typeof arguments[0]=="function"&&(r=arguments[0],e=null,t=null):typeof t=="function"?(r=t,e=null,t=null):typeof e=="function"&&(r=e,e=t,t=null),e&&typeof e.pathsToSkip=="string"){let i=e.pathsToSkip.indexOf(" ")===-1;e.pathsToSkip=i?[e.pathsToSkip]:e.pathsToSkip.split(" ")}return WHe(r,i=>{if(n!=null)return i(n);this.$__validate(t,e,s=>{this.$op=null,this.$__.validating=null,i(s)})},this.constructor.events)};F.prototype.$validate=F.prototype.validate;function hGe(t){let e=Object.keys(t.$__.activePaths.getStatePaths("require")),r=0,n=e.length;for(r=0;r<n;++r){let i=e[r],s=t.$__schema.path(i);if(s!=null&&typeof s.originalRequiredValue=="function"){t.$__.cachedRequired=t.$__.cachedRequired||{};try{t.$__.cachedRequired[i]=s.originalRequiredValue.call(t,t)}catch(o){t.invalidate(i,o)}}}}function Boe(t){let e={};hGe(t);let r=new Set(Object.keys(t.$__.activePaths.getStatePaths("require")).filter(function(a){return!t.$__isSelected(a)&&!t.$isModified(a)?!1:t.$__.cachedRequired!=null&&a in t.$__.cachedRequired?t.$__.cachedRequired[a]:!0}));Object.keys(t.$__.activePaths.getStatePaths("init")).forEach(n),Object.keys(t.$__.activePaths.getStatePaths("modify")).forEach(n),Object.keys(t.$__.activePaths.getStatePaths("default")).forEach(n);function n(a){r.add(a)}let i=t.$getAllSubdocs(),s=t.modifiedPaths();for(let a of i)if(a.$basePath){let c=a.$__fullPathWithIndexes();for(let l of r)(l==null||l.startsWith(c+"."))&&r.delete(l);t.$isModified(c,s)&&!t.isDirectModified(c)&&!t.$isDefault(c)&&(r.add(c),e[c]=!0)}for(let a of r){let c=t.$__schema.path(a);if(c){if(c.$isMongooseDocumentArray)for(let l of r)(l==null||l.startsWith(c.path+"."))&&r.delete(l);(!c.caster&&c.validators.length===0||c.$isMongooseArray&&!c.$isMongooseDocumentArray&&!c.$embeddedSchemaType.$isMongooseArray&&c.validators.length===0&&c.$embeddedSchemaType.validators.length===0)&&r.delete(a)}}for(let a of r){let c=t.$__schema.path(a);if(!c||!c.$isMongooseArray||!Array.isArray(c)&&c.$isMongooseDocumentArray&&!(c&&c.schemaOptions&&c.schemaOptions.required)||c.$isMongooseArray&&!c.$isMongooseDocumentArray&&!c.$embeddedSchemaType.$isMongooseArray&&c.$embeddedSchemaType.validators.length===0)continue;let l=t.$__getValue(a);o(l,r,a)}function o(a,c,l){if(a!=null){let d=a.length;for(let f=0;f<d;++f)Array.isArray(a[f])?o(a[f],c,l+"."+f):c.add(l+"."+f)}}let u={skipArrays:!0};for(let a of r)if(t.$__schema.nested[a]){let c=t.$__getValue(a);iGe(c)&&(c=c.toObject({transform:!1}));let l=YHe(c,a,u,t.$__schema);Object.keys(l).forEach(n)}for(let a of r){if(t.$__schema.singleNestedPaths.hasOwnProperty(a)){r.delete(a);continue}let c=t.$__schema.path(a);if(!c||!c.$isSchemaMap)continue;let l=t.$__getValue(a);if(l!=null)for(let d of l.keys())r.add(a+"."+d)}return r=Array.from(r),[r,e]}F.prototype.$__validate=function(t,e,r){typeof t=="function"?(r=t,e=null,t=null):typeof e=="function"&&(r=e,e=null);let n=e&&typeof e=="object"&&"validateModifiedOnly"in e,i=e&&e.pathsToSkip||null,s;n?s=!!e.validateModifiedOnly:s=this.$__schema.options.validateModifiedOnly;let o=this,u=()=>{let y=this.$__.validationError;if(this.$__.validationError=null,this.$__.validating=null,s&&y!=null){let _=Object.keys(y.errors);for(let g of _)this.$isModified(g)||delete y.errors[g];Object.keys(y.errors).length===0&&(y=void 0)}if(this.$__.cachedRequired={},this.$emit("validate",o),this.constructor.emit("validate",o),y){for(let _ in y.errors)!this[sGe]&&y.errors[_]instanceof vs.CastError&&this.invalidate(_,y.errors[_]);return y}},a=Boe(this),c=s?a[0].filter(y=>this.$isModified(y)):a[0],l=a[1];if(typeof t=="string"&&(t=t.split(" ")),Array.isArray(t)?c=qoe(c,t):i&&(c=$oe(c,i)),c.length===0)return Ooe(function(){let y=u();if(y)return o.$__schema.s.hooks.execPost("validate:error",o,[o],{error:y},function(_){r(_)});r(null,o)});let d={},f=0;for(let y of c)p(y);function p(y){y==null||d[y]||(d[y]=!0,f++,Ooe(function(){let _=o.$__schema.path(y);if(!_)return--f||m();if(!o.$isValid(y)){--f||m();return}if(_[cGe]!=null&&y!==_.path)return--f||m();let g=o.$__getValue(y),E;(E=o.$populated(y))?g=E:g!=null&&g.$__!=null&&g.$__.wasPopulated&&(g=g._id);let O=o.$__.pathsToScopes!=null&&y in o.$__.pathsToScopes?o.$__.pathsToScopes[y]:o,w={skipSchemaValidators:l[y],path:y,validateModifiedOnly:s};_.doValidate(g,function(b){if(b){if((_.$isSingleNested||_.$isArraySubdocument||_.$isMongooseDocumentArray)&&b instanceof cv)return--f||m();o.invalidate(y,b,void 0,!0)}--f||m()},O,w)}))}function m(){let y=u();if(y)return o.$__schema.s.hooks.execPost("validate:error",o,[o],{error:y},function(_){r(_)});r(null,o)}};function qoe(t,e){let r=new Set(e),n=new Map([]);for(let s of e){if(s.indexOf(".")===-1)continue;let o=s.split("."),u=o[0];for(let a=1;a<o.length;++a)n.set(u,s),u=u+"."+o[a]}let i=[];for(let s of t)r.has(s)?i.push(s):n.has(s)&&i.push(n.get(s));return i}function $oe(t,e){return e=new Set(e),t=t.filter(r=>!e.has(r)),t}F.prototype.validateSync=function(t,e){let r=this;arguments.length===1&&typeof arguments[0]=="object"&&!Array.isArray(arguments[0])&&(e=arguments[0],t=null);let n=e&&typeof e=="object"&&"validateModifiedOnly"in e,i;n?i=!!e.validateModifiedOnly:i=this.$__schema.options.validateModifiedOnly;let s=e&&e.pathsToSkip;typeof t=="string"?t=t.indexOf(" ")===-1?[t]:t.split(" "):typeof s=="string"&&s.indexOf(" ")!==-1&&(s=s.split(" "));let o=Boe(this),u=i?o[0].filter(d=>this.$isModified(d)):o[0],a=o[1];Array.isArray(t)?u=qoe(u,t):Array.isArray(s)&&(u=$oe(u,s));let c={};for(let d=0,f=u.length;d<f;++d){let p=u[d];if(c[p])continue;c[p]=!0;let m=r.$__schema.path(p);if(!m||!r.$isValid(p))continue;let y=r.$__getValue(p),_=m.doValidateSync(y,r,{skipSchemaValidators:a[p],path:p,validateModifiedOnly:i});if(_){if((m.$isSingleNested||m.$isArraySubdocument||m.$isMongooseDocumentArray)&&_ instanceof cv)continue;r.invalidate(p,_,void 0,!0)}}let l=r.$__.validationError;if(r.$__.validationError=void 0,r.$emit("validate",r),r.constructor.emit("validate",r),l)for(let d in l.errors)l.errors[d]instanceof vs.CastError&&r.invalidate(d,l.errors[d]);return l};F.prototype.invalidate=function(t,e,r,n){if(this.$__.validationError||(this.$__.validationError=new cv(this)),!this.$__.validationError.errors[t])return(!e||typeof e=="string")&&(e=new Poe({path:t,message:e,type:n||"user defined",value:r})),this.$__.validationError===e?this.$__.validationError:(this.$__.validationError.addError(t,e),this.$__.validationError)};F.prototype.$markValid=function(t){!this.$__.validationError||!this.$__.validationError.errors[t]||(delete this.$__.validationError.errors[t],Object.keys(this.$__.validationError.errors).length===0&&(this.$__.validationError=null))};function pGe(t,e){if(!t.$__.validationError)return;let r=Object.keys(t.$__.validationError.errors);for(let n of r)n.startsWith(e+".")&&delete t.$__.validationError.errors[n];Object.keys(t.$__.validationError.errors).length===0&&(t.$__.validationError=null)}function mGe(t,e,r){let n=e.schema;if(n!=null)for(let i of Object.keys(n.paths)){let s=n.paths[i];if(s.$immutableSetter==null)continue;let o=r?.$__getValue(i);s.$immutableSetter.call(t,o)}}F.prototype.$isValid=function(t){return this.$__.validationError==null||Object.keys(this.$__.validationError.errors).length===0?!0:t==null?!1:(t.indexOf(" ")!==-1&&(t=t.split(" ")),Array.isArray(t)?t.some(e=>this.$__.validationError.errors[e]==null):this.$__.validationError.errors[t]==null)};F.prototype.$__reset=function(){let e=this,r=this.$parent()===this?this.$getAllSubdocs():[],n=new Set;for(let s of r){let o=s.$__fullPathWithIndexes();if(this.isModified(o)||i(o))if(s.$__reset(),s.$isDocumentArrayElement){if(!n.has(s.parentArray())){let u=s.parentArray();this.$__.activePaths.clearPath(o.replace(/\.\d+$/,"").slice(-s.$basePath-1)),u[Wf]=u[bs],u[bs]={},n.add(u)}}else s.$parent()===this?this.$__.activePaths.clearPath(s.$basePath):s.$parent()!=null&&s.$parent().$isSubdocument&&s.$parent().$__reset()}function i(s){s=s.indexOf(".")===-1?[s]:s.split(".");let o="";for(let u=0;u<s.length;++u)if(o+=(o.length?".":"")+s[u],e.$__.activePaths[o]==="init")return!0;return!1}return this.$__dirty().forEach(function(s){let o=s.value;o&&o[bs]&&(o[Wf]=o[bs],o[bs]={})}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.getStatePaths("modify")),default:Object.assign({},this.$__.activePaths.getStatePaths("default"))},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.$errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.$errors=void 0,e=this,this.$__schema.requiredPaths().forEach(function(s){e.$__.activePaths.require(s)}),this};F.prototype.$__undoReset=function(){if(!(this.$__.backup==null||this.$__.backup.activePaths==null)){this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.$errors=this.$__.backup.errors;for(let e of this.$__dirty()){let r=e.value;r&&r[bs]&&r[Wf]&&(r[bs]=r[Wf])}for(let e of this.$getAllSubdocs())e.$__undoReset()}};F.prototype.$__dirty=function(){let t=this,e=this.$__.activePaths.map("modify",function(i){return{path:i,value:t.$__getValue(i),schema:t.$__path(i)}});e=e.concat(this.$__.activePaths.map("default",function(i){if(!(i==="_id"||t.$__getValue(i)==null))return{path:i,value:t.$__getValue(i),schema:t.$__path(i)}}));let r=new Map(e.filter(i=>i!=null).map(i=>[i.path,i.value])),n=[];return e.forEach(function(i){if(!i)return;let s=null,o=xoe(i.path);for(let u=0;u<o.length-1;u++)if(r.has(o[u])){s=r.get(o[u]);break}s==null?n.push(i):s!=null&&s[bs]!=null&&s.hasAtomics()&&(s[bs]={},s[bs].$set=s)}),n};F.prototype.$__setSchema=function(t){GHe(t.tree,this,void 0,t.options);for(let e of Object.keys(t.virtuals))t.virtuals[e]._applyDefaultGetters();t.path("schema")==null&&(this.schema=t),this.$__schema=t,this[Bx]=t};F.prototype.$__getArrayPathsToValidate=function(){return av||(av=Ql()),this.$__.activePaths.map("init","modify",function(t){return this.$__getValue(t)}.bind(this)).filter(function(t){return t&&Array.isArray(t)&&xe.isMongooseDocumentArray(t)&&t.length}).reduce(function(t,e){return t.concat(e)},[]).filter(function(t){return t})};F.prototype.$getAllSubdocs=function(){av||(av=Ql()),rd=rd||If();function t(r,n,i){let s=r,o=!1;if(i&&(r instanceof F&&r[Bx].paths[i]?s=r._doc[i]:r instanceof F&&r[Bx].nested[i]?(s=r._doc[i],o=!0):s=r[i]),s instanceof rd)n.push(s);else if(s instanceof Map)n=Array.from(s.keys()).reduce(function(u,a){return t(s.get(a),u,null)},n);else if(s&&!Array.isArray(s)&&s.$isSingleNested)n=Object.keys(s._doc).reduce(function(u,a){return t(s,u,a)},n),n.push(s);else if(s&&xe.isMongooseDocumentArray(s))s.forEach(function(a){!a||!a._doc||(n=Object.keys(a._doc).reduce(function(c,l){return t(a._doc,c,l)},n),a instanceof rd&&n.push(a))});else if(o&&s!=null)for(let u of Object.keys(s))t(s,n,u);return n}let e=[];for(let r of Object.keys(this._doc))t(this,e,r);return e};function yGe(t){let e=t.$__schema&&t.$__schema.callQueue;if(e.length)for(let r of e)r[0]!=="pre"&&r[0]!=="post"&&r[0]!=="on"&&t[r[0]].apply(t,r[1])}F.prototype.$__handleReject=function(e){this.$listeners("error").length?this.$emit("error",e):this.constructor.listeners&&this.constructor.listeners("error").length&&this.constructor.emit("error",e)};F.prototype.$toObject=function(t,e){let r={transform:!0,flattenDecimals:!0},n=e?"toJSON":"toObject",i=this.constructor&&this.constructor.base&&this.constructor.base.options&&QHe(this.constructor.base.options,n)||{},s=this.$__schema&&this.$__schema.options||{};r=xe.options(r,oa(i)),r=xe.options(r,oa(s[n]||{})),t=xe.isPOJO(t)?{...t}:{},t._calledWithOptions=t._calledWithOptions||{...t};let o;t._calledWithOptions.minimize!=null?o=t.minimize:r.minimize!=null?o=r.minimize:o=s.minimize;let u;t._calledWithOptions.flattenMaps!=null?u=t.flattenMaps:r.flattenMaps!=null?u=r.flattenMaps:u=s.flattenMaps;let a=Object.assign({},t,{_isNested:!0,json:e,minimize:o,flattenMaps:u,_seen:t&&t._seen||new Map});if(xe.hasUserDefinedProperty(t,"getters")&&(a.getters=t.getters),xe.hasUserDefinedProperty(t,"virtuals")&&(a.virtuals=t.virtuals),(t.depopulate||t._parentOptions&&t._parentOptions.depopulate||!1)&&t._isNested&&this.$__.wasPopulated)return oa(this.$__.wasPopulated.value||this._id,a);t=xe.options(r,t),t._isNested=!0,t.json=e,t.minimize=o,a._parentOptions=t,a._skipSingleNestedGetters=!1;let l=Object.assign({},a);l._skipSingleNestedGetters=!0;let d=t.transform,f=oa(this._doc,a)||{};t.getters&&(gGe(this,f,l),t.minimize&&(f=koe(f)||{})),(t.virtuals||t.getters&&t.virtuals!==!1)&&joe(this,f,l,t),t.versionKey===!1&&this.$__schema.options.versionKey&&delete f[this.$__schema.options.versionKey];let p=t.transform;if(p&&_Ge(this,f),t.useProjection&&EGe(this,f),p===!0||s.toObject&&p){let m=t.json?s.toJSON:s.toObject;m&&(p=typeof t.transform=="function"?t.transform:m.transform)}else t.transform=d;if(typeof p=="function"){let m=p(this,f,t);typeof m<"u"&&(f=m)}return f};F.prototype.toObject=function(t){return this.$toObject(t)};function koe(t){let e=Object.keys(t),r=e.length,n,i,s;for(;r--;){if(i=e[r],s=t[i],xe.isPOJO(s)&&(t[i]=koe(s)),t[i]===void 0){delete t[i];continue}n=!0}return n?t:void 0}function joe(t,e,r,n){let i=t.$__schema,s=Object.keys(i.virtuals),o=s.length,u=o,a,c,l=t._doc,d,f=typeof(n&&n.aliases)=="boolean"?n.aliases:!0,p=null;if(Array.isArray(r.virtuals))p=new Set(r.virtuals);else if(r.virtuals&&r.virtuals.pathsToSkip){p=new Set(s);for(let m=0;m<r.virtuals.pathsToSkip.length;m++)p.has(r.virtuals.pathsToSkip[m])&&p.delete(r.virtuals.pathsToSkip[m])}if(!l)return e;for(r=r||{},o=0;o<u;++o){if(a=s[o],p!=null&&!p.has(a)||!f&&i.aliases.hasOwnProperty(a))continue;if(c=a,r.path!=null){if(!a.startsWith(r.path+"."))continue;c=a.substring(r.path.length+1)}let m=c.split(".");if(d=oa(t.get(a),r),d===void 0)continue;let y=m.length;l=e;for(let _=0;_<y-1;++_)l[m[_]]=l[m[_]]||{},l=l[m[_]];l[m[y-1]]=d}return e}function gGe(t,e,r){let n=t.$__schema,i=Object.keys(n.paths),s=i.length,o,u=t._doc,a;if(!u)return e;for(;s--;){o=i[s];let c=o.split("."),l=c.length,d=l-1,f=e,p;if(u=t._doc,!!t.$__isSelected(o))for(let m=0;m<l;++m){if(p=c[m],a=u[p],m===d){let y=t.$get(o);f[p]=oa(y,r)}else if(a==null){p in u&&(f[p]=a);break}else f=f[p]||(f[p]={});u=a}}return e}function _Ge(t,e){let r=t.$__schema,n=Object.keys(r.paths||{});if(!t._doc)return e;for(let s of n){let o=r.paths[s];if(typeof o.options.transform=="function"){let u=t.$get(s);if(u===void 0)continue;let a=o.options.transform.call(t,u);boe(s,a),xe.setValue(s,a,e)}else if(o.$embeddedSchemaType!=null&&typeof o.$embeddedSchemaType.options.transform=="function"){let u=t.$get(s);if(u===void 0)continue;let a=[].concat(u),c=o.$embeddedSchemaType.options.transform;for(let l=0;l<a.length;++l){let d=c.call(t,a[l]);a[l]=d,boe(s,d)}e[s]=a}}return e}function boe(t,e){if(nGe(e))throw new Error("`transform` function must be synchronous, but the transform on path `"+t+"` returned a promise.")}function EGe(t,e){let r=t.$__schema,n=Object.keys(r.paths||{});if(!t._doc)return e;let s=t.$__.selected;if(s===void 0&&(s={},rGe.applyPaths(s,r)),s==null||Object.keys(s).length===0)return e;for(let o of n)s[o]!=null&&!s[o]&&delete e[o];return e}F.prototype.toJSON=function(t){return this.$toObject(t,!0)};F.prototype.ownerDocument=function(){return this};F.prototype.parent=function(){return this.$isSubdocument||this.$__.wasPopulated?this.$__.parent:this};F.prototype.$parent=F.prototype.parent;F.prototype.inspect=function(t){let e=xe.isPOJO(t),r;e&&(r=t,r.minimize=!1);let n=this.toObject(r);return n??"MongooseDocument { "+n+" }"};Fx.custom&&(F.prototype[Fx.custom]=F.prototype.inspect);F.prototype.toString=function(){let t=this.inspect();return typeof t=="string"?t:Fx(t)};F.prototype.equals=function(t){if(!t)return!1;let e=this.$__getValue("_id"),r=t.$__!=null?t.$__getValue("_id"):t;return!e&&!r?uv(this,t):e&&e.equals?e.equals(r):e===r};F.prototype.populate=function(){let e={},r=[...arguments],n;if(r.length!==0){typeof r[r.length-1]=="function"&&(n=r.pop());let o=xe.populate.apply(null,r);for(let u of o)e[u.path]=u}let i=xe.object.vals(e),s=this.constructor;if(this.$__isNested){s=this.$__[aGe].constructor;let o=this.$__.nestedPath;i.forEach(function(u){u.path=o+"."+u.path})}if(this.$session()!=null){let o=this.$session();i.forEach(u=>{if(u.options==null){u.options={session:o};return}"session"in u.options||(u.options.session=o)})}return i.forEach(o=>{o._localModel=s}),s.populate(this,i,n)};F.prototype.$getPopulatedDocs=function(){let e=[];this.$__.populated!=null&&(e=e.concat(Object.keys(this.$__.populated)));let r=[];for(let n of e){let i=this.$get(n);Array.isArray(i)?r=r.concat(i):i instanceof F&&r.push(i)}return r};F.prototype.populated=function(t,e,r){if(e==null||e===!0){if(!this.$__.populated||typeof t!="string")return;let i=t.endsWith(".$*")?t.replace(/\.\$\*$/,""):t,s=this.$__.populated[i];return s?e===!0?s:s.value:void 0}this.$__.populated||(this.$__.populated={}),this.$__.populated[t]={value:e,options:r};let n=t.split(".");for(let i=0;i<n.length-1;++i){let s=n.slice(0,i+1).join("."),o=this.$get(s);if(o!=null&&o.$__!=null&&this.$populated(s)){let u=n.slice(i+1).join(".");o.$populated(u,e,r);break}}return e};F.prototype.$populated=F.prototype.populated;F.prototype.$assertPopulated=function(e,r){if(Array.isArray(e))return e.forEach(n=>this.$assertPopulated(n,r)),this;if(arguments.length>1&&this.$set(r),!this.$populated(e))throw new vs(`Expected path "${e}" to be populated`);return this};F.prototype.depopulate=function(t){typeof t=="string"&&(t=t.indexOf(" ")===-1?[t]:t.split(" "));let e,r=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],n=this.$__&&this.$__.populated||{};if(arguments.length===0){for(let s of r)delete this.$$populatedVirtuals[s],delete this._doc[s],delete n[s];let i=Object.keys(n);for(let s of i)e=this.$populated(s),e&&(delete n[s],xe.setValue(s,e,this._doc));return this}for(let i of t)e=this.$populated(i),delete n[i],r.indexOf(i)!==-1?(delete this.$$populatedVirtuals[i],delete this._doc[i]):e&&xe.setValue(i,e,this._doc);return this};F.prototype.$__fullPath=function(t){return t||""};F.prototype.getChanges=function(){let t=this.$__delta();return t?t[1]:{}};F.prototype.$clone=function(){let t=this.constructor,e=new t;if(e.$isNew=this.$isNew,this._doc&&(e._doc=oa(this._doc)),this.$__){let r=this.$__.constructor,n=new r;for(let i of Object.getOwnPropertyNames(this.$__))i!=="activePaths"&&(n[i]=oa(this.$__[i]));Object.assign(n.activePaths,oa({...this.$__.activePaths})),e.$__=n}return e};F.ValidationError=cv;Uoe.exports=Loe=F});var we=h(Z=>{"use strict";var AGe=Aee(),Voe=Js(),SGe=Ll(),Woe=Dee(),wGe=Qo(),OGe=zn(),CGe=gc(),Hoe=TR(),Goe=Nee(),Ic=Wn(),vGe=DR(),cg=mf(),bGe=Bi(),IGe=zC(),lg=pf(),{trustedSymbol:Hf}=yf(),qx;Z.specialProperties=lg;Z.isMongooseArray=Hoe.isMongooseArray;Z.isMongooseDocumentArray=Goe.isMongooseDocumentArray;Z.registerMongooseArray=Hoe.registerMongooseArray;Z.registerMongooseDocumentArray=Goe.registerMongooseDocumentArray;Z.toCollectionName=function(t,e){return t==="system.profile"||t==="system.indexes"?t:typeof e=="function"?e(t):t};Z.deepEqual=function t(e,r){if(e===r)return!0;if(typeof e!="object"||typeof r!="object")return e===r;if(e instanceof Date&&r instanceof Date)return e.getTime()===r.getTime();if(Ic(e,"ObjectID")&&Ic(r,"ObjectID")||Ic(e,"Decimal128")&&Ic(r,"Decimal128"))return e.toString()===r.toString();if(e instanceof RegExp&&r instanceof RegExp)return e.source===r.source&&e.ignoreCase===r.ignoreCase&&e.multiline===r.multiline&&e.global===r.global&&e.dotAll===r.dotAll&&e.unicode===r.unicode&&e.sticky===r.sticky&&e.hasIndices===r.hasIndices;if(e==null||r==null||e.prototype!==r.prototype)return!1;if(e instanceof Map||r instanceof Map)return!(e instanceof Map)||!(r instanceof Map)?!1:t(Array.from(e.keys()),Array.from(r.keys()))&&t(Array.from(e.values()),Array.from(r.values()));if(e instanceof Number&&r instanceof Number)return e.valueOf()===r.valueOf();if(Buffer.isBuffer(e))return Z.buffer.areEqual(e,r);if(Array.isArray(e)||Array.isArray(r)){if(!Array.isArray(e)||!Array.isArray(r))return!1;let o=e.length;if(o!==r.length)return!1;for(let u=0;u<o;++u)if(!t(e[u],r[u]))return!1;return!0}e.$__!=null?e=e._doc:cg(e)&&(e=e.toObject()),r.$__!=null?r=r._doc:cg(r)&&(r=r.toObject());let n=Object.keys(e),i=Object.keys(r),s=n.length;if(s!==i.length)return!1;for(let o=s-1;o>=0;o--)if(n[o]!==i[o])return!1;for(let o of n)if(!t(e[o],r[o]))return!1;return!0};Z.last=function(t){if(t.length>0)return t[t.length-1]};Z.clone=wGe;Z.promiseOrCallback=bGe;Z.cloneArrays=function(e){return Array.isArray(e)?e.map(r=>Z.cloneArrays(r)):e};Z.omit=function(e,r){if(r==null)return Object.assign({},e);Array.isArray(r)||(r=[r]);let n=Object.assign({},e);for(let i of r)delete n[i];return n};Z.options=function(t,e){let r=Object.keys(t),n=r.length,i;for(e=e||{};n--;)i=r[n],i in e||(e[i]=t[i]);return e};Z.merge=function t(e,r,n,i){n=n||{};let s=Object.keys(r),o=0,u=s.length,a;r[Hf]&&(e[Hf]=r[Hf]),i=i||"";let c=n.omitNested||{};for(;o<u;)if(a=s[o++],!(n.omit&&n.omit[a])&&!c[i]&&!lg.has(a))if(e[a]==null)e[a]=r[a];else if(Z.isObject(r[a])){if(Z.isObject(e[a])||(e[a]={}),r[a]!=null){if(n.isDiscriminatorSchemaMerge&&r[a].$isSingleNested&&e[a].$isMongooseDocumentArray||r[a].$isMongooseDocumentArray&&e[a].$isSingleNested)continue;if(r[a].instanceOfSchema){e[a].instanceOfSchema?IGe(e[a],r[a].clone(),n.isDiscriminatorSchemaMerge):e[a]=r[a].clone();continue}else if(Ic(r[a],"ObjectID")){e[a]=new SGe(r[a]);continue}}t(e[a],r[a],n,i?i+"."+a:a)}else n.overwrite&&(e[a]=r[a])};Z.toObject=function t(e){qx||(qx=mi());let r;if(e==null)return e;if(e instanceof qx)return e.toObject();if(Array.isArray(e)){r=[];for(let n of e)r.push(t(n));return r}if(Z.isPOJO(e)){r={},e[Hf]&&(r[Hf]=e[Hf]);for(let n of Object.keys(e))lg.has(n)||(r[n]=t(e[n]));return r}return e};Z.isObject=CGe;Z.isPOJO=function(e){if(e==null||typeof e!="object")return!1;let r=Object.getPrototypeOf(e);return!r||r.constructor.name==="Object"};Z.isNonBuiltinObject=function(e){return typeof e=="object"&&!Z.isNativeObject(e)&&!Z.isMongooseType(e)&&e!=null};Z.isNativeObject=function(t){return Array.isArray(t)||t instanceof Date||t instanceof Boolean||t instanceof Number||t instanceof String};Z.isEmptyObject=function(t){return t!=null&&typeof t=="object"&&Object.keys(t).length===0};Z.hasKey=function(e,r){let n=Object.keys(e);for(let i of n)if(i===r||Z.isPOJO(e[i])&&Z.hasKey(e[i],r))return!0;return!1};Z.tick=function(e){if(typeof e=="function")return function(){try{e.apply(this,arguments)}catch(r){OGe(function(){throw r})}}};Z.isMongooseType=function(t){return Ic(t,"ObjectID")||Ic(t,"Decimal128")||t instanceof Buffer};Z.isMongooseObject=cg;Z.expires=function(e){e&&e.constructor.name==="Object"&&"expires"in e&&(e.expireAfterSeconds=typeof e.expires!="string"?e.expires:Math.round(AGe(e.expires)/1e3),delete e.expires)};Z.populate=function(e,r,n,i,s,o,u,a){let c=null;if(arguments.length===1){if(e instanceof Woe)return e._docs=[],e._childDocs=[],[e];if(Array.isArray(e))return l(e).map(f=>Z.populate(f)[0]);Z.isObject(e)?c=Object.assign({},e):c={path:e}}else typeof n=="object"?c={path:e,select:r,match:n,options:i}:c={path:e,select:r,model:n,match:i,options:s,populate:o,justOne:u,count:a};if(typeof c.path!="string")throw new TypeError("utils.populate: invalid path. Expected string. Got typeof `"+typeof e+"`");return PGe(c);function l(d){let f=[];return d.forEach(function(p){/[\s]/.test(p.path)?p.path.split(" ").forEach(function(y){let _=Object.assign({},p);_.path=y,f.push(_)}):f.push(p)}),f}};function PGe(t){if(Array.isArray(t.populate)){let n=[];t.populate.forEach(function(i){if(/[\s]/.test(i.path)){let s=Object.assign({},i);s.path.split(" ").forEach(function(u){s.path=u,n.push(Z.populate(s)[0])})}else n.push(Z.populate(i)[0])}),t.populate=Z.populate(n)}else t.populate!=null&&typeof t.populate=="object"&&(t.populate=Z.populate(t.populate));let e=[],r=t.path.split(" ");t.options!=null&&(t.options=Z.clone(t.options));for(let n of r)e.push(new Woe(Object.assign({},t,{path:n})));return e}Z.getValue=function(t,e,r){return Voe.get(t,e,"_doc",r)};Z.setValue=function(t,e,r,n,i){Voe.set(t,e,r,"_doc",n,i)};Z.object={};Z.object.vals=function(e){let r=Object.keys(e),n=r.length,i=[];for(;n--;)i.push(e[r[n]]);return i};Z.object.shallowCopy=Z.options;var TGe=Object.prototype.hasOwnProperty;Z.object.hasOwnProperty=function(t,e){return TGe.call(t,e)};Z.isNullOrUndefined=function(t){return t==null};Z.array={};Z.array.flatten=function t(e,r,n){return n||(n=[]),e.forEach(function(i){Array.isArray(i)?t(i,r,n):(!r||r(i))&&n.push(i)}),n};var DGe=Object.prototype.hasOwnProperty;Z.hasUserDefinedProperty=function(t,e){if(t==null)return!1;if(Array.isArray(e)){for(let r of e)if(Z.hasUserDefinedProperty(t,r))return!0;return!1}if(DGe.call(t,e))return!0;if(typeof t=="object"&&e in t){let r=t[e];return r!==Object.prototype[e]&&r!==Array.prototype[e]}return!1};var zoe=Math.pow(2,32)-1;Z.isArrayIndex=function(t){return typeof t=="number"?t>=0&&t<=zoe:typeof t=="string"&&/^\d+$/.test(t)?(t=+t,t>=0&&t<=zoe):!1};Z.array.unique=function(t){let e=new Set,r=new Set,n=[];for(let i of t)if(typeof i=="number"||typeof i=="string"||i==null){if(e.has(i))continue;n.push(i),e.add(i)}else if(Ic(i,"ObjectID")){if(r.has(i.toString()))continue;n.push(i),r.add(i.toString())}else n.push(i);return n};Z.buffer={};Z.buffer.areEqual=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;++r)if(t[r]!==e[r])return!1;return!0};Z.getFunctionName=vGe;Z.decorate=function(t,e){for(let r in e)lg.has(r)||(t[r]=e[r])};Z.mergeClone=function(t,e){cg(e)&&(e=e.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1}));let r=Object.keys(e),n=r.length,i=0,s;for(;i<n;)if(s=r[i++],!lg.has(s))if(typeof t[s]>"u")t[s]=Z.clone(e[s],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{let o=e[s];if(o!=null&&o.valueOf&&!(o instanceof Date)&&(o=o.valueOf()),Z.isObject(o)){let u=o;cg(o)&&!o.isMongooseBuffer&&(u=u.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1})),o.isMongooseBuffer&&(u=Buffer.from(u)),Z.mergeClone(t[s],u)}else t[s]=Z.clone(o,{flattenDecimals:!1})}};Z.each=function(t,e){for(let r of t)e(r)};Z.getOption=function(t){let e=Array.prototype.slice.call(arguments,1);for(let r of e)if(r!=null&&r[t]!=null)return r[t];return null};Z.noop=function(){};Z.errorToPOJO=function(e){if(!(e instanceof Error))throw new Error("`error` must be `instanceof Error`.");let n={};for(let i of Object.getOwnPropertyNames(e))n[i]=e[i];return n};Z.warn=function(e){return process.emitWarning(e,{code:"MONGOOSE"})};Z.injectTimestampsOption=function(e,r){r!=null&&(e.timestamps=r)}});var Qo=h((bft,Joe)=>{"use strict";var RGe=MC(),NGe=Ll(),xGe=pf(),MGe=mf(),FGe=DR(),Koe=Wn(),BGe=gc(),qGe=pe(),$x=yf().trustedSymbol,Yoe=we();function jx(t,e,r){if(t==null)return t;if(Array.isArray(t))return $Ge(Yoe.isMongooseArray(t)?t.__array:t,e);if(MGe(t)){e&&e._skipSingleNestedGetters&&t.$isSingleNested&&(e=Object.assign({},e,{getters:!1}));let i=t.$isSingleNested;if(Yoe.isPOJO(t)&&t.$__!=null&&t._doc!=null)return t._doc;let s;return e&&e.json&&typeof t.toJSON=="function"?s=t.toJSON(e):s=t.toObject(e),e&&e.minimize&&i&&Object.keys(s).length===0?void 0:s}let n=t.constructor;if(n)switch(FGe(n)){case"Object":return kx(t,e,r);case"Date":return new n(+t);case"RegExp":return kGe(t);default:break}return Koe(t,"ObjectID")?new NGe(t.id):Koe(t,"Decimal128")?e&&e.flattenDecimals?t.toJSON():RGe.fromString(t.toString()):!n&&BGe(t)?kx(t,e,r):typeof t=="object"&&t[qGe.schemaTypeSymbol]?t.clone():e&&e.bson&&typeof t.toBSON=="function"?t:typeof t.valueOf=="function"?t.valueOf():kx(t,e,r)}Joe.exports=jx;function kx(t,e,r){let n=e&&e.minimize,i=e&&e.omitUndefined,s=e&&e._seen,o={},u;if(s&&s.has(t))return s.get(t);s&&s.set(t,o),$x in t&&(o[$x]=t[$x]);let a=0,c="",l=Object.keys(t),d=l.length;for(a=0;a<d;++a){if(xGe.has(c=l[a]))continue;let f=jx(t[c],e,!1);(n===!1||i)&&typeof f>"u"?delete o[c]:(n!==!0||typeof f<"u")&&(u||(u=!0),o[c]=f)}return n&&!r?u&&o:o}function $Ge(t,e){let r=0,n=t.length,i=new Array(n);for(r=0;r<n;++r)i[r]=jx(t[r],e,!0);return i}function kGe(t){let e=new RegExp(t.source,t.flags);return e.lastIndex!==t.lastIndex&&(e.lastIndex=t.lastIndex),e}});var Zoe=h((Ift,Xoe)=>{"use strict";var lv=see(),Lx=Sr(),Ux=ku().Collection,jGe=PR(),Qoe=Vn(),LGe=require("stream"),zx=require("util");function so(t,e,r){this.collection=null,this.Promise=r.Promise||Promise,this.modelName=r.modelName,delete r.modelName,this._closed=!1,lv.apply(this,arguments)}Object.setPrototypeOf(so.prototype,lv.prototype);so.prototype.onOpen=function(){return this.collection=this.conn.db.collection(this.name),lv.prototype.onOpen.call(this),this.collection};so.prototype.onClose=function(t){lv.prototype.onClose.call(this,t)};so.prototype._getCollection=function(){return this.collection?this.collection:this.conn.db!=null?(this.collection=this.conn.db.collection(this.name),this.collection):null};var dg={watch:!0,find:!0,aggregate:!0};function UGe(t){so.prototype[t]=function(){let e=this._getCollection(),r=Array.from(arguments),n=this,i=n&&n.conn&&n.conn.base&&n.conn.base.options&&n.conn.base.options.debug,s=n&&n.conn&&n.conn.options&&n.conn.options.debug,o=s??i,u=arguments[arguments.length-1],a=new jGe;if(this.conn.$wasForceClosed){let d=new Lx("Connection was force closed");if(r.length>0&&typeof r[r.length-1]=="function"){r[r.length-1](d);return}else throw d}let c=r,l=null;if(this._shouldBufferCommands()&&this.buffer){if(dg[t]&&typeof u!="function")throw new Error("Collection method "+t+" is synchronous");this.conn.emit("buffer",{_id:a,modelName:n.modelName,collectionName:n.name,method:t,args:r});let d,f=r,p=null,m=null;dg[t]?this.addQueue(()=>{u.call(this,null,this[t].apply(this,f.slice(0,f.length-1)))},[]):typeof u=="function"?(d=function(){return m!=null&&clearTimeout(m),u.apply(this,arguments)},f=r.slice(0,r.length-1).concat([d])):p=new this.Promise((_,g)=>{d=function(O,w){if(m!=null&&clearTimeout(m),O!=null)return g(O);_(w)},f=r.concat([d]),this.addQueue(t,f)});let y=this._getBufferTimeoutMS();if(m=setTimeout(()=>{if(this.removeQueue(t,f)){let g="Operation `"+this.name+"."+t+"()` buffering timed out after "+y+"ms",E=new Lx(g);this.conn.emit("buffer-end",{_id:a,modelName:n.modelName,collectionName:n.name,method:t,error:E}),d(E)}},y),!dg[t]&&typeof u=="function"){this.addQueue(t,f);return}return p}else!dg[t]&&typeof u=="function"&&(l=function(f,p){return f!=null?n.conn.emit("operation-end",{_id:a,modelName:n.modelName,collectionName:n.name,method:t,error:f}):n.conn.emit("operation-end",{_id:a,modelName:n.modelName,collectionName:n.name,method:t,result:p}),u.apply(this,arguments)},c=r.slice(0,r.length-1).concat([l]));if(o)if(typeof o=="function")o.apply(n,[n.name,t].concat(r.slice(0,r.length-1)));else if(o instanceof LGe.Writable)this.$printToStream(n.name,t,r,o);else{let d=o.color==null?!0:o.color,f=o.shell==null?!1:o.shell;this.$print(n.name,t,r,d,f)}this.conn.emit("operation-start",{_id:a,modelName:n.modelName,collectionName:this.name,method:t,params:c});try{if(e==null){let f="Cannot call `"+this.name+"."+t+"()` before initial connection is complete if `bufferCommands = false`. Make sure you `await mongoose.connect()` if you have `bufferCommands = false`.";throw new Lx(f)}if(dg[t]&&typeof u=="function")return u.call(this,null,e[t].apply(e,c.slice(0,c.length-1)));let d=e[t].apply(e,c);return d!=null&&typeof d.then=="function"?d.then(f=>(this.conn.emit("operation-end",{_id:a,modelName:this.modelName,collectionName:this.name,method:t,result:f}),f),f=>{throw this.conn.emit("operation-end",{_id:a,modelName:this.modelName,collectionName:this.name,method:t,error:f}),f}):d}catch(d){if(typeof u=="function")return u(d);throw this.conn.emit("operation-end",{_id:a,modelName:n.modelName,collectionName:this.name,method:t,error:d}),d}}}for(let t of Object.getOwnPropertyNames(Ux.prototype))Object.getOwnPropertyDescriptor(Ux.prototype,t).get===void 0&&typeof Ux.prototype[t]=="function"&&UGe(t);so.prototype.$print=function(t,e,r,n,i){let s=n?"\x1B[0;36mMongoose:\x1B[0m ":"Mongoose: ",o=[t,e].join("."),u=[];for(let c=r.length-1;c>=0;--c)(this.$format(r[c])||u.length)&&u.unshift(this.$format(r[c],n,i));let a="("+u.join(", ")+")";console.info(s+o+a)};so.prototype.$printToStream=function(t,e,r,n){let i=[t,e].join("."),s=[];for(let u=r.length-1;u>=0;--u)(this.$format(r[u])||s.length)&&s.unshift(this.$format(r[u]));let o="("+s.join(", ")+")";n.write(i+o,"utf8")};so.prototype.$format=function(t,e,r){let n=typeof t;return n==="function"||n==="undefined"?"":Vx(t,!1,e,r)};function Gf(t){let e={inspect:function(){return t}};return zx.inspect.custom&&(e[zx.inspect.custom]=e.inspect),e}function zGe(t){return Vx(t,!0)}function VGe(t,e){t[e]=Gf('ObjectId("'+t[e].toHexString()+'")')}function WGe(t,e,r){r?t[e]=Gf('ISODate("'+t[e].toUTCString()+'")'):t[e]=Gf('new Date("'+t[e].toUTCString()+'")')}function Vx(t,e,r,n){if(t&&typeof t.toBSON=="function"&&(t=t.toBSON()),t==null)return t;let s=Qo()(t,{transform:!1}),o=Qoe(s);if(o==="Binary")s="BinData("+s.sub_type+', "'+s.toString("base64")+'")';else if(o==="ObjectID")s=Gf('ObjectId("'+s.toHexString()+'")');else if(o==="Date")s=Gf('new Date("'+s.toUTCString()+'")');else if(o==="Object"){let u=Object.keys(s),a=u.length,c;for(let l=0;l<a;++l)if(c=u[l],s[c]){let d;if(typeof s[c].toBSON=="function")try{s[c]=s[c].toBSON()}catch(p){d=p}let f=Qoe(s[c]);if(f==="Binary")s[c]="BinData("+s[c].sub_type+', "'+s[c].buffer.toString("base64")+'")';else if(f==="Object")s[c]=Vx(s[c],!0);else if(f==="ObjectID")VGe(s,c);else if(f==="Date")WGe(s,c,n);else if(f==="ClientSession")s[c]=Gf('ClientSession("'+(s[c]&&s[c].id&&s[c].id.id&&s[c].id.id.buffer||"").toString("hex")+'")');else if(Array.isArray(s[c]))s[c]=s[c].map(zGe);else if(d!=null)throw d}}return e?s:zx.inspect(s,!1,10,r).replace(/\n/g,"").replace(/\s{2,}/g," ")}so.prototype.getIndexes=so.prototype.indexInformation;Xoe.exports=so});var tue=h((Pft,eue)=>{"use strict";eue.exports=ku().Decimal128});var iue=h((Tft,nue)=>{"use strict";var HGe=ku(),rue=HGe.ReadPreference;nue.exports=function(e,r){if(Array.isArray(e)&&(r=e[1],e=e[0]),e instanceof rue)return e;switch(e){case"p":e="primary";break;case"pp":e="primaryPreferred";break;case"s":e="secondary";break;case"sp":e="secondaryPreferred";break;case"n":e="nearest";break}return new rue(e,r)}});var Hx=h((Dft,sue)=>{"use strict";var GGe=require("events").EventEmitter;var Wx=class extends GGe{constructor(e,r,n){if(super(),this.driverChangeStream=null,this.closed=!1,this.bindedEvents=!1,this.pipeline=r,this.options=n,n&&n.hydrate&&!n.model)throw new Error("Cannot create change stream with `hydrate: true` unless calling `Model.watch()`");e((i,s)=>{if(i!=null){this.emit("error",i);return}this.driverChangeStream=s,this.emit("ready")})}_bindEvents(){if(!this.bindedEvents){if(this.bindedEvents=!0,this.driverChangeStream==null){this.once("ready",()=>{this.driverChangeStream.on("close",()=>{this.closed=!0}),["close","change","end","error"].forEach(e=>{this.driverChangeStream.on(e,r=>{e==="error"&&this.closed||(r!=null&&r.fullDocument!=null&&this.options&&this.options.hydrate&&(r.fullDocument=this.options.model.hydrate(r.fullDocument)),this.emit(e,r))})})});return}this.driverChangeStream.on("close",()=>{this.closed=!0}),["close","change","end","error"].forEach(e=>{this.driverChangeStream.on(e,r=>{e==="error"&&this.closed||this.emit(e,r)})})}}hasNext(e){return this.driverChangeStream.hasNext(e)}next(e){if(this.options&&this.options.hydrate){if(e!=null){let n=e;e=(i,s)=>i!=null?n(i):(s.fullDocument!=null&&(s.fullDocument=this.options.model.hydrate(s.fullDocument)),n(null,s))}let r=this.driverChangeStream.next(e);return r&&typeof r.then=="function"&&(r=r.then(n=>(n.fullDocument!=null&&(n.fullDocument=this.options.model.hydrate(n.fullDocument)),n))),r}return this.driverChangeStream.next(e)}on(e,r){return this._bindEvents(),super.on(e,r)}once(e,r){return this._bindEvents(),super.once(e,r)}_queue(e){this.once("ready",()=>e())}close(){this.closed=!0,this.driverChangeStream&&this.driverChangeStream.close()}};sue.exports=Wx});var uue=h((Rft,oue)=>{"use strict";var KGe=kt(),dv=class extends KGe{constructor(e,r){super("Connection "+e+" was disconnected when calling `"+r+"()`")}};Object.defineProperty(dv.prototype,"name",{value:"DisconnectedError"});oue.exports=dv});var cue=h((Nft,aue)=>{"use strict";var YGe=Sr(),fv=class extends YGe{constructor(e,r){super(e),this.errors=r}};Object.defineProperty(fv.prototype,"name",{value:"SyncIndexesError"});aue.exports=fv});var Gx=h((xft,lue)=>{"use strict";lue.exports=function t(e,r,n,i){if(e[i])return;if(e[i]=!0,!n||!n.skipTopLevel){let a=null;for(let c of r){let l=c[1]==null?null:c[1].tags;if(!Array.isArray(l)){e.plugin(c[0],c[1]);continue}a=a||new Set(e.options.pluginTags||[]),l.find(d=>a.has(d))&&e.plugin(c[0],c[1])}}if(n=Object.assign({},n),delete n.skipTopLevel,n.applyPluginsToChildSchemas!==!1)for(let a of Object.keys(e.paths)){let c=e.paths[a];c.schema!=null&&(t(c.schema,r,n,i),c.caster.prototype.$__setSchema(c.schema))}let s=e.discriminators;if(s==null)return;let o=n.applyPluginsToDiscriminators,u=Object.keys(s);for(let a of u){let c=s[a];t(c,r,{skipTopLevel:!o},i)}}});var Kx=h((Mft,JGe)=>{JGe.exports={name:"mongoose",description:"Mongoose MongoDB ODM",version:"6.9.2",author:"Guillermo Rauch <guillermo@learnboost.com>",keywords:["mongodb","document","model","schema","database","odm","data","datastore","query","nosql","orm","db"],license:"MIT",dependencies:{bson:"^4.7.0",kareem:"2.5.1",mongodb:"4.13.0",mpath:"0.9.0",mquery:"4.0.3",ms:"2.1.3",sift:"16.0.1"},devDependencies:{"@babel/core":"7.20.12","@babel/preset-env":"7.20.2","@typescript-eslint/eslint-plugin":"5.50.0","@typescript-eslint/parser":"5.50.0",acquit:"1.2.1","acquit-ignore":"0.2.0","acquit-require":"0.1.1","assert-browserify":"2.0.0",axios:"1.1.3","babel-loader":"8.2.5",benchmark:"2.1.4",bluebird:"3.7.2","broken-link-checker":"^0.7.8",buffer:"^5.6.0",cheerio:"1.0.0-rc.12","crypto-browserify":"3.12.0",dox:"1.0.0",eslint:"8.33.0","eslint-plugin-mocha-no-only":"1.1.1",express:"^4.18.1","highlight.js":"11.7.0","lodash.isequal":"4.5.0","lodash.isequalwith":"4.4.0",marked:"4.2.12",mkdirp:"^2.1.3",mocha:"10.2.0",moment:"2.x","mongodb-memory-server":"8.11.4",ncp:"^2.0.0",nyc:"15.1.0",pug:"3.0.2",q:"1.5.1",sinon:"15.0.1","stream-browserify":"3.0.0",tsd:"0.25.0",typescript:"4.9.5",uuid:"9.0.0",webpack:"5.75.0"},directories:{lib:"./lib/mongoose"},scripts:{"docs:clean":"npm run docs:clean:stable","docs:clean:stable":"rimraf index.html && rimraf -rf ./docs/*.html  && rimraf -rf ./docs/api && rimraf -rf ./docs/tutorials/*.html && rimraf -rf ./docs/typescript/*.html && rimraf -rf ./docs/*.html && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:clean:legacy":"rimraf index.html && rimraf -rf ./docs/5.x && rimraf -rf ./docs/source/_docs && rimraf -rf ./tmp","docs:copy:tmp":"mkdirp ./tmp/docs/css && mkdirp ./tmp/docs/js && mkdirp ./tmp/docs/images && mkdirp ./tmp/docs/tutorials && mkdirp ./tmp/docs/typescript && ncp ./docs/css ./tmp/docs/css --filter=.css$ && ncp ./docs/js ./tmp/docs/js --filter=.js$ && ncp ./docs/images ./tmp/docs/images && ncp ./docs/tutorials ./tmp/docs/tutorials && ncp ./docs/typescript ./tmp/docs/typescript && cp index.html ./tmp","docs:copy:tmp:legacy":"rimraf ./docs/5.x && ncp ./tmp ./docs/5.x","docs:checkout:gh-pages":"git checkout gh-pages","docs:checkout:legacy":"git checkout 5.x","docs:generate":"node ./scripts/website.js","docs:generate:search":"node docs/search.js","docs:merge:stable":"git merge master","docs:merge:legacy":"git merge 5.x","docs:test":"npm run docs:generate && npm run docs:generate:search","docs:view":"node ./scripts/static.js","docs:prepare:publish:stable":"npm run docs:checkout:gh-pages && npm run docs:merge:stable && npm run docs:clean:stable && npm run docs:generate && npm run docs:generate:search","docs:prepare:publish:legacy":"npm run docs:checkout:legacy && npm run docs:merge:legacy && npm run docs:clean:stable && npm run docs:generate && npm run docs:copy:tmp && docs:checkout:gh-pages && docs:copy:tmp:legacy","docs:check-links":"blc http://127.0.0.1:8089 -ro",lint:"eslint .","lint-js":"eslint . --ext .js","lint-ts":"eslint . --ext .ts","build-browser":"(rm ./dist/* || true) && node ./scripts/build-browser.js",prepublishOnly:"npm run build-browser",release:"git pull && git push origin master --tags && npm publish","release-legacy":"git pull origin 5.x && git push origin 5.x --tags && npm publish --tag legacy",mongo:"node ./tools/repl.js",test:"mocha --exit ./test/*.test.js","test-deno":"deno run --allow-env --allow-read --allow-net --allow-run --allow-sys --allow-write ./test/deno.js","test-rs":"START_REPLICA_SET=1 mocha --timeout 30000 --exit ./test/*.test.js","test-tsd":"node ./test/types/check-types-filename && tsd",tdd:"mocha ./test/*.test.js --inspect --watch --recursive --watch-files ./**/*.{js,ts}","test-coverage":"nyc --reporter=html --reporter=text npm test","ts-benchmark":"cd ./benchmarks/typescript/simple && npm install && npm run benchmark | node ../../../scripts/tsc-diagnostics-check"},main:"./index.js",types:"./types/index.d.ts",engines:{node:">=12.0.0"},bugs:{url:"https://github.com/Automattic/mongoose/issues/new"},repository:{type:"git",url:"git://github.com/Automattic/mongoose.git"},homepage:"https://mongoosejs.com",browser:"./dist/browser.umd.js",mocha:{extension:["test.js"],"watch-files":["test/**/*.js"]},config:{mongodbMemoryServer:{disablePostinstall:!0}},funding:{type:"opencollective",url:"https://opencollective.com/mongoose"},tsd:{directory:"test/types",compilerOptions:{esModuleInterop:!1,strict:!0,allowSyntheticDefaultImports:!0,strictPropertyInitialization:!1,noImplicitAny:!1,strictNullChecks:!0,module:"commonjs",target:"ES2017"}}}});var fue=h((Fft,due)=>{"use strict";var QGe=Qo(),XGe=kt();function ZGe(t,e){let r=e||{},n=r.readPreference?r.readPreference:nKe(t),i=n&&n!=="primary"&&n!=="primaryPreferred"?eKe(n,r):r;return QGe(i)}function eKe(t,e){if(tKe(e)&&rKe(t))sKe();else return iKe(e)}function tKe(t){let e=t.config&&t.config.autoIndex,{autoCreate:r,autoIndex:n}=t;return!!(e||r||n)}function rKe(t){return t==="secondary"||t==="secondaryPreferred"}function nKe(t){let r=/(?:&|\?)readPreference=(\w+)(?:&|$)/.exec(t);return r?r[1]:null}function iKe(t){return t.config={autoIndex:!1},t.autoCreate=!1,t.autoIndex=!1,t}function sKe(){throw new XGe('MongoDB prohibits index creation on connections that read from non-primary replicas.  Connections that set "readPreference" to "secondary" or "secondaryPreferred" may not opt-in to the following connection options: autoCreate, autoIndex')}due.exports=ZGe});var yue=h((Bft,mue)=>{"use strict";var oKe=Hx(),uKe=require("events").EventEmitter,aKe=Lf(),yt=xy(),Is=kt(),hue=uue(),cKe=cue(),lKe=qy(),dKe=XC(),fKe=Gx(),hKe=xs(),Jx=Bi(),pKe=Xt(),Qx=zn(),pue=ku(),mKe=Kx(),nd=we(),yKe=fue(),gKe=pe().arrayAtomicsSymbol,fg=pe().sessionNewDocuments,_Ke=["MONGODB-X509"];function Ce(t){this.base=t,this.collections={},this.models={},this.config={},this.replica=!1,this.options=null,this.otherDbs=[],this.relatedDbs={},this.states=yt,this._readyState=yt.disconnected,this._closeCalled=!1,this._hasOpened=!1,this.plugins=[],typeof t>"u"||!t.connections.length?this.id=0:this.id=t.nextConnectionId,this._queue=[]}Object.setPrototypeOf(Ce.prototype,uKe.prototype);Object.defineProperty(Ce.prototype,"readyState",{get:function(){return this._readyState},set:function(t){if(!(t in yt))throw new Error("Invalid connection state: "+t);if(this._readyState!==t){this._readyState=t;for(let e of this.otherDbs)e.readyState=t;yt.connected===t&&(this._hasOpened=!0),this.emit(yt[t])}}});Ce.prototype.get=function(t){return this.config.hasOwnProperty(t)?this.config[t]:pKe(this.options,t)};Ce.prototype.set=function(t,e){return this.config.hasOwnProperty(t)?(this.config[t]=e,e):(this.options=this.options||{},this.options[t]=e,e)};Ce.prototype.collections;Ce.prototype.name;Ce.prototype.models;Ce.prototype.id;Object.defineProperty(Ce.prototype,"plugins",{configurable:!1,enumerable:!0,writable:!0});Object.defineProperty(Ce.prototype,"host",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Ce.prototype,"port",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Ce.prototype,"user",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Ce.prototype,"pass",{configurable:!0,enumerable:!0,writable:!0});Ce.prototype.db;Ce.prototype.client;Ce.prototype.config;Ce.prototype.createCollection=hv(function(e,r,n){typeof r=="function"&&(n=r,r={}),this.db.createCollection(e,r,n)});Ce.prototype.startSession=hv(function(e,r){typeof e=="function"&&(r=e,e=null);let n=this.client.startSession(e);r(null,n)});Ce.prototype.transaction=function(e,r){return this.startSession().then(n=>(n[fg]=new Map,n.withTransaction(()=>e(n),r).then(i=>(delete n[fg],i)).catch(i=>{for(let s of n[fg].keys()){let o=n[fg].get(s);o.hasOwnProperty("isNew")&&(s.$isNew=o.$isNew),o.hasOwnProperty("versionKey")&&s.set(s.schema.options.versionKey,o.versionKey),o.modifiedPaths.length>0&&s.$__.activePaths.states.modify==null&&(s.$__.activePaths.states.modify={});for(let u of o.modifiedPaths)s.$__.activePaths.paths[u]="modify",s.$__.activePaths.states.modify[u]=!0;for(let u of o.atomics.keys()){let a=s.$__getValue(u);a!=null&&(a[gKe]=o.atomics.get(u))}}throw delete n[fg],i}).finally(()=>{n.endSession().catch(()=>{})})))};Ce.prototype.dropCollection=hv(function(e,r){this.db.dropCollection(e,r)});Ce.prototype.dropDatabase=hv(function(e){for(let r of Object.values(this.models))delete r.$init;this.db.dropDatabase(e)});function hv(t){return function(){let e=arguments.length>0?arguments[arguments.length-1]:null,r=typeof e=="function"?Array.prototype.slice.call(arguments,0,arguments.length-1):Array.prototype.slice.call(arguments),n=new hue(this.id,t.name);return Jx(e,i=>{Qx(()=>{if((this.readyState===yt.connecting||this.readyState===yt.disconnected)&&this._shouldBufferCommands())this._queue.push({fn:t,ctx:this,args:r.concat([i])});else if(this.readyState===yt.disconnected&&this.db==null)i(n);else try{t.apply(this,r.concat([i]))}catch(s){return i(s)}})})}}Ce.prototype._shouldBufferCommands=function(){return this.config.bufferCommands!=null?this.config.bufferCommands:this.base.get("bufferCommands")!=null?this.base.get("bufferCommands"):!0};Ce.prototype.error=function(t,e){return e?(e(t),null):(this.listeners("error").length>0&&this.emit("error",t),Promise.reject(t))};Ce.prototype.onOpen=function(){this.readyState=yt.connected;for(let t of this._queue)t.fn.apply(t.ctx,t.args);this._queue=[];for(let t in this.collections)nd.object.hasOwnProperty(this.collections,t)&&this.collections[t].onOpen();this.emit("open")};Ce.prototype.openUri=function(t,e,r){if(typeof e=="function"&&(r=e,e=null),["string","number"].indexOf(typeof e)!==-1)throw new Is("Mongoose 5.x no longer supports `mongoose.connect(host, dbname, port)` or `mongoose.createConnection(host, dbname, port)`. See https://mongoosejs.com/docs/connections.html for supported connection syntax");if(typeof t!="string")throw new Is(`The \`uri\` parameter to \`openUri()\` must be a string, got "${typeof t}". Make sure the first parameter to \`mongoose.connect()\` or \`mongoose.createConnection()\` is a string.`);if(r!=null&&typeof r!="function")throw new Is('3rd parameter to `mongoose.connect()` or `mongoose.createConnection()` must be a function, got "'+typeof r+'"');if(this._destroyCalled){let a="Connection has been closed and destroyed, and cannot be used for re-opening the connection. Please create a new connection with `mongoose.createConnection()` or `mongoose.connect()`.";if(typeof r=="function"){r(a);return}else throw new Is(a)}if(this.readyState===yt.connecting||this.readyState===yt.connected){if(this._connectionString!==t)throw new Is("Can't call `openUri()` on an active connection with different connection strings. Make sure you aren't calling `mongoose.connect()` multiple times. See: https://mongoosejs.com/docs/connections.html#multiple_connections");return typeof r=="function"&&(this.$initialConnection=this.$initialConnection.then(()=>r(null,this),a=>r(a))),this}this._connectionString=t,this.readyState=yt.connecting,this._closeCalled=!1;let n=lKe.get(),i=this;if(e=yKe(t,e),e){e=nd.clone(e);let a=e.config&&e.config.autoIndex!=null?e.config.autoIndex:e.autoIndex;a!=null&&(this.config.autoIndex=a!==!1,delete e.config,delete e.autoIndex),"autoCreate"in e&&(this.config.autoCreate=!!e.autoCreate,delete e.autoCreate),"sanitizeFilter"in e&&(this.config.sanitizeFilter=e.sanitizeFilter,delete e.sanitizeFilter),(e.user||e.pass)&&(e.auth=e.auth||{},e.auth.username=e.user,e.auth.password=e.pass,this.user=e.user,this.pass=e.pass),delete e.user,delete e.pass,e.bufferCommands!=null&&(this.config.bufferCommands=e.bufferCommands,delete e.bufferCommands)}else e={};this._connectionOptions=e;let s=e.dbName;s!=null&&(this.$dbName=s),delete e.dbName,nd.hasUserDefinedProperty(e,"driverInfo")||(e.driverInfo={name:"Mongoose",version:mKe.version});let o=new n((a,c)=>{let l;try{l=new pue.MongoClient(t,e)}catch(d){return i.readyState=yt.disconnected,c(d)}i.client=l,l.setMaxListeners(0),l.connect(d=>{if(d)return c(d);Yx(i,l,e,s);for(let f of this.otherDbs)Yx(f,l,{},f.name);a(i)})}),u=new dKe;this.$initialConnection=o.then(()=>this).catch(a=>{throw this.readyState=yt.disconnected,a!=null&&a.name==="MongoServerSelectionError"&&(a=u.assimilateError(a)),this.listeners("error").length>0&&Qx(()=>this.emit("error",a)),a}),r!=null&&(this.$initialConnection=this.$initialConnection.then(()=>(r(null,this),this),a=>r(a)));for(let a of Object.values(this.models))a.init(function(){});return this.$initialConnection};function Yx(t,e,r,n){let i=n!=null?e.db(n):e.db();t.db=i,t.client=e,t.host=e&&e.s&&e.s.options&&e.s.options.hosts&&e.s.options.hosts[0]&&e.s.options.hosts[0].host||void 0,t.port=e&&e.s&&e.s.options&&e.s.options.hosts&&e.s.options.hosts[0]&&e.s.options.hosts[0].port||void 0,t.name=n??(e&&e.s&&e.s.options&&e.s.options.dbName||void 0),t._closeCalled=e._closeCalled;let s=()=>{t.readyState!==yt.connected&&(t.readyState=yt.connected,t.emit("reconnect"),t.emit("reconnected"),t.onOpen())},o=e&&e.topology&&e.topology.description&&e.topology.description.type||"";o==="Single"?e.on("serverDescriptionChanged",u=>{u.newDescription.type==="Unknown"?t.readyState=yt.disconnected:s()}):o.startsWith("ReplicaSet")&&e.on("topologyDescriptionChanged",u=>{let a=u.newDescription;t.readyState===yt.connected&&a.type!=="ReplicaSetWithPrimary"?t.readyState=yt.disconnected:t.readyState===yt.disconnected&&a.type==="ReplicaSetWithPrimary"&&s()}),t.onOpen();for(let u in t.collections)nd.object.hasOwnProperty(t.collections,u)&&t.collections[u].onOpen()}Ce.prototype.destroy=function(t,e){return typeof t=="function"&&(e=t,t=!1),t!=null&&typeof t=="object"?this.$wasForceClosed=!!t.force:this.$wasForceClosed=!!t,Jx(e,r=>{this._close(t,!0,r)})};Ce.prototype.close=function(t,e){typeof t=="function"&&(e=t,t=!1),t!=null&&typeof t=="object"?this.$wasForceClosed=!!t.force:this.$wasForceClosed=!!t;for(let r of Object.values(this.models))delete r.$init;return Jx(e,r=>{this._close(t,!1,r)})};Ce.prototype._close=function(t,e,r){let n=this,i=this._closeCalled;this._closeCalled=!0,this._destroyCalled=e,this.client!=null&&(this.client._closeCalled=!0,this.client._destroyCalled=e);let s=this;switch(this.readyState){case yt.disconnected:e&&this.base.connections.indexOf(s)!==-1&&this.base.connections.splice(this.base.connections.indexOf(s),1),i?r():this.doClose(t,function(o){if(o)return r(o);n.onClose(t),r(null)});break;case yt.connected:this.readyState=yt.disconnecting,this.doClose(t,function(o){if(o)return r(o);e&&n.base.connections.indexOf(s)!==-1&&n.base.connections.splice(n.base.connections.indexOf(s),1),n.onClose(t),r(null)});break;case yt.connecting:this.once("open",function(){e?n.destroy(t,r):n.close(t,r)});break;case yt.disconnecting:this.once("close",function(){e&&n.base.connections.indexOf(s)!==-1&&n.base.connections.splice(n.base.connections.indexOf(s),1),r()});break}return this};Ce.prototype.onClose=function(t){this.readyState=yt.disconnected;for(let e in this.collections)nd.object.hasOwnProperty(this.collections,e)&&this.collections[e].onClose(t);this.emit("close",t);for(let e of this.otherDbs)this._destroyCalled?e.destroy({force:t,skipCloseClient:!0}):e.close({force:t,skipCloseClient:!0})};Ce.prototype.collection=function(t,e){let r={autoIndex:this.config.autoIndex!=null?this.config.autoIndex:this.base.options.autoIndex,autoCreate:this.config.autoCreate!=null?this.config.autoCreate:this.base.options.autoCreate};e=Object.assign({},r,e?nd.clone(e):{}),e.$wasForceClosed=this.$wasForceClosed;let n=this.base&&this.base.__driver&&this.base.__driver.Collection||hKe.get().Collection;return t in this.collections||(this.collections[t]=new n(t,this,e)),this.collections[t]};Ce.prototype.plugin=function(t,e){return this.plugins.push([t,e]),this};Ce.prototype.model=function(t,e,r,n){if(!(this instanceof Ce))throw new Is("`connection.model()` should not be run with `new`. If you are doing `new db.model(foo)(bar)`, use `db.model(foo)(bar)` instead");let i;if(typeof t=="function"&&(i=t,t=i.name),typeof e=="string"&&(r=e,e=!1),nd.isObject(e)&&(e.instanceOfSchema?e instanceof this.base.Schema||(e=e._clone(this.base.Schema)):e=new aKe(e)),e&&!e.instanceOfSchema)throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");let s={cache:!1,overwriteModels:this.base.options.overwriteModels},o=Object.assign(s,n,{connection:this});if(this.models[t]&&!r&&o.overwriteModels!==!0){if(e&&e.instanceOfSchema&&e!==this.models[t].schema)throw new Is.OverwriteModelError(t);return this.models[t]}let u;if(e&&e.instanceOfSchema)return fKe(e,this.plugins,null,"$connectionPluginsApplied"),u=this.base._model(i||t,e,r,o),this.models[t]||(this.models[t]=u),u.init(function(){}),u;if(this.models[t]&&r)return u=this.models[t],e=u.prototype.schema,u.__subclass(this,e,r);if(arguments.length===1){if(u=this.models[t],!u)throw new Is.MissingSchemaError(t);return u}if(!u)throw new Is.MissingSchemaError(t);return this===u.prototype.db&&(!r||r===u.collection.name)?(this.models[t]||(this.models[t]=u),u):(this.models[t]=u.__subclass(this,e,r),this.models[t])};Ce.prototype.deleteModel=function(t){if(typeof t=="string"){let e=this.model(t);if(e==null)return this;let r=e.collection.name;delete this.models[t],delete this.collections[r],this.emit("deleteModel",e)}else if(t instanceof RegExp){let e=t,r=this.modelNames();for(let n of r)e.test(n)&&this.deleteModel(n)}else throw new Error('First parameter to `deleteModel()` must be a string or regexp, got "'+t+'"');return this};Ce.prototype.watch=function(t,e){let r=new hue(this.id,"watch"),n=s=>{Qx(()=>{if(this.readyState===yt.connecting)this.once("open",function(){let o=this.db.watch(t,e);s(null,o)});else if(this.readyState===yt.disconnected&&this.db==null)s(r);else{let o=this.db.watch(t,e);s(null,o)}})};return new oKe(n,t,e)};Ce.prototype.asPromise=function(){return this.$initialConnection};Ce.prototype.modelNames=function(){return Object.keys(this.models)};Ce.prototype.shouldAuthenticate=function(){return this.user!=null&&(this.pass!=null||this.authMechanismDoesNotRequirePassword())};Ce.prototype.authMechanismDoesNotRequirePassword=function(){return this.options&&this.options.auth?_Ke.indexOf(this.options.auth.authMechanism)>=0:!0};Ce.prototype.optionsProvideAuthenticationData=function(t){return t&&t.user&&(t.pass||this.authMechanismDoesNotRequirePassword())};Ce.prototype.getClient=function(){return this.client};Ce.prototype.setClient=function(e){if(!(e instanceof pue.MongoClient))throw new Is("Must call `setClient()` with an instance of MongoClient");if(this.readyState!==yt.disconnected)throw new Is("Cannot call `setClient()` on a connection that is already connected.");if(e.topology==null)throw new Is("Cannot call `setClient()` with a MongoClient that you have not called `connect()` on yet.");this._connectionString=e.s.url,Yx(this,e,{},e.s.options.dbName);for(let r of Object.values(this.models))r.init(function(){});return this};Ce.prototype.syncIndexes=async function(e={}){let r={},n={},{continueOnError:i}=e;delete e.continueOnError;for(let s of Object.values(this.models))try{r[s.modelName]=await s.syncIndexes(e)}catch(o){if(i)r[s.modelName]=o;else{n[s.modelName]=o;break}}if(!i&&Object.keys(n).length){let s=Object.entries(n).map(([u,a])=>`${u}: ${a.message}`).join(", ");throw new cKe(s,n)}return r};Ce.STATES=yt;mue.exports=Ce});var _ue=h(gue=>{"use strict";gue.setTimeout=setTimeout});var Oue=h(($ft,wue)=>{"use strict";var Aue=yue(),Sue=xy(),Eue=zn(),EKe=_ue().setTimeout;function hg(){Aue.apply(this,arguments),this._listening=!1}hg.STATES=Sue;Object.setPrototypeOf(hg.prototype,Aue.prototype);hg.prototype.useDb=function(t,e){if(e=e||{},e.useCache&&this.relatedDbs[t])return this.relatedDbs[t];let r=new this.constructor;r.name=t,r.base=this.base,r.collections={},r.models={},r.replica=this.replica,r.config=Object.assign({},this.config,r.config),r.name=this.name,r.options=this.options,r._readyState=this._readyState,r._closeCalled=this._closeCalled,r._hasOpened=this._hasOpened,r._listening=!1,r._parent=this,r.host=this.host,r.port=this.port,r.user=this.user,r.pass=this.pass;let n=this;r.client=n.client,this.db&&this._readyState===Sue.connected?i():this.once("connected",i);function i(){r.client=n.client;let s={};e.hasOwnProperty("noListener")&&(s.noListener=e.noListener),r.db=n.client.db(t,s),r.onOpen()}return r.name=t,e.noListener!==!0&&this.otherDbs.push(r),r.otherDbs.push(this),e&&e.useCache&&(this.relatedDbs[r.name]=r,r.relatedDbs=this.relatedDbs),r};hg.prototype.doClose=function(t,e){if(this.client==null)return Eue(()=>e()),this;let r=!1;return t!=null&&typeof t=="object"&&(r=t.skipCloseClient,t=t.force),r?(Eue(()=>e()),this):(this.client.close(t,(n,i)=>{EKe(()=>e(n,i),1)}),this)};wue.exports=hg});var Cue=h(id=>{"use strict";id.Binary=KZ();id.Collection=Zoe();id.Decimal128=tue();id.ObjectId=PR();id.ReadPreference=iue();id.getConnection=()=>Oue()});var bue=h((jft,vue)=>{"use strict";var AKe=Object.freeze(["allowDiskUse","applyPluginsToChildSchemas","applyPluginsToDiscriminators","autoCreate","autoIndex","bufferCommands","bufferTimeoutMS","cloneSchemas","debug","id","timestamps.createdAt.immutable","maxTimeMS","objectIdGetter","overwriteModels","returnOriginal","runValidators","sanitizeFilter","sanitizeProjection","selectPopulatedPaths","setDefaultsOnInsert","strict","strictPopulate","strictQuery","toJSON","toObject"]);vue.exports=AKe});var Pue=h((Lft,Iue)=>{"use strict";var SKe=kt(),pv=class extends SKe{constructor(e){let r=e.map(n=>n.message).join(", ");r.length>50&&(r=r.slice(0,50)+"..."),super(`eachAsync() finished with ${e.length} errors: ${r}`),this.errors=e}};Object.defineProperty(pv.prototype,"name",{value:"EachAsyncMultiError"});Iue.exports=pv});var Zx=h((Uft,Due)=>{"use strict";var wKe=Pue(),Xx=zn(),OKe=Bi();Due.exports=function(e,r,n,i){let s=n.parallel||1,o=n.batchSize,u=n.signal,a=n.continueOnError,c=[],l=CKe(),d=!1;return OKe(i,m=>{if(u!=null){if(u.aborted)return m(null);u.addEventListener("abort",()=>(d=!0,m(null)),{once:!0})}if(o!=null){if(typeof o!="number")throw new TypeError("batchSize must be a number");if(Number.isInteger(o)){if(o<1)throw new TypeError("batchSize must be at least 1")}else throw new TypeError("batchSize must be an integer")}f(m)});function f(m){let y=0,_=0,g=null;for(let O=0;O<s;++O)l(E());function E(){let O=[],w=!1;return b;function b(M){if(w||d)return M();if(g)return M();e(function(T,G){if(g!=null)return M();if(T!=null)if(T.name==="MongoCursorExhaustedError")G=null;else if(a)c.push(T);else return g=T,m(T),M();if(G==null){if(w=!0,y<=0){let k=a?Tue(c):g;m(k)}else o&&O.length&&p(O,_++,J);return M()}if(++y,Xx(()=>M()),o&&O.push(G),o&&O.length!==o){Xx(()=>l(b));return}let ee=o?O:G;function J(k){if(o?(y-=O.length,O=[]):--y,k!=null)if(a)c.push(k);else return g=k,m(k);if((w||d)&&y<=0){let q=a?Tue(c):g;return m(q)}Xx(()=>l(b))}p(ee,_++,J)})}}}function p(m,y,_){let g;try{g=r(m,y)}catch(E){return _(E)}g&&typeof g.then=="function"?g.then(function(){_(null)},function(E){_(E||new Error("`eachAsync()` promise rejected without error"))}):_(null)}};function CKe(){let t=[],e=null,r=0;return function(s){if(e===null&&t.length===0)return e=r++,s(n);t.push(s)};function n(){t.length!==0?(e=r++,t.shift()(n)):e=null}}function Tue(t){return t.length===0?null:new wKe(t)}});var kue=h((zft,$ue)=>{"use strict";var xue=require("stream").Readable,Mue=Bi(),vKe=Zx(),Fue=Vf(),Bue=zn(),bKe=require("util");function _i(t,e){xue.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.query=t;let r=this,n=t.model;this._mongooseOptions={},this._transforms=[],this.model=n,this.options=e||{},n.hooks.execPre("find",t,i=>{if(i!=null){r._markError(i),r.listeners("error").length>0&&r.emit("error",i);return}this._transforms=this._transforms.concat(t._transforms.slice()),this.options.transform&&this._transforms.push(e.transform),this.options.batchSize&&(this.options.cursor=e.cursor||{},this.options.cursor.batchSize=e.batchSize,this.options._populateBatchSize=Math.min(this.options.batchSize,5e3)),n.collection.find(t._conditions,this.options,(s,o)=>{if(s!=null){r._markError(s),r.listeners("error").length>0&&r.emit("error",r._error);return}r._error&&(o.close(function(){}),r.listeners("error").length>0&&r.emit("error",r._error)),r.cursor=o,r.emit("cursor",o)})})}bKe.inherits(_i,xue);_i.prototype._read=function(){let t=this;yv(this,function(e,r){if(e)return t.emit("error",e);if(!r){t.push(null),t.cursor.close(function(n){if(n)return t.emit("error",n)});return}t.push(r)})};Object.defineProperty(_i.prototype,"map",{value:function(t){return this._transforms.push(t),this},enumerable:!0,configurable:!0,writable:!0});_i.prototype._markError=function(t){return this._error=t,this};_i.prototype.close=function(t){return Mue(t,e=>{this.cursor.close(r=>{if(r)return e(r),this.listeners("error").length>0&&this.emit("error",r);this.emit("close"),e(null)})},this.model.events)};_i.prototype.rewind=function(){let t=this;return que(this,function(){t.cursor.rewind()}),this};_i.prototype.next=function(t){return Mue(t,e=>{yv(this,function(r,n){if(r)return e(r);e(null,n)})},this.model.events)};_i.prototype.eachAsync=function(t,e,r){let n=this;return typeof e=="function"&&(r=e,e={}),e=e||{},vKe(function(i){return yv(n,i)},t,e,r)};_i.prototype.options;_i.prototype.addCursorFlag=function(t,e){let r=this;return que(this,function(){r.cursor.addCursorFlag(t,e)}),this};_i.prototype.transformNull=function(t){return arguments.length===0&&(t=!0),this._mongooseOptions.transformNull=t,this};_i.prototype._transformForAsyncIterator=function(){return this._transforms.indexOf(Rue)===-1&&this.map(Rue),this};Symbol.asyncIterator!=null&&(_i.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()});function Rue(t){return t==null?{done:!0}:{value:t,done:!1}}function yv(t,e){let r=e;if(t._transforms.length&&(r=function(n,i){if(n||i===null&&!t._mongooseOptions.transformNull)return e(n,i);e(n,t._transforms.reduce(function(s,o){return o.call(t,s)},i))}),t._error)return Bue(function(){r(t._error)});if(t.cursor)return t.query._mongooseOptions.populate&&!t._pop&&(t._pop=Fue.preparePopulationOptionsMQ(t.query,t.query._mongooseOptions),t._pop.__noPromise=!0),t.query._mongooseOptions.populate&&t.options._populateBatchSize>1?t._batchDocs&&t._batchDocs.length?mv(t,t._batchDocs.shift(),t._pop,r):t._batchExhausted?r(null,null):(t._batchDocs=[],t.cursor.next(eM.bind({ctx:t,callback:r}))):t.cursor.next(function(n,i){if(n)return r(n);if(!i)return r(null,null);if(!t.query._mongooseOptions.populate)return mv(t,i,null,r);t.query.model.populate(i,t._pop,function(s,o){return s?r(s):mv(t,o,t._pop,r)})});t.once("error",e),t.once("cursor",function(n){t.removeListener("error",e),n!=null&&yv(t,e)})}function eM(t,e){if(t)return this.callback(t);if(!e)return this.ctx._batchExhausted=!0,Nue.call(this);if(this.ctx._batchDocs.push(e),this.ctx._batchDocs.length<this.ctx.options._populateBatchSize){if(this.ctx._batchDocs.length>0&&this.ctx._batchDocs.length%1e3===0)return Bue(()=>this.ctx.cursor.next(eM.bind(this)));this.ctx.cursor.next(eM.bind(this))}else Nue.call(this)}function Nue(){if(!this.ctx._batchDocs.length)return this.callback(null,null);let t=this;this.ctx.query.model.populate(this.ctx._batchDocs,this.ctx._pop,function(e){if(e)return t.callback(e);mv(t.ctx,t.ctx._batchDocs.shift(),t.ctx._pop,t.callback)})}function mv(t,e,r,n){if(t.query._mongooseOptions.lean)return t.model.hooks.execPost("find",t.query,[[e]],a=>{if(a!=null)return n(a);n(null,e)});let{model:i,_fields:s,_userProvidedFields:o,options:u}=t.query;Fue.createModelAndInit(i,e,s,o,u,r,(a,c)=>{if(a!=null)return n(a);t.model.hooks.execPost("find",t.query,[[c]],l=>{if(l!=null)return n(l);n(null,c)})})}function que(t,e){if(t.cursor)return e();t.once("cursor",function(r){r!=null&&e()})}$ue.exports=_i});var rM=h((Vft,Lue)=>{"use strict";var tM=we();function IKe(t,e){jue(t,e,"maxTimeMS")}function PKe(t,e){jue(t,e,"allowDiskUse")}Lue.exports={applyGlobalMaxTimeMS:IKe,applyGlobalDiskUse:PKe};function jue(t,e,r){tM.hasUserDefinedProperty(t,r)||(tM.hasUserDefinedProperty(e.db.options,r)?t[r]=e.db.options[r]:tM.hasUserDefinedProperty(e.base.options,r)&&(t[r]=e.base.options[r]))}});var nM=h((Wft,Uue)=>{"use strict";var TKe=Xt();Uue.exports=function(e,r){let n=TKe(e,"options.writeConcern",{});Object.keys(n).length!=0?(r.writeConcern={},!("w"in r)&&n.w!=null&&(r.writeConcern.w=n.w),!("j"in r)&&n.j!=null&&(r.writeConcern.j=n.j),!("wtimeout"in r)&&n.wtimeout!=null&&(r.writeConcern.wtimeout=n.wtimeout)):(!("w"in r)&&n.w!=null&&(r.w=n.w),!("j"in r)&&n.j!=null&&(r.j=n.j),!("wtimeout"in r)&&n.wtimeout!=null&&(r.wtimeout=n.wtimeout))}});var Wue=h((Hft,Vue)=>{"use strict";var zue=F4();Vue.exports=function(e,r,n){let i=e;if(!Object.keys(n).some(zue))return r.castForQueryWrapper({val:n,context:i});let o=Object.keys(n),u=o.length;for(;u--;){let a=o[u],c=n[a];if(a==="$not"){if(c&&r&&!r.caster){let l=Object.keys(c);if(l.length&&zue(l[0]))for(let d of Object.keys(c))c[d]=r.castForQueryWrapper({$conditional:d,val:c[d],context:i});else n[a]=r.castForQueryWrapper({$conditional:a,val:c,context:i});continue}}else n[a]=r.castForQueryWrapper({$conditional:a,val:c,context:i})}return n}});var Gue=h((Gft,Hue)=>{"use strict";var DKe=/^\d+$/;Hue.exports=function(e,r){let n=e.path(r);if(n!=null)return n;let i=r.split("."),s="",o=!1;for(let u of i)o&&DKe.test(u)||(s=s.length===0?u:s+"."+u,n=e.path(s),n!=null&&n.schema&&(e=n.schema,s="",!o&&n.$isMongooseDocumentArray&&(o=!0)));return n}});var iM=h((Kft,Yue)=>{"use strict";var Kue=Uf().modifiedPaths;Yue.exports=function(e){let r=Object.keys(e),n={},i={};for(let s of r){if(s.startsWith("$")){Kue(e[s],"",n);continue}i[s]=e[s]}return Kue(i,"",n),n}});var sM=h((Yft,Jue)=>{"use strict";var RKe=iM();Jue.exports=function(e){if(e==null)return{};let r=RKe(e);return Object.keys(r).reduce((n,i)=>{let s=i.match(/\$\[[^\]]+\]/g);if(s==null)return n;for(let o of s){let u=i.indexOf(o);if(u!==i.lastIndexOf(o))throw new Error(`Path '${i}' contains the same array filter multiple times`);n[o.substring(2,o.length-1)]=i.substring(0,u-1).replace(/\$\[[^\]]+\]/g,"0")}return n},{})}});var tae=h((Jft,eae)=>{"use strict";var NKe=Wue(),Que=Ly(),Xue=Gue(),xKe=sM();eae.exports=function(e){let r=e.options.arrayFilters,n=e.getUpdate(),i=e.schema,s=xKe(n),o=i.options.strict;e._mongooseOptions.strict!=null&&(o=e._mongooseOptions.strict),e.model&&e.model.base.options.strictQuery!=null&&(o=e.model.base.options.strictQuery),i._userProvidedOptions.strictQuery!=null&&(o=i._userProvidedOptions.strictQuery),e._mongooseOptions.strictQuery!=null&&(o=e._mongooseOptions.strictQuery),Zue(r,i,o,s,e)};function Zue(t,e,r,n,i){if(Array.isArray(t))for(let s of t){if(s==null)throw new Error(`Got null array filter in ${t}`);let o=Object.keys(s).filter(p=>s[p]!=null);if(o.length===0)continue;let u=o[0];if(u==="$and"||u==="$or"){for(let p of o)Zue(s[p],e,r,n,i);continue}let a=u.indexOf("."),c=a===-1?u:u.substring(0,a);if(n[c]==null)continue;let l=Que(n[c]),d=Xue(e,l),f=d!=null?d.schema:null;f!=null&&f.discriminators!=null&&s[c+"."+f.options.discriminatorKey]&&(f=f.discriminators[s[c+"."+f.options.discriminatorKey]]||f);for(let p of o){if(n[p]===null||Object.keys(n).length===0)continue;let m=p.indexOf("."),y=m===-1?null:p.substring(m),_;if(y==null||f==null?_=d:(y=Que(y),_=Xue(f,y)),_==null){if(!r)return;let g=y==null?l+".0":l+".0"+y;throw new Error(`Could not find path "${g}" in schema`)}typeof s[p]=="object"?s[p]=NKe(i,_,s[p]):s[p]=_.castForQuery(s[p])}}}});var iae=h((Qft,nae)=>{"use strict";var MKe=Ly(),rae=Xt(),FKe=ro(),BKe=sM();nae.exports=function(e,r,n,i,s){let o=i.split("."),u=null,a="adhocOrUndefined";n=n||{},r=r||{};let c=s!=null&&Array.isArray(s.arrayFilters)?s.arrayFilters:[],l=BKe(r);for(let d=0;d<o.length;++d){let f=MKe(o.slice(0,d+1).join("."));if(u=e.path(f),u!=null&&(a=e.pathType(f),(u.$isSingleNested||u.$isMongooseDocumentArrayElement)&&u.schema.discriminators!=null)){let p=rae(u,"schema.options.discriminatorKey"),m=f+"."+p,y=m.replace(/\.\d+\./,"."),_=null;m in n&&(_=n[m]),y in n&&(_=n[y]);let g=f.replace(/\.\d+$/,"");u.$isMongooseDocumentArrayElement&&rae(n[g],"$elemMatch."+p)!=null&&(_=n[g].$elemMatch[p]),m in r&&(_=r[m]);for(let w of Object.keys(l)){let b=l[w]+"."+p,M=w+"."+p;if(b===y){let T=c.find(G=>G.hasOwnProperty(M));T!=null&&(_=T[M])}}if(_==null)continue;let E=FKe(u.caster.discriminators,_).schema,O=o.slice(d+1).join(".");if(u=E.path(O),u!=null){a=E._getPathType(O);break}}}return{type:a,schematype:u}}});var oae=h((Xft,sae)=>{"use strict";var qKe=Ec();sae.exports=function(e,r,n,i,s,o){if(e==null||!e.options||!e.options.immutable)return!1;let u=e.options.immutable;if(typeof u=="function"&&(u=u.call(o,o)),!u||r===!1)return!1;if(r==="throw")throw new qKe(null,`Field ${s} is immutable and strict = 'throw'`);return delete n[i],!0}});var cae=h((Zft,aae)=>{"use strict";var $Ke=Xt();aae.exports=function(e,r,n){if(r==null)return;let i=Object.keys(r);for(let s of i){let o=s.startsWith("$");if(s==="$set"){let u=Object.keys(r[s]);for(let a of u)uae(e,r[s],a,r,n)}else o||uae(e,r,s,r,n)}};function uae(t,e,r,n,i){let s=t.path(r);if(s==null)return;let o=$Ke(s,"options.immutable",null);o!=null&&(typeof o=="function"&&(o=o.call(i,i)),o&&(n.$setOnInsert=n.$setOnInsert||{},n.$setOnInsert[r]=e[r],delete e[r]))}});var dM=h((eht,yae)=>{"use strict";var oM=fi(),pg=Sr(),lae=Ec(),kKe=Wl(),uM=Tf(),jKe=Rf(),LKe=Vn(),dae=iae(),fae=oae(),UKe=cae(),mae=Hl().schemaMixedSymbol,zKe=sv(),lM=we();yae.exports=function(e,r,n,i,s){if(r==null)return;if(n=n||{},Array.isArray(r)){let f=r.length;for(let p=0;p<f;++p){let m=Object.keys(r[p]);for(let y of m)r[p][y]=VKe(y,r[p][y])}return r}n.upsert&&!n.overwrite&&UKe(e,r,i);let o=Object.keys(r),u=o.length,a={},c,l=!1,d=n.overwrite;for(s=s||{};u--;){let f=o[u];f[0]!=="$"&&!d?(a.$set||(r.$set?a.$set=r.$set:a.$set={}),a.$set[f]=r[f],o.splice(u,1),~o.indexOf("$set")||o.push("$set")):f==="$set"&&a.$set||(a[f]=r[f])}for(u=o.length;u--;){let f=o[u];if(c=a[f],l=l||f.startsWith("$"),c&&typeof c=="object"&&!Buffer.isBuffer(c)&&(!d||l))aM(e,c,f,n,i,s);else if(d&&a&&typeof a=="object")aM(e,a,"$set",n,i,s);else{let p="Invalid atomic update value for "+f+". Expected an object, received "+typeof c;throw new Error(p)}f.startsWith("$")&&lM.isEmptyObject(c)&&delete a[f]}return Object.keys(a).length===0&&n.upsert&&Object.keys(s).length>0?{$setOnInsert:s}:a};function VKe(t,e){if(t==="$unset"){if(typeof e!="string"&&(!Array.isArray(e)||e.find(r=>typeof r!="string")))throw new pg("Invalid $unset in pipeline, must be  a string or an array of strings");return e}if(t==="$project"){if(e==null||typeof e!="object")throw new pg("Invalid $project in pipeline, must be an object");return e}if(t==="$addFields"||t==="$set"){if(e==null||typeof e!="object")throw new pg("Invalid "+t+" in pipeline, must be an object");return e}else if(t==="$replaceRoot"||t==="$replaceWith"){if(e==null||typeof e!="object")throw new pg("Invalid "+t+" in pipeline, must be an object");return e}throw new pg('Invalid update pipeline operator: "'+t+'"')}function aM(t,e,r,n,i,s,o){let u=n.strict,a=o?o+".":"",c=Object.keys(e),l=c.length,d=!1,f,p,m,y=null,_=u??t.options.strict;for(;l--;){if(p=c[l],m=e[p],r==="$pull"&&(f=t._getSchema(a+p),f!=null&&f.schema!=null)){e[p]=jKe(f.schema,e[p],n,i),d=!0;continue}let g=a?a+p:p;if(t.discriminatorMapping!=null&&g===t.options.discriminatorKey&&!n.overwriteDiscriminatorKey){if(_==="throw"){let E=new Error(`Can't modify discriminator key "`+g+'" on discriminator model');y=Kf(E,i,g,y);continue}else if(_){delete e[p];continue}}if(LKe(m)==="Object"){if(f=t._getSchema(a+p),f==null){let E=dae(t,e,s,a+p,n);E.schematype!=null&&(f=E.schematype)}if(r!=="$setOnInsert"&&!n.overwrite&&fae(f,u,e,p,a+p,i))continue;if(f&&f.caster&&r in cM)if("$each"in m){d=!0;try{e[p]={$each:mg(f,m.$each,r,p,i,a+p)}}catch(E){y=Kf(E,i,p,y)}m.$slice!=null&&(e[p].$slice=m.$slice|0),m.$sort&&(e[p].$sort=m.$sort),m.$position!=null&&(e[p].$position=uM(m.$position))}else{if(f!=null&&f.$isSingleNested){let E=u??f.schema.options.strict;try{e[p]=f.castForQuery(m,i,{strict:E})}catch(O){y=Kf(O,i,p,y)}}else try{e[p]=mg(f,m,r,p,i,a+p)}catch(E){y=Kf(E,i,p,y)}if(e[p]===void 0){delete e[p];continue}d=!0}else if(r==="$currentDate"||r in cM&&f){try{e[p]=mg(f,m,r,p,i,a+p)}catch(E){y=Kf(E,i,p,y)}if(e[p]===void 0){delete e[p];continue}d=!0}else{let E=a+p,O=t._getPathType(E),w=u;if(O&&O.schema&&w==null&&(w=O.schema.options.strict),O.pathType==="undefined"){if(w==="throw")throw new lae(E);if(w){delete e[p];continue}}d|=aM(t,m,r,n,i,s,a+p)||lM.isObject(m)&&Object.keys(m).length===0}}else{let E=p==="$each"||p==="$or"||p==="$and"||p==="$in"?o:a+p;if(f=t._getSchema(E),r!=="$setOnInsert"&&!n.overwrite&&fae(f,u,e,p,a+p,i))continue;let O=t._getPathType(E);if(f==null){let M=dae(t,e,s,E,n);M.schematype!=null&&(f=M.schematype,O=M.type)}let w=u;if(O&&O.schema&&u==null&&(w=O.schema.options.strict),w&&!f&&!/real|nested/.test(O.pathType)){if(w==="throw"&&t.virtuals[E]==null)throw new lae(a+p);delete e[p]}else{if(r==="$rename"){d=!0;continue}try{a.length===0||p.indexOf(".")===-1?e[p]=mg(f,m,r,p,i,a+p):(zKe(e,p,mg(f,m,r,p,i,a+p)),delete e[p])}catch(M){y=Kf(M,i,p,y)}if(Array.isArray(e[p])&&(r==="$addToSet"||r==="$push")&&p!=="$each"&&f&&f.caster&&!f.caster.$isMongooseArray&&!f.caster[mae]&&(e[p]={$each:e[p]}),e[p]===void 0){delete e[p];continue}d=!0}}}if(y!=null)throw y;return d}function Kf(t,e,r,n){if(typeof e!="object"||!e.options.multipleCastError)throw t;return n=n||new kKe,n.addError(r,t),n}var hae={$pop:1,$inc:1},WKe={$unset:1},cM={$push:1,$addToSet:1,$set:1,$setOnInsert:1};var pae={$set:1,$setOnInsert:1};function mg(t,e,r,n,i,s){if(!t){if(r in hae)try{return uM(e)}catch{throw new oM("number",e,s)}return e}if(t.caster&&r in cM&&(lM.isObject(e)||Array.isArray(e))&&!pae[r]){let u=0,a=t;for(;a.$isMongooseArray;)++u,a=a.caster;let c=0,l=e;for(;Array.isArray(l);)++c,l=l[0];let d=u-c;for(;c<u;)e=[e],++c;let f=t.applySetters(Array.isArray(e)?e:[e],i);for(let p=0;p<d;++p)f=f[0];return f}if(r in WKe)return e;if(r in hae){if(e==null)throw new oM("number",e,t.path);if(r==="$inc")return t.castForQueryWrapper({val:e,context:i});try{return uM(e)}catch{throw new oM("number",e,t.path)}}return r==="$currentDate"?typeof e=="object"?{$type:e.$type}:Boolean(e):/^\$/.test(n)?t.castForQueryWrapper({$conditional:n,val:e,context:i}):pae[r]?t.castForQueryWrapper({val:e,context:i,$skipQueryCastForUpdate:e!=null&&t.$isMongooseArray&&t.$fullPath!=null&&!t.$fullPath.match(/\d+$/),$applySetters:t[mae]!=null}):t.castForQueryWrapper({val:e,context:i})}});var Eae=h((tht,_ae)=>{"use strict";var HKe=Vf(),gae=zn();_ae.exports=GKe;function GKe(t,e,r,n,i,s){let o=[],u=e.length,a=u,c=null;function l(d){if(d!=null&&(c=c||d),c!=null){--u||gae(()=>s(c));return}--u||gae(()=>s(c,o))}for(let d=0;d<a;++d){o[d]=HKe.createModel(t,e[d],r,n);try{o[d].$init(e[d],i,l)}catch(f){l(f)}i.session!=null&&o[d].$session(i.session)}}});var gv=h((rht,Aae)=>{"use strict";Aae.exports=function(e){if(typeof e!="object"||e===null)return!1;let r=Object.keys(e),n=r.length;for(let i=0;i<n;++i)if(r[i][0]==="$")return!0;return!1}});var _v=h((nht,Sae)=>{"use strict";var KKe=zf();Sae.exports=function t(e){if(e==null)return!1;let r=Object.keys(e),n=r.length;if(n===0)return!1;for(let i=0;i<n;++i){let s=r[i];if(!s.startsWith("+")&&KKe(e[s])&&e[s])return e[s]!=null&&typeof e[s]=="object"?t(e[s]):!!e[s]}return!1}});var Oae=h((iht,wae)=>{"use strict";wae.exports=function(e,r){return e===r||r.startsWith(e+".")}});var fM=h((sht,Cae)=>{"use strict";Cae.exports=function(e,r){if(typeof e==="string"&&(e=e.split(/\s+/)),!Array.isArray(e)&&Object.prototype.toString.call(e)!=="[object Arguments]")return e;let i=e.length,s={};for(let o=0;o<i;++o){let u=e[o];if(!u)continue;let a=u[0]=="-"?0:1;!r&&a===0&&(u=u.substring(1)),s[u]=a}return s}});var Iae=h((oht,bae)=>{"use strict";bae.exports=function(e,r){let n=Object.keys(e).map(i=>Object.keys(e[i])).reduce((i,s)=>i.concat(s),[]);return r.filter(i=>vae(i,n))};function vae(t,e){let r=Object.keys(t)[0];if(r==="$and"||r==="$or")return Array.isArray(t[r])?t[r].find(s=>vae(s,e))!=null:!1;let n=r.indexOf("."),i=n===-1?r:r.slice(0,n);return e.find(s=>s.includes("$["+i+"]"))!=null}});var hM=h((uht,Pae)=>{"use strict";var YKe=gv(),{trustedSymbol:JKe}=yf();Pae.exports=function t(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e)){for(let n of e)t(n);return e}let r=Object.keys(e);for(let n of r){let i=e[n];if(!(i!=null&&i[JKe])){if(n==="$and"||n==="$or"){t(i);continue}if(YKe(i)){let s=Object.keys(i);if(s.length===1&&s[0]==="$eq")continue;e[n]={$eq:e[n]}}}}return e}});var Dae=h((aht,Tae)=>{"use strict";Tae.exports=function(e){if(e==null)return;let r=Object.keys(e);for(let n=0;n<r.length;++n)typeof e[r[n]]=="string"&&(e[r[n]]=1)}});var Nae=h((cht,Rae)=>{"use strict";var QKe=ag(),XKe=_v();Rae.exports=function(e,r,n){if(n==null)return;let i=Object.keys(n);if(r=r||{},XKe(e))for(let s of i)ZKe(r,s)?r[s]===0&&delete e[s]:e[s]=1;else if(QKe(e))for(let s of i)r[s]==null&&delete e[s]};function ZKe(t,e){let r=e.split("."),n=r.length,i=r[0];for(let s=1;s<n;++s){if(t[i]!=null||t[i+".$"]!=null)return!0;i+="."+r[s]}return t[i]!=null||t[i+".$"]!=null}});var pM=h((lht,Mae)=>{"use strict";var xae=Uf().modifiedPaths,eYe=Xt();Mae.exports=function(t,e,r,n){n=n||{};let i=n.setDefaultsOnInsert!=null?n.setDefaultsOnInsert:e.base.options.setDefaultsOnInsert;if(!n.upsert||i===!1)return r;let s=Object.keys(r||{}),o={},u={},a=s.length,c={},l=!1;for(let p=0;p<a;++p)s[p].startsWith("$")&&(xae(r[s[p]],"",c),l=!0);l||xae(r,"",c);let d=Object.keys(t),f=d.length;for(let p=0;p<f;++p){let m=d[p],y=t[m];if(y&&typeof y=="object"){let _=Object.keys(y),g=_.length,E=!1;for(let O=0;O<g;++O)if(_[O].startsWith("$")){E=!0;break}if(E)continue}o[m]=!0,c[m]=!0}return n&&n.overwrite&&!l||e.eachPath(function(p,m){if(m.path==="_id"&&m.options.auto)return;let y=m.getDefault(null,!0);tYe(c,p)||typeof y>"u"||m.splitPath().includes("$*")||(r=r||{},r.$setOnInsert=r.$setOnInsert||{},eYe(r,p)==null&&(r.$setOnInsert[p]=y),u[p]=y)}),r};function tYe(t,e){if(t[e])return!0;let r=e.split("."),n=r[0];for(let s=1;s<r.length;++s){if(t[n])return!0;n+="."+r[s]}let i=Object.keys(t);if(i.length){let s=e+".";for(let o of i)if(o.slice(0,e.length+1)===s)return!0}return!1}});var kae=h((dht,$ae)=>{"use strict";var Fae=Wl(),rYe=Ly(),Bae=Uf().flatten,qae=Uf().modifiedPaths;$ae.exports=function(t,e,r,n,i){let s=Object.keys(r||{}),o={},u={},a={},c={},l=s.length,d=!1,f={},p,m,y;for(y=0;y<l;++y)if(s[y].startsWith("$")){if(d=!0,s[y]==="$push"||s[y]==="$addToSet"){let U=Object.keys(r[s[y]]);for(let ue=0;ue<U.length;++ue)p=r[s[y]][U[ue]],p&&p.$each?c[U[ue]]=(c[U[ue]]||[]).concat(p.$each):c[U[ue]]=(c[U[ue]]||[]).concat([p]);continue}qae(r[s[y]],"",f);let J=Bae(r[s[y]],null,null,e),k=Object.keys(J),q=k.length;for(let U=0;U<q;++U){let ue=rYe(k[U]);m=s[y],!ue.includes("$")&&(m==="$set"||m==="$setOnInsert"||m==="$pull"||m==="$pullAll"?(u[ue]=J[k[U]],a[ue]=m==="$pull"||m==="$pullAll"):m==="$unset"&&(u[ue]=void 0),o[ue]=!0)}}d||(qae(r,"",f),u=Bae(r,null,null,e),o=Object.keys(u));let _=Object.keys(u),g=_.length,E=[],O=[],w=[],b=t;function M(J,k){let q=e._getSchema(_[J]);if(q!=null&&!(q.instance==="Mixed"&&q.path!==_[J]))if(k&&Array.isArray(k.$in))k.$in.forEach((U,ue)=>{E.push(function(xt){q.doValidate(U,function(Y){Y&&(Y.path=_[ue]+".$in."+ue,O.push(Y)),xt(null)},b,{updateValidator:!0})})});else{if(a[_[J]]&&q.$isMongooseArray)return;q.$isMongooseDocumentArrayElement&&k!=null&&k.$__!=null?(w.push(_[J]),E.push(function(U){q.doValidate(k,function(ue){if(ue)if(ue.errors)for(let xt of Object.keys(ue.errors)){let Y=ue.errors[xt];Y.path=_[J]+"."+xt,O.push(Y)}else ue.path=_[J],O.push(ue);return U(null)},b,{updateValidator:!0})})):E.push(function(U){for(let ue of w)if(_[J].startsWith(ue+"."))return U(null);q.doValidate(k,function(ue){if(q.schema!=null&&q.schema.options.storeSubdocValidationError===!1&&ue instanceof Fae)return U(null);ue&&(ue.path=_[J],O.push(ue)),U(null)},b,{updateValidator:!0})})}}for(y=0;y<g;++y)M(y,u[_[y]]);let T=Object.keys(c);for(let J of T){let k=e._getSchema(J);if(k&&k.$isMongooseDocumentArray)E.push(function(q){k.doValidate(c[J],ee(J,O,q),n&&n.context==="query"?t:null)});else{k=e._getSchema(J+".0");for(let q of c[J])E.push(function(U){k.doValidate(q,ee(J,O,U),n&&n.context==="query"?t:null,{updateValidator:!0})})}}if(i!=null){let J=E.length;if(J===0)return G(i);for(let k of E)k(function(){--J<=0&&G(i)});return}return function(J){let k=E.length;if(k===0)return G(J);for(let q of E)q(function(){--k<=0&&G(J)})};function G(J){if(O.length){let k=new Fae(null);for(let q of O)k.addError(q.path,q);return J(k)}J(null)}function ee(J,k,q){return function(U){U&&(U.path=J,k.push(U)),q(null)}}}});var Lae=h((fht,jae)=>{"use strict";var nYe=Sr();jae.exports=function(e){return function(n){if(this._executionStack!=null){let i=this.toString();i.length>60&&(i=i.slice(0,60)+"...");let s=new nYe("Query was already executed: "+i);return s.originalStack=this._executionStack.stack,n(s)}this._executionStack=new Error,e.call(this,n)}}});var Cv=h((hht,tce)=>{"use strict";var sd=fi(),iYe=WC(),sYe=d4(),oYe=Sr(),od=iN(),Uae=kue(),uYe=xs().get().ReadPreference,aYe=Wl(),{applyGlobalMaxTimeMS:gg,applyGlobalDiskUse:_g}=rM(),cYe=nM(),lYe=Rf(),dYe=tae(),Av=Tf(),fYe=dM(),zae=Eae(),Hae=Bi(),Gae=ro(),gM=gv(),Sv=Vf(),Ev=zn(),hYe=ag(),pYe=_v(),Vae=Oae(),Kae=Js(),Rn=UC(),mYe=fM(),Yae=Iae(),yYe=hM(),gYe=Dae(),_Ye=Nae(),Jae=pM(),EYe=kae(),yg=require("util"),me=we(),AYe=hN(),fn=Lae(),SYe=new Set(["allowDiskUse","batchSize","collation","comment","explain","hint","j","lean","limit","maxScan","maxTimeMS","maxscan","populate","projection","read","select","skip","slice","sort","tailable","w","writeConcern","wtimeout"]);function R(t,e,r,n){this._mongooseOptions||(this._mongooseOptions={}),e=e||{},this._transforms=[],this._hooks=new sYe,this._executionStack=null;let i=Object.keys(e);for(let o of i)this._mongooseOptions[o]=e[o];n&&(this.mongooseCollection=n),r&&(this.model=r,this.schema=r.schema),this.model&&this.model._mapreduce&&this.lean(),Rn.call(this,null,e),n&&this.collection(n),t&&this.find(t),this.options=this.options||{},this.$useProjection=!0;let s=this&&this.schema&&this.schema.options&&this.schema.options.collation||null;s!=null&&(this.options.collation=s)}R.prototype=new Rn;R.prototype.constructor=R;R.base=Rn.prototype;R.use$geoWithin=Rn.use$geoWithin;R.prototype.toConstructor=function(){let e=this.model,r=this.mongooseCollection,n=function(o,u){if(!(this instanceof n))return new n(o,u);this._mongooseOptions=me.clone(i._mongooseOptions),R.call(this,o,u||null,e,r)};yg.inherits(n,e.Query);let i=n.prototype;i.options={};let s=Object.assign({},this.options);return s.sort!=null&&(i.sort(s.sort),delete s.sort),i.setOptions(s),i.op=this.op,i._validateOp(),i._conditions=me.clone(this._conditions),i._fields=me.clone(this._fields),i._update=me.clone(this._update,{flattenDecimals:!1}),i._path=this._path,i._distinct=this._distinct,i._collection=this._collection,i._mongooseOptions=this._mongooseOptions,n};R.prototype.clone=function(){let e=this.model,r=this.mongooseCollection,n=new this.model.Query({},{},e,r),i=Object.assign({},this.options);return i.sort!=null&&(n.sort(i.sort),delete i.sort),n.setOptions(i),n.op=this.op,n._validateOp(),n._conditions=me.clone(this._conditions),n._fields=me.clone(this._fields),n._update=me.clone(this._update,{flattenDecimals:!1}),n._path=this._path,n._distinct=this._distinct,n._collection=this._collection,n._mongooseOptions=this._mongooseOptions,n};R.prototype.slice=function(){if(arguments.length===0)return this;this._validate("slice");let t,e;if(arguments.length===1){let n=arguments[0];if(typeof n=="object"&&!Array.isArray(n)){let i=Object.keys(n),s=i.length;for(let o=0;o<s;++o)this.slice(i[o],n[i[o]]);return this}this._ensurePath("slice"),t=this._path,e=arguments[0]}else arguments.length===2?typeof arguments[0]=="number"?(this._ensurePath("slice"),t=this._path,e=[arguments[0],arguments[1]]):(t=arguments[0],e=arguments[1]):arguments.length===3&&(t=arguments[0],e=[arguments[1],arguments[2]]);let r={};return r[t]={$slice:e},this.select(r),this};var wYe=new Set(AYe);R.prototype._validateOp=function(){this.op!=null&&!wYe.has(this.op)&&this.error(new Error('Query has invalid `op`: "'+this.op+'"'))};R.prototype.mod=function(){let t,e;arguments.length===1?(this._ensurePath("mod"),t=arguments[0],e=this._path):arguments.length===2&&!Array.isArray(arguments[1])?(this._ensurePath("mod"),t=[arguments[0],arguments[1]],e=this._path):arguments.length===3?(t=[arguments[1],arguments[2]],e=arguments[0]):(t=arguments[1],e=arguments[0]);let r=this._conditions[e]||(this._conditions[e]={});return r.$mod=t,this};R.prototype.limit=function(e){if(this._validate("limit"),typeof e=="string")try{e=Av(e)}catch{throw new sd("Number",e,"limit")}return this.options.limit=e,this};R.prototype.skip=function(e){if(this._validate("skip"),typeof e=="string")try{e=Av(e)}catch{throw new sd("Number",e,"skip")}return this.options.skip=e,this};R.prototype.projection=function(t){return arguments.length===0?this._fields:(this._fields={},this._userProvidedFields={},this.select(t),this._fields)};R.prototype.select=function(){let e=arguments[0];if(!e)return this;if(arguments.length!==1)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");let r=this._fields||(this._fields={}),n=this._userProvidedFields||(this._userProvidedFields={}),i;this.model!=null&&me.hasUserDefinedProperty(this.model.db.options,"sanitizeProjection")?i=this.model.db.options.sanitizeProjection:this.model!=null&&me.hasUserDefinedProperty(this.model.base.options,"sanitizeProjection")?i=this.model.base.options.sanitizeProjection:i=this._mongooseOptions.sanitizeProjection;function s(o){return typeof o=="string"&&i?o=1:o}if(e=mYe(e),me.isObject(e)){if(this.selectedInclusively())Object.entries(e).forEach(([o,u])=>{u?r[o]=n[o]=s(u):Object.keys(n).forEach(a=>{Vae(o,a)&&(delete r[a],delete n[a])})});else if(this.selectedExclusively())Object.entries(e).forEach(([o,u])=>{u?Object.keys(n).forEach(a=>{Vae(o,a)&&(delete r[a],delete n[a])}):r[o]=n[o]=s(u)});else{let o=Object.keys(e);for(let u=0;u<o.length;++u){let a=e[o[u]];r[o[u]]=s(a),n[o[u]]=s(a)}}return this}throw new TypeError("Invalid select() argument. Must be string or object.")};R.prototype.read=function(e,r){let n=new uYe(e,r);return this.options.readPreference=n,this};R.prototype.toString=function(){return this.op==="count"||this.op==="countDocuments"||this.op==="find"||this.op==="findOne"||this.op==="deleteMany"||this.op==="deleteOne"||this.op==="findOneAndDelete"||this.op==="findOneAndRemove"||this.op==="remove"?`${this.model.modelName}.${this.op}(${yg.inspect(this._conditions)})`:this.op==="distinct"?`${this.model.modelName}.distinct('${this._distinct}', ${yg.inspect(this._conditions)})`:this.op==="findOneAndReplace"||this.op==="findOneAndUpdate"||this.op==="replaceOne"||this.op==="update"||this.op==="updateMany"||this.op==="updateOne"?`${this.model.modelName}.${this.op}(${yg.inspect(this._conditions)}, ${yg.inspect(this._update)})`:`${this.model.modelName}.${this.op}()`};R.prototype.session=function(e){return e==null&&delete this.options.session,this.options.session=e,this};R.prototype.writeConcern=function(e){return e==null?(delete this.options.writeConcern,this):(this.options.writeConcern=e,this)};R.prototype.w=function(e){return e==null&&delete this.options.w,this.options.writeConcern!=null?this.options.writeConcern.w=e:this.options.w=e,this};R.prototype.j=function(e){return e==null&&delete this.options.j,this.options.writeConcern!=null?this.options.writeConcern.j=e:this.options.j=e,this};R.prototype.wtimeout=function(e){return e==null&&delete this.options.wtimeout,this.options.writeConcern!=null?this.options.writeConcern.wtimeout=e:this.options.wtimeout=e,this};R.prototype.getOptions=function(){return this.options};R.prototype.setOptions=function(t,e){if(e)return this._mongooseOptions=t&&me.clone(t)||{},this.options=t||{},"populate"in t&&this.populate(this._mongooseOptions),this;if(t==null)return this;if(typeof t!="object")throw new Error('Options must be an object, got "'+t+'"');if(t=Object.assign({},t),Array.isArray(t.populate)){let r=t.populate;delete t.populate;let n=r.length;for(let i=0;i<n;++i)this.populate(r[i])}if("setDefaultsOnInsert"in t&&(this._mongooseOptions.setDefaultsOnInsert=t.setDefaultsOnInsert,delete t.setDefaultsOnInsert),"overwriteDiscriminatorKey"in t&&(this._mongooseOptions.overwriteDiscriminatorKey=t.overwriteDiscriminatorKey,delete t.overwriteDiscriminatorKey),"sanitizeProjection"in t&&(t.sanitizeProjection&&!this._mongooseOptions.sanitizeProjection&&gYe(this._fields),this._mongooseOptions.sanitizeProjection=t.sanitizeProjection,delete t.sanitizeProjection),"sanitizeFilter"in t&&(this._mongooseOptions.sanitizeFilter=t.sanitizeFilter,delete t.sanitizeFilter),"defaults"in t&&(this._mongooseOptions.defaults=t.defaults),t.lean==null&&this.schema&&"lean"in this.schema.options&&(this._mongooseOptions.lean=this.schema.options.lean),typeof t.limit=="string")try{t.limit=Av(t.limit)}catch{throw new sd("Number",t.limit,"limit")}if(typeof t.skip=="string")try{t.skip=Av(t.skip)}catch{throw new sd("Number",t.skip,"skip")}for(let r of Object.keys(t))if(SYe.has(r)){let n=Array.isArray(t[r])?t[r]:[t[r]];this[r].apply(this,n)}else this.options[r]=t[r];return this};R.prototype.explain=function(t){return arguments.length===0?this.options.explain=!0:t===!1?delete this.options.explain:this.options.explain=t,this};R.prototype.allowDiskUse=function(t){return arguments.length===0?this.options.allowDiskUse=!0:t===!1?delete this.options.allowDiskUse:this.options.allowDiskUse=t,this};R.prototype.maxTimeMS=function(t){return this.options.maxTimeMS=t,this};R.prototype.getFilter=function(){return this._conditions};R.prototype.getQuery=function(){return this._conditions};R.prototype.setQuery=function(t){this._conditions=t};R.prototype.getUpdate=function(){return this._update};R.prototype.setUpdate=function(t){this._update=t};R.prototype._fieldsForExec=function(){return me.clone(this._fields)};R.prototype._updateForExec=function(){let t=me.clone(this._update,{transform:!1,depopulate:!0}),e=Object.keys(t),r=e.length,n={};for(;r--;){let i=e[r];if(this.options.overwrite){n[i]=t[i];continue}i[0]!=="$"?(n.$set||(t.$set?n.$set=t.$set:n.$set={}),n.$set[i]=t[i],e.splice(r,1),~e.indexOf("$set")||e.push("$set")):i==="$set"&&n.$set||(n[i]=t[i])}return n};R.prototype._optionsForExec=function(t){let e=me.clone(this.options);if(delete e.populate,t=t||this.model,!t)return e;cYe(t.schema,e);let r=t&&t.schema&&t.schema.options&&t.schema.options.read;return!("readPreference"in e)&&r&&(e.readPreference=r),e.upsert!==void 0&&(e.upsert=!!e.upsert),e.writeConcern&&(e.j&&(e.writeConcern.j=e.j,delete e.j),e.w&&(e.writeConcern.w=e.w,delete e.w),e.wtimeout&&(e.writeConcern.wtimeout=e.wtimeout,delete e.wtimeout)),e};R.prototype.lean=function(t){return this._mongooseOptions.lean=arguments.length?t:!0,this};R.prototype.set=function(t,e){if(typeof t=="object"){let r=Object.keys(t);for(let n of r)this.set(n,t[n]);return this}return this._update=this._update||{},t in this._update&&delete this._update[t],this._update.$set=this._update.$set||{},this._update.$set[t]=e,this};R.prototype.get=function(e){let r=this._update;if(r==null)return;let n=r.$set;if(n==null||me.hasUserDefinedProperty(r,e))return r[e];if(me.hasUserDefinedProperty(n,e))return n[e]};R.prototype.error=function(e){return arguments.length===0?this._error:(this._error=e,this)};R.prototype._unsetCastError=function(){if(!(this._error!=null&&!(this._error instanceof sd)))return this.error(null)};R.prototype.mongooseOptions=function(t){return arguments.length>0&&(this._mongooseOptions=t),this._mongooseOptions};R.prototype._castConditions=function(){let t;this.model!=null&&me.hasUserDefinedProperty(this.model.db.options,"sanitizeFilter")?t=this.model.db.options.sanitizeFilter:this.model!=null&&me.hasUserDefinedProperty(this.model.base.options,"sanitizeFilter")?t=this.model.base.options.sanitizeFilter:t=this._mongooseOptions.sanitizeFilter,t&&yYe(this._conditions);try{this.cast(this.model),this._unsetCastError()}catch(e){this.error(e)}};function Qae(t){try{dYe(t)}catch(e){t.error(e)}}R.prototype._find=fn(function(t){if(this._castConditions(),this.error()!=null)return t(this.error()),null;t=Ps(this,t),this._applyPaths(),this._fields=this._castFields(this._fields);let e=this._fieldsForExec(),r=this._mongooseOptions,n=this,i=n._userProvidedFields||{};gg(this.options,this.model),_g(this.options,this.model);let s=Object.assign({},{session:this&&this.options&&this.options.session||null,lean:r.lean||null}),o=(c,l)=>{if(c)return t(c);if(l.length===0||this.options.explain)return t(null,l);if(!r.populate){let f=n.schema.options.versionKey;return r.lean&&r.lean.versionKey===!1&&f&&l.forEach(p=>{f in p&&delete p[f]}),r.lean?Zae(n.model.schema,l,null,s,t):zae(n.model,l,e,i,s,t)}let d=Sv.preparePopulationOptionsMQ(n,r);if(r.lean)return n.model.populate(l,d,t);zae(n.model,l,e,i,s,(f,p)=>{if(f!=null)return t(f);n.model.populate(p,d,t)})},u=this._optionsForExec();u.projection=this._fieldsForExec();let a=this._conditions;this._collection.collection.find(a,u,(c,l)=>{if(c!=null)return o(c);if(u.explain)return l.explain(o);try{return l.toArray(o)}catch(d){return o(d)}})});R.prototype.find=function(t,e){return this.op="find",typeof t=="function"&&(e=t,t={}),t=me.toObject(t),Rn.canMerge(t)?(this.merge(t),Jf(this)):t!=null&&this.error(new od(t,"filter","find")),e?(this.exec(e),this):R.base.find.call(this)};R.prototype.merge=function(t){if(!t)return this;let e={overwrite:!0};return t instanceof R?(t._conditions&&me.merge(this._conditions,t._conditions,e),t._fields&&(this._fields||(this._fields={}),me.merge(this._fields,t._fields,e)),t.options&&(this.options||(this.options={}),me.merge(this.options,t.options,e)),t._update&&(this._update||(this._update={}),me.mergeClone(this._update,t._update)),t._distinct&&(this._distinct=t._distinct),me.merge(this._mongooseOptions,t._mongooseOptions),this):this.model!=null&&t instanceof this.model.base.Types.ObjectId?(me.merge(this._conditions,{_id:t},e),this):(me.merge(this._conditions,t,e),this)};R.prototype.collation=function(t){return this.options==null&&(this.options={}),this.options.collation=t,this};R.prototype._completeOne=function(t,e,r){if(!t&&!this.options.rawResult)return r(null,null);let n=this.model,i=me.clone(this._fields),s=this._userProvidedFields||{},o=this._mongooseOptions,u=this.options;if(!u.lean&&o.lean&&(u.lean=o.lean),u.explain)return r(null,t);if(!o.populate){let c=this.schema.options.versionKey;return o.lean&&o.lean.versionKey===!1&&c&&c in t&&delete t[c],o.lean?yM(n.schema,t,null,e,u,r):Wae(n,t,e,u,i,s,null,r)}let a=Sv.preparePopulationOptionsMQ(this,this._mongooseOptions);if(o.lean)return n.populate(t,a,(c,l)=>{if(c!=null)return r(c);yM(n.schema,l,null,e,u,r)});Wae(n,t,e,u,i,s,[],(c,l)=>{if(c!=null)return r(c);n.populate(l,a,r)})};R.prototype._findOne=fn(function(t){if(this._castConditions(),this.error())return t(this.error()),null;this._applyPaths(),this._fields=this._castFields(this._fields),gg(this.options,this.model),_g(this.options,this.model),R.base.findOne.call(this,{},(e,r)=>{if(e)return t(e),null;this._completeOne(r,null,Ps(this,t))})});R.prototype.findOne=function(t,e,r,n){return this.op="findOne",this._validateOp(),typeof t=="function"?(n=t,t=null,e=null,r=null):typeof e=="function"?(n=e,r=null,e=null):typeof r=="function"&&(n=r,r=null),t=me.toObject(t),r&&this.setOptions(r),e&&this.select(e),Rn.canMerge(t)?(this.merge(t),Jf(this)):t!=null&&this.error(new od(t,"filter","findOne")),n?(this.exec(n),this):R.base.findOne.call(this)};R.prototype._count=fn(function(t){try{this.cast(this.model)}catch(n){this.error(n)}if(this.error())return t(this.error());gg(this.options,this.model),_g(this.options,this.model);let e=this._conditions,r=this._optionsForExec();this._collection.count(e,r,me.tick(t))});R.prototype._countDocuments=fn(function(t){try{this.cast(this.model)}catch(n){this.error(n)}if(this.error())return t(this.error());gg(this.options,this.model),_g(this.options,this.model);let e=this._conditions,r=this._optionsForExec();this._collection.collection.countDocuments(e,r,me.tick(t))});R.prototype._estimatedDocumentCount=fn(function(t){if(this.error())return t(this.error());let e=this._optionsForExec();this._collection.collection.estimatedDocumentCount(e,me.tick(t))});R.prototype.count=function(t,e){return this.op="count",this._validateOp(),typeof t=="function"&&(e=t,t=void 0),t=me.toObject(t),Rn.canMerge(t)&&this.merge(t),e?(this.exec(e),this):this};R.prototype.estimatedDocumentCount=function(t,e){return this.op="estimatedDocumentCount",this._validateOp(),typeof t=="function"&&(e=t,t=void 0),typeof t=="object"&&t!=null&&this.setOptions(t),e?(this.exec(e),this):this};R.prototype.countDocuments=function(t,e,r){return this.op="countDocuments",this._validateOp(),typeof t=="function"&&(r=t,t=void 0,e=void 0),typeof e=="function"&&(r=e,e=void 0),t=me.toObject(t),Rn.canMerge(t)&&this.merge(t),typeof e=="object"&&e!=null&&this.setOptions(e),r?(this.exec(r),this):this};R.prototype.__distinct=fn(function(e){if(this._castConditions(),this.error())return e(this.error()),null;gg(this.options,this.model),_g(this.options,this.model);let r=this._optionsForExec();this._collection.collection.distinct(this._distinct,this._conditions,r,e)});R.prototype.distinct=function(t,e,r){return this.op="distinct",this._validateOp(),r||(typeof e=="function"?(r=e,e=void 0):typeof t=="function"&&(r=t,t=void 0,e=void 0)),e=me.toObject(e),Rn.canMerge(e)?(this.merge(e),Jf(this)):e!=null&&this.error(new od(e,"filter","distinct")),t!=null&&(this._distinct=t),r!=null&&this.exec(r),this};R.prototype.sort=function(t){if(arguments.length>1)throw new Error("sort() only takes 1 Argument");return R.base.sort.call(this,t)};R.prototype.remove=function(t,e){return this.op="remove",typeof t=="function"&&(e=t,t=null),t=me.toObject(t),Rn.canMerge(t)?(this.merge(t),Jf(this)):t!=null&&this.error(new od(t,"filter","remove")),e?(this.exec(e),this):R.base.remove.call(this)};R.prototype._remove=fn(function(t){return this._castConditions(),this.error()!=null?(t(this.error()),this):(t=Ps(this,t),R.base.remove.call(this,t))});R.prototype.deleteOne=function(t,e,r){return this.op="deleteOne",typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"?(r=e,e=null):this.setOptions(e),t=me.toObject(t),Rn.canMerge(t)?(this.merge(t),Jf(this)):t!=null&&this.error(new od(t,"filter","deleteOne")),r?(this.exec.call(this,r),this):R.base.deleteOne.call(this)};R.prototype._deleteOne=fn(function(t){return this._castConditions(),this.error()!=null?(t(this.error()),this):(t=Ps(this,t),R.base.deleteOne.call(this,t))});R.prototype.deleteMany=function(t,e,r){return this.op="deleteMany",typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"?(r=e,e=null):this.setOptions(e),t=me.toObject(t),Rn.canMerge(t)?(this.merge(t),Jf(this)):t!=null&&this.error(new od(t,"filter","deleteMany")),r?(this.exec.call(this,r),this):R.base.deleteMany.call(this)};R.prototype._deleteMany=fn(function(t){return this._castConditions(),this.error()!=null?(t(this.error()),this):(t=Ps(this,t),R.base.deleteMany.call(this,t))});function Wae(t,e,r,n,i,s,o,u){if(n.rawResult&&e==null)return a(null),null;Sv.createModelAndInit(t,e,i,s,n,o,a);function a(c,l){if(c)return Ev(()=>u(c));if(n.rawResult)return e&&l?(n.session!=null&&l.$session(n.session),r.value=l):r.value=null,Ev(()=>u(null,r));n.session!=null&&l.$session(n.session),Ev(()=>u(null,l))}}function Jf(t){if(!t||!t.model||!t.model.schema)return;let e=t.model.schema;e&&e.discriminatorMapping&&!e.discriminatorMapping.isRoot&&(t._conditions[e.discriminatorMapping.key]=e.discriminatorMapping.value)}R.prototype.findOneAndUpdate=function(t,e,r,n){switch(this.op="findOneAndUpdate",this._validateOp(),this._validate(),arguments.length){case 3:typeof r=="function"&&(n=r,r={});break;case 2:typeof e=="function"&&(n=e,e=t,t=void 0),r=void 0;break;case 1:typeof t=="function"?(n=t,t=r=e=void 0):(e=t,t=r=void 0)}Rn.canMerge(t)&&this.merge(t),e&&this._mergeUpdate(e),r=r?me.clone(r):{},r.projection&&(this.select(r.projection),delete r.projection),r.fields&&(this.select(r.fields),delete r.fields);let i=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;return r.new==null&&r.returnDocument==null&&r.returnOriginal==null&&i!=null&&(r.returnOriginal=i),this.setOptions(r),n?(this.exec(n),this):this};R.prototype._findOneAndUpdate=fn(function(t){if(this.error()!=null)return t(this.error());this._findAndModify("update",t)});R.prototype.findOneAndRemove=function(t,e,r){switch(this.op="findOneAndRemove",this._validateOp(),this._validate(),arguments.length){case 2:typeof e=="function"&&(r=e,e={});break;case 1:typeof t=="function"&&(r=t,t=void 0,e=void 0);break}return Rn.canMerge(t)&&this.merge(t),e&&this.setOptions(e),r?(this.exec(r),this):this};R.prototype.findOneAndDelete=function(t,e,r){switch(this.op="findOneAndDelete",this._validateOp(),this._validate(),arguments.length){case 2:typeof e=="function"&&(r=e,e={});break;case 1:typeof t=="function"&&(r=t,t=void 0,e=void 0);break}return Rn.canMerge(t)&&this.merge(t),e&&this.setOptions(e),r?(this.exec(r),this):this};R.prototype._findOneAndDelete=fn(function(t){if(this._castConditions(),this.error()!=null)return t(this.error()),null;let e=this._conditions,r=this._optionsForExec(),n=null;if(this._fields!=null&&(r.projection=this._castFields(me.clone(this._fields)),n=r.projection,n instanceof Error))return t(n),null;this._collection.collection.findOneAndDelete(e,r,Ps(this,(i,s)=>{if(i)return t(i);let o=s.value;return this._completeOne(o,s,t)}))});R.prototype.findOneAndReplace=function(t,e,r,n){switch(this.op="findOneAndReplace",this._validateOp(),this._validate(),arguments.length){case 3:typeof r=="function"&&(n=r,r=void 0);break;case 2:typeof e=="function"&&(n=e,e=void 0);break;case 1:typeof t=="function"&&(n=t,t=void 0,e=void 0,r=void 0);break}if(Rn.canMerge(t)&&this.merge(t),e!=null){if(gM(e))throw new Error("The replacement document must not contain atomic operators.");this._mergeUpdate(e)}r=r||{};let i=this&&this.model&&this.model.base&&this.model.base.options&&this.model.base.options.returnOriginal;return r.new==null&&r.returnDocument==null&&r.returnOriginal==null&&i!=null&&(r.returnOriginal=i),this.setOptions(r),this.setOptions({overwrite:!0}),n?(this.exec(n),this):this};R.prototype._findOneAndReplace=fn(function(t){if(this._castConditions(),this.error()!=null)return t(this.error()),null;let e=this._conditions,r=this._optionsForExec();Xae(r);let n=null;if(this._applyPaths(),this._fields!=null&&(r.projection=this._castFields(me.clone(this._fields)),n=r.projection,n instanceof Error))return t(n),null;if(_M(this,"runValidators",!1)===!1){try{this._update=this._castUpdate(this._update,!0)}catch(o){let u=new aYe;return u.errors[o.path]=o,t(u),null}this._collection.collection.findOneAndReplace(e,this._update||{},r,Ps(this,(o,u)=>{if(o)return t(o);let a=u.value;return this._completeOne(a,u,t)}));return}let s=new this.model(this._update,null,!0);this._update=s,s.validate(o=>{if(o!=null)return t(o);s.toBSON&&(s=s.toBSON()),this._collection.collection.findOneAndReplace(e,s,r,Ps(this,(u,a)=>{if(u)return t(u);let c=a.value;return this._completeOne(c,a,t)}))})});function Xae(t){"new"in t&&(t.returnDocument=t.new?"after":"before",delete t.new),"returnOriginal"in t&&(t.returnDocument=t.returnOriginal?"before":"after",delete t.returnOriginal),typeof t.returnDocument=="string"&&(t.returnOriginal=t.returnDocument==="before")}R.prototype._findOneAndRemove=fn(function(t){if(this.error()!=null){t(this.error());return}this._findAndModify("remove",t)});function _M(t,e,r){let n=t._optionsForExec(t.model);return e in n?n[e]:e in t.model.base.options?t.model.base.options[e]:r}R.prototype._findAndModify=function(t,e){if(typeof e!="function")throw new Error("Expected callback in _findAndModify");let r=this.model,n=r.schema,i=this,s,o=CYe(this);if(o instanceof Error)return e(o);Qae(this);let u=this._optionsForExec(r);"strict"in u&&(this._mongooseOptions.strict=u.strict);let a=this.options.overwrite&&!gM(this._update);if(a&&(this._update=new this.model(this._update,null,!0)),t==="remove")u.remove=!0;else{if(!("new"in u)&&!("returnOriginal"in u)&&!("returnDocument"in u)&&(u.new=!1),"upsert"in u||(u.upsert=!1),(u.upsert||u.new)&&(u.remove=!1),!a){try{this._update=this._castUpdate(this._update,u.overwrite)}catch(m){return e(m)}let p=Object.assign({},u,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});if(this._update=Jae(this._conditions,n,this._update,p),!this._update||Object.keys(this._update).length===0)if(u.upsert){let m=me.clone(o);delete m._id,this._update={$set:m}}else return this._executionStack=null,this.findOne(e),this;else{if(this._update instanceof Error)return e(this._update);this._update.$set&&Object.keys(this._update.$set).length===0&&delete this._update.$set}}Array.isArray(u.arrayFilters)&&(u.arrayFilters=Yae(this._update,u.arrayFilters))}if(this._applyPaths(),this._fields&&(s=me.clone(this._fields),u.projection=this._castFields(s),u.projection instanceof Error))return e(u.projection);u.sort&&OYe(u);let c=function(p,m,y){if(p)return e(p);i._completeOne(m,y,e)},l=_M(this,"runValidators",!1),d=i._collection.collection;if(Xae(u),t==="remove")return d.findOneAndDelete(o,u,Ps(i,function(p,m){return c(p,m&&m.value,m)})),this;let f=a?"findOneAndReplace":"findOneAndUpdate";return l?this.validate(this._update,u,a,p=>{if(p)return e(p);this._update&&this._update.toBSON&&(this._update=this._update.toBSON()),d[f](o,this._update,u,Ps(i,function(m,y){return c(m,y&&y.value,y)}))}):(this._update&&this._update.toBSON&&(this._update=this._update.toBSON()),d[f](o,this._update,u,Ps(i,function(p,m){return c(p,m&&m.value,m)}))),this};function yM(t,e,r,n,i,s){if(i.lean&&typeof i.lean.transform=="function"){i.lean.transform(e);for(let o=0;o<t.childSchemas.length;o++){let u=r?r+"."+t.childSchemas[o].model.path:t.childSchemas[o].model.path,a=t.childSchemas[o].schema,c=Kae.get(u,e);if(c!=null){if(Array.isArray(c))for(let l=0;l<c.length;l++)i.lean.transform(c[l]);else i.lean.transform(c);yM(a,c,u,n,i)}}return s?s(null,e):void 0}return i.rawResult?s(null,n):s(null,e)}function Zae(t,e,r,n,i){if(n.lean&&typeof n.lean.transform=="function"){for(let s of e)n.lean.transform(s);for(let s=0;s<t.childSchemas.length;s++){let o=r?r+"."+t.childSchemas[s].model.path:t.childSchemas[s].model.path,u=t.childSchemas[s].schema,a=Kae.get(o,e);if(a!=null){a=a.flat();for(let c=0;c<a.length;c++)n.lean.transform(a[c]);Zae(u,a,o,n)}}}if(i)return i(null,e)}R.prototype._mergeUpdate=function(t){if(!(t==null||typeof t=="object"&&Object.keys(t).length===0))if(this._update||(this._update=Array.isArray(t)?[]:{}),t instanceof R){if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");t._update&&me.mergeClone(this._update,t._update)}else if(Array.isArray(t)){if(!Array.isArray(this._update))throw new Error("Cannot mix array and object updates");this._update=this._update.concat(t)}else{if(Array.isArray(this._update))throw new Error("Cannot mix array and object updates");me.mergeClone(this._update,t)}};function OYe(t){if(Array.isArray(t.sort)||!me.isObject(t.sort))return;let e=[];for(let r in t.sort)me.object.hasOwnProperty(t.sort,r)&&e.push([r,t.sort[r]]);t.sort=e}function wv(t,e){if(this._castConditions(),Qae(this),this.error()!=null)return e(this.error()),null;e=Ps(this,e);let r=this._conditions,n=this._optionsForExec(this.model);this._update=me.clone(this._update,n);let i=this.options.overwrite&&!gM(this._update);if(i){if(t==="updateOne"||t==="updateMany")return e(new oYe("The MongoDB server disallows overwriting documents using `"+t+"`. See: https://mongoosejs.com/docs/deprecations.html#update"));this._update=new this.model(this._update,null,!0)}else{try{this._update=this._castUpdate(this._update,n.overwrite)}catch(u){return e(u),null}if(this._update==null||Object.keys(this._update).length===0)return e(null,{acknowledged:!1}),null;let o=Object.assign({},n,{setDefaultsOnInsert:this._mongooseOptions.setDefaultsOnInsert});this._update=Jae(this._conditions,this.model.schema,this._update,o)}return Array.isArray(n.arrayFilters)&&(n.arrayFilters=Yae(this._update,n.arrayFilters)),_M(this,"runValidators",!1)?(this.validate(this._update,n,i,o=>{if(o)return e(o);this._update.toBSON&&(this._update=this._update.toBSON()),this._collection[t](r,this._update,n,e)}),null):(this._update.toBSON&&(this._update=this._update.toBSON()),this._collection[t](r,this._update,n,e),null)}R.prototype.validate=function(e,r,n,i){return Hae(i,s=>{try{n?e.$validate(s):EYe(this,this.model.schema,e,r,s)}catch(o){Ev(function(){s(o)})}})};R.prototype._execUpdate=fn(function(t){return wv.call(this,"update",t)});R.prototype._updateMany=fn(function(t){return wv.call(this,"updateMany",t)});R.prototype._updateOne=fn(function(t){return wv.call(this,"updateOne",t)});R.prototype._replaceOne=fn(function(t){return wv.call(this,"replaceOne",t)});R.prototype.update=function(t,e,r,n){return typeof r=="function"?(n=r,r=null):typeof e=="function"?(n=e,e=t,t={},r=null):typeof t=="function"?(n=t,t=void 0,e=void 0,r=void 0):typeof t=="object"&&!e&&!r&&!n&&(e=t,t=void 0,r=void 0,n=void 0),Ov(this,"update",t,e,r,n)};R.prototype.updateMany=function(t,e,r,n){return typeof r=="function"?(n=r,r=null):typeof e=="function"?(n=e,e=t,t={},r=null):typeof t=="function"?(n=t,t=void 0,e=void 0,r=void 0):typeof t=="object"&&!e&&!r&&!n&&(e=t,t=void 0,r=void 0,n=void 0),Ov(this,"updateMany",t,e,r,n)};R.prototype.updateOne=function(t,e,r,n){return typeof r=="function"?(n=r,r=null):typeof e=="function"?(n=e,e=t,t={},r=null):typeof t=="function"?(n=t,t=void 0,e=void 0,r=void 0):typeof t=="object"&&!e&&!r&&!n&&(e=t,t=void 0,r=void 0,n=void 0),Ov(this,"updateOne",t,e,r,n)};R.prototype.replaceOne=function(t,e,r,n){return typeof r=="function"?(n=r,r=null):typeof e=="function"?(n=e,e=t,t={},r=null):typeof t=="function"?(n=t,t=void 0,e=void 0,r=void 0):typeof t=="object"&&!e&&!r&&!n&&(e=t,t=void 0,r=void 0,n=void 0),this.setOptions({overwrite:!0}),Ov(this,"replaceOne",t,e,r,n)};function Ov(t,e,r,n,i,s){return t.op=e,t._validateOp(),r=me.toObject(r),n=n||{},i!=null&&"strict"in i&&(t._mongooseOptions.strict=i.strict),!(r instanceof R)&&r!=null&&r.toString()!=="[object Object]"?t.error(new od(r,"filter",e)):t.merge(r),me.isObject(i)&&t.setOptions(i),t._mergeUpdate(n),s?(t.exec(s),t):R.base[e].call(t,r,void 0,i,s)}R.prototype.transform=function(t){return this._transforms.push(t),this};R.prototype.orFail=function(t){return this.transform(e=>{switch(this.op){case"find":if(e.length===0)throw Yf(t,this);break;case"findOne":if(e==null)throw Yf(t,this);break;case"replaceOne":case"update":case"updateMany":case"updateOne":if(e&&e.modifiedCount===0)throw Yf(t,this);break;case"findOneAndDelete":case"findOneAndRemove":if((e&&e.lastErrorObject&&e.lastErrorObject.n)===0)throw Yf(t,this);break;case"findOneAndUpdate":case"findOneAndReplace":if((e&&e.lastErrorObject&&e.lastErrorObject.updatedExisting)===!1)throw Yf(t,this);break;case"deleteMany":case"deleteOne":case"remove":if(e.deletedCount===0)throw Yf(t,this);break;default:break}return e}),this};function Yf(t,e){return typeof t=="function"&&(t=t.call(e)),t==null&&(t=new iYe(e.getQuery(),e.model.modelName)),t}R.prototype.exec=function(e,r){let n=this,i=new sd;if(typeof e=="function"?(r=e,e=null):typeof e=="string"&&(this.op=e),this.op==null)throw new Error("Query must have `op` before executing");return this._validateOp(),r=this.model.$handleCallbackError(r),Hae(r,s=>{if(s=this.model.$wrapCallback(s),!n.op){s();return}this._hooks.execPre("exec",this,[],o=>{if(o!=null)return s(mM(i,o));let u="_"+this.op;this.op==="update"?u="_execUpdate":this.op==="distinct"&&(u="__distinct"),this[u].call(this,(a,c)=>{if(a)return s(mM(i,a));this._hooks.execPost("exec",this,[],{},l=>{if(l)return s(mM(i,l));s(null,c)})})})},this.model.events)};function mM(t,e){return e instanceof sd?(t.copy(e),t):e}function Ps(t,e){return function(r,n){if(r!=null)return e(r);for(let i of t._transforms)try{n=i(n)}catch(s){return e(s)}return e(null,n)}}R.prototype.then=function(t,e){return this.exec().then(t,e)};R.prototype.catch=function(t){return this.exec().then(null,t)};R.prototype.pre=function(t){return this._hooks.pre("exec",t),this};R.prototype.post=function(t){return this._hooks.post("exec",t),this};R.prototype._castUpdate=function(e,r){let n=this.schema,i=n.options.discriminatorKey,s=n._baseSchema?n._baseSchema:n;if(this._mongooseOptions.overwriteDiscriminatorKey&&e[i]!=null&&s.discriminators){let a=Object.values(s.discriminators).find(c=>c.discriminatorMapping.value===e[i]);a!=null&&(n=a)}let o;"upsert"in this.options&&(o=this.options.upsert);let u=this._conditions;if(n!=null&&me.hasUserDefinedProperty(u,n.options.discriminatorKey)&&typeof u[n.options.discriminatorKey]!="object"&&n.discriminators!=null){let a=u[n.options.discriminatorKey],c=Gae(this.model.discriminators,a);n=n.discriminators[a]||c&&c.schema||n}return fYe(n,e,{overwrite:r,strict:this._mongooseOptions.strict,upsert:o,arrayFilters:this.options.arrayFilters,overwriteDiscriminatorKey:this._mongooseOptions.overwriteDiscriminatorKey},this,this._conditions)};function CYe(t){try{return t.cast(t.model)}catch(e){return e}}R.prototype.populate=function(){if(!Array.from(arguments).some(Boolean))return this;let t=me.populate.apply(null,arguments);if(this.options!=null){let n=this.options.readConcern,i=this.options.readPreference;for(let s of t)n!=null&&(s&&s.options&&s.options.readConcern)==null&&(s.options=s.options||{},s.options.readConcern=n),i!=null&&(s&&s.options&&s.options.readPreference)==null&&(s.options=s.options||{},s.options.readPreference=i)}let e=this._mongooseOptions;if(e.lean!=null){let n=e.lean;for(let i of t)(i&&i.options&&i.options.lean)==null&&(i.options=i.options||{},i.options.lean=n)}me.isObject(e.populate)||(e.populate={});let r=e.populate;for(let n of t){let i=n.path;r[i]&&r[i].populate&&n.populate&&(n.populate=r[i].populate.concat(n.populate)),r[n.path]=n}return this};R.prototype.getPopulatedPaths=function(){let e=this._mongooseOptions.populate||{},r=Object.keys(e);for(let n of Object.keys(e)){let i=e[n];Array.isArray(i.populate)&&ece(r,i.populate,n+".")}return r};function ece(t,e,r){for(let n of e)t.push(r+n.path),Array.isArray(n.populate)&&ece(t,n.populate,r+n.path+".")}R.prototype.cast=function(t,e){e||(e=this._conditions),t=t||this.model;let r=t.schema.options.discriminatorKey;e!=null&&e.hasOwnProperty(r)&&(t=Gae(t.discriminators,e[r])||t);let n={upsert:this.options&&this.options.upsert};this.options&&("strict"in this.options&&(n.strict=this.options.strict,n.strictQuery=n.strict),"strictQuery"in this.options&&(n.strictQuery=this.options.strictQuery));try{return lYe(t.schema,e,n,this)}catch(i){throw typeof i.setModel=="function"&&i.setModel(t),i}};R.prototype._castFields=function(e){let r,n,i,s,o,u;if(e)for(i=Object.keys(e),n=[],u=i.length;u--;)s=i[u],e[s].$elemMatch&&(r||(r={}),r[s]=e[s],n.push(s));if(r){try{o=this.cast(this.model,r)}catch(a){return a}for(u=n.length;u--;)s=n[u],e[s]=o[s]}return e};R.prototype._applyPaths=function(){this._fields=this._fields||{},Sv.applyPaths(this._fields,this.model.schema);let e=!0;"selectPopulatedPaths"in this.model.base.options&&(e=this.model.base.options.selectPopulatedPaths),"selectPopulatedPaths"in this.model.schema.options&&(e=this.model.schema.options.selectPopulatedPaths),e&&_Ye(this._fields,this._userProvidedFields,this._mongooseOptions.populate)};R.prototype.cursor=function(e){this._applyPaths(),this._fields=this._castFields(this._fields),this.setOptions({projection:this._fieldsForExec()}),e&&this.setOptions(e);let r=Object.assign({},this._optionsForExec(),{projection:this.projection()});try{this.cast(this.model)}catch(n){return new Uae(this,r)._markError(n)}return new Uae(this,r)};R.prototype.maxscan=R.base.maxScan;R.prototype.tailable=function(t,e){if(t!=null&&typeof t.constructor=="function"&&t.constructor.name==="Object"&&(e=t,t=!0),t===void 0&&(t=!0),e&&typeof e=="object")for(let r of Object.keys(e))r==="awaitData"||r==="awaitdata"?this.options.awaitData=!!e[r]:this.options[r]=e[r];return R.base.tailable.call(this,t)};R.prototype.near=function(){let t=[],e=this._mongooseOptions.nearSphere;if(arguments.length===1)if(Array.isArray(arguments[0]))t.push({center:arguments[0],spherical:e});else if(typeof arguments[0]=="string")t.push(arguments[0]);else if(me.isObject(arguments[0]))typeof arguments[0].spherical!="boolean"&&(arguments[0].spherical=e),t.push(arguments[0]);else throw new TypeError("invalid argument");else if(arguments.length===2)if(typeof arguments[0]=="number"&&typeof arguments[1]=="number")t.push({center:[arguments[0],arguments[1]],spherical:e});else if(typeof arguments[0]=="string"&&Array.isArray(arguments[1]))t.push(arguments[0]),t.push({center:arguments[1],spherical:e});else if(typeof arguments[0]=="string"&&me.isObject(arguments[1]))t.push(arguments[0]),typeof arguments[1].spherical!="boolean"&&(arguments[1].spherical=e),t.push(arguments[1]);else throw new TypeError("invalid argument");else if(arguments.length===3)if(typeof arguments[0]=="string"&&typeof arguments[1]=="number"&&typeof arguments[2]=="number")t.push(arguments[0]),t.push({center:[arguments[1],arguments[2]],spherical:e});else throw new TypeError("invalid argument");else throw new TypeError("invalid argument");return R.base.near.apply(this,t)};R.prototype.nearSphere=function(){return this._mongooseOptions.nearSphere=!0,this.near.apply(this,arguments),this};Symbol.asyncIterator!=null&&(R.prototype[Symbol.asyncIterator]=function(){return this.cursor().transformNull()._transformForAsyncIterator()});R.prototype.box=function(t,e){return!Array.isArray(t)&&me.isObject(t)&&(e=t.ur,t=t.ll),R.base.box.call(this,t,e)};R.prototype.center=R.base.circle;R.prototype.centerSphere=function(){arguments[0]!=null&&typeof arguments[0].constructor=="function"&&arguments[0].constructor.name==="Object"&&(arguments[0].spherical=!0),arguments[1]!=null&&typeof arguments[1].constructor=="function"&&arguments[1].constructor.name==="Object"&&(arguments[1].spherical=!0),R.base.circle.apply(this,arguments)};R.prototype.selectedInclusively=function(){return pYe(this._fields)};R.prototype.selectedExclusively=function(){return hYe(this._fields)};R.prototype.model;tce.exports=R});var oce=h((pht,sce)=>{"use strict";var vYe=Sr(),nce=require("stream").Readable,ice=Bi(),bYe=Zx(),IYe=zn(),PYe=require("util");function ji(t){nce.call(this,{autoDestroy:!0,objectMode:!0}),this.cursor=null,this.agg=t,this._transforms=[];let e=t._model;delete t.options.cursor.useMongooseAggCursor,this._mongooseOptions={},TYe(e,this,t)}PYe.inherits(ji,nce);function TYe(t,e,r){t.collection.buffer?t.collection.emitter.once("queue",function(){t.hooks.execPre("aggregate",r,function(){e.cursor=t.collection.aggregate(r._pipeline,r.options||{}),e.emit("cursor",e.cursor)})}):t.hooks.execPre("aggregate",r,function(){e.cursor=t.collection.aggregate(r._pipeline,r.options||{}),e.emit("cursor",e.cursor)})}ji.prototype._read=function(){let t=this;vv(this,function(e,r){if(e)return t.emit("error",e);if(!r){t.push(null),t.cursor.close(function(n){if(n)return t.emit("error",n)});return}t.push(r)})};if(Symbol.asyncIterator!=null){let t="Mongoose does not support using async iterators with an existing aggregation cursor. See https://bit.ly/mongoose-async-iterate-aggregation";ji.prototype[Symbol.asyncIterator]=function(){throw new vYe(t)}}Object.defineProperty(ji.prototype,"map",{value:function(t){return this._transforms.push(t),this},enumerable:!0,configurable:!0,writable:!0});ji.prototype._markError=function(t){return this._error=t,this};ji.prototype.close=function(t){return ice(t,e=>{this.cursor.close(r=>{if(r)return e(r),this.listeners("error").length>0&&this.emit("error",r);this.emit("close"),e(null)})})};ji.prototype.next=function(t){return ice(t,e=>{vv(this,e)})};ji.prototype.eachAsync=function(t,e,r){let n=this;return typeof e=="function"&&(r=e,e={}),e=e||{},bYe(function(i){return vv(n,i)},t,e,r)};Symbol.asyncIterator!=null&&(ji.prototype[Symbol.asyncIterator]=function(){return this.transformNull()._transformForAsyncIterator()});ji.prototype._transformForAsyncIterator=function(){return this._transforms.indexOf(rce)===-1&&this.map(rce),this};ji.prototype.transformNull=function(t){return arguments.length===0&&(t=!0),this._mongooseOptions.transformNull=t,this};function rce(t){return t==null?{done:!0}:{value:t,done:!1}}ji.prototype.addCursorFlag=function(t,e){let r=this;return DYe(this,function(){r.cursor.addCursorFlag(t,e)}),this};function DYe(t,e){if(t.cursor)return e();t.once("cursor",function(){e()})}function vv(t,e){let r=e;if(t._transforms.length&&(r=function(n,i){if(n||i===null&&!t._mongooseOptions.transformNull)return e(n,i);e(n,t._transforms.reduce(function(s,o){return o(s)},i))}),t._error)return IYe(function(){r(t._error)});if(t.cursor)return t.cursor.next(function(n,i){if(n)return r(n);if(!i)return r(null,null);r(null,i)});t.once("cursor",function(){vv(t,e)})}sce.exports=ji});var EM=h((mht,uce)=>{"use strict";uce.exports=function(e,r,n){let i=r&&r.discriminatorMapping;if(n=n||"",i&&!i.isRoot){let s=e,o=(n.length>0?n+".":n)+i.key,u=i.value;if(s[0]!=null&&s[0].$match&&(s[0].$match[o]===void 0||s[0].$match[o]===u))s[0].$match[o]=u;else if(s[0]!=null&&s[0].$geoNear)s[0].$geoNear.query=s[0].$geoNear.query||{},s[0].$geoNear.query[o]=u;else if(s[0]!=null&&s[0].$search)if(s[1]&&s[1].$match!=null)s[1].$match[o]=s[1].$match[o]||u;else{let a={};a[o]=u,s.splice(1,0,{$match:a})}else{let a={};a[o]=u,s.unshift({$match:a})}}}});var cce=h((yht,ace)=>{"use strict";ace.exports=function t(e){if(Array.isArray(e))for(let r of e){if(r==null)continue;let n=r.$group||r.$bucket||r.$bucketAuto;if(n!=null)for(let s of Object.keys(n))RYe(n[s]);let i=Object.keys(r)[0];if(i&&typeof r[i]=="object"){let s=r[i];for(let o of Object.keys(s))s[o]!=null&&s[o].$function!=null&&typeof s[o].$function.body=="function"&&(s[o].$function.body=s[o].$function.body.toString())}if(r.$facet!=null)for(let s of Object.keys(r.$facet))t(r.$facet[s])}};function RYe(t){if(!(t==null||t.$accumulator==null))for(let e of["init","accumulate","merge","finalize"])typeof t.$accumulator[e]=="function"&&(t.$accumulator[e]=String(t.$accumulator[e]))}});var wM=h((ght,pce)=>{"use strict";var dce=oce(),fce=Cv(),{applyGlobalMaxTimeMS:NYe,applyGlobalDiskUse:xYe}=rM(),MYe=Vn(),SM=EM(),hce=Bi(),FYe=cce(),AM=we(),BYe=fce.prototype.read,qYe=fce.prototype.readConcern,lce=new Set(["$$DESCEND","$$PRUNE","$$KEEP"]);function Qe(t,e){this._pipeline=[],this._model=e,this.options={},arguments.length===1&&Array.isArray(t)&&this.append.apply(this,t)}Qe.prototype.options;Qe.prototype.model=function(t){return arguments.length===0?this._model:(this._model=t,t.schema!=null&&(this.options.readPreference==null&&t.schema.options.read!=null&&(this.options.readPreference=t.schema.options.read),this.options.collation==null&&t.schema.options.collation!=null&&(this.options.collation=t.schema.options.collation)),t)};Qe.prototype.append=function(){let t=arguments.length===1&&Array.isArray(arguments[0])?arguments[0]:[...arguments];if(!t.every($Ye))throw new Error("Arguments must be aggregate pipeline operators");return this._pipeline=this._pipeline.concat(t),this};Qe.prototype.addFields=function(t){if(typeof t!="object"||t===null||Array.isArray(t))throw new Error("Invalid addFields() argument. Must be an object");return this.append({$addFields:Object.assign({},t)})};Qe.prototype.project=function(t){let e={};if(typeof t=="object"&&!Array.isArray(t))Object.keys(t).forEach(function(r){e[r]=t[r]});else if(arguments.length===1&&typeof t=="string")t.split(/\s+/).forEach(function(r){if(!r)return;let n=r[0]==="-"?0:1;n===0&&(r=r.substring(1)),e[r]=n});else throw new Error("Invalid project() argument. Must be string or object");return this.append({$project:e})};Qe.prototype.near=function(t){let e={};return e.$geoNear=t,this.append(e)};"group match skip limit out densify fill".split(" ").forEach(function(t){Qe.prototype[t]=function(e){let r={};return r["$"+t]=e,this.append(r)}});Qe.prototype.unwind=function(){let t=[...arguments],e=[];for(let r of t)if(r&&typeof r=="object")e.push({$unwind:r});else if(typeof r=="string")e.push({$unwind:r[0]==="$"?r:"$"+r});else throw new Error('Invalid arg "'+r+'" to unwind(), must be string or object');return this.append.apply(this,e)};Qe.prototype.replaceRoot=function(t){let e;return typeof t=="string"?e=t.startsWith("$")?t:"$"+t:e=t,this.append({$replaceRoot:{newRoot:e}})};Qe.prototype.count=function(t){return this.append({$count:t})};Qe.prototype.sortByCount=function(t){if(t&&typeof t=="object")return this.append({$sortByCount:t});if(typeof t=="string")return this.append({$sortByCount:t[0]==="$"?t:"$"+t});throw new TypeError('Invalid arg "'+t+'" to sortByCount(), must be string or object')};Qe.prototype.lookup=function(t){return this.append({$lookup:t})};Qe.prototype.graphLookup=function(t){let e={};if(t){if(!AM.isObject(t))throw new TypeError("Invalid graphLookup() argument. Must be an object.");AM.mergeClone(e,t);let r=e.startWith;r&&typeof r=="string"&&(e.startWith=e.startWith.startsWith("$")?e.startWith:"$"+e.startWith)}return this.append({$graphLookup:e})};Qe.prototype.sample=function(t){return this.append({$sample:{size:t}})};Qe.prototype.sort=function(t){let e={};if(MYe(t)==="Object"){let r=["desc","descending",-1];Object.keys(t).forEach(function(n){if(t[n]instanceof Object&&t[n].$meta){e[n]=t[n];return}e[n]=r.indexOf(t[n])===-1?1:-1})}else if(arguments.length===1&&typeof t=="string")t.split(/\s+/).forEach(function(r){if(!r)return;let n=r[0]==="-"?-1:1;n===-1&&(r=r.substring(1)),e[r]=n});else throw new TypeError("Invalid sort() argument. Must be a string or object.");return this.append({$sort:e})};Qe.prototype.unionWith=function(t){return this.append({$unionWith:t})};Qe.prototype.read=function(t,e){return BYe.call(this,t,e),this};Qe.prototype.readConcern=function(t){return qYe.call(this,t),this};Qe.prototype.redact=function(t,e,r){if(arguments.length===3){if(typeof e=="string"&&!lce.has(e)||typeof r=="string"&&!lce.has(r))throw new Error("If thenExpr or elseExpr is string, it must be either $$DESCEND, $$PRUNE or $$KEEP");t={$cond:{if:t,then:e,else:r}}}else if(arguments.length!==1)throw new TypeError("Invalid arguments");return this.append({$redact:t})};Qe.prototype.explain=function(t,e){let r=this._model;return typeof t=="function"&&(e=t,t=null),hce(e,n=>{if(!this._pipeline.length){let i=new Error("Aggregate has empty pipeline");return n(i)}SM(this._pipeline,this._model.schema),r.hooks.execPre("aggregate",this,i=>{if(i){let s={error:i};return r.hooks.execPost("aggregate",this,[null],s,o=>{n(o)})}r.collection.aggregate(this._pipeline,this.options,(s,o)=>{if(s!=null){let u={error:s};return r.hooks.execPost("aggregate",this,[null],u,a=>{n(a)})}t!=null?o.explain(t,(u,a)=>{let c={error:u};return r.hooks.execPost("aggregate",this,[a],c,l=>l?n(l):n(null,a))}):o.explain((u,a)=>{let c={error:u};return r.hooks.execPost("aggregate",this,[a],c,l=>l?n(l):n(null,a))})})})},r.events)};Qe.prototype.allowDiskUse=function(t){return this.options.allowDiskUse=t,this};Qe.prototype.hint=function(t){return this.options.hint=t,this};Qe.prototype.session=function(t){return t==null?delete this.options.session:this.options.session=t,this};Qe.prototype.option=function(t){for(let e in t)this.options[e]=t[e];return this};Qe.prototype.cursor=function(t){return this.options.cursor=t||{},new dce(this)};Qe.prototype.collation=function(t){return this.options.collation=t,this};Qe.prototype.facet=function(t){return this.append({$facet:t})};Qe.prototype.search=function(t){return this.append({$search:t})};Qe.prototype.pipeline=function(){return this._pipeline};Qe.prototype.exec=function(t){if(!this._model)throw new Error("Aggregate not bound to any Model");let e=this._model,r=this._model.collection;return NYe(this.options,e),xYe(this.options,e),this.options&&this.options.cursor?new dce(this):hce(t,n=>{SM(this._pipeline,this._model.schema),FYe(this._pipeline),e.hooks.execPre("aggregate",this,i=>{if(i){let o={error:i};return e.hooks.execPost("aggregate",this,[null],o,u=>{n(u)})}if(!this._pipeline.length)return n(new Error("Aggregate has empty pipeline"));let s=AM.clone(this.options||{});r.aggregate(this._pipeline,s,(o,u)=>{if(o!=null)return n(o);u.toArray((a,c)=>{let l={error:a};e.hooks.execPost("aggregate",this,[c],l,(d,f)=>{if(d)return n(d);n(null,f)})})})})},e.events)};Qe.prototype.then=function(t,e){return this.exec().then(t,e)};Qe.prototype.catch=function(t){return this.exec().then(null,t)};Symbol.asyncIterator!=null&&(Qe.prototype[Symbol.asyncIterator]=function(){return this.cursor({useMongooseAggCursor:!0}).transformNull()._transformForAsyncIterator()});function $Ye(t){if(typeof t!="object"||t===null)return!1;let e=Object.keys(t);return e.length===1&&e[0][0]==="$"}Qe._prepareDiscriminatorPipeline=SM;pce.exports=Qe});var yce=h((_ht,mce)=>{"use strict";var kYe=Qo(),OM=class{constructor(e){e!=null&&Object.assign(this,kYe(e))}};mce.exports=OM});var _ce=h((Eht,gce)=>{"use strict";var jYe=Qo(),CM=class{constructor(e){e!=null&&Object.assign(this,jYe(e))}};gce.exports=CM});var Ace=h((Aht,Ece)=>{"use strict";Ece.exports=function t(e,r){let n=Object.keys(r.paths),i=n.length;for(let s=0;s<i;++s){let o="",u=n[s],a=r.paths[u],c=a.splitPath(),l=c.length,d=e;for(let f=0;f<l&&d!=null;++f){let p=c[f];if(o+=(o.length?".":"")+p,f===l-1){if(typeof d[p]<"u"){a.$isSingleNested?t(d[p],a.caster.schema):a.$isMongooseDocumentArray&&Array.isArray(d[p])&&d[p].forEach(y=>t(y,a.schema));break}let m=a.getDefault(e,!1,{skipCast:!0});typeof m<"u"&&(d[p]=m,a.$isSingleNested?t(m,a.caster.schema):a.$isMongooseDocumentArray&&Array.isArray(m)&&m.forEach(y=>t(y,a.schema)))}else d[p]==null&&(d[p]={}),d=d[p]}}}});var wce=h((Sht,Sce)=>{"use strict";var LYe=Xt(),UYe=we();Sce.exports=function t(e,r){let n=vM();function i(s,o){Object.defineProperty(e.prototype,s,{get:function(){let u={};for(let a in o.methods[s])u[a]=o.methods[s][a].bind(this);return u},configurable:!0})}for(let s of Object.keys(r.methods)){let o=r.methods[s];if(r.tree.hasOwnProperty(s))throw new Error('You have a method and a property in your schema both named "'+s+'"');if(typeof o=="function"&&n.prototype[s]===o){delete r.methods[s];continue}r.reserved[s]&&!LYe(r,`methodOptions.${s}.suppressWarning`,!1)&&UYe.warn(`mongoose: the method name "${s}" is used by mongoose internally, overwriting it may cause bugs. If you're sure you know what you're doing, you can suppress this error by using \`schema.method('${s}', fn, { suppressWarning: true })\`.`),typeof o=="function"?e.prototype[s]=o:i(s,r)}e.$appliedMethods=!0;for(let s of Object.keys(r.paths)){let o=r.paths[s];o.$isSingleNested&&!o.caster.$appliedMethods&&t(o.caster,o.schema),o.$isMongooseDocumentArray&&!o.Constructor.$appliedMethods&&t(o.Constructor,o.schema)}}});var vce=h((wht,Cce)=>{"use strict";var Oce=bx(),zYe=ag(),VYe=_v(),bv=we().isPOJO;Cce.exports=function(e,r,n){if(r==null||e==null)return e;let i=null;return VYe(r)?i=!1:zYe(r)&&(i=!0),i==null?e:i?(n=n||Oce(r),bM(e,r,n)):(n=n||Oce(r),IM(e,r,n))};function bM(t,e,r,n,i){if(t==null||typeof t!="object")return t;let s={...t};n=i?n||{}:e;for(let o of Object.keys(s)){let u=i?i+"."+o:o;e.hasOwnProperty(u)||n.hasOwnProperty(o)?bv(e[u])||bv(n[o])?s[o]=bM(s[o],e,r,n[o],u):delete s[o]:r[u]&&(s[o]=bM(s[o],e,r,n[o],u))}return s}function IM(t,e,r,n,i){if(t==null||typeof t!="object")return t;let s={...t};n=i?n||{}:e;for(let o of Object.keys(s)){let u=i?i+"."+o:o;if(e.hasOwnProperty(u)||n.hasOwnProperty(o)){(bv(e[u])||bv(n[o]))&&(s[o]=IM(s[o],e,r,n[o],u));continue}else r[u]?s[o]=IM(s[o],e,r,n[o],u):delete s[o]}return s}});var Ice=h((Oht,bce)=>{"use strict";bce.exports=function(e){let r=!1;for(let n of Object.keys(e))e[n]==="text"&&(r=!0);return r}});var Tce=h((Cht,Pce)=>{"use strict";var WYe=Ice();Pce.exports=function(e,r,n){WYe(e)||n.hasOwnProperty("collation")&&!r.hasOwnProperty("collation")&&(r.collation=n.collation)}});var Rce=h((vht,Dce)=>{"use strict";var HYe=h4().middlewareFunctions,GYe=Bi();Dce.exports=function(e,r,n){let i={useErrorHandlers:!0,numCallbackParams:1};r=r.filter(s=>HYe.indexOf(s.name)!==-1?!!s.model:s.model!==!1),e.$__insertMany=r.createWrapper("insertMany",e.$__insertMany,e,i);for(let s of Object.keys(n))if(r.hasHooks(s)){let o=e[s];e[s]=function(){let u=arguments.length,a=u>0?arguments[u-1]:null,c=typeof a=="function"?a:null,l=Array.prototype.slice.call(arguments,0,c==null?u:u-1);return GYe(c,d=>{r.execPre(s,e,l,function(f){if(f!=null)return d(f);let p=0,m=o.apply(e,l.concat(y));m!=null&&typeof m.then=="function"&&m.then(_=>y(null,_),_=>y(_));function y(_,g){if(!(p++>0)){if(_!=null)return d(_);r.execPost(s,e,[g],function(E){if(E!=null)return d(E);d(null,g)})}}})},e.events)}}}});var xce=h((bht,Nce)=>{"use strict";Nce.exports=function(e,r){for(let n in r.statics)e[n]=r.statics[n]}});var Iv=h((Iht,Mce)=>{"use strict";Mce.exports=function t(e){return this instanceof t?(this.val=e,this):new t(e)}});var Eg=h((Pht,Fce)=>{"use strict";Fce.exports=new WeakMap});var jce=h((Tht,kce)=>{"use strict";var Bce=Eg(),KYe=pe().modelSymbol,qce=we();kce.exports=$ce;var Pv=Symbol("assignRawDocsToIdStructure.hasArray");function $ce(t,e,r,n,i){let s=[],o=n.sort&&t.length>1,u=n.$nullIfNotFound,a,c,l;qce.isMongooseArray(t)&&(t=t.__array);let d=0,f=t.length;if(o&&i&&n[Pv]===void 0){n[Pv]=!1;for(let p in r)if(Array.isArray(r[p])){n[Pv]=!0;break}}for(d=0;d<f;++d){if(l=t[d],Array.isArray(l)){$ce(l,e,r,n,!0),s.push(l);continue}if(l===null&&o===!1){s.push(l);continue}if(c=String(l),a=e[c],n.clone&&a!=null)if(n.lean){let p=Bce.get(a);a=qce.clone(a),Bce.set(a,p)}else a=a.constructor.hydrate(a._doc);if(i)if(a)if(o){let p=r[c];n[Pv]?s.push(a):s[p]=a}else s.push(a);else l!=null&&l[KYe]!=null?s.push(l):s.push(n.retainNullValues||u?null:l);else s[d]=a||null}t.length=0,s.length&&s.forEach(function(p,m){t[m]=p})}});var TM=h((Dht,Lce)=>{"use strict";Lce.exports=PM;function PM(t,e){if(t.virtuals[e])return{virtual:t.virtuals[e],path:void 0};let r=e.split("."),n="",i="";for(let s=0;s<r.length;++s){if(n+=(n.length>0?".":"")+r[s],t.virtuals[n]){if(s===r.length-1)return{virtual:t.virtuals[n],path:i};continue}if(!t.nested[n]){if(t.paths[n]&&t.paths[n].schema){t=t.paths[n].schema;let o=r.slice(s+1).join(".");if(t.virtuals[o]){if(s===r.length-2)return{virtual:t.virtuals[o],nestedSchemaPath:[i,n].filter(u=>!!u).join(".")};continue}if(s+1<r.length&&t.discriminators)for(let u of Object.keys(t.discriminators)){let a=PM(t.discriminators[u],o);if(a!=null){let c=[i,n,a.nestedSchemaPath].filter(l=>!!l).join(".");return{virtual:a.virtual,nestedSchemaPath:c}}}i+=(i.length>0?".":"")+n,n="";continue}if(t.discriminators)for(let o of Object.keys(t.discriminators)){let u=PM(t.discriminators[o],e);if(u)return u}return null}}}});var Tv=h((Rht,Uce)=>{"use strict";Uce.exports=function(e,r,n){return e==null?e:(e._doc!=null&&(e=e._doc),arguments.length>=3?typeof e!="object"||n===void 0?void 0:(e instanceof Map?e.set(r,n):e[r]=n,n):r==="$*"?e instanceof Map?Array.from(e.values()):Object.keys(e).map(i=>e[i]):e instanceof Map?e.get(r):e[r])}});var Vce=h((Dv,zce)=>{(function(t,e){typeof Dv=="object"&&typeof zce<"u"?e(Dv):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.sift={}))})(Dv,function(t){"use strict";var e=function(S,C){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,D){v.__proto__=D}||function(v,D){for(var H in D)Object.prototype.hasOwnProperty.call(D,H)&&(v[H]=D[H])},e(S,C)};function r(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");e(S,C);function v(){this.constructor=S}S.prototype=C===null?Object.create(C):(v.prototype=C.prototype,new v)}var n=function(S){var C="[object "+S+"]";return function(v){return i(v)===C}},i=function(S){return Object.prototype.toString.call(S)},s=function(S){return S instanceof Date?S.getTime():o(S)?S.map(s):S&&typeof S.toJSON=="function"?S.toJSON():S},o=n("Array"),u=n("Object"),a=n("Function"),c=function(S){return S&&(S.constructor===Object||S.constructor===Array||S.constructor.toString()==="function Object() { [native code] }"||S.constructor.toString()==="function Array() { [native code] }")&&!S.toJSON},l=function(S,C){if(S==null&&S==C||S===C)return!0;if(Object.prototype.toString.call(S)!==Object.prototype.toString.call(C))return!1;if(o(S)){if(S.length!==C.length)return!1;for(var v=0,D=S.length;v<D;v++)if(!l(S[v],C[v]))return!1;return!0}else if(u(S)){if(Object.keys(S).length!==Object.keys(C).length)return!1;for(var H in S)if(!l(S[H],C[H]))return!1;return!0}return!1},d=function(S,C,v,D,H,he){var Pe=C[D];if(o(S)&&isNaN(Number(Pe))){for(var He=0,Yn=S.length;He<Yn;He++)if(!d(S[He],C,v,D,He,S))return!1}return D===C.length||S==null?v(S,H,he,D===0):d(S[Pe],C,v,D+1,Pe,S)},f=function(){function S(C,v,D,H){this.params=C,this.owneryQuery=v,this.options=D,this.name=H,this.init()}return S.prototype.init=function(){},S.prototype.reset=function(){this.done=!1,this.keep=!1},S}(),p=function(S){r(C,S);function C(v,D,H,he){var Pe=S.call(this,v,D,H)||this;return Pe.children=he,Pe}return C.prototype.reset=function(){this.keep=!1,this.done=!1;for(var v=0,D=this.children.length;v<D;v++)this.children[v].reset()},C.prototype.childrenNext=function(v,D,H,he){for(var Pe=!0,He=!0,Yn=0,Rs=this.children.length;Yn<Rs;Yn++){var Jn=this.children[Yn];if(Jn.done||Jn.next(v,D,H,he),Jn.keep||(He=!1),Jn.done){if(!Jn.keep)break}else Pe=!1}this.done=Pe,this.keep=He},C}(f),m=function(S){r(C,S);function C(v,D,H,he,Pe){var He=S.call(this,v,D,H,he)||this;return He.name=Pe,He}return C}(p),y=function(S){r(C,S);function C(){var v=S!==null&&S.apply(this,arguments)||this;return v.propop=!0,v}return C.prototype.next=function(v,D,H,he){this.childrenNext(v,D,H,he)},C}(p),_=function(S){r(C,S);function C(v,D,H,he,Pe){var He=S.call(this,D,H,he,Pe)||this;return He.keyPath=v,He.propop=!0,He._nextNestedValue=function(Yn,Rs,Jn,e1e){return He.childrenNext(Yn,Rs,Jn,e1e),!He.done},He}return C.prototype.next=function(v,D,H){d(v,this.keyPath,this._nextNestedValue,0,D,H)},C}(p),g=function(S,C){if(S instanceof Function)return S;if(S instanceof RegExp)return function(D){var H=typeof D=="string"&&S.test(D);return S.lastIndex=0,H};var v=s(S);return function(D){return C(v,s(D))}},E=function(S){r(C,S);function C(){var v=S!==null&&S.apply(this,arguments)||this;return v.propop=!0,v}return C.prototype.init=function(){this._test=g(this.params,this.options.compare)},C.prototype.next=function(v,D,H){(!Array.isArray(H)||H.hasOwnProperty(D))&&this._test(v,D,H)&&(this.done=!0,this.keep=!0)},C}(f),O=function(S,C,v){return new E(S,C,v)},w=function(S){r(C,S);function C(){var v=S!==null&&S.apply(this,arguments)||this;return v.propop=!0,v}return C.prototype.next=function(){this.done=!0,this.keep=!1},C}(f),b=function(S){return function(C,v,D,H){return C==null?new w(C,v,D,H):S(C,v,D,H)}},M=function(S){return b(function(C,v,D,H){var he=typeof s(C),Pe=S(C);return new E(function(He){return typeof s(He)===he&&Pe(He)},v,D,H)})},T=function(S,C,v,D){var H=D.operations[S];return H||G(S),H(C,v,D,S)},G=function(S){throw new Error("Unsupported operation: "+S)},ee=function(S,C){for(var v in S)if(C.operations.hasOwnProperty(v)||v.charAt(0)==="$")return!0;return!1},J=function(S,C,v,D,H){if(ee(C,H)){var he=q(C,v,H),Pe=he[0],He=he[1];if(He.length)throw new Error("Property queries must contain only operations, or exact objects.");return new _(S,C,D,H,Pe)}return new _(S,C,D,H,[new E(C,D,H)])},k=function(S,C,v){C===void 0&&(C=null);var D=v===void 0?{}:v,H=D.compare,he=D.operations,Pe={compare:H||l,operations:Object.assign({},he||{})},He=q(S,null,Pe),Yn=He[0],Rs=He[1],Jn=[];return Yn.length&&Jn.push(new _([],S,C,Pe,Yn)),Jn.push.apply(Jn,Rs),Jn.length===1?Jn[0]:new y(S,C,Pe,Jn)},q=function(S,C,v){var D=[],H=[];if(!c(S))return D.push(new E(S,S,v)),[D,H];for(var he in S)if(v.operations.hasOwnProperty(he)){var Pe=T(he,S[he],S,v);if(Pe&&!Pe.propop&&C&&!v.operations[C])throw new Error("Malformed query. "+he+" cannot be matched against property.");Pe!=null&&D.push(Pe)}else he.charAt(0)==="$"?G(he):H.push(J(he.split("."),S[he],he,S,v));return[D,H]},U=function(S){return function(C,v,D){return S.reset(),S.next(C,v,D),S.keep}},ue=function(S,C){return C===void 0&&(C={}),U(k(S,null,C))},xt=function(S){r(C,S);function C(){var v=S!==null&&S.apply(this,arguments)||this;return v.propop=!0,v}return C.prototype.init=function(){this._test=g(this.params,this.options.compare)},C.prototype.reset=function(){S.prototype.reset.call(this),this.keep=!0},C.prototype.next=function(v){this._test(v)&&(this.done=!0,this.keep=!1)},C}(f),Y=function(S){r(C,S);function C(){var v=S!==null&&S.apply(this,arguments)||this;return v.propop=!0,v}return C.prototype.init=function(){if(!this.params||typeof this.params!="object")throw new Error("Malformed query. $elemMatch must by an object.");this._queryOperation=k(this.params,this.owneryQuery,this.options)},C.prototype.reset=function(){S.prototype.reset.call(this),this._queryOperation.reset()},C.prototype.next=function(v){if(o(v)){for(var D=0,H=v.length;D<H;D++){this._queryOperation.reset();var he=v[D];this._queryOperation.next(he,D,v,!1),this.keep=this.keep||this._queryOperation.keep}this.done=!0}else this.done=!1,this.keep=!1},C}(f),te=function(S){r(C,S);function C(){var v=S!==null&&S.apply(this,arguments)||this;return v.propop=!0,v}return C.prototype.init=function(){this._queryOperation=k(this.params,this.owneryQuery,this.options)},C.prototype.reset=function(){S.prototype.reset.call(this),this._queryOperation.reset()},C.prototype.next=function(v,D,H,he){this._queryOperation.next(v,D,H,he),this.done=this._queryOperation.done,this.keep=!this._queryOperation.keep},C}(f),ht=function(S){r(C,S);function C(){var v=S!==null&&S.apply(this,arguments)||this;return v.propop=!0,v}return C.prototype.init=function(){},C.prototype.next=function(v){o(v)&&v.length===this.params&&(this.done=!0,this.keep=!0)},C}(f),_e=function(S){if(S.length===0)throw new Error("$and/$or/$nor must be a nonempty array")},rt=function(S){r(C,S);function C(){var v=S!==null&&S.apply(this,arguments)||this;return v.propop=!1,v}return C.prototype.init=function(){var v=this;_e(this.params),this._ops=this.params.map(function(D){return k(D,null,v.options)})},C.prototype.reset=function(){this.done=!1,this.keep=!1;for(var v=0,D=this._ops.length;v<D;v++)this._ops[v].reset()},C.prototype.next=function(v,D,H){for(var he=!1,Pe=!1,He=0,Yn=this._ops.length;He<Yn;He++){var Rs=this._ops[He];if(Rs.next(v,D,H),Rs.keep){he=!0,Pe=Rs.keep;break}}this.keep=Pe,this.done=he},C}(f),Tc=function(S){r(C,S);function C(){var v=S!==null&&S.apply(this,arguments)||this;return v.propop=!1,v}return C.prototype.next=function(v,D,H){S.prototype.next.call(this,v,D,H),this.keep=!this.keep},C}(rt),Kn=function(S){r(C,S);function C(){var v=S!==null&&S.apply(this,arguments)||this;return v.propop=!0,v}return C.prototype.init=function(){var v=this;this._testers=this.params.map(function(D){if(ee(D,v.options))throw new Error("cannot nest $ under "+v.name.toLowerCase());return g(D,v.options.compare)})},C.prototype.next=function(v,D,H){for(var he=!1,Pe=!1,He=0,Yn=this._testers.length;He<Yn;He++){var Rs=this._testers[He];if(Rs(v)){he=!0,Pe=!0;break}}this.keep=Pe,this.done=he},C}(f),Rg=function(S){r(C,S);function C(v,D,H,he){var Pe=S.call(this,v,D,H,he)||this;return Pe.propop=!0,Pe._in=new Kn(v,D,H,he),Pe}return C.prototype.next=function(v,D,H,he){this._in.next(v,D,H),o(H)&&!he?this._in.keep?(this.keep=!1,this.done=!0):D==H.length-1&&(this.keep=!0,this.done=!0):(this.keep=!this._in.keep,this.done=!0)},C.prototype.reset=function(){S.prototype.reset.call(this),this._in.reset()},C}(f),aa=function(S){r(C,S);function C(){var v=S!==null&&S.apply(this,arguments)||this;return v.propop=!0,v}return C.prototype.next=function(v,D,H){H.hasOwnProperty(D)===this.params&&(this.done=!0,this.keep=!0)},C}(f),Gv=function(S){r(C,S);function C(v,D,H,he){var Pe=S.call(this,v,D,H,v.map(function(He){return k(He,D,H)}),he)||this;return Pe.propop=!1,_e(v),Pe}return C.prototype.next=function(v,D,H,he){this.childrenNext(v,D,H,he)},C}(m),Ng=function(S){r(C,S);function C(v,D,H,he){var Pe=S.call(this,v,D,H,v.map(function(He){return k(He,D,H)}),he)||this;return Pe.propop=!0,Pe}return C.prototype.next=function(v,D,H,he){this.childrenNext(v,D,H,he)},C}(m),ca=function(S,C,v){return new E(S,C,v)},th=function(S,C,v,D){return new xt(S,C,v,D)},Dc=function(S,C,v,D){return new rt(S,C,v,D)},_r=function(S,C,v,D){return new Tc(S,C,v,D)},Rc=function(S,C,v,D){return new Y(S,C,v,D)},oo=function(S,C,v,D){return new Rg(S,C,v,D)},rh=function(S,C,v,D){return new Kn(S,C,v,D)},ld=M(function(S){return function(C){return C<S}}),la=M(function(S){return function(C){return C<=S}}),Nc=M(function(S){return function(C){return C>S}}),nh=M(function(S){return function(C){return C>=S}}),uo=function(S,C,v){var D=S[0],H=S[1];return new E(function(he){return s(he)%D===H},C,v)},dd=function(S,C,v,D){return new aa(S,C,v,D)},ih=function(S,C,v){return new E(new RegExp(S,C.$options),C,v)},xg=function(S,C,v,D){return new te(S,C,v,D)},oh={number:function(S){return typeof S=="number"},string:function(S){return typeof S=="string"},bool:function(S){return typeof S=="boolean"},array:function(S){return Array.isArray(S)},null:function(S){return S===null},timestamp:function(S){return S instanceof Date}},xc=function(S,C,v){return new E(function(D){if(typeof S=="string"){if(!oh[S])throw new Error("Type alias does not exist");return oh[S](D)}return D!=null?D instanceof S||D.constructor===S:!1},C,v)},fd=function(S,C,v,D){return new Gv(S,C,v,D)},QM=function(S,C,v,D){return new Ng(S,C,v,D)},XM=function(S,C,v){return new ht(S,C,v,"$size")},ZM=function(){return null},eF=function(S,C,v){var D;if(a(S))D=S;else if(!process.env.CSP_ENABLED)D=new Function("obj","return "+S);else throw new Error('In CSP mode, sift does not support strings in "$where" condition');return new E(function(H){return D.bind(H)(H)},C,v)},Xde=Object.freeze({__proto__:null,$Size:ht,$eq:ca,$ne:th,$or:Dc,$nor:_r,$elemMatch:Rc,$nin:oo,$in:rh,$lt:ld,$lte:la,$gt:Nc,$gte:nh,$mod:uo,$exists:dd,$regex:ih,$not:xg,$type:xc,$and:fd,$all:QM,$size:XM,$options:ZM,$where:eF}),tF=function(S,C,v){var D=v===void 0?{}:v,H=D.compare,he=D.operations;return k(S,C,{compare:H,operations:Object.assign({},Xde,he||{})})},Zde=function(S,C){C===void 0&&(C={});var v=tF(S,null,C);return U(v)};t.$Size=ht,t.$all=QM,t.$and=fd,t.$elemMatch=Rc,t.$eq=ca,t.$exists=dd,t.$gt=Nc,t.$gte=nh,t.$in=rh,t.$lt=ld,t.$lte=la,t.$mod=uo,t.$ne=th,t.$nin=oo,t.$nor=_r,t.$not=xg,t.$options=ZM,t.$or=Dc,t.$regex=ih,t.$size=XM,t.$type=xc,t.$where=eF,t.EqualsOperation=E,t.createDefaultQueryOperation=tF,t.createEqualsOperation=O,t.createOperationTester=U,t.createQueryOperation=k,t.createQueryTester=ue,t.default=Zde,Object.defineProperty(t,"__esModule",{value:!0})})});var Hce=h((Nht,DM)=>{var Wce=Vce();DM.exports=Wce.default;Object.assign(DM.exports,Wce)});var Xce=h((xht,Qce)=>{"use strict";var YYe=v4(),JYe=Iv(),QYe=jce(),Rv=Xt(),XYe=TM(),Jce=Eg(),Gce=Tv(),ZYe=Tx(),RM=Js(),Kce=Hce().default,xv=we(),{populateModelSymbol:eJe}=pe();Qce.exports=function(e){let r=Object.assign({},Rv(e,"allOptions.options.options"),Rv(e,"allOptions.options")),n=Object.assign({},e.options,r,{justOne:e.justOne});n.$nullIfNotFound=e.isVirtual;let i=e.populatedModel,s=[].concat(e.rawIds);e.allIds=[].concat(e.allIds),QYe(e.rawIds,e.rawDocs,e.rawOrder,n);let o=e.docs,u=e.rawIds,a=e.options,c=e.count&&e.isVirtual,l;function d(f){if(c)return f;if(f instanceof JYe)return f.val;if(f===void 0)return f;let p=e.allIds[l];if(e.path.endsWith(".$*"))return Nv(f,a,n,p);if(e.justOne===!0&&Array.isArray(f)){let m=[];for(let y of f){let _=Jce.get(y);(_==null||_===i)&&m.push(y)}for(;f.length>m.length;)Array.prototype.pop.apply(f,[]);for(let y=0;y<m.length;++y)f[y]=m[y];return Nv(f[0],a,n,p)}else if(e.justOne===!1&&!Array.isArray(f))return Nv([f],a,n,p);return Nv(f,a,n,p)}for(l=0;l<o.length;++l){let f=e.path.endsWith(".$*")?e.path.slice(0,-3):e.path,p=RM.get(f,o[l],Gce);if(p==null&&!XYe(e.originalModel.schema,f))continue;let m;c?m=tJe(u[l]):Array.isArray(e.match)?m=Array.isArray(u[l])?u[l].filter(Kce(e.match[l])):[u[l]].filter(Kce(e.match[l]))[0]:m=u[l];let y=e.originalModel.schema,_=Rv(o[l],"$__",null)!=null,g=_?p instanceof Map:xv.isPOJO(p);if(g=g&&Rv(y._getSchema(f),"$isSchemaMap"),!e.isVirtual&&g){let b=p instanceof Map?Array.from(p.keys()):Object.keys(p);m=m.reduce((M,T,G)=>(M.set(b[G],T),M),new Map)}if(_&&Array.isArray(m))for(let b of m)b!=null&&b.$__!=null&&(b.$__.parent=o[l]);else _&&m!=null&&m.$__!=null&&(m.$__.parent=o[l]);if(e.isVirtual&&_){o[l].$populated(f,e.justOne?s[0]:s,e.allOptions),Array.isArray(m)&&(m=m.map(b=>b??void 0)),RM.set(f,m,o[l],void 0,d,!1);continue}let E=f.split("."),O=o[l],w=E[0];for(let b=0;b<E.length-1&&!(Array.isArray(O)&&!xv.isArrayIndex(E[b])||E[b]==="$*");++b){if(O[E[b]]==null){let M=y._getSchema(w);if(m==null&&M!=null&&M.$isMongooseArray)break;O[E[b]]={}}if(O=O[E[b]],typeof O!="object")break}o[l].$__&&(e.allOptions.options[eJe]=e.allOptions.model,o[l].$populated(f,e.unpopulatedValues[l],e.allOptions.options),m!=null&&m.$__!=null&&(m.$__.wasPopulated={value:e.unpopulatedValues[l]}),m instanceof Map&&!m.$isMongooseMap&&(m=new YYe(m,f,o[l],o[l].schema.path(f).$__schemaType))),RM.set(f,m,o[l],Gce,d,!1),o[l].$__&&ZYe(o[l],[e.allOptions.options])}};function tJe(t){return Array.isArray(t)?t.some(e=>Array.isArray(e)||e===null)?t.map(e=>e==null?0:Array.isArray(e)?e.filter(r=>r!=null).length:1):t.filter(e=>e!=null).length:t==null?0:1}function Nv(t,e,r,n){let i=typeof r.transform=="function",s=i?r.transform:rJe;if(Array.isArray(t)){let o=[],u=t.length;for(let l=0;l<u;++l){let d=t[l],f=Array.isArray(n)?n[l]:n;if(!(!NM(d)&&(!r.retainNullValues||d!=null)&&!i)){{if(!r.retainNullValues&&d==null)continue;i&&(d=s(NM(d)?d:null,f))}if(Yce(d,e),o.push(d),e.originalLimit&&o.length>=e.originalLimit)break}}let a=o.length;for(;t.length>a;)Array.prototype.pop.apply(t,[]);let c=0;if(xv.isMongooseArray(t))for(c=0;c<a;++c)t.set(c,o[c],!0);else for(c=0;c<a;++c)t[c]=o[c];return t}return NM(t)||xv.isPOJO(t)?(Yce(t,e),s(t,n)):t instanceof Map?t:r.justOne===!1?[]:t==null?s(t,n):s(null,n)}function Yce(t,e){t!=null&&e.excludeId&&(typeof t.$__setValue=="function"?delete t._doc._id:delete t._id)}function NM(t){return t==null?!1:Array.isArray(t)||t.$isMongooseMap||t.$__!=null||Jce.has(t)}function rJe(t){return t}});var ile=h((Mht,nle)=>{"use strict";var nJe=ro(),Zce=dN(),ele=fN(),Ag=Rf(),tle=dM(),rle=pM();nle.exports=function(e,r,n){let i=e.base.now();return r.insertOne?s=>{let o=Qf(e,r.insertOne.document),u=new o(r.insertOne.document);if(o.schema.options.timestamps&&n.timestamps!==!1&&u.initializeTimestamps(),n.session!=null&&u.$session(n.session),r.insertOne.document=u,n.skipValidation||r.insertOne.skipValidation){s(null);return}r.insertOne.document.$validate({__noPromise:!0},function(a){if(a)return s(a,null);s(null)})}:r.updateOne?s=>{try{if(!r.updateOne.filter)throw new Error("Must provide a filter object.");if(!r.updateOne.update)throw new Error("Must provide an update object.");let o=Qf(e,r.updateOne.filter),u=o.schema,a=n.strict!=null?n.strict:o.schema.options.strict;if(Sg(u,r.updateOne.filter),o.schema.$timestamps!=null&&r.updateOne.timestamps!==!1){let c=o.schema.$timestamps.createdAt,l=o.schema.$timestamps.updatedAt;ele(i,c,l,r.updateOne.update,{})}Zce(i,r.updateOne.update,o.schema),r.updateOne.setDefaultsOnInsert!==!1&&rle(r.updateOne.filter,o.schema,r.updateOne.update,{setDefaultsOnInsert:!0,upsert:r.updateOne.upsert}),r.updateOne.filter=Ag(o.schema,r.updateOne.filter,{strict:a,upsert:r.updateOne.upsert}),r.updateOne.update=tle(o.schema,r.updateOne.update,{strict:a,overwrite:!1,upsert:r.updateOne.upsert},o,r.updateOne.filter)}catch(o){return s(o,null)}s(null)}:r.updateMany?s=>{try{if(!r.updateMany.filter)throw new Error("Must provide a filter object.");if(!r.updateMany.update)throw new Error("Must provide an update object.");let o=Qf(e,r.updateMany.filter),u=o.schema,a=n.strict!=null?n.strict:o.schema.options.strict;if(r.updateMany.setDefaultsOnInsert!==!1&&rle(r.updateMany.filter,o.schema,r.updateMany.update,{setDefaultsOnInsert:!0,upsert:r.updateMany.upsert}),o.schema.$timestamps!=null&&r.updateMany.timestamps!==!1){let c=o.schema.$timestamps.createdAt,l=o.schema.$timestamps.updatedAt;ele(i,c,l,r.updateMany.update,{})}Zce(i,r.updateMany.update,o.schema),Sg(u,r.updateMany.filter),r.updateMany.filter=Ag(o.schema,r.updateMany.filter,{strict:a,upsert:r.updateMany.upsert}),r.updateMany.update=tle(o.schema,r.updateMany.update,{strict:a,overwrite:!1,upsert:r.updateMany.upsert},o,r.updateMany.filter)}catch(o){return s(o,null)}s(null)}:r.replaceOne?s=>{let o=Qf(e,r.replaceOne.filter),u=o.schema,a=n.strict!=null?n.strict:o.schema.options.strict;Sg(u,r.replaceOne.filter);try{r.replaceOne.filter=Ag(o.schema,r.replaceOne.filter,{strict:a,upsert:r.replaceOne.upsert})}catch(l){return s(l,null)}let c=new o(r.replaceOne.replacement,a,!0);if(o.schema.options.timestamps&&c.initializeTimestamps(),n.session!=null&&c.$session(n.session),r.replaceOne.replacement=c,n.skipValidation||r.replaceOne.skipValidation){r.replaceOne.replacement=r.replaceOne.replacement.toBSON(),s(null);return}r.replaceOne.replacement.$validate({__noPromise:!0},function(l){if(l)return s(l,null);r.replaceOne.replacement=r.replaceOne.replacement.toBSON(),s(null)})}:r.deleteOne?s=>{let o=Qf(e,r.deleteOne.filter),u=o.schema;Sg(u,r.deleteOne.filter);try{r.deleteOne.filter=Ag(o.schema,r.deleteOne.filter)}catch(a){return s(a,null)}s(null)}:r.deleteMany?s=>{let o=Qf(e,r.deleteMany.filter),u=o.schema;Sg(u,r.deleteMany.filter);try{r.deleteMany.filter=Ag(o.schema,r.deleteMany.filter)}catch(a){return s(a,null)}s(null)}:s=>{s(new Error("Invalid op passed to `bulkWrite()`"),null)}};function Sg(t,e){t!=null&&t.discriminatorMapping&&!t.discriminatorMapping.isRoot&&(e[t.discriminatorMapping.key]=t.discriminatorMapping.value)}function Qf(t,e){let r=t.schema.options.discriminatorKey;return e!=null&&e.hasOwnProperty(r)&&(t=nJe(t.discriminators,e[r])||t),t}});var ale=h((Fht,ule)=>{"use strict";var iJe=Iv(),sJe=ov(),{trusted:Mv}=yf(),sle=gv();ule.exports=function(e,r,n,i,s){let o=oJe(r);if(n.size===1){let u=Array.from(n)[0],a=i.schema.path(u);if(u!=="_id"||!o._id)e=ole(e,a,s),o[u]=Mv({$in:e});else if(u==="_id"&&o._id){let l=sle(o[u])?o[u]:{$eq:o[u]};o[u]={...Mv({$in:e}),...l}}let c=sJe(u);for(let l=0;l<c.length-1;++l){let d=c[l];if(o[d]!=null&&o[d].$elemMatch!=null){o[d].$elemMatch[u.slice(d.length+1)]=Mv({$in:e}),delete o[u];break}}}else{let u=[];Array.isArray(o.$or)?(o.$and=[{$or:o.$or},{$or:u}],delete o.$or):o.$or=u;for(let a of n)if(a!=="_id"||!o._id){let c=i.schema.path(a);e=ole(e,c,s),u.push({[a]:{$in:e}})}else if(a==="_id"&&o._id){let c=sle(o[a])?o[a]:{$eq:o[a]};o[a]={...Mv({$in:e}),...c}}}return o};function ole(t,e,r){return t=t.filter(n=>!(n instanceof iJe)),r?t.filter(n=>{try{return e.cast(n),!0}catch{return!1}}):t}function oJe(t){return Array.isArray(t)?t.length>1?{$or:[].concat(t.map(e=>Object.assign({},e)))}:Object.assign({},t[0]):Object.assign({},t)}});var lle=h((Bht,cle)=>{"use strict";function uJe(){return{result:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},insertedCount:0,matchedCount:0,modifiedCount:0,deletedCount:0,upsertedCount:0,upsertedIds:{},insertedIds:{},n:0}}cle.exports=uJe});var fle=h((qht,dle)=>{"use strict";dle.exports=function(e){return e==null?null:Object.keys(e)[0]}});var yle=h(($ht,mle)=>{"use strict";var hle=Gl(),aJe=Xt(),cJe=ro(),ple=Eg(),Xf=Js(),lJe=pe().populateModelSymbol;mle.exports=function t(e,r,n,i){let s=r.path(i),o=n;if(s)return s;let u=r.discriminatorMapping&&r.discriminatorMapping.key;if(u&&e!=null){if(n!=null&&n[u]!=null){let l=cJe(e.discriminators,n[u]);r=l?l.schema:r}else if(e.discriminators!=null)return Object.keys(e.discriminators).reduce((l,d)=>{let f=e.discriminators[d];return l.concat(t(f,f.schema,null,i))},[])}function a(l,d,f,p){let m=l.length+1,y,_;for(;m--;){if(_=l.slice(0,m).join("."),y=d.path(_),y==null)continue;if(y.caster){if(y.caster instanceof hle)return y.caster;let O=null;if(y.schema!=null&&y.schema.discriminators!=null){let w=y.schema.discriminators,b=_+"."+y.schema.options.discriminatorKey,M=f?Xf.get(b,f)||[]:[];O=Object.keys(w).reduce(function(T,G){let ee=w[G].discriminatorMapping.value;return(n==null||M.indexOf(G)!==-1||M.indexOf(ee)!==-1)&&T.push(w[G]),T},[])}if(m!==l.length&&y.schema){let w;if(l[m]==="$")return m+1===l.length?y:(w=a(l.slice(m+1),d,f?Xf.get(_,f):null,p.concat(l.slice(0,m))),w&&(w.$isUnderneathDocArray=w.$isUnderneathDocArray||!y.schema.$isSingleNested),w);if(O!=null&&O.length>0){w=[];for(let b of O){let M=a(l.slice(m),b,f?Xf.get(_,f):null,p.concat(l.slice(0,m)));M!=null&&(M.$isUnderneathDocArray=M.$isUnderneathDocArray||!y.schema.$isSingleNested,M.$isUnderneathDocArray&&(w.$isUnderneathDocArray=!0),w.push(M))}return w}else return w=a(l.slice(m),y.schema,f?Xf.get(_,f):null,p.concat(l.slice(0,m))),w&&(w.$isUnderneathDocArray=w.$isUnderneathDocArray||!y.schema.$isSingleNested),w}else if(m!==l.length&&y.$isMongooseArray&&y.casterConstructor.$isMongooseArray){let w=y;for(;w.$isMongooseArray&&!w.$isMongooseDocumentArray;)w=w.casterConstructor;let b=a(l.slice(m),w.schema,null,p.concat(l.slice(0,m)));if(b!=null)return b;if(w.schema.discriminators){let M=[];for(let T of Object.keys(w.schema.discriminators)){let G=w.schema.discriminators[T]||w.schema,ee=a(l.slice(m),G,null,p.concat(l.slice(0,m)));ee!=null&&M.push(ee)}if(M.length>0)return M}}}else if(y.$isSchemaMap&&y.$__schemaType instanceof hle)return y.$__schemaType;let g=p.concat([_]).join(".");if(o!=null&&o.$__&&o.$populated(g)&&m<l.length){let O=n.$__.populated[g].options[lJe];if(O!=null){let w=a(l.slice(m),O.schema,f?Xf.get(_,f):null,p.concat(l.slice(0,m)));return w&&(w.$isUnderneathDocArray=w.$isUnderneathDocArray||!O.schema.$isSingleNested),w}}let E=aJe(o,_);if(E!=null){let O=Array.isArray(E)&&E.length>0?ple.get(E[0]):ple.get(E),w=O!=null?O.schema:null;if(w!=null){let b=a(l.slice(m),w,f?Xf.get(_,f):null,p.concat(l.slice(0,m)));if(b!=null)return b.$isUnderneathDocArray=b.$isUnderneathDocArray||!w.$isSingleNested,b}}return y}}let c=i.split(".");for(let l=0;l<c.length;++l)c[l]==="$"&&(c[l]="0");return a(c,r,n,[])}});var xM=h((kht,gle)=>{"use strict";var dJe=zf();gle.exports=function(e,r){if(e==null)return!1;if(r==="_id")return e._id===0;let n=Object.keys(e),i=null;for(let s of n)if(dJe(e[s])){i=e[r]===1?"inclusive":"exclusive";break}return i==="inclusive"?e[r]!==1:i==="exclusive"?e[r]===0:!1}});var Ole=h((jht,wle)=>{"use strict";var fJe=Sr(),hJe=xM(),_le=Tv(),Ele=Js(),pJe=require("util"),Ale=we(),Sle=/(\.\d+$|\.\d+\.)/g;wle.exports=function(e,r,n,i,s){if(e==null)return[];if(typeof e=="string"&&s!=null&&hJe(s,e))throw new fJe("refPath `"+e+"` must not be excluded in projection, got "+pJe.inspect(s));if(Sle.test(n)){let a=n.split(Sle);if(a[a.length-1]==="")throw new Error("Can't populate individual element in an array");let c="",l=e;for(let p=0;p<a.length;p+=2){let m=a[p];if(l.startsWith(m+"."))c+=l.substring(0,m.length)+a[p+1],l=l.substring(m.length+1);else if(p===a.length-1){c+=l,l="";break}else throw new Error("Could not normalize ref path, chunk "+m+" not in populated path")}let d=Ele.get(c,r,_le),f=Array.isArray(d)?d:[d];return f=Ale.array.flatten(f),f}let o=Ele.get(e,r,_le),u;return i!=null&&i.virtuals.hasOwnProperty(e)?u=[i.virtuals[e].applyGetters(void 0,r)]:u=Array.isArray(o)?o:[o],u=Ale.array.flatten(u),u}});var Dle=h((Lht,Tle)=>{"use strict";var ble=kt(),mJe=Iv(),Ts=Xt(),yJe=ro(),gJe=Vn(),Cle=yle(),_Je=TM(),Og=Tv(),ud=Js(),wg=Ole(),Nn=we(),Fv=pe().modelSymbol,vle=pe().populateModelSymbol,FM=Hl().schemaMixedSymbol,EJe=QR();Tle.exports=function(e,r,n){let i,s=r.length,o=[],u=n.model&&n.model.modelName||n.model,a,c,l,d={},f=e.schema;if(n._localModel!=null&&n._localModel.schema.nested[n.path])return[];let p=_Je(e.schema,n.path);if((p==null?null:p.virtual)!=null)return AJe(e,r,n,p);let y=Cle(e,f,null,n.path);if(y=Array.isArray(y)?y:[y].filter(g=>g!=null),y.length===0&&n.strictPopulate!==!1&&n._localModel!=null)return new EJe(n._fullPath||n.path);for(let g=0;g<s;g++){i=r[g];let E=null,O=i!=null&&i.$__!=null?i.$__schema:f;if(a=Cle(e,O,i,n.path),a!=null&&a.$isMongooseDocumentArray&&a.options.ref==null&&a.options.refPath==null)continue;if(a&&a.$isUnderneathDocArray&&Ts(n,"options.sort")!=null)return new ble("Cannot populate with `sort` on path "+n.path+" because it is a subproperty of a document array");l=null;let b=!1,M=null,T=null,G=null;if(a!=null&&a.instance==="Embedded"){if(a.options.ref){let Y={localField:n.path+"._id",foreignField:"_id",justOne:!0},te=_(i,a,u,e),ht=ud.get(n.path,i),_e=ud.get("_id",ht);BM(e,o,d,te.modelNames,n,Y,_e,i,T,ht)}continue}if(Array.isArray(a)){let Y=a;for(let te of Y){let ht,_e;try{_e=_(i,te,u,e),ht=_e.modelNames,b=b||_e.isRefPath,M=M||_e.refPath,E=_e.justOne}catch(rt){return rt}if(!(b&&!_e.isRefPath)&&ht){l=l||[];for(let rt of ht)l.indexOf(rt)===-1&&l.push(rt)}}}else{try{let Y=_(i,a,u,e);l=Y.modelNames,b=Y.isRefPath,M=M||Y.refPath,E=Y.justOne,T=Ts(a,"options.populate",null),b&&(G=l,l=Array.from(new Set(l)))}catch(Y){return Y}if(!l)continue}let ee={},J=n.path,k="_id";if("justOne"in n&&n.justOne!==void 0?E=n.justOne:a&&!a[FM]&&(n.path.endsWith("."+a.path)||n.path===a.path)&&(E=Array.isArray(a)?a.every(Y=>!Y.$isMongooseArray):!a.$isMongooseArray),!l)continue;ee.isVirtual=!1,ee.justOne=E,ee.localField=J,ee.foreignField=k;let q=Ile(i,J,e,n,null,a),U=String(Nn.getValue(k,i));n._docs[U]=Array.isArray(q)?q.slice():q;let ue=Ts(n,"match",null),xt=typeof ue=="function";xt&&(ue=ue.call(i,i)),ee.match=ue,ee.hasMatchFunction=xt,ee.isRefPath=b,ee.modelNamesInOrder=G,b&&(l=SJe(i,f,ee,n,M,q)||l);try{BM(e,o,d,l,n,ee,q,i,T)}catch(Y){return Y}}return o;function _(g,E,O,w){let b,M=!1,T=null,G=E;E&&E.instance==="Array"&&(E=E.caster),E&&E.$isSchemaMap&&(E=E.$__schemaType);let ee=E&&E.options&&E.options.ref;if(c=E&&E.options&&E.options.refPath,E!=null&&E[FM]&&!ee&&!c&&!O)return{modelNames:null};if(O)b=[O];else if(c!=null){if(typeof c=="function"){let J=n.path.slice(0,n.path.length-E.path.length-1),k=ud.get(J,g,Og),q=Array.isArray(k)?Nn.array.flatten(k):k?[k]:[];b=new Set;for(let U of q)c=c.call(U,U,n.path),wg(c,g,n.path,f,n._queryProjection).forEach(ue=>b.add(ue));b=Array.from(b)}else b=wg(c,g,n.path,f,n._queryProjection);M=!0}else{let J,k,q,U,ue=w,xt=w.schema.options.discriminatorKey;if(!E&&xt&&(U=Nn.getValue(xt,g))){let Y=yJe(w.discriminators,U)||w;if(Y!=null)ue=Y;else try{ue=qM(w.db,U)}catch(te){return te}q=ue.schema._getSchema(n.path),q&&q.caster&&(q=q.caster)}else q=E;if(G&&G.path.endsWith(".$*")?T=!G.$isMongooseArray&&!G._arrayPath:q!=null&&(T=!q.$isMongooseArray&&!q._arrayPath),(J=Ts(q,"options.ref"))!=null)if(q!=null&&typeof J=="function"&&n.path.endsWith("."+q.path)){b=new Set;let Y=n.path.slice(0,n.path.length-q.path.length-1),te=ud.get(Y,g,Og),ht=Array.isArray(te)?Nn.array.flatten(te):te?[te]:[];for(let _e of ht)b.add(MM(J,_e));ht.length===0?b=[MM(J,g)]:b=Array.from(b)}else J=MM(J,g),b=[J];else if((q=Ts(E,"options.refPath"))!=null)if(M=!0,typeof k=="function"){let Y=n.path.slice(0,n.path.length-q.path.length-1),te=ud.get(Y,g,Og),ht=Array.isArray(te)?Nn.array.flatten(te):te?[te]:[];b=new Set;for(let _e of ht)k=k.call(_e,_e,n.path),wg(k,g,n.path,f,n._queryProjection).forEach(rt=>b.add(rt));b=Array.from(b)}else b=wg(k,g,n.path,f,n._queryProjection)}if(!b)if(n._localModel==null)b=[w.modelName];else return{modelNames:b,justOne:T,isRefPath:M,refPath:c};return Array.isArray(b)||(b=[b]),{modelNames:b,justOne:T,isRefPath:M,refPath:c}}};function AJe(t,e,r,n){let i=[],s={},o=n.virtual;for(let u of e){let a=null,c={},l,d=n.nestedSchemaPath?n.nestedSchemaPath+".":"";typeof r.localField=="string"?l=r.localField:typeof o.options.localField=="function"?l=d+o.options.localField.call(u,u):Array.isArray(o.options.localField)?l=o.options.localField.map(g=>d+g):l=d+o.options.localField,c.count=o.options.count,o.options.skip!=null&&!r.hasOwnProperty("skip")&&(r.skip=o.options.skip),o.options.limit!=null&&!r.hasOwnProperty("limit")&&(r.limit=o.options.limit),o.options.perDocumentLimit!=null&&!r.hasOwnProperty("perDocumentLimit")&&(r.perDocumentLimit=o.options.perDocumentLimit);let f=o.options.foreignField;if(!l||!f)return new ble("If you are populating a virtual, you must set the localField and foreignField options");typeof l=="function"&&(l=l.call(u,u)),typeof f=="function"&&(f=f.call(u,u)),c.isRefPath=!1;let p=null;if("justOne"in r&&r.justOne!==void 0&&(p=r.justOne),o.options.refPath)a=wg(o.options.refPath,u,r.path),p=!!o.options.justOne,c.isRefPath=!0;else if(o.options.ref){let g;typeof o.options.ref=="function"&&!o.options.ref[Fv]?g=o.options.ref.call(u,u):g=o.options.ref,p=!!o.options.justOne,Array.isArray(g)?a=g:a=[g]}c.isVirtual=!0,c.virtual=o,c.justOne=p;let m=Ts(r,"match",null)||Ts(c,"virtual.options.match",null)||Ts(c,"virtual.options.options.match",null),y=typeof m=="function";if(y&&(m=m.call(u,u)),Array.isArray(l)&&Array.isArray(f)&&l.length===f.length){m=Object.assign({},m);for(let g=1;g<l.length;++g)m[f[g]]=Ple(ud.get(l[g],u,Og),t.schema),y=!0;l=l[0],f=f[0]}c.localField=l,c.foreignField=f,c.match=m,c.hasMatchFunction=y;let _=Ile(u,l,t,r,o);try{BM(t,i,s,a,r,c,_,u)}catch(g){return g}}return i}function BM(t,e,r,n,i,s,o,u,a,c){let l=i.connection!=null?i.connection:t.db;if(c=c===void 0?o:c,Array.isArray(c)&&(c=Nn.cloneArrays(c)),n==null)return;let d=n.length;for(;d--;){let f=n[d];if(f==null)continue;let p;if(i.model&&i.model[Fv])p=i.model;else if(f[Fv])p=f;else try{p=qM(l,f)}catch(E){if(o!==void 0)throw E;p=null}let m=o,y=Array.isArray(o)?Nn.array.flatten(o):[],_=s.modelNamesInOrder?s.modelNamesInOrder:n;s.isRefPath&&Array.isArray(o)&&y.length===_.length&&(m=y.filter((E,O)=>_[O]===f));let g=i.perDocumentLimit==null?Ts(i,"options.perDocumentLimit",null):i.perDocumentLimit;if(!r[f]||g!=null){let E={model:p};s.isVirtual&&Ts(s.virtual,"options.options")?E.options=Nn.clone(s.virtual.options.options):a!=null&&(E.options=Object.assign({},a)),Nn.merge(E,i),i[vle]=p,r[f]={model:p,options:E,match:s.hasMatchFunction?[s.match]:s.match,docs:[u],ids:[m],allIds:[o],unpopulatedValues:[c],localField:new Set([s.localField]),foreignField:new Set([s.foreignField]),justOne:s.justOne,isVirtual:s.isVirtual,virtual:s.virtual,count:s.count,[vle]:p},e.push(r[f])}else r[f].localField.add(s.localField),r[f].foreignField.add(s.foreignField),r[f].docs.push(u),r[f].ids.push(m),r[f].allIds.push(o),r[f].unpopulatedValues.push(c),s.hasMatchFunction&&r[f].match.push(s.match)}}function qM(t,e){return t.models[e]==null&&t._parent!=null?qM(t._parent,e):t.model(e)}function MM(t,e){return typeof t=="function"&&!t[Fv]?t.call(e,e):t}function Ile(t,e,r,n,i,s){let o=r.schema._getPathType(e),u=o==="real"?r.schema.path(e):o.schema,a=u&&u.getters?u.getters:[];e=u!=null&&u.instance==="Embedded"?e+"._id":e;let c=Ts(n,"options",{}),l="getters"in c?c.getters:Ts(i,"options.getters",!1);if(a.length!==0&&l){let d=t.$__!=null?t:r.hydrate(t),f=Nn.getValue(e,t);if(Array.isArray(f)){let p=Nn.getValue(e.split(".").slice(0,-1),d);return f.map((m,y)=>u.applyGetters(m,p[y]))}else return u.applyGetters(f,d)}else return Ple(ud.get(e,t,Og),s)}function Ple(t,e){if(t!=null&&t.$__!=null||t!=null&&t._id!=null&&(e==null||!e.$isSchemaMap))return t._id;if(Array.isArray(t)){let r=t.__array!=null?t.__array:t;for(let n=0;n<r.length;++n)r[n]!=null&&r[n].$__!=null&&(r[n]=r[n]._id);return Nn.isMongooseArray(t)&&t.$schema()?t.$schema()._castForPopulate(t,t.$parent()):[].concat(t)}if(gJe(t)==="Object"&&(e==null||e[FM]==null)){let r=[];for(let n of Object.keys(t))r.push(t[n]);return r}return t instanceof Map?Array.from(t.values()):t}function SJe(t,e,r,n,i,s){if(!r.isRefPath||i==null)return;let o=i.split("."),u="",a;for(let c=0;c<o.length;++c){let l=o[c];u=u+(u.length===0?"":".")+l;let d=e.path(u);if(d!=null&&d.$isMongooseArray&&d.caster.discriminators!=null&&Object.keys(d.caster.discriminators).length!==0){let f=Nn.getValue(u,t),p=n.path.substring(u.length+1),m=d.caster.schema.options.discriminatorKey;a=[];for(let y of f){let _=Nn.getValue(m,y),g=d.caster.discriminators[_],E=g&&g.schema;if(E==null)continue;let O=E.path(p);if(O==null||O.options.refPath==null){let b=Nn.getValue(r.localField.substring(u.length+1),y);s.forEach((M,T)=>{M===b&&(s[T]=mJe(M))});continue}let w=Nn.getValue(o.slice(c+1).join("."),y);a.push(w)}}}return a}});var Nle=h((Uht,Rle)=>{"use strict";var wJe=Xt();Rle.exports=function(e){if(Array.isArray(e)){let n=Object.keys(e[0]);return n.length===1&&n[0]==="_id"&&e[0]._id!=="hashed"}if(typeof e!="object")return!1;let r=wJe(e,"key",{});return Object.keys(r).length===1&&r.hasOwnProperty("_id")}});var Fle=h((zht,Mle)=>{"use strict";var Bv=Xt(),xle=we();Mle.exports=function(e,r,n){if(n.textIndexVersion!=null){delete n.key._fts,delete n.key._ftsx;let u={...n.weights,...n.key};if(Object.keys(u).length!==Object.keys(e).length)return!1;for(let a of Object.keys(u)){if(!(a in e))return!1;let c=u[a];if(c!==Bv(r,"weights."+a)&&!(c===1&&Bv(r,"weights."+a)==null))return!1}return r.default_language!==n.default_language?n.default_language==="english"&&r.default_language==null:!0}let i=["unique","partialFilterExpression","sparse","expireAfterSeconds","collation"];for(let u of i)if(!(!(u in r)&&!(u in n))){if(u==="collation"){if(r[u]==null||n[u]==null)return r[u]==null&&n[u]==null;let a=Object.keys(r.collation),c=r.collation,l=n.collation;for(let d of a)if(Bv(c,d)!==Bv(l,d))return!1}else if(!xle.deepEqual(r[u],n[u]))return!1}let s=Object.keys(e),o=Object.keys(n.key);if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u]||!xle.deepEqual(e[s[u]],n.key[o[u]]))return!1;return!0}});var kle=h((Vht,$le)=>{"use strict";function OJe(t,e){return qle({baseModelName:t.baseModelName,discriminatorMapping:t.schema.discriminatorMapping,indexes:e,indexesType:"schema"})}function CJe(t,e){return qle({baseModelName:t.baseModelName,discriminatorMapping:t.schema.discriminatorMapping,indexes:e,indexesType:"db"})}$le.exports={getRelatedSchemaIndexes:OJe,getRelatedDBIndexes:CJe};function qle({baseModelName:t,discriminatorMapping:e,indexes:r,indexesType:n}){let i=e&&e.key,s=e&&e.value;return i?Boolean(t)?r.filter(u=>{let a=Ble(u,n);return a&&a[i]===s}):r.filter(u=>{let a=Ble(u,n);return!a||!a[i]}):r}function Ble(t,e){if(e==="schema"){let r=t[1];return r&&r.partialFilterExpression}return t.partialFilterExpression}});var Lle=h((Wht,jle)=>{"use strict";jle.exports=function(e,r){let n=r.split("."),i="",s,o,u;for(let a=0;a<n.length;++a)if(i+=i.length?".":""+n[a],e[i]){for(o=Object.keys(e),u=o.length,s=0;s<u;++s)o[a].indexOf(i+".")===0&&o[a].indexOf(r);return!0}return!1}});var zle=h((Hht,Ule)=>{"use strict";Ule.exports=vJe;function vJe(t,e,r){let n=0,i=0,s=null;if(e<=0)throw new Error("Limit must be positive");if(t.length===0)return r(null,[]);for(let c=0;c<t.length&&c<e;++c)o();function o(){t[i+n](a(i+n)),++n}let u=[];function a(c){return(l,d)=>{if(--n,++i,s==null){if(l!=null)return s=l,r(s);if(u[c]=d,i===t.length)return r(null,u);i+n<t.length&&o()}}}}});var Wle=h((Ght,Vle)=>{"use strict";Vle.exports=function t(e,r,n){if(r!=null)for(let i=0;i<r.length;++i)Array.isArray(r[i])?t(e,r[i],n+"."+i):e.push(n+"."+i)}});var Jle=h((Kht,Yle)=>{"use strict";var Hle=Xt(),Gle=Js(),Kle=fM();Yle.exports=function(e,r,n){let i=Kle(Hle(r,"select",null),!0)||Kle(Hle(r,"options.select",null),!0);if(i!=null){for(let s of e)if(i.hasOwnProperty("-"+s))for(let o of n)o.$__!=null?Gle.unset(s,o._doc):Gle.unset(s,o)}}});var vM=h((fde,hde)=>{"use strict";var bJe=wM(),IJe=Hx(),ad=mi(),PJe=WC(),TJe=JR(),$M=require("events").EventEmitter,DJe=Vy(),Li=kt(),RJe=YR(),NJe=qy(),qv=Cv(),xJe=yce(),MJe=_ce(),kv=Lf(),FJe=XC(),jv=Wl(),rde=GR(),Qle=KR(),BJe=z4(),qJe=Ace(),$Je=h4(),kJe=p4(),nde=wce(),jJe=vce(),ide=Tce(),LJe=Rce(),sde=xce(),ode=nM(),UJe=Xce(),zJe=ile(),VJe=ale(),WJe=lle(),HJe=M4(),GJe=Y4(),KJe=fle(),YJe=V4(),vg=Xt(),JJe=Vn(),ude=ro(),QJe=Dle(),cd=zn(),Lv=Sc().internalToObjectOptions,kM=Nle(),ade=Fle(),{getRelatedDBIndexes:XJe,getRelatedSchemaIndexes:ZJe}=kle(),Xle=xM(),jM=uN(),eQe=Lle(),tQe=Eg(),rQe=iM(),nQe=zle(),iQe=ov(),sQe=EM(),cde=Wle(),oQe=Jle(),uQe=sv(),Zle=require("util"),Ie=we(),bg=1,eh=2,Ig=bg|eh,LM=pe().arrayAtomicsSymbol,Pg=Symbol("mongoose#Model#collection"),Uv=Symbol("mongoose#Model#db"),lde=pe().modelSymbol,Cg=Symbol("mongoose#Model#subclassed"),aQe=Object.assign({},Lv,{bson:!0});function j(t,e,r){if(e instanceof kv)throw new TypeError("2nd argument to `Model` must be a POJO or string, **not** a schema. Make sure you're calling `mongoose.model()`, not `mongoose.Model()`.");ad.call(this,t,e,r)}Object.setPrototypeOf(j.prototype,ad.prototype);j.prototype.$isMongooseModelPrototype=!0;j.prototype.db;j.prototype.collection;j.prototype.$__collection;j.prototype.modelName;j.prototype.$where;j.prototype.baseModelName;j.events;j._middleware;function UM(t,e){if(t.$where!=null)for(let r of Object.keys(t.$where))e[r]=t.$where[r]}j.prototype.$__handleSave=function(t,e){let r={};if(ode(this.$__schema,t),typeof t.writeConcern<"u"?(r.writeConcern={},"w"in t.writeConcern&&(r.writeConcern.w=t.writeConcern.w),"j"in t.writeConcern&&(r.writeConcern.j=t.writeConcern.j),"wtimeout"in t.writeConcern&&(r.writeConcern.wtimeout=t.writeConcern.wtimeout)):("w"in t&&(r.w=t.w),"j"in t&&(r.j=t.j),"wtimeout"in t&&(r.wtimeout=t.wtimeout)),"checkKeys"in t&&(r.checkKeys=t.checkKeys),r.hasOwnProperty("session")||(r.session=this.$session()),this.$isNew){let i=this.toObject(aQe);if((i||{})._id===void 0){cd(function(){e(new Li("document must have an _id before saving"))});return}this.$__version(!0,i),this[Pg].insertOne(i,r,(s,o)=>{if(s){Zf(this,!0),e(s,null);return}e(null,o)}),this.$__reset(),Zf(this,!1),this.$__.inserting=!0;return}this.$__.inserting=!1;let n=this.$__delta();if(n){if(n instanceof Li){e(n);return}let i=this.$__where(n[0]);if(i instanceof Li){e(i);return}UM(this,i),this[Pg].updateOne(i,n[1],r,(s,o)=>{if(s){this.$__undoReset(),e(s);return}o.$where=i,e(null,o)})}else{let i=Object.assign({},t,r),s=this.$__where();if(this.$__schema.options.optimisticConcurrency){let u=this.$__schema.options.versionKey,a=this.$__getValue(u);a!=null&&(s[u]=a)}this.constructor.exists(s,i).then(u=>{e(null,{$where:s,matchedCount:u?1:0})}).catch(e);return}this.$__.modifiedPaths=this.modifiedPaths(),this.$__reset(),Zf(this,!1)};j.prototype.$__save=function(t,e){this.$__handleSave(t,(r,n)=>{if(r)return this.$__schema.s.hooks.execPost("save:error",this,[this],{error:r},u=>{e(u,this)});let i=0;if((t!=null?t.writeConcern!=null?t.writeConcern.w:t.w:0)!==0){if(n!=null&&(Array.isArray(n)?i=n.length:n.matchedCount!=null?i=n.matchedCount:i=n),this.$__.version&&!this.$__.inserting){let u=eh===(eh&this.$__.version);this.$__.version=void 0;let a=this.$__schema.options.versionKey,c=this.$__getValue(a)||0;if(i<=0){this.$__undoReset();let l=this.$__.$versionError||new rde(this,c,this.$__.modifiedPaths);return e(l)}u&&this.$__setValue(a,c+1)}if(n!=null&&i<=0)return this.$__undoReset(),r=new PJe(n.$where,this.constructor.modelName,i,n),this.$__schema.s.hooks.execPost("save:error",this,[this],{error:r},a=>{e(a,this)})}this.$__.saving=void 0,this.$__.savedState={},this.$emit("save",this,i),this.constructor.emit("save",this,i),e(null,this)})};function cQe(t,e){let r=t.$__schema.options.versionKey;if(!r)return null;let n=t.$__getValue(r)||0;return new rde(t,n,e)}j.prototype.save=function(t,e){let r;return this.$op="save",this.$__.saving?r=new Qle(this):this.$__.saving=new Qle(this),typeof t=="function"&&(e=t,t=void 0),t=new MJe(t),t.hasOwnProperty("session")&&this.$session(t.session),this.$__.timestamps!=null&&(t.timestamps=this.$__.timestamps),this.$__.$versionError=cQe(this,this.modifiedPaths()),e=this.constructor.$handleCallbackError(e),this.constructor.db.base._promiseOrCallback(e,n=>{if(n=this.constructor.$wrapCallback(n),r)return this.$__handleReject(r),n(r);this.$__.saveOptions=t,this.$__save(t,i=>{if(this.$__.saving=null,this.$__.saveOptions=null,this.$__.$versionError=null,this.$op=null,i)return this.$__handleReject(i),n(i);n(null,this)})},this.constructor.events)};j.prototype.$save=j.prototype.save;function lQe(t,e){let r=t.$__schema.options.skipVersioning;return r?(e=e.replace(/\.\d+\./,"."),r[e]):!1}function Pc(t,e,r,n,i,s){if(s||(s="$set"),r[s]||(r[s]={}),r[s][n.path]=i,t.$__schema.options.versionKey!==!1&&!lQe(t,n.path)&&Ig!==(Ig&t.$__.version)&&!t.$__schema.options.optimisticConcurrency){switch(s){case"$set":case"$unset":case"$pop":case"$pull":case"$pullAll":case"$push":case"$addToSet":case"$inc":break;default:return}s==="$push"||s==="$addToSet"||s==="$pullAll"||s==="$pull"?/\.\d+\.|\.\d+$/.test(n.path)?$v.call(t):t.$__.version=eh:/^\$p/.test(s)||Array.isArray(i)?$v.call(t):/\.\d+\.|\.\d+$/.test(n.path)&&(t.$__.version=bg)}}function dQe(t,e,r,n,i){if(r.$set&&r.$set[n.path])return;if(typeof i.$__getAtomics=="function"){i.$__getAtomics().forEach(function(d){let f=d[0],p=d[1];Pc(t,e,r,n,p,f)});return}let s=i[LM],o=Object.keys(s),u=o.length,a,c;if(u===0)return Ie.isMongooseObject(i)?i=i.toObject({depopulate:1,_isNested:!0}):i.valueOf&&(i=i.valueOf()),Pc(t,e,r,n,i);function l(d){return Ie.isMongooseObject(d)?d.toObject({depopulate:1,_isNested:!0}):d}for(;u--;)c=o[u],a=s[c],Ie.isMongooseObject(a)?a=a.toObject({depopulate:!0,transform:!1,_isNested:!0}):Array.isArray(a)?a=a.map(l):a.valueOf&&(a=a.valueOf()),c==="$addToSet"&&(a={$each:a}),Pc(t,e,r,n,a,c)}j.prototype.$__delta=function(){let t=this.$__dirty();if(this.$__schema.options.optimisticConcurrency&&(this.$__.version=t.length?Ig:bg),!t.length&&Ig!==this.$__.version)return;let r={},n={},i=t.length,s=[],o=0;for(r._id=this._doc._id,(r&&r._id&&r._id.$__||null)!=null&&(r._id=r._id.toObject({transform:!1,depopulate:!0}));o<i;++o){let u=t[o],a=u.value,c=fQe(this,u.path,a);if(c){s.push(c);continue}if(!this.$populated(u.path,!0)&&this.$__.selected){let d=u.path.split("."),f=d[0];if(this.$__.selected[f]&&this.$__.selected[f].$elemMatch)if(d.length>1&&d[1]==0&&typeof r[f]>"u")r[f]=this.$__.selected[f],d[1]="$",u.path=d.join(".");else{s.push(u.path);continue}}if(!(this.$isDefault(u.path)&&this.$__.selected&&(u.path.indexOf(".")===-1&&Xle(this.$__.selected,u.path)||iQe(u.path).find(f=>Xle(this.$__.isSelected,f))))&&!s.length)if(a===void 0)Pc(this,r,n,u,1,"$unset");else if(a===null)Pc(this,r,n,u,null);else if(Ie.isMongooseArray(a)&&a.$path()&&a[LM])dQe(this,r,n,u,a);else if(a[DJe.pathSymbol]&&Buffer.isBuffer(a))a=a.toObject(),Pc(this,r,n,u,a);else if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[u.path]!=null){let d=this.$__.primitiveAtomics[u.path],f=KJe(d);Pc(this,r,n,u,d[f],f)}else a=Ie.clone(a,{depopulate:!0,transform:!1,virtuals:!1,getters:!1,omitUndefined:!0,_isNested:!0}),Pc(this,r,n,u,a)}return s.length?new TJe(s):(this.$__.version&&this.$__version(r,n),Object.keys(n).length===0?[r,null]:[r,n])};function fQe(t,e,r){let n=t.$populated(e,!0);if(!n&&t.$__.selected){let s=e.split(".")[0];if(t.$__.selected[s+".$"])return s}if(!(n&&Ie.isMongooseArray(r)))return;if(n.options.match||n.options.options&&Ie.object.hasOwnProperty(n.options.options,"limit")||n.options.options&&n.options.options.skip||n.options.select&&(n.options.select._id===0||/\s?-_id\s?/.test(n.options.select))){let s=r[LM];if(Object.keys(s).length===0||s.$set||s.$pop)return e}}j.prototype.$__version=function(t,e){let r=this.$__schema.options.versionKey;if(t===!0){r&&(uQe(e,r,0),this.$__setValue(r,0));return}if(r!==!1&&this.$__isSelected(r)){if(bg===(bg&this.$__.version)){let n=this.$__getValue(r);n!=null&&(t[r]=n)}eh===(eh&this.$__.version)&&(vg(e.$set,r,null)!=null?++e.$set[r]:(e.$inc=e.$inc||{},e.$inc[r]=1))}};function $v(){return this.$__.version=Ig,this}j.prototype.increment=$v;j.prototype.$__where=function(e){return e||(e={}),e._id||(e._id=this._doc._id),this._doc._id===void 0?new Li("No _id found on document!"):e};j.prototype.remove=function(e,r){return typeof e=="function"&&(r=e,e=void 0),e=new xJe(e),e.hasOwnProperty("session")&&this.$session(e.session),this.$op="remove",r=this.constructor.$handleCallbackError(r),this.constructor.db.base._promiseOrCallback(r,n=>{n=this.constructor.$wrapCallback(n),this.$__remove(e,(i,s)=>{this.$op=null,n(i,s)})},this.constructor.events)};j.prototype.$remove=j.prototype.remove;j.prototype.delete=j.prototype.remove;j.prototype.deleteOne=function(e,r){return typeof e=="function"&&(r=e,e=void 0),e||(e={}),r=this.constructor.$handleCallbackError(r),this.constructor.db.base._promiseOrCallback(r,n=>{n=this.constructor.$wrapCallback(n),this.$__deleteOne(e,n)},this.constructor.events)};j.prototype.$__remove=function(e,r){if(this.$__.isDeleted)return cd(()=>r(null,this));let n=this.$__where();if(n instanceof Li)return r(n);UM(this,n);let i=this.$session();e.hasOwnProperty("session")||(e.session=i),this[Pg].deleteOne(n,e,s=>{if(!s)return this.$__.isDeleted=!0,this.$emit("remove",this),this.constructor.emit("remove",this),r(null,this);this.$__.isDeleted=!1,r(s)})};j.prototype.$__deleteOne=j.prototype.$__remove;j.prototype.model=function(e){return this[Uv].model(e)};j.prototype.$model=function(e){return this[Uv].model(e)};j.exists=function(e,r,n){Me(this,"exists"),typeof r=="function"&&(n=r,r=null);let i=this.findOne(e).select({_id:1}).lean().setOptions(r);return typeof n=="function"?i.exec(n):i};j.discriminator=function(t,e,r){let n;if(typeof t=="function"&&(n=t,t=Ie.getFunctionName(n),!(n.prototype instanceof j)))throw new Li("The provided class "+t+" must extend Model");r=r||{};let i=Ie.isPOJO(r)?r.value:r,s=typeof r.clone=="boolean"?r.clone:!0,o=typeof r.mergePlugins=="boolean"?r.mergePlugins:!0;if(Me(this,"discriminator"),Ie.isObject(e)&&!e.instanceOfSchema&&(e=new kv(e)),e instanceof kv&&s&&(e=e.clone()),e=GJe(this,t,e,i,o,r.mergeHooks),this.db.models[t]&&!e.options.overwriteModels)throw new RJe(t);e.$isRootDiscriminator=!0,e.$globalPluginsApplied=!0,n=this.db.model(n||t,e,this.$__collection.name),this.discriminators[t]=n;let u=this.discriminators[t];if(Object.setPrototypeOf(u.prototype,this.prototype),Object.defineProperty(u,"baseModelName",{value:this.modelName,configurable:!0,writable:!1}),nde(u,e),sde(u,e),this[Cg]!=null)for(let a of this[Cg])a.discriminators=a.discriminators||{},a.discriminators[t]=n.__subclass(n.db,e,a.collection.name);return u};function Me(t,e){if(t==null||t===global)throw new Li("`Model."+e+"()` cannot run without a model as `this`. Make sure you are calling `MyModel."+e+"()` where `MyModel` is a Mongoose model.");if(t[lde]==null)throw new Li("`Model."+e+"()` cannot run without a model as `this`. Make sure you are not calling `new Model."+e+"()`")}for(let t in $M.prototype)j[t]=$M.prototype[t];j.init=function(e){if(Me(this,"init"),this.schema.emit("init",this),this.$init!=null)return e?(this.$init.then(()=>e(),u=>e(u)),null):this.$init;let r=NJe.get(),n=Ie.getOption("autoIndex",this.schema.options,this.db.config,this.db.base.options),i=Ie.getOption("autoCreate",this.schema.options,this.db.config,this.db.base.options),s=n?u=>this.ensureIndexes({_automatic:!0},u):u=>u(),o=i?u=>this.createCollection({},u):u=>u();if(this.$init=new r((u,a)=>{o(c=>{if(c)return a(c);s(l=>{if(l)return a(l);u(this)})})}),e)return this.$init.then(()=>e(),u=>e(u)),this.$caught=!0,null;{let u=this.$init.catch,a=this;this.$init.catch=function(){return this.$caught=!0,u.apply(a.$init,arguments)}}return this.$init};j.createCollection=function(e,r){if(Me(this,"createCollection"),typeof e=="string")throw new Li("You can't specify a new collection name in Model.createCollection.This is not like Connection.createCollection. Only options are accepted here.");typeof e=="function"&&(r=e,e=void 0);let n=this&&this.schema&&this.schema.options&&this.schema.options.collation;n!=null&&(e=Object.assign({collation:n},e));let i=this&&this.schema&&this.schema.options&&this.schema.options.capped;i!=null&&(typeof i=="number"?e=Object.assign({capped:!0,size:i},e):typeof i=="object"&&(e=Object.assign({capped:!0},i,e)));let s=this&&this.schema&&this.schema.options&&this.schema.options.timeseries;return s!=null&&(e=Object.assign({timeseries:s},e),e.expireAfterSeconds!=null||(e.expires!=null?Ie.expires(e):this.schema.options.expireAfterSeconds!=null?e.expireAfterSeconds=this.schema.options.expireAfterSeconds:this.schema.options.expires!=null&&(e.expires=this.schema.options.expires,Ie.expires(e)))),r=this.$handleCallbackError(r),this.db.base._promiseOrCallback(r,o=>{o=this.$wrapCallback(o),this.db.createCollection(this.$__collection.collectionName,e,Ie.tick(u=>{if(u!=null&&(u.name!=="MongoServerError"||u.code!==48))return o(u);this.$__collection=this.db.collection(this.$__collection.collectionName,e),o(null,this.$__collection)}))},this.events)};j.syncIndexes=function(e,r){Me(this,"syncIndexes");let n=this;return r=n.$handleCallbackError(r),n.db.base._promiseOrCallback(r,i=>{i=n.$wrapCallback(i),n.createCollection(s=>{if(s!=null&&(s.name!=="MongoServerError"||s.code!==48))return i(s);n.diffIndexes(s,(o,u)=>{if(o!=null)return i(o);n.cleanIndexes({...e,toDrop:u.toDrop},(a,c)=>{if(a!=null)return i(a);n.createIndexes({...e,toCreate:u.toCreate},l=>{if(l!=null)return i(l);i(null,c)})})})})},this.events)};j.diffIndexes=function(e,r){typeof e=="function"&&(r=e,e=null);let n=this;return r=n.$handleCallbackError(r),n.db.base._promiseOrCallback(r,i=>{i=n.$wrapCallback(i),n.listIndexes((s,o)=>{o===void 0&&(o=[]),o=XJe(n,o);let u=n.schema,a=ZJe(n,u.indexes()),c=pQe(u,a,o),l=hQe(u,a,o,c);i(null,{toDrop:c,toCreate:l})})})};function hQe(t,e,r,n){let i=[];for(let[s,o]of e){let u=!1,a=jM(t,Ie.clone(o));for(let c of r)if(!kM(c)&&ade(s,a,c)&&!n.includes(c.name)){u=!0;break}u||i.push(s)}return i}function pQe(t,e,r){let n=[];for(let i of r){let s=!1;if(!kM(i)){for(let[o,u]of e){let a=jM(t,Ie.clone(u));if(ide(o,a,t.options),ade(o,a,i)){s=!0;break}}s||n.push(i.name)}}return n}j.cleanIndexes=function(e,r){Me(this,"cleanIndexes");let n=this;return typeof e=="function"&&(r=e,e=null),r=n.$handleCallbackError(r),n.db.base._promiseOrCallback(r,i=>{let s=n.$__collection;if(Array.isArray(e&&e.toDrop)){ede(e.toDrop,s,i);return}return n.diffIndexes((o,u)=>{if(o!=null)return i(o);let a=u.toDrop;ede(a,s,i)})})};function ede(t,e,r){if(t.length===0)return r(null,[]);let n=t.length,i=!1;t.forEach(s=>{e.dropIndex(s,o=>{if(o!=null)return i=!0,r(o);i||--n||r(null,t)})})}j.listIndexes=function(e){Me(this,"listIndexes");let r=n=>{this.$__collection.listIndexes().toArray(n)};return e=this.$handleCallbackError(e),this.db.base._promiseOrCallback(e,n=>{n=this.$wrapCallback(n),this.$__collection.buffer?this.$__collection.addQueue(r,[n]):r(n)},this.events)};j.ensureIndexes=function(e,r){return Me(this,"ensureIndexes"),typeof e=="function"&&(r=e,e=null),r=this.$handleCallbackError(r),this.db.base._promiseOrCallback(r,n=>{n=this.$wrapCallback(n),mQe(this,e||{},i=>{if(i)return n(i);n(null)})},this.events)};j.createIndexes=function(e,r){return Me(this,"createIndexes"),typeof e=="function"&&(r=e,e={}),r=this.$handleCallbackError(r),e=e||{},this.ensureIndexes(e,r)};function mQe(t,e,r){let n=t.schema.indexes(),i;e=e||{};let s=function(d){d&&!t.$caught&&t.emit("error",d),t.emit("index",d||i),r&&r(d||i)};for(let d of n)kM(d)&&Ie.warn('mongoose: Cannot specify a custom index on `_id` for model name "'+t.modelName+'", MongoDB does not allow overwriting the default `_id` index. See https://bit.ly/mongodb-id-index');if(!n.length){cd(function(){s()});return}let o=function(d,f,p,m){t.emit("index-single-done",d,f,p,m)},u=function(d,f){t.emit("index-single-start",d,f)},a=t.schema._baseSchema,c=a?a.indexes():[];cd(function(){e._automatic&&!t.collection.collection?t.collection.addQueue(l,[]):l()});function l(){if(e._automatic&&(t.schema.options.autoIndex===!1||t.schema.options.autoIndex==null&&t.db.config.autoIndex===!1))return s();let d=n.shift();if(!d)return s();if(e._automatic&&d[1]._autoIndex===!1||c.find(m=>Ie.deepEqual(m,d)))return l();let f=Ie.clone(d[0]),p=Ie.clone(d[1]);if(delete p._autoIndex,jM(t.schema,p),ode(t.schema,p),ide(f,p,t.schema.options),u(f,e),"background"in e&&(p.background=e.background),"toCreate"in e&&e.toCreate.length===0)return s();t.collection.createIndex(f,p,Ie.tick(function(m,y){o(m,f,p,y),m&&(i||(i=m),t.$caught||t.emit("error",m)),l()}))}}j.schema;j.db;j.collection;j.$__collection;j.base;j.discriminators;j.translateAliases=function(e){Me(this,"translateAliases");let r=(n,i)=>{let s,o=[],u=n.split("."),a=this.schema;for(let l in u){let d=u[l];a&&a.aliases[d]?(s=a.aliases[d],o.push(s)):(s=d,o.push(d)),a&&a.paths[s]?a=a.paths[s].schema:a=null}let c=o.join(".");return e instanceof Map?e.set(c,i):e[c]=i,c!==n&&(e instanceof Map?e.delete(n):delete e[n]),e};if(typeof e=="object"){if(e instanceof Map)for(let n of new Map(e))e=r(n[0],n[1]);else for(let n of Object.keys(e))if(e=r(n,e[n]),n[0]==="$"&&Array.isArray(e[n]))for(let i in e[n])e[n][i]=this.translateAliases(e[n][i]);return e}else return e};j.remove=function(e,r,n){Me(this,"remove"),typeof e=="function"?(n=e,e={},r=null):typeof r=="function"&&(n=r,r=null);let i=new this.Query({},{},this,this.$__collection);return i.setOptions(r),n=this.$handleCallbackError(n),i.remove(e,n)};j.deleteOne=function(e,r,n){Me(this,"deleteOne"),typeof e=="function"?(n=e,e={},r=null):typeof r=="function"&&(n=r,r=null);let i=new this.Query({},{},this,this.$__collection);return i.setOptions(r),n=this.$handleCallbackError(n),i.deleteOne(e,n)};j.deleteMany=function(e,r,n){Me(this,"deleteMany"),typeof e=="function"?(n=e,e={},r=null):typeof r=="function"&&(n=r,r=null);let i=new this.Query({},{},this,this.$__collection);return i.setOptions(r),n=this.$handleCallbackError(n),i.deleteMany(e,n)};j.find=function(e,r,n,i){Me(this,"find"),typeof e=="function"?(i=e,e={},r=null,n=null):typeof r=="function"?(i=r,r=null,n=null):typeof n=="function"&&(i=n,n=null);let s=new this.Query({},{},this,this.$__collection);return s.select(r),s.setOptions(n),i=this.$handleCallbackError(i),s.find(e,i)};j.findById=function(e,r,n,i){return Me(this,"findById"),typeof e>"u"&&(e=null),i=this.$handleCallbackError(i),this.findOne({_id:e},r,n,i)};j.findOne=function(e,r,n,i){Me(this,"findOne"),typeof n=="function"?(i=n,n=null):typeof r=="function"?(i=r,r=null,n=null):typeof e=="function"&&(i=e,e={},r=null,n=null);let s=new this.Query({},{},this,this.$__collection);return s.select(r),s.setOptions(n),i=this.$handleCallbackError(i),s.findOne(e,i)};j.estimatedDocumentCount=function(e,r){Me(this,"estimatedDocumentCount");let n=new this.Query({},{},this,this.$__collection);return r=this.$handleCallbackError(r),n.estimatedDocumentCount(e,r)};j.countDocuments=function(e,r,n){Me(this,"countDocuments"),typeof e=="function"&&(n=e,e={}),typeof r=="function"&&(n=r,r=null);let i=new this.Query({},{},this,this.$__collection);return r!=null&&i.setOptions(r),n=this.$handleCallbackError(n),i.countDocuments(e,n)};j.count=function(e,r){Me(this,"count"),typeof e=="function"&&(r=e,e={});let n=new this.Query({},{},this,this.$__collection);return r=this.$handleCallbackError(r),n.count(e,r)};j.distinct=function(e,r,n){Me(this,"distinct");let i=new this.Query({},{},this,this.$__collection);return typeof r=="function"&&(n=r,r={}),n=this.$handleCallbackError(n),i.distinct(e,r,n)};j.where=function(e,r){Me(this,"where");let n=new this.Query({},{},this,this.$__collection).find({});return n.where.apply(n,arguments)};j.$where=function(){Me(this,"$where");let e=new this.Query({},{},this,this.$__collection).find({});return e.$where.apply(e,arguments)};j.findOneAndUpdate=function(t,e,r,n){if(Me(this,"findOneAndUpdate"),typeof r=="function")n=r,r=null;else if(arguments.length===1){if(typeof t=="function"){let o=`Model.findOneAndUpdate(): First argument must not be a function.

  `+this.modelName+`.findOneAndUpdate(conditions, update, options, callback)
  `+this.modelName+`.findOneAndUpdate(conditions, update, options)
  `+this.modelName+`.findOneAndUpdate(conditions, update)
  `+this.modelName+`.findOneAndUpdate(update)
  `+this.modelName+`.findOneAndUpdate()
`;throw new TypeError(o)}e=t,t=void 0}n=this.$handleCallbackError(n);let i;r&&(i=r.fields||r.projection),e=Ie.clone(e,{depopulate:!0,_isNested:!0}),dde(e,r,this.schema.options.versionKey);let s=new this.Query({},{},this,this.$__collection);return s.select(i),s.findOneAndUpdate(t,e,r,n)};function dde(t,e,r){if(!r||!(e&&e.upsert))return;rQe(t)[r]||(e.overwrite?t[r]=0:(t.$setOnInsert||(t.$setOnInsert={}),t.$setOnInsert[r]=0))}j.findByIdAndUpdate=function(t,e,r,n){if(Me(this,"findByIdAndUpdate"),n=this.$handleCallbackError(n),arguments.length===1){if(typeof t=="function"){let i=`Model.findByIdAndUpdate(): First argument must not be a function.

  `+this.modelName+`.findByIdAndUpdate(id, callback)
  `+this.modelName+`.findByIdAndUpdate(id)
  `+this.modelName+`.findByIdAndUpdate()
`;throw new TypeError(i)}return this.findOneAndUpdate({_id:t},void 0)}return t instanceof ad&&(t=t._id),this.findOneAndUpdate.call(this,{_id:t},e,r,n)};j.findOneAndDelete=function(t,e,r){if(Me(this,"findOneAndDelete"),arguments.length===1&&typeof t=="function"){let s=`Model.findOneAndDelete(): First argument must not be a function.

  `+this.modelName+`.findOneAndDelete(conditions, callback)
  `+this.modelName+`.findOneAndDelete(conditions)
  `+this.modelName+`.findOneAndDelete()
`;throw new TypeError(s)}typeof e=="function"&&(r=e,e=void 0),r=this.$handleCallbackError(r);let n;e&&(n=e.select,e.select=void 0);let i=new this.Query({},{},this,this.$__collection);return i.select(n),i.findOneAndDelete(t,e,r)};j.findByIdAndDelete=function(t,e,r){if(Me(this,"findByIdAndDelete"),arguments.length===1&&typeof t=="function"){let n=`Model.findByIdAndDelete(): First argument must not be a function.

  `+this.modelName+`.findByIdAndDelete(id, callback)
  `+this.modelName+`.findByIdAndDelete(id)
  `+this.modelName+`.findByIdAndDelete()
`;throw new TypeError(n)}return r=this.$handleCallbackError(r),this.findOneAndDelete({_id:t},e,r)};j.findOneAndReplace=function(t,e,r,n){if(Me(this,"findOneAndReplace"),arguments.length===1&&typeof t=="function"){let o=`Model.findOneAndReplace(): First argument must not be a function.

  `+this.modelName+`.findOneAndReplace(filter, replacement, options, callback)
  `+this.modelName+`.findOneAndReplace(filter, replacement, callback)
  `+this.modelName+`.findOneAndReplace(filter, replacement)
  `+this.modelName+`.findOneAndReplace(filter, callback)
  `+this.modelName+`.findOneAndReplace()
`;throw new TypeError(o)}arguments.length===3&&typeof r=="function"&&(n=r,r=e,e=void 0),arguments.length===2&&typeof e=="function"&&(n=e,e=void 0,r=void 0),n=this.$handleCallbackError(n);let i;r&&(i=r.select,r.select=void 0);let s=new this.Query({},{},this,this.$__collection);return s.select(i),s.findOneAndReplace(t,e,r,n)};j.findOneAndRemove=function(t,e,r){if(Me(this,"findOneAndRemove"),arguments.length===1&&typeof t=="function"){let s=`Model.findOneAndRemove(): First argument must not be a function.

  `+this.modelName+`.findOneAndRemove(conditions, callback)
  `+this.modelName+`.findOneAndRemove(conditions)
  `+this.modelName+`.findOneAndRemove()
`;throw new TypeError(s)}typeof e=="function"&&(r=e,e=void 0),r=this.$handleCallbackError(r);let n;e&&(n=e.select,e.select=void 0);let i=new this.Query({},{},this,this.$__collection);return i.select(n),i.findOneAndRemove(t,e,r)};j.findByIdAndRemove=function(t,e,r){if(Me(this,"findByIdAndRemove"),arguments.length===1&&typeof t=="function"){let n=`Model.findByIdAndRemove(): First argument must not be a function.

  `+this.modelName+`.findByIdAndRemove(id, callback)
  `+this.modelName+`.findByIdAndRemove(id)
  `+this.modelName+`.findByIdAndRemove()
`;throw new TypeError(n)}return r=this.$handleCallbackError(r),this.findOneAndRemove({_id:t},e,r)};j.create=function(e,r,n){Me(this,"create");let i,s,o=this.schema.options.discriminatorKey;if(Array.isArray(e))i=e,s=typeof r=="function"?r:n,r=r!=null&&typeof r=="object"?r:{};else{let u=arguments[arguments.length-1];r={},typeof u=="function"||arguments.length>1&&!u?(i=[...arguments],s=i.pop()):i=[...arguments],i.length===2&&i[0]!=null&&i[1]!=null&&i[0].session==null&&JJe(u.session)==="ClientSession"&&!this.schema.path("session")&&Ie.warn("WARNING: to pass a `session` to `Model.create()` in Mongoose, you **must** pass an array as the first argument. See: https://mongoosejs.com/docs/api/model.html#model_Model-create")}return this.db.base._promiseOrCallback(s,u=>{if(u=this.$wrapCallback(u),i.length===0)return Array.isArray(e)?u(null,[]):u(null);let a=[],c;i.forEach(p=>{a.push(m=>{let y=this.discriminators&&p[o]!=null?this.discriminators[p[o]]||ude(this.discriminators,p[o]):this;if(y==null)throw new Li(`Discriminator "${p[o]}" not found for model "${this.modelName}"`);let _=p,g=(E,O)=>{if(E)return c||(c=E),m(null,{error:E});m(null,{doc:O})};if(!(_ instanceof y))try{_=new y(_)}catch(E){return g(E)}_.$save(r,g)})});let l=a.length;if(l===0)return u(null,[]);let d=(p,m)=>{let y=[];for(let _ of m)_.doc&&y.push(_.doc);if(c)return u(c,y);Array.isArray(e)?u(null,y):u.apply(this,[null].concat(y))},f=[];a.forEach((p,m)=>{p((y,_)=>{if(f[m]=_,--l<=0)return d(null,f)})})},this.events)};j.watch=function(t,e){Me(this,"watch");let r=n=>{if(t=t||[],sQe(t,this.schema,"fullDocument"),this.$__collection.buffer)this.$__collection.addQueue(()=>{if(this.closed)return;let i=this.$__collection.watch(t,e);n(null,i)});else{let i=this.$__collection.watch(t,e);n(null,i)}};return e=e||{},e.model=this,new IJe(r,t,e)};j.startSession=function(){return Me(this,"startSession"),this.db.startSession.apply(this.db,arguments)};j.insertMany=function(t,e,r){return Me(this,"insertMany"),typeof e=="function"&&(r=e,e=null),this.db.base._promiseOrCallback(r,n=>{this.$__insertMany(t,e,n)},this.events)};j.$__insertMany=function(t,e,r){let n=this;typeof e=="function"&&(r=e,e=null),r&&(r=this.$handleCallbackError(r),r=this.$wrapCallback(r)),r=r||Ie.noop,e=e||{};let i=e.limit||1e3,s=!!e.rawResult,o=typeof e.ordered=="boolean"?e.ordered:!0,u=!!e.lean;Array.isArray(t)||(t=[t]);let a=[],c=new Map,l=t.map((d,f)=>p=>{if(!(d instanceof n))try{d=new n(d)}catch(m){return p(m)}if(e.session!=null&&d.$session(e.session),u)return cd(()=>p(null,d));d.$validate({__noPromise:!0},function(m){if(m)return o===!1?(a.push(m),c.set(m,f),p(null,null)):p(m);p(null,d)})});nQe(l,i,function(d,f){if(d){r(d,null);return}let p=new Map,m=new Map;for(let g=0;g<f.length;++g)p.set(f[g],g);let y=f.filter(function(g){return g!=null});for(let g=0;g<y.length;++g)m.set(g,p.get(y[g]));if(a.length>0&&a.sort((g,E)=>c.get(g)-c.get(E)),y.length===0){if(s)return r(null,{acknowledged:!0,insertedCount:0,insertedIds:{},mongoose:{validationErrors:a}});r(null,[]);return}let _=y.map(function(g){return g.$__schema.options.versionKey&&(g[g.$__schema.options.versionKey]=0),(!e||e.timestamps!==!1)&&g.initializeTimestamps&&(!g.$__||g.$__.timestamps!==!1)?g.initializeTimestamps().toObject(Lv):g.toObject(Lv)});n.$__collection.insertMany(_,e,function(g,E){if(g){g.writeErrors==null&&(g.result&&g.result.result&&g.result.result.writeErrors)!=null&&(g.writeErrors=g.result.result.writeErrors);let O=new Set((g&&g.writeErrors||[]).map(b=>b.index));for(let b=0;b<g.writeErrors.length;++b)g.writeErrors[b]={...g.writeErrors[b],index:m.get(g.writeErrors[b].index)};let w=-1;g.insertedDocs=y.filter((b,M)=>{let T=O.has(M);if(o){if(w>-1)return M<w;T&&(w=M)}return!T}).map(function(M){return M.$__reset(),Zf(M,!1),M}),s&&o===!1&&(g.mongoose={validationErrors:a}),r(g,null);return}for(let O of y)O.$__reset(),Zf(O,!1);if(s)return o===!1&&(E.mongoose={validationErrors:a}),r(null,E);if(e.populate!=null)return n.populate(y,e.populate,O=>{if(O!=null)return g.insertedDocs=y,r(O);r(null,f)});r(null,y)})})};function Zf(t,e){t.$isNew=e,t.$emit("isNew",e),t.constructor.emit("isNew",e);let r=t.$getAllSubdocs();for(let n of r)n.$isNew=e,n.$emit("isNew",e)}j.bulkWrite=function(t,e,r){Me(this,"bulkWrite"),typeof e=="function"&&(r=e,e=null),e=e||{};let n=t.map(i=>zJe(this,i,e));return r=this.$handleCallbackError(r),this.db.base._promiseOrCallback(r,i=>{i=this.$wrapCallback(i),YJe(n,(s,o)=>s(o),s=>{if(s)return i(s);if(t.length===0)return i(null,WJe());try{this.$__collection.bulkWrite(t,e,(o,u)=>{if(o)return i(o);i(null,u)})}catch(o){return i(o)}})},this.events)};j.bulkSave=async function(t,e){e=e||{};let r=this.buildBulkWriteOperations(t,{skipValidation:!0,timestamps:e.timestamps});if(e.timestamps!=null)for(let s of t)s.$__.saveOptions=s.$__.saveOptions||{},s.$__.saveOptions.timestamps=e.timestamps;else for(let s of t)s.$__.timestamps!=null&&(s.$__.saveOptions=s.$__.saveOptions||{},s.$__.saveOptions.timestamps=s.$__.timestamps);await Promise.all(t.map(yQe));let{bulkWriteResult:n,bulkWriteError:i}=await this.bulkWrite(r,e).then(s=>({bulkWriteResult:s,bulkWriteError:null}),s=>({bulkWriteResult:null,bulkWriteError:s}));if(await Promise.all(t.map(async s=>{(i&&i.writeErrors.find(u=>(u.err.op._id||u.err.op.q._id).toString()===s._id.toString()))==null&&await gQe(s)})),i&&i.writeErrors&&i.writeErrors.length)throw i;return n};function yQe(t){return new Promise((e,r)=>{t.schema.s.hooks.execPre("save",t,n=>{if(n){r(n);return}e()})})}function gQe(t){return new Promise((e,r)=>{t.$isNew&&Zf(t,!1),t.$__reset(),t.schema.s.hooks.execPost("save",t,[t],{},n=>{if(n){r(n);return}e()})})}j.applyDefaults=function t(e){if(e.$__!=null){BJe(e,e.$__.fields,e.$__.exclude);for(let r of e.$getAllSubdocs())t(r,r.$__.fields,r.$__.exclude);return e}return qJe(e,this.schema),e};j.castObject=function(e,r){r=r||{};let n={},i=this.schema,s=Object.keys(i.paths);for(let u of s){let a=i.path(u);if(!a||!a.$isMongooseArray)continue;let c=vg(e,u);cde(s,c,u)}let o=null;for(let u of s){let a=i.path(u);if(a==null)continue;let c=vg(e,u,void 0);if(c==null)continue;let l=u.indexOf(".")===-1?[u]:u.split("."),d=n;for(let f=0;f<l.length-1;++f)d[l[f]]==null&&(d[l[f]]=isNaN(l[f+1])?{}:[]),d=d[l[f]];if(!a.$isMongooseDocumentArray){if(a.$isSingleNested||a.$isMongooseDocumentArrayElement){try{c=j.castObject.call(a.caster,c)}catch(f){r.ignoreCastErrors||(o=o||new jv,o.addError(u,f));continue}d[l[l.length-1]]=c;continue}try{c=a.cast(c),d[l[l.length-1]]=c}catch(f){r.ignoreCastErrors||(o=o||new jv,o.addError(u,f));continue}}}if(o!=null)throw o;return n};j.buildBulkWriteOperations=function(e,r){if(!Array.isArray(e))throw new Error(`bulkSave expects an array of documents to be passed, received \`${e}\` instead`);return i(),e.reduce((s,o,u)=>{if(!r.skipValidation){if(!(o instanceof ad))throw new Error(`documents.${u} was not a mongoose document, documents must be an array of mongoose documents (instanceof mongoose.Document).`);let d=o.validateSync();if(d)throw d}if(o.isNew){let d={insertOne:{document:o}};return Ie.injectTimestampsOption(d.insertOne,r.timestamps),s.push(d),s}let c=o.$__delta();if(c!=null&&!Ie.isEmptyObject(c[0])){let d=o.$__where(c[0]),f=c[1];UM(o,d),o.$__version(d,c);let p={updateOne:{filter:d,update:f}};return Ie.injectTimestampsOption(p.updateOne,r.timestamps),s.push(p),s}return s},[]);function i(){r=r||{},r.skipValidation==null&&(r.skipValidation=!1)}};j.hydrate=function(t,e,r){Me(this,"hydrate"),e!=null&&(t!=null&&t.$__!=null&&(t=t.toObject(Lv)),t=jJe(t,e));let n=Vf().createModel(this,t,e);return n.$init(t,r),n};j.update=function(e,r,n,i){return Me(this,"update"),zv(this,"update",e,r,n,i)};j.updateMany=function(e,r,n,i){return Me(this,"updateMany"),zv(this,"updateMany",e,r,n,i)};j.updateOne=function(e,r,n,i){return Me(this,"updateOne"),zv(this,"updateOne",e,r,n,i)};j.replaceOne=function(e,r,n,i){Me(this,"replaceOne");let s=this&&this.schema&&this.schema.options&&this.schema.options.versionKey||null;return s&&!r[s]&&(r[s]=0),zv(this,"replaceOne",e,r,n,i)};function zv(t,e,r,n,i,s){let o=new t.Query({},{},t,t.collection);s=t.$handleCallbackError(s),r instanceof ad?r=r.toObject():r=Ie.clone(r),i=typeof i=="function"?i:Ie.clone(i);let u=t&&t.schema&&t.schema.options&&t.schema.options.versionKey||null;return dde(n,i,u),o[e](r,n,i,s)}j.mapReduce=function(e,r){return Me(this,"mapReduce"),r=this.$handleCallbackError(r),this.db.base._promiseOrCallback(r,n=>{if(n=this.$wrapCallback(n),!j.mapReduce.schema){let i={_id:!1,id:!1,strict:!1};j.mapReduce.schema=new kv({},i)}if(e.out||(e.out={inline:1}),e.verbose!==!1&&(e.verbose=!0),e.map=String(e.map),e.reduce=String(e.reduce),e.query){let i=new this.Query(e.query);i.cast(this),e.query=i._conditions,i=void 0}this.$__collection.mapReduce(null,null,e,(i,s)=>{if(i)return n(i);if(s.collection){let o=j.compile("_mapreduce_"+s.collection.collectionName,j.mapReduce.schema,s.collection.collectionName,this.db,this.base);return o._mapreduce=!0,s.model=o,n(null,s)}n(null,s)})},this.events)};j.aggregate=function(e,r,n){if(Me(this,"aggregate"),arguments.length>3||(e&&e.constructor&&e.constructor.name)==="Object")throw new Li("Mongoose 5.x disallows passing a spread of operators to `Model.aggregate()`. Instead of `Model.aggregate({ $match }, { $skip })`, do `Model.aggregate([{ $match }, { $skip }])`");typeof e=="function"&&(n=e,e=[]),typeof r=="function"&&(n=r,r=null);let i=new bJe(e||[]);return i.model(this),r!=null&&i.option(r),typeof n>"u"||(n=this.$handleCallbackError(n),n=this.$wrapCallback(n),i.exec(n)),i};j.validate=function(e,r,n,i){return(arguments.length<3||arguments.length===3&&typeof arguments[2]=="function")&&(n=e),this.db.base._promiseOrCallback(i,s=>{let o=this.schema,u=o.options.discriminatorKey;o.discriminators!=null&&e!=null&&e[u]!=null&&(o=HJe(o,e[u])||o);let a=Object.keys(o.paths);if(r!=null){let f=typeof r=="string"?new Set(r.split(" ")):new Set(r);a=a.filter(p=>{let m=p.split("."),y=m[0];for(let _ of m){if(f.has(y))return!0;y+="."+_}return f.has(p)})}for(let f of a){let p=o.path(f);if(!p||!p.$isMongooseArray||p.$isMongooseDocumentArray)continue;let m=vg(e,f);cde(a,m,f)}let c=a.length,l=null;for(let f of a){let p=o.path(f);if(p==null){d();continue}let m=f.indexOf(".")===-1?[f]:f.split("."),y=e;for(let g=0;g<m.length-1;++g)y=y[m[g]];let _=vg(e,f,void 0);if(_!=null)try{_=p.cast(_),y[m[m.length-1]]=_}catch(g){l=l||new jv,l.addError(f,g),d();continue}p.doValidate(_,g=>{g&&(l=l||new jv,l.addError(f,g)),d()},n,{path:f})}function d(){if(--c<=0)return s(l)}})};j.populate=function(t,e,r){Me(this,"populate");let n=this;e=Ie.populate(e);let i={};return r=this.$handleCallbackError(r),this.db.base._promiseOrCallback(r,s=>{s=this.$wrapCallback(s),_Qe(n,t,e,i,s)},this.events)};function _Qe(t,e,r,n,i){let s=r.length;if(r.length===0)return i(null,e);for(let u of r)SQe(t,e,u,o);function o(u){if(u)return i(u,null);--s||i(null,e)}}var EQe=/\s?-_id\s?/,AQe=/\s?-_id\s?/g;function SQe(t,e,r,n){let i={...r};if(r.strictPopulate==null&&(r._localModel!=null&&r._localModel.schema._userProvidedOptions.strictPopulate!=null?i.strictPopulate=r._localModel.schema._userProvidedOptions.strictPopulate:(r._localModel!=null&&t.base.options.strictPopulate!=null||t.base.options.strictPopulate!=null)&&(i.strictPopulate=t.base.options.strictPopulate)),Array.isArray(e)||(e=[e]),e.length===0||e.every(Ie.isNullOrUndefined))return n();let s=QJe(t,e,i);if(s instanceof Li)return cd(function(){n(s)});let o=s.length,u=[];function a(m){return m!==void 0}let c=o,l=!1,d=[];for(let m=0;m<o;++m){let y=s[m],_=y.options.select,g=Ie.array.flatten(y.ids,a);g=Ie.array.unique(g);let E={};if(E.sort=y&&y.options&&y.options.options&&y.options.options.sort||void 0,E.excludeId=EQe.test(_)||_&&_._id===0,y.options&&y.options.options&&y.options.options.lean&&y.options.options.lean.transform&&(y.options.options._leanTransform=y.options.options.lean.transform,y.options.options.lean=!0),g.length===0||g.every(Ie.isNullOrUndefined)){--c,tde(t,[],y,E);continue}l=!0,typeof i.foreignField=="string"&&(y.foreignField.clear(),y.foreignField.add(i.foreignField));let O=VJe(g,y.match,y.foreignField,y.model,y.options.skipInvalidIds);E.excludeId&&(typeof _=="string"?_=_.replace(AQe," "):(_=Ie.object.shallowCopy(_),delete _._id)),y.options.options&&y.options.options.limit!=null?E.originalLimit=y.options.options.limit:y.options.limit!=null&&(E.originalLimit=y.options.limit),d.push([y,O,_,E,f])}if(!l){if(s.length!==0)return n();if(i.populate!=null){let m=Ie.populate(i.populate).map(y=>Object.assign({},y,{path:i.path+"."+y.path}));return t.populate(e,m,n)}return n()}for(let m of d)wQe.apply(null,m);function f(m,y){if(m!=null)return n(m,null);u=u.concat(y),--c===0&&p()}function p(){for(let m of d){let y=m[0],_=m[3];for(let g of u)y.options._childDocs.push(g);try{tde(t,u,y,_)}catch(g){return n(g)}}for(let m of d)oQe(m[0].foreignField,m[0].options,u);for(let m of d){let y=m[0];if(y.options&&y.options.options&&y.options.options._leanTransform)for(let _ of u)y.options.options._leanTransform(_)}n()}}function wQe(t,e,r,n,i){let s=Ie.clone(t.options.populate),o=Object.assign({skip:t.options.skip,limit:t.options.limit,perDocumentLimit:t.options.perDocumentLimit},t.options.options);t.count&&delete o.skip,o.perDocumentLimit!=null?(o.limit=o.perDocumentLimit,delete o.perDocumentLimit):o.limit!=null&&(o.limit=o.limit*t.ids.length);let u=t.model.find(e,r,o);for(let a of t.foreignField)a!=="_id"&&u.selectedInclusively()&&!eQe(u._fields,a)&&u.select(a);if(t.count)for(let a of t.foreignField)u.select(a);if(s){t.model.baseModelName!=null&&(Array.isArray(s)?s.forEach(c=>{c.strictPopulate=!1}):typeof s=="string"?s={path:s,strictPopulate:!1}:s.strictPopulate=!1);let a=t.options._fullPath||t.options.path;if(Array.isArray(s))for(let c of s)c._fullPath=a+"."+c.path;else typeof s=="object"&&(s._fullPath=a+"."+s.path);u.populate(s)}u.exec((a,c)=>{if(a!=null)return i(a);for(let l of c)tQe.set(l,t.model);i(null,c)})}function tde(t,e,r,n){let i=r.options,s=r.isVirtual,o=r.justOne,u,a=i&&i.options&&i.options.lean||!1,c=e.length,l={},d={},f,p,m=Ie.clone(r.allIds);for(let y=0;y<c;y++)if(p=e[y],p!=null)for(let _ of r.foreignField){if(u=Ie.getValue(_,p),Array.isArray(u)){u=Ie.array.unique(Ie.array.flatten(u));for(let g of u)g instanceof ad&&(g=g._id),f=String(g),d[f]?Array.isArray(d[f])?(d[f].push(p),l[f].push(y)):(d[f]=[d[f],p],l[f]=[l[f],y]):s&&!o?(d[f]=[p],l[f]=[y]):(d[f]=p,l[f]=y)}else u instanceof ad&&(u=u._id),f=String(u),d[f]?Array.isArray(d[f])?(d[f].push(p),l[f].push(y)):(s||d[f].constructor!==p.constructor||String(d[f]._id)!==String(p._id))&&(d[f]=[d[f],p],l[f]=[l[f],y]):(d[f]=p,l[f]=y);a||(p.$__.wasPopulated=p.$__.wasPopulated||!0)}UJe({originalModel:t,rawIds:r.isVirtual?m:r.allIds,allIds:m,unpopulatedValues:r.unpopulatedValues,foreignField:r.foreignField,rawDocs:d,rawOrder:l,docs:r.docs,path:i.path,options:n,justOne:r.justOne,isVirtual:r.isVirtual,allOptions:r,populatedModel:r.model,lean:a,virtual:r.virtual,count:r.count,match:r.match})}j.compile=function(e,r,n,i,s){if(r.options.versionKey!==!1&&!r.paths[r.options.versionKey]){let l={};l[r.options.versionKey]=Number,r.add(l)}let u;typeof e=="function"&&e.prototype instanceof j?(u=e,e=u.name,r.loadClass(u,!1),u.prototype.$isMongooseModelPrototype=!0):u=function l(d,f,p){if(l.hooks.execPreSync("createModel",d),!(this instanceof l))return new l(d,f,p);let m=l.schema.options.discriminatorKey;if(l.discriminators==null||d==null||d[m]==null){j.call(this,d,f,p);return}let y=l.discriminators[d[m]]||ude(l.discriminators,d[m]);if(y!=null)return new y(d,f,p);j.call(this,d,f,p)},u.hooks=r.s.hooks.clone(),u.base=s,u.modelName=e,u.prototype instanceof j||(Object.setPrototypeOf(u,j),Object.setPrototypeOf(u.prototype,j.prototype)),u.model=function(d){return this.db.model(d)},u.db=i,u.prototype.db=i,u.prototype[Uv]=i,u.discriminators=u.prototype.discriminators=void 0,u[lde]=!0,u.events=new $M,r._preCompile(),u.prototype.$__setSchema(r);let c={schemaUserProvidedOptions:r._userProvidedOptions||{},capped:r.options.capped,Promise:u.base.Promise,modelName:e};return r.options.autoCreate!==void 0&&(c.autoCreate=r.options.autoCreate),u.prototype.collection=i.collection(n,c),u.prototype.$collection=u.prototype.collection,u.prototype[Pg]=u.prototype.collection,nde(u,r),sde(u,r),kJe(u,r),LJe(u,r.s.hooks,r.statics),u.schema=u.prototype.$__schema,u.collection=u.prototype.collection,u.$__collection=u.collection,u.Query=function(){qv.apply(this,arguments)},Object.setPrototypeOf(u.Query.prototype,qv.prototype),u.Query.base=qv.base,u.Query.prototype.constructor=qv,$Je(u.Query,u),OQe(u,r.query),u};function OQe(t,e){for(let r in e)t.Query.prototype[r]=e[r]}j.__subclass=function(e,r,n){let i=this,s=function l(d,f,p){if(!(this instanceof l))return new l(d,f,p);i.call(this,d,f,p)};if(Object.setPrototypeOf(s,i),Object.setPrototypeOf(s.prototype,i.prototype),s.db=e,s.prototype.db=e,s.prototype[Uv]=e,i[Cg]=i[Cg]||[],i[Cg].push(s),i.discriminators!=null){s.discriminators={};for(let l of Object.keys(i.discriminators))s.discriminators[l]=i.discriminators[l].__subclass(i.db,i.discriminators[l].schema,n)}let o=r&&typeof r!="string"?r:i.prototype.$__schema,u=o.options||{},a=o._userProvidedOptions||{};n||(n=i.prototype.$__schema.get("collection")||Ie.toCollectionName(i.modelName,this.base.pluralize()));let c={schemaUserProvidedOptions:a,capped:o&&u.capped};return s.prototype.collection=e.collection(n,c),s.prototype.$collection=s.prototype.collection,s.prototype[Pg]=s.prototype.collection,s.collection=s.prototype.collection,s.$__collection=s.collection,s.init(()=>{}),s};j.$handleCallbackError=function(t){if(t==null)return t;if(typeof t!="function")throw new Li("Callback must be a function, got "+t);let e=this;return function(){cd(()=>{try{t.apply(null,arguments)}catch(r){e.emit("error",r)}})}};j.$wrapCallback=function(t){let e=new FJe,r=this;return function(n){return n!=null&&n.name==="MongoServerSelectionError"&&(arguments[0]=e.assimilateError(n)),n!=null&&n.name==="MongoNetworkTimeoutError"&&n.message.endsWith("timed out")&&r.db.emit("timeout"),t.apply(null,arguments)}};j.inspect=function(){return`Model { ${this.modelName} }`};Zle.inspect.custom&&(j[Zle.inspect.custom]=j.inspect);hde.exports=fde=j});var mde=h((Tg,pde)=>{"use strict";pde.exports=bQe;Tg.pluralization=[[/(m)an$/gi,"$1en"],[/(pe)rson$/gi,"$1ople"],[/(child)$/gi,"$1ren"],[/^(ox)$/gi,"$1en"],[/(ax|test)is$/gi,"$1es"],[/(octop|vir)us$/gi,"$1i"],[/(alias|status)$/gi,"$1es"],[/(bu)s$/gi,"$1ses"],[/(buffal|tomat|potat)o$/gi,"$1oes"],[/([ti])um$/gi,"$1a"],[/sis$/gi,"ses"],[/(?:([^f])fe|([lr])f)$/gi,"$1$2ves"],[/(hive)$/gi,"$1s"],[/([^aeiouy]|qu)y$/gi,"$1ies"],[/(x|ch|ss|sh)$/gi,"$1es"],[/(matr|vert|ind)ix|ex$/gi,"$1ices"],[/([m|l])ouse$/gi,"$1ice"],[/(kn|w|l)ife$/gi,"$1ives"],[/(quiz)$/gi,"$1zes"],[/^goose$/i,"geese"],[/s$/gi,"s"],[/([^a-z])$/,"$1"],[/$/gi,"s"]];var CQe=Tg.pluralization;Tg.uncountables=["advice","energy","excretion","digestion","cooperation","health","justice","labour","machinery","equipment","information","pollution","sewage","paper","money","species","series","rain","rice","fish","sheep","moose","deer","news","expertise","status","media"];var vQe=Tg.uncountables;function bQe(t){let e;return t=t.toLowerCase(),!~vQe.indexOf(t)&&(e=CQe.filter(function(r){return t.match(r[0])}),e[0])?t.replace(e[0][0],e[0][1]):t}});var gde=h((Yht,yde)=>{"use strict";var IQe=require("util");yde.exports=IQe.deprecate(function(){},"Mongoose: the `strictQuery` option will be switched back to `false` by default in Mongoose 7. Use `mongoose.set('strictQuery', false);` if you want to prepare for this change. Or use `mongoose.set('strictQuery', true);` to suppress this warning.","MONGOOSE")});var wde=h((Jht,Sde)=>{"use strict";var Ade=Sr(),_de=require("util"),Ede=WR(),ru=class extends Ade{constructor(){super(""),this.errors={}}toString(){return Ede(this)}inspect(){return Object.assign(new Error(this.message),this)}addError(e,r){if(r instanceof ru){let{errors:n}=r;for(let i of Object.keys(n))this.addError(i,n[i]);return}this.errors[e]=r,this.message=Ede(this)}};_de.inspect.custom&&(ru.prototype[_de.inspect.custom]=ru.prototype.inspect);Object.defineProperty(ru.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}});Object.defineProperty(ru.prototype,"name",{value:"SetOptionError"});var zM=class extends Ade{constructor(e){super(`"${e}" is not a valid option to set`)}};ru.SetOptionInnerError=zM;Sde.exports=ru});var Cde=h(()=>{"use strict";var Ode=we();typeof jest<"u"&&typeof window<"u"&&Ode.warn("Mongoose: looks like you're trying to test a Mongoose app with Jest's default jsdom test environment. Please make sure you read Mongoose's docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html");typeof jest<"u"&&setTimeout.clock!=null&&typeof setTimeout.clock.Date=="function"&&Ode.warn("Mongoose: looks like you're trying to test a Mongoose app with Jest's mock timers enabled. Please make sure you read Mongoose's docs on configuring Jest to test Node.js apps: https://mongoosejs.com/docs/jest.html")});var Dde=h((Pde,Tde)=>{"use strict";var vde=mi(),bde=require("events").EventEmitter,Ide=kt(),PQe=Lf(),TQe=Ll(),DQe=Ide.ValidationError,RQe=p4(),NQe=gc();function Ds(t,e,r,n,i){if(!(this instanceof Ds))return new Ds(t,e,r,n,i);if(NQe(e)&&!e.instanceOfSchema&&(e=new PQe(e)),e=this.schema||e,!this.schema&&e.options._id&&(t=t||{},t._id===void 0&&(t._id=new TQe)),!e)throw new Ide.MissingSchemaError;this.$__setSchema(e),vde.call(this,t,r,n,i),RQe(this,e,{decorateDoc:!0});for(let s in e.methods)this[s]=e.methods[s];for(let s in e.statics)this[s]=e.statics[s]}Ds.prototype=Object.create(vde.prototype);Ds.prototype.constructor=Ds;Ds.events=new bde;Ds.$emitter=new bde;["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(t){Ds[t]=function(){return Ds.$emitter[t].apply(Ds.$emitter,arguments)}});Ds.ValidationError=DQe;Tde.exports=Pde=Ds});var Nde=h((Zht,VM)=>{"use strict";var xQe=mi(),MQe=Dde(),Rde=!1;VM.exports=function(){return Rde?MQe:xQe};VM.exports.setBrowser=function(t){Rde=t}});var Ude=h((jde,Lde)=>{"use strict";xs().set(Cue());var FQe=mi(),BQe=require("events").EventEmitter,Mde=d4(),ua=Lf(),qQe=Dn(),Dg=Qy(),$Qe=f4(),HM=xy(),xde=bue(),kQe=Pf(),jQe=Cv(),Fde=vM(),LQe=Gx(),UQe=QN(),Bde=xs(),zQe=Bi(),VQe=mde(),qde=we(),WQe=Kx(),HQe=Rf(),GQe=wM(),WM=qy(),KQe=gde(),YQe=yf().trusted,JQe=hM(),QQe=Wn(),$de=Sr(),Vv=wde(),kde=Symbol.for("mongoose:default");Cde();var XQe=/^[0-9A-Fa-f]{24}$/;function Q(t){this.connections=[],this.nextConnectionId=0,this.models={},this.events=new BQe,this.__driver=Bde.get(),this.options=Object.assign({pluralization:!0,autoIndex:!0,autoCreate:!0},t);let e=this.createConnection();if(e.models=this.models,this.options.pluralization&&(this._pluralize=VQe),!t||!t[kde]){let r=this;this.Schema=function(){return this.base=r,ua.apply(this,arguments)},this.Schema.prototype=Object.create(ua.prototype),Object.assign(this.Schema,ua),this.Schema.base=this,this.Schema.Types=Object.assign({},ua.Types)}else for(let r of["Schema","model"])this[r]=Q.prototype[r];this.Schema.prototype.base=this,Object.defineProperty(this,"plugins",{configurable:!1,enumerable:!0,writable:!1,value:Object.values(UQe).map(r=>[r,{deduplicate:!0}])})}Q.prototype.cast=HQe;Q.prototype.STATES=HM;Q.prototype.ConnectionStates=HM;Q.prototype.driver=Bde;Q.prototype.setDriver=function(e){let r=this instanceof Q?this:hn;if(r.__driver===e)return r;if(r.connections&&r.connections.find(s=>s.readyState!==HM.disconnected)){let s="Cannot modify Mongoose driver if a connection is already open. Call `mongoose.disconnect()` before modifying the driver";throw new $de(s)}r.__driver=e;let i=e.getConnection();return r.connections=[new i(r)],r.connections[0].models=r.models,r};Q.prototype.set=function(t,e){let r=this instanceof Q?this:hn;if(arguments.length===1&&typeof t!="object"){if(xde.indexOf(t)===-1){let s=new Vv;throw s.addError(t,new Vv.SetOptionInnerError(t)),s}return r.options[t]}let n={};arguments.length===2&&(n={[t]:e}),arguments.length===1&&typeof t=="object"&&(n=t);let i;for(let[s,o]of Object.entries(n)){if(xde.indexOf(s)===-1){i||(i=new Vv),i.addError(s,new Vv.SetOptionInnerError(s));continue}r.options[s]=o,s==="objectIdGetter"&&(o?Object.defineProperty(hn.Types.ObjectId.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}):delete hn.Types.ObjectId.prototype._id)}if(i)throw i;return r};Q.prototype.get=Q.prototype.set;Q.prototype.createConnection=function(t,e,r){let n=this instanceof Q?this:hn,i=n.__driver.getConnection(),s=new i(n);return typeof e=="function"&&(r=e,e=null),n.connections.push(s),n.nextConnectionId++,n.events.emit("createConnection",s),arguments.length>0&&s.openUri(t,e,r),s};Q.prototype.connect=function(t,e,r){let n=this instanceof Q?this:hn,i=n.connection;return n.options.strictQuery===void 0&&KQe(),n._promiseOrCallback(r,s=>{i.openUri(t,e,o=>o!=null?s(o):s(null,n))})};Q.prototype.disconnect=function(t){let e=this instanceof Q?this:hn;return e._promiseOrCallback(t,r=>{let n=e.connections.length;if(n<=0)return r(null);e.connections.forEach(i=>{i.close(function(s){if(s)return r(s);--n||r(null)})})})};Q.prototype.startSession=function(){let t=this instanceof Q?this:hn;return t.connection.startSession.apply(t.connection,arguments)};Q.prototype.pluralize=function(t){let e=this instanceof Q?this:hn;return arguments.length>0&&(e._pluralize=t),e._pluralize};Q.prototype.model=function(t,e,r,n){let i=this instanceof Q?this:hn;if(typeof e=="string"&&(r=e,e=!1),arguments.length===1){let a=i.models[t];if(!a)throw new $de.MissingSchemaError(t);return a}if(qde.isObject(e)&&!(e instanceof ua)&&(e=new ua(e)),e&&!(e instanceof ua))throw new Error("The 2nd parameter to `mongoose.model()` should be a schema or a POJO");n=n||{};let s=e;e&&(i.get("cloneSchemas")&&(e=e.clone()),i._applyPlugins(e));let o=i.options.hasOwnProperty("overwriteModels")?i.options.overwriteModels:n.overwriteModels;if(i.models.hasOwnProperty(t)&&n.cache!==!1&&o!==!0){if(s&&s.instanceOfSchema&&s!==i.models[t].schema)throw new i.Error.OverwriteModelError(t);if(r&&r!==i.models[t].collection.name){let a=i.models[t];return e=a.prototype.schema,a.__subclass(i.connection,e,r)}return i.models[t]}if(e==null)throw new i.Error.MissingSchemaError(t);let u=i._model(t,e,r,n);return i.connection.models[t]=u,i.models[t]=u,u};Q.prototype._model=function(t,e,r,n){let i=this instanceof Q?this:hn,s;if(typeof t=="function"&&(s=t,t=s.name,!(s.prototype instanceof Fde)))throw new i.Error("The provided class "+t+" must extend Model");e&&(i.get("cloneSchemas")&&(e=e.clone()),i._applyPlugins(e)),(e==null||!("pluralization"in e.options))&&(e.options.pluralization=i.options.pluralization),r||(r=e.get("collection")||qde.toCollectionName(t,i.pluralize()));let o=n.connection||i.connection;if(s=i.Model.compile(s||t,e,r,o,i),s.init(function(){}),o.emit("model",s),e._applyDiscriminators!=null)for(let u of Object.keys(e._applyDiscriminators))s.discriminator(u,e._applyDiscriminators[u]);return s};Q.prototype.deleteModel=function(t){let e=this instanceof Q?this:hn;return e.connection.deleteModel(t),delete e.models[t],e};Q.prototype.modelNames=function(){let t=this instanceof Q?this:hn;return Object.keys(t.models)};Q.prototype._applyPlugins=function(t,e){let r=this instanceof Q?this:hn;e=e||{},e.applyPluginsToDiscriminators=r.options&&r.options.applyPluginsToDiscriminators||!1,e.applyPluginsToChildSchemas=typeof(r.options&&r.options.applyPluginsToDiscriminators)=="boolean"?r.options.applyPluginsToDiscriminators:!0,LQe(t,r.plugins,e,"$globalPluginsApplied")};Q.prototype.plugin=function(t,e){let r=this instanceof Q?this:hn;return r.plugins.push([t,e]),r};Q.prototype.__defineGetter__("connection",function(){return this.connections[0]});Q.prototype.__defineSetter__("connection",function(t){t instanceof this.__driver.getConnection()&&(this.connections[0]=t,this.models=t.models)});Q.prototype.connections;Q.prototype.nextConnectionId;Q.prototype.Aggregate=GQe;Object.defineProperty(Q.prototype,"Collection",{get:function(){return this.__driver.Collection},set:function(t){this.__driver.Collection=t}});Object.defineProperty(Q.prototype,"Connection",{get:function(){return this.__driver.getConnection()},set:function(t){t!==this.__driver.getConnection()&&(this.__driver.getConnection=()=>t)}});Q.prototype.version=WQe.version;Q.prototype.Mongoose=Q;Q.prototype.Schema=ua;Q.prototype.SchemaType=qQe;Q.prototype.SchemaTypes=ua.Types;Q.prototype.VirtualType=$Qe;Q.prototype.Types=kQe;Q.prototype.Query=jQe;Object.defineProperty(Q.prototype,"Promise",{get:function(){return WM.get()},set:function(t){WM.set(t)}});Q.prototype.PromiseProvider=WM;Q.prototype.Model=Fde;Q.prototype.Document=FQe;Q.prototype.DocumentProvider=Nde();Q.prototype.ObjectId=Dg.ObjectId;Q.prototype.isValidObjectId=function(t){return(this instanceof Q?this:hn).Types.ObjectId.isValid(t)};Q.prototype.isObjectIdOrHexString=function(t){return QQe(t,"ObjectID")||typeof t=="string"&&XQe.test(t)};Q.prototype.syncIndexes=function(t){return(this instanceof Q?this:hn).connection.syncIndexes(t)};Q.prototype.Decimal128=Dg.Decimal128;Q.prototype.Mixed=Dg.Mixed;Q.prototype.Date=Dg.Date;Q.prototype.Number=Dg.Number;Q.prototype.Error=kt();Q.prototype.now=function(){return new Date};Q.prototype.CastError=fi();Q.prototype.SchemaTypeOptions=qi();Q.prototype.mongo=ku();Q.prototype.mquery=UC();Q.prototype.sanitizeFilter=JQe;Q.prototype.trusted=YQe;Q.prototype._promiseOrCallback=function(t,e,r){return zQe(t,e,r,this.Promise)};Q.prototype.skipMiddlewareFunction=Mde.skipWrappedFunction;Q.prototype.overwriteMiddlewareResult=Mde.overwriteResult;var hn=Lde.exports=jde=new Q({[kde]:!0})});var GM=h((ept,Ae)=>{"use strict";var Se=Ude();Ae.exports=Se;Ae.exports.default=Se;Ae.exports.mongoose=Se;Ae.exports.cast=Se.cast;Ae.exports.STATES=Se.STATES;Ae.exports.setDriver=Se.setDriver;Ae.exports.set=Se.set;Ae.exports.get=Se.get;Ae.exports.createConnection=Se.createConnection;Ae.exports.connect=Se.connect;Ae.exports.disconnect=Se.disconnect;Ae.exports.startSession=Se.startSession;Ae.exports.pluralize=Se.pluralize;Ae.exports.model=Se.model;Ae.exports.deleteModel=Se.deleteModel;Ae.exports.modelNames=Se.modelNames;Ae.exports.plugin=Se.plugin;Ae.exports.connections=Se.connections;Ae.exports.version=Se.version;Ae.exports.Mongoose=Se.Mongoose;Ae.exports.Schema=Se.Schema;Ae.exports.SchemaType=Se.SchemaType;Ae.exports.SchemaTypes=Se.SchemaTypes;Ae.exports.VirtualType=Se.VirtualType;Ae.exports.Types=Se.Types;Ae.exports.Query=Se.Query;Ae.exports.Promise=Se.Promise;Ae.exports.Model=Se.Model;Ae.exports.Document=Se.Document;Ae.exports.ObjectId=Se.ObjectId;Ae.exports.isValidObjectId=Se.isValidObjectId;Ae.exports.isObjectIdOrHexString=Se.isObjectIdOrHexString;Ae.exports.syncIndexes=Se.syncIndexes;Ae.exports.Decimal128=Se.Decimal128;Ae.exports.Mixed=Se.Mixed;Ae.exports.Date=Se.Date;Ae.exports.Number=Se.Number;Ae.exports.Error=Se.Error;Ae.exports.now=Se.now;Ae.exports.CastError=Se.CastError;Ae.exports.SchemaTypeOptions=Se.SchemaTypeOptions;Ae.exports.mongo=Se.mongo;Ae.exports.mquery=Se.mquery;Ae.exports.sanitizeFilter=Se.sanitizeFilter;Ae.exports.trusted=Se.trusted;Ae.exports.skipMiddlewareFunction=Se.skipMiddlewareFunction;Ae.exports.overwriteMiddlewareResult=Se.overwriteMiddlewareResult});var zde=h((rpt,eXe)=>{eXe.exports={name:"dotenv",version:"16.0.3",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{require:"./lib/main.js",types:"./lib/main.d.ts",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^17.0.9",decache:"^4.6.1",dtslint:"^3.7.0",sinon:"^12.0.1",standard:"^16.0.4","standard-markdown":"^7.1.0","standard-version":"^9.3.2",tap:"^15.1.6",tar:"^6.1.11",typescript:"^4.5.4"},engines:{node:">=12"}}});var Wde=h((npt,Hv)=>{var tXe=require("fs"),Vde=require("path"),rXe=require("os"),nXe=zde(),iXe=nXe.version,sXe=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function oXe(t){let e={},r=t.toString();r=r.replace(/\r\n?/mg,`
`);let n;for(;(n=sXe.exec(r))!=null;){let i=n[1],s=n[2]||"";s=s.trim();let o=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),o==='"'&&(s=s.replace(/\\n/g,`
`),s=s.replace(/\\r/g,"\r")),e[i]=s}return e}function JM(t){console.log(`[dotenv@${iXe}][DEBUG] ${t}`)}function uXe(t){return t[0]==="~"?Vde.join(rXe.homedir(),t.slice(1)):t}function aXe(t){let e=Vde.resolve(process.cwd(),".env"),r="utf8",n=Boolean(t&&t.debug),i=Boolean(t&&t.override);t&&(t.path!=null&&(e=uXe(t.path)),t.encoding!=null&&(r=t.encoding));try{let s=Wv.parse(tXe.readFileSync(e,{encoding:r}));return Object.keys(s).forEach(function(o){Object.prototype.hasOwnProperty.call(process.env,o)?(i===!0&&(process.env[o]=s[o]),n&&JM(i===!0?`"${o}" is already defined in \`process.env\` and WAS overwritten`:`"${o}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[o]=s[o]}),{parsed:s}}catch(s){return n&&JM(`Failed to load ${e} ${s.message}`),{error:s}}}var Wv={config:aXe,parse:oXe};Hv.exports.config=Wv.config;Hv.exports.parse=Wv.parse;Hv.exports=Wv});var _F=da(gF(),1),{program:lh,createCommand:EXe,createArgument:AXe,createOption:SXe,CommanderError:wXe,InvalidArgumentError:OXe,InvalidOptionArgumentError:CXe,Command:vXe,Argument:bXe,Option:IXe,Help:PXe}=_F.default;var Hde=da(require("fs"));function EF(){let t="abcdefghijklmnopqrstuvwxyz",e="0123456789",r=()=>t[Math.floor(Math.random()*t.length)],n=()=>e[Math.floor(Math.random()*e.length)];return`${r()}${r()}${r()}-${n()}${n()}${n()}`}var KM=da(GM()),ZQe=new KM.default.Schema({fileName:String,fileContent:String,fileExtension:String,tag:String,description:String},{versionKey:!1}),YM=KM.default.model("Snap",ZQe);var Gde=da(GM()),Kde=da(Wde()),Yde=require("console"),Jde=require("stream");function cXe(t){let e=new Jde.Transform({transform(s,o,u){u(null,s)}});new Yde.Console({stdout:e}).table(t);let n=(e.read()||"").toString(),i="";for(let s of n.split(/[\r\n]+/)){let o=s.replace(/[^]*/,"\u250C");o=o.replace(/^*/,"\u251C"),o=o.replace(/[^]*/,""),o=o.replace(/^*/,"\u2514"),o=o.replace(/'/g," "),i+=`${o}
`}console.log(i)}(0,Kde.config)();var Qde=async()=>{try{(0,Gde.connect)(process.env.MONGO_URI,t=>{console.log(t||"Connected to DB")})}catch(t){console.log(t)}},lXe=async t=>{try{await new YM(t).save(),console.log("Snap saved")}catch(e){console.log(e)}};async function dXe(t,e){console.log({file:t,options:e});let r=t.split("/").pop(),n=Hde.default.readFileSync(t,"utf8").toString().split(`
`).filter(u=>u).join(`
`),i=r.split(".").pop()||"",s=e.tag||EF(),o=e.description||"";try{await Qde(),await lXe({fileName:r,fileContent:n,fileExtension:i,tag:s,description:o})}catch(u){console.log(u)}}lh.name("snapIt").version("0.0.1").description("A simple CLI to take snaps of files");lh.command("snap").argument("<file>","File to take a snap of").option("-t, --tag <tag>","Tag to add to the snap").option("-d, --description <description>","Description of the snap").description("Take a snap of a file").action(dXe);lh.command("list").description("List all the snaps").action(async()=>{await Qde();let t=await YM.find({});cXe(t.map(e=>({"Original Name":e.fileName,tag:e.tag,description:e.description}))),process.exit(0)});lh.parse();
/*! Bundled license information:

mongoose/lib/driver.js:
  (*!
   * ignore
   *)

mongoose/lib/drivers/node-mongodb-native/binary.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/connectionstate.js:
  (*!
   * Connection states
   *)

mongoose/lib/helpers/immediate.js:
  (*!
   * Centralize this so we can more easily work around issues with people
   * stubbing out `process.nextTick()` in tests using sinon:
   * https://github.com/sinonjs/lolex#automatically-incrementing-mocked-time
   * See gh-6074
   *)

mongoose/lib/collection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/error/mongooseError.js:
  (*!
   * ignore
   *)

mongoose/lib/drivers/node-mongodb-native/objectid.js:
  (*!
   * [node-mongodb-native](https://github.com/mongodb/node-mongodb-native) ObjectId
   * @constructor NodeMongoDbObjectId
   * @see ObjectId
   *)
  (*!
   * ignore
   *)

mongoose/lib/types/objectid.js:
  (*!
   * Convenience `valueOf()` to allow comparing ObjectIds using double equals re: gh-7299
   *)

mpath/lib/index.js:
  (*!
   * Split a string path into components delimited by '.' or
   * '[\d+]'
   *
   * #### Example:
   *     stringToParts('foo[0].bar.1'); // ['foo', '0', 'bar', '1']
   *)
  (*!
   * Recursively set nested arrays
   *)
  (*!
   * Returns the value passed to it.
   *)

mquery/lib/utils.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mquery/lib/mquery.js:
  (*!
   * gt, gte, lt, lte, ne, in, nin, all, regex, size, maxDistance
   *
   *     Thing.where('type').nin(array)
   *)
  (*!
   * @ignore
   *)
  (*!
   * limit, skip, maxScan, batchSize, comment
   *
   * Sets these associated options.
   *
   *     query.comment('feed query');
   *)
  (*!
   * Internal helper for update, updateMany, updateOne
   *)
  (*!
   * Permissions
   *)
  (*!
   * Exports.
   *)

mongoose/lib/promise_provider.js:
  (*!
   * ignore
   *)
  (*!
   * Use native promises by default
   *)

mongoose/lib/statemachine.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/internal.js:
  (*!
   * Dependencies
   *)

mongoose/lib/error/notFound.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/cast.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * exports
   *)

mongoose/lib/helpers/error/combinePathErrors.js:
  (*!
   * ignore
   *)

mongoose/lib/error/validation.js:
  (*!
   * Module requirements
   *)
  (*!
   * Module exports
   *)

mongoose/lib/error/validator.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/version.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/parallelSave.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/overwriteModel.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/missingSchema.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/serverSelection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/error/divergentArray.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/strict.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/error/strictPopulate.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/error/index.js:
  (*!
   * Module exports.
   *)

mongoose/lib/schema/operators/exists.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/operators/type.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/schematype/handleImmutable.js:
  (*!
   * ignore
   *)

mongoose/lib/schematype.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/mixed.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/error/objectExpected.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/error/objectParameter.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/error/parallelValidate.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/virtualtype.js:
  (*!
   * ignore
   *)
  (*!
   * exports
   *)

mongoose/lib/helpers/schema/idGetter.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/schema/handleTimestampOption.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/update/applyTimestampsToChildren.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/update/applyTimestampsToUpdate.js:
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/helpers/query/applyQueryMiddleware.js:
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/helpers/model/applyHooks.js:
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/options.js:
  (*!
   * ignore
   *)

mongoose/lib/types/subdocument.js:
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/types/ArraySubdocument.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from Subdocument
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/helpers/document/cleanModifiedSubpaths.js:
  (*!
   * ignore
   *)

mongoose/lib/types/array/methods/index.js:
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Minimize _just_ empty objects along the path chain specified
   * by `parts`, ignoring all other paths. Useful in cases where
   * you want to minimize after unsetting a path.
   *
   * #### Example:
   *
   *     const obj = { foo: { bar: { baz: {} } }, a: {} };
   *     _minimizePath(obj, 'foo.bar.baz');
   *     obj; // { a: {} }
   *)
  (*!
   * ignore
   *)

mongoose/lib/types/array/index.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/types/buffer.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from Buffer.
   *)
  (*!
   * Compile other Buffer methods marking this buffer as modified.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/types/DocumentArray/index.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/types/map.js:
  (*!
   * ignore
   *)

mongoose/lib/types/index.js:
  (*!
   * Module exports.
   *)

mongoose/lib/options/SchemaStringOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/string.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/SchemaNumberOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/operators/bitwise.js:
  (*!
   * Module requirements.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/schema/number.js:
  (*!
   * Module requirements.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/boolean.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/SchemaArrayOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/cast.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/schema/operators/helpers.js:
  (*!
   * Module requirements.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/schema/operators/geospatial.js:
  (*!
   * Module requirements.
   *)
  (*!
   * ignore
   *)

mongoose/lib/schema/array.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/SchemaDocumentArrayOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/document/applyDefaults.js:
  (*!
   * ignore
   *)

mongoose/lib/plugins/removeSubdocs.js:
  (*!
   * ignore
   *)

mongoose/lib/plugins/saveSubdocs.js:
  (*!
   * ignore
   *)

mongoose/lib/plugins/sharding.js:
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/plugins/validateBeforeSave.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/document/compile.js:
  (*!
   * exports
   *)

mongoose/lib/helpers/model/discriminator.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/SubdocumentPath.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/schema/documentarray.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from ArrayType.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/SchemaBufferOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/buffer.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/SchemaDateOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/date.js:
  (*!
   * Module requirements.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/options/SchemaObjectIdOptions.js:
  (*!
   * ignore
   *)

mongoose/lib/schema/objectid.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/decimal128.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/map.js:
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/schema/uuid.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from SchemaType.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/schema/index.js:
  (*!
   * Module exports.
   *)

mongoose/lib/schema.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from EventEmitter.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)
  (*!
   * ignore
   *)

mongoose/lib/helpers/common.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/helpers/projection/isDefiningProjection.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/projection/isExclusive.js:
  (*!
   * ignore
   *)

mongoose/lib/queryhelpers.js:
  (*!
   * Module dependencies
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/document.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * Document exposes the NodeJS event emitter API, so you can use
   * `on`, `once`, etc.
   *)
  (*!
   * ignore
   *)
  (*!
   * Converts to POJO when you use the document for querying
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Runs queued functions
   *)
  (*!
   * ignore
   *)
  (*!
   * Applies virtuals properties to `json`.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/utils.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/helpers/clone.js:
  (*!
   * ignore
   *)

mongoose/lib/drivers/node-mongodb-native/collection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from abstract Collection.
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/drivers/node-mongodb-native/decimal128.js:
  (*!
   * ignore
   *)

mongoose/lib/drivers/node-mongodb-native/ReadPreference.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/cursor/ChangeStream.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/error/disconnected.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/error/syncIndexes.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/connection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from EventEmitter
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/drivers/node-mongodb-native/connection.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherits from Connection.
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/drivers/node-mongodb-native/index.js:
  (*!
   * Module exports.
   *)

mongoose/lib/validoptions.js:
  (*!
   * Valid mongoose options
   *)

mongoose/lib/error/eachAsyncMultiError.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * exports
   *)

mongoose/lib/helpers/cursor/eachAsync.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/cursor/QueryCursor.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/helpers/query/castUpdate.js:
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/helpers/query/hasDollarKeys.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/projection/isInclusive.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/query/selectPopulatedFields.js:
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/helpers/updateValidators.js:
  (*!
   * Module dependencies.
   *)

mongoose/lib/query.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * inherit mquery
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Export
   *)

mongoose/lib/cursor/AggregationCursor.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/aggregate.js:
  (*!
   * Module dependencies
   *)
  (*!
   * define methods
   *)
  (*!
   * Helpers
   *)
  (*!
   * Exports
   *)

mongoose/lib/helpers/populate/leanPopulateMap.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/populate/getVirtual.js:
  (*!
   * ignore
   *)

sift/lib/index.js:
  (*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
  
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
  
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** *)

mongoose/lib/helpers/populate/getSchemaTypes.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/populate/getModelsMapForPopulate.js:
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)

mongoose/lib/helpers/projection/isPathSelectedInclusive.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/parallelLimit.js:
  (*!
   * ignore
   *)

mongoose/lib/helpers/populate/removeDeselectedForeignField.js:
  (*!
   * ignore
   *)

mongoose/lib/model.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Give the constructor the ability to emit events.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Populates `docs`
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/error/setOptionError.js:
  (*!
   * Module requirements
   *)
  (*!
   * Module exports
   *)

mongoose/lib/browserDocument.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * Inherit from the NodeJS document
   *)
  (*!
   * ignore
   *)
  (*!
   * Browser doc exposes the event emitter API
   *)
  (*!
   * Module exports.
   *)

mongoose/lib/document_provider.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)

mongoose/lib/index.js:
  (*!
   * Module dependencies.
   *)
  (*!
   * ignore
   *)
  (*!
   * ignore
   *)
*/
